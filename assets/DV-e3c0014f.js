import{a1 as ag,d as NM,r as VM,f as HM,c as qM,a as GM,o as FM,_ as $M}from"./index-e9d1277c.js";import"https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js";var $c={},we={};typeof window<"u"||typeof ag<"u"&&ag.__DEV__;var Or={},UM=2311;function WM(){return UM++}var Hw=WM,qi={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?qi={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?qi={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?qi={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:qi=YM(navigator.userAgent);var ZM=qi;function YM(e){var t={},r={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),v=/micromessenger/i.test(e);return a&&(r.firefox=!0,r.version=a[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1]),v&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:typeof document<"u"}}var nt=ZM,Z={},qw={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Gw={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},tn=Object.prototype.toString,rn=Array.prototype,XM=rn.forEach,KM=rn.filter,Zi=rn.slice,QM=rn.map,JM=rn.reduce,Bf={};function jM(e,t){e==="createCanvas"&&(lo=null),Bf[e]=t}function $a(e){if(e==null||typeof e!="object")return e;var t=e,r=tn.call(e);if(r==="[object Array]"){if(!Ua(e)){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=$a(e[a])}}else if(Gw[r]){if(!Ua(e)){var o=e.constructor;if(e.constructor.from)t=o.from(e);else{t=new o(e.length);for(var a=0,i=e.length;a<i;a++)t[a]=$a(e[a])}}}else if(!qw[r]&&!Ua(e)&&!So(e)){t={};for(var v in e)e.hasOwnProperty(v)&&(t[v]=$a(e[v]))}return t}function Nf(e,t,r){if(!Gi(t)||!Gi(e))return r?$a(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],o=t[a];Gi(o)&&Gi(i)&&!xo(o)&&!xo(i)&&!So(o)&&!So(i)&&!Uc(o)&&!Uc(i)&&!Ua(o)&&!Ua(i)?Nf(i,o,r):(r||!(a in e))&&(e[a]=$a(t[a]))}return e}function eD(e,t){for(var r=e[0],a=1,i=e.length;a<i;a++)r=Nf(r,e[a],t);return r}function tD(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Fw(e,t,r){for(var a in t)t.hasOwnProperty(a)&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a]);return e}var $w=function(){return Bf.createCanvas()};Bf.createCanvas=function(){return document.createElement("canvas")};var lo;function rD(){return lo||(lo=$w().getContext("2d")),lo}function aD(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1}function iD(e,t){var r=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function nD(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Fw(e,t,r)}function oD(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function Uw(e,t,r){if(e&&t)if(e.forEach&&e.forEach===XM)e.forEach(t,r);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e)}function sD(e,t,r){if(e&&t){if(e.map&&e.map===QM)return e.map(t,r);for(var a=[],i=0,o=e.length;i<o;i++)a.push(t.call(r,e[i],i,e));return a}}function lD(e,t,r,a){if(e&&t){if(e.reduce&&e.reduce===JM)return e.reduce(t,r,a);for(var i=0,o=e.length;i<o;i++)r=t.call(a,r,e[i],i,e);return r}}function uD(e,t,r){if(e&&t){if(e.filter&&e.filter===KM)return e.filter(t,r);for(var a=[],i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)&&a.push(e[i]);return a}}function vD(e,t,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)if(t.call(r,e[a],a,e))return e[a]}}function Ww(e,t){var r=Zi.call(arguments,2);return function(){return e.apply(t,r.concat(Zi.call(arguments)))}}function hD(e){var t=Zi.call(arguments,1);return function(){return e.apply(this,t.concat(Zi.call(arguments)))}}function xo(e){return tn.call(e)==="[object Array]"}function cD(e){return typeof e=="function"}function fD(e){return tn.call(e)==="[object String]"}function Gi(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function Uc(e){return!!qw[tn.call(e)]}function dD(e){return!!Gw[tn.call(e)]}function So(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function gD(e){return e!==e}function pD(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function mD(e,t){return e??t}function yD(e,t,r){return e??t??r}function _D(){return Function.call.apply(Zi,arguments)}function xD(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function SD(e,t){if(!e)throw new Error(t)}function bD(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Zw="__ec_primitive__";function wD(e){e[Zw]=!0}function Ua(e){return e[Zw]}function bo(e){var t=xo(e);this.data={};var r=this;e instanceof bo?e.each(a):e&&Uw(e,a);function a(i,o){t?r.set(i,o):r.set(o,i)}}bo.prototype={constructor:bo,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=Ww(e,t));for(var r in this.data)this.data.hasOwnProperty(r)&&e(this.data[r],r)},removeKey:function(e){delete this.data[e]}};function AD(e){return new bo(e)}function TD(e,t){for(var r=new e.constructor(e.length+t.length),a=0;a<e.length;a++)r[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)r[a+i]=t[a];return r}function CD(){}Z.$override=jM;Z.clone=$a;Z.merge=Nf;Z.mergeAll=eD;Z.extend=tD;Z.defaults=Fw;Z.createCanvas=$w;Z.getContext=rD;Z.indexOf=aD;Z.inherits=iD;Z.mixin=nD;Z.isArrayLike=oD;Z.each=Uw;Z.map=sD;Z.reduce=lD;Z.filter=uD;Z.find=vD;Z.bind=Ww;Z.curry=hD;Z.isArray=xo;Z.isFunction=cD;Z.isString=fD;Z.isObject=Gi;Z.isBuiltInObject=Uc;Z.isTypedArray=dD;Z.isDom=So;Z.eqNaN=gD;Z.retrieve=pD;Z.retrieve2=mD;Z.retrieve3=yD;Z.slice=_D;Z.normalizeCssArray=xD;Z.assert=SD;Z.trim=bD;Z.setAsPrimitive=wD;Z.isPrimitive=Ua;Z.createHashMap=AD;Z.concatArray=TD;Z.noop=CD;var Ze={},ig;function Ye(){if(ig)return Ze;ig=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(C,M){var D=new e(2);return C==null&&(C=0),M==null&&(M=0),D[0]=C,D[1]=M,D}function r(C,M){return C[0]=M[0],C[1]=M[1],C}function a(C){var M=new e(2);return M[0]=C[0],M[1]=C[1],M}function i(C,M,D){return C[0]=M,C[1]=D,C}function o(C,M,D){return C[0]=M[0]+D[0],C[1]=M[1]+D[1],C}function v(C,M,D,L){return C[0]=M[0]+D[0]*L,C[1]=M[1]+D[1]*L,C}function f(C,M,D){return C[0]=M[0]-D[0],C[1]=M[1]-D[1],C}function n(C){return Math.sqrt(s(C))}var h=n;function s(C){return C[0]*C[0]+C[1]*C[1]}var u=s;function l(C,M,D){return C[0]=M[0]*D[0],C[1]=M[1]*D[1],C}function d(C,M,D){return C[0]=M[0]/D[0],C[1]=M[1]/D[1],C}function c(C,M){return C[0]*M[0]+C[1]*M[1]}function p(C,M,D){return C[0]=M[0]*D,C[1]=M[1]*D,C}function g(C,M){var D=n(M);return D===0?(C[0]=0,C[1]=0):(C[0]=M[0]/D,C[1]=M[1]/D),C}function m(C,M){return Math.sqrt((C[0]-M[0])*(C[0]-M[0])+(C[1]-M[1])*(C[1]-M[1]))}var y=m;function _(C,M){return(C[0]-M[0])*(C[0]-M[0])+(C[1]-M[1])*(C[1]-M[1])}var b=_;function T(C,M){return C[0]=-M[0],C[1]=-M[1],C}function S(C,M,D,L){return C[0]=M[0]+L*(D[0]-M[0]),C[1]=M[1]+L*(D[1]-M[1]),C}function x(C,M,D){var L=M[0],P=M[1];return C[0]=D[0]*L+D[2]*P+D[4],C[1]=D[1]*L+D[3]*P+D[5],C}function w(C,M,D){return C[0]=Math.min(M[0],D[0]),C[1]=Math.min(M[1],D[1]),C}function A(C,M,D){return C[0]=Math.max(M[0],D[0]),C[1]=Math.max(M[1],D[1]),C}return Ze.create=t,Ze.copy=r,Ze.clone=a,Ze.set=i,Ze.add=o,Ze.scaleAndAdd=v,Ze.sub=f,Ze.len=n,Ze.length=h,Ze.lenSquare=s,Ze.lengthSquare=u,Ze.mul=l,Ze.div=d,Ze.dot=c,Ze.scale=p,Ze.normalize=g,Ze.distance=m,Ze.dist=y,Ze.distanceSquare=_,Ze.distSquare=b,Ze.negate=T,Ze.lerp=S,Ze.applyTransform=x,Ze.min=w,Ze.max=A,Ze}function Wc(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}Wc.prototype={constructor:Wc,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Ia(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,a=e.offsetY,i=r-this._x,o=a-this._y;this._x=r,this._y=a,t.drift(i,o,e),this.dispatchToElement(Ia(t,e),"drag",e.event);var v=this.findHover(r,a,t).target,f=this._dropTarget;this._dropTarget=v,t!==v&&(f&&v!==f&&this.dispatchToElement(Ia(f,e),"dragleave",e.event),v&&v!==f&&this.dispatchToElement(Ia(v,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Ia(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Ia(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function Ia(e,t){return{target:e,topTarget:t&&t.topTarget}}var MD=Wc,DD=MD,ng=Array.prototype.slice,Zc=function(e){this._$handlers={},this._$eventProcessor=e};Zc.prototype={constructor:Zc,one:function(e,t,r,a){return og(this,e,t,r,a,!0)},on:function(e,t,r,a){return og(this,e,t,r,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var a=[],i=0,o=r[e].length;i<o;i++)r[e][i].h!==t&&a.push(r[e][i]);r[e]=a}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>3&&(a=ng.call(a,1));for(var o=t.length,v=0;v<o;){var f=t[v];if(r&&r.filter&&f.query!=null&&!r.filter(e,f.query)){v++;continue}switch(i){case 1:f.h.call(f.ctx);break;case 2:f.h.call(f.ctx,a[1]);break;case 3:f.h.call(f.ctx,a[1],a[2]);break;default:f.h.apply(f.ctx,a);break}f.one?(t.splice(v,1),o--):v++}}return r&&r.afterTrigger&&r.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>4&&(a=ng.call(a,1,a.length-1));for(var o=a[a.length-1],v=t.length,f=0;f<v;){var n=t[f];if(r&&r.filter&&n.query!=null&&!r.filter(e,n.query)){f++;continue}switch(i){case 1:n.h.call(o);break;case 2:n.h.call(o,a[1]);break;case 3:n.h.call(o,a[1],a[2]);break;default:n.h.apply(o,a);break}n.one?(t.splice(f,1),v--):f++}}return r&&r.afterTrigger&&r.afterTrigger(e),this}};function LD(e,t){var r=e._$eventProcessor;return t!=null&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),t}function og(e,t,r,a,i,o){var v=e._$handlers;if(typeof r=="function"&&(i=a,a=r,r=null),!a||!t)return e;r=LD(e,r),v[t]||(v[t]=[]);for(var f=0;f<v[t].length;f++)if(v[t][f].h===a)return e;var n={h:a,one:o,query:r,ctx:i||e,callAtLast:a.zrEventfulCallAtLast},h=v[t].length-1,s=v[t][h];return s&&s.callAtLast?v[t].splice(h,0,n):v[t].push(n),e}var PD=Zc,xa=PD,ht={},an={},Yw={},ID=Math.log(2);function Yc(e,t,r,a,i,o){var v=a+"-"+i,f=e.length;if(o.hasOwnProperty(v))return o[v];if(t===1){var n=Math.round(Math.log((1<<f)-1&~i)/ID);return e[r][n]}for(var h=a|1<<r,s=r+1;a&1<<s;)s++;for(var u=0,l=0,d=0;l<f;l++){var c=1<<l;c&i||(u+=(d%2?-1:1)*e[r][l]*Yc(e,t-1,s,h,i|c,o),d++)}return o[v]=u,u}function RD(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},i=Yc(r,8,0,0,0,a);if(i!==0){for(var o=[],v=0;v<8;v++)for(var f=0;f<8;f++)o[f]==null&&(o[f]=0),o[f]+=((v+f)%2?-1:1)*Yc(r,7,v===0?1:0,1<<v,1<<f,a)/i*t[v];return function(n,h,s){var u=h*o[6]+s*o[7]+1;n[0]=(h*o[0]+s*o[1]+o[2])/u,n[1]=(h*o[3]+s*o[4]+o[5])/u}}}Yw.buildTransformer=RD;var ED=nt,kD=Yw,sg=kD.buildTransformer,lg="___zrEVENTSAVED",fs=[];function OD(e,t,r,a,i){return Xc(fs,t,a,i,!0)&&Xc(e,r,fs[0],fs[1])}function Xc(e,t,r,a,i){if(t.getBoundingClientRect&&ED.domSupported&&!Xw(t)){var o=t[lg]||(t[lg]={}),v=zD(t,o),f=BD(v,o,i);if(f)return f(e,r,a),!0}return!1}function zD(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var a=["left","right"],i=["top","bottom"],o=0;o<4;o++){var v=document.createElement("div"),f=v.style,n=o%2,h=(o>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[n]+":0",i[h]+":0",a[1-n]+":auto",i[1-h]+":auto",""].join("!important;"),e.appendChild(v),r.push(v)}return r}function BD(e,t,r){for(var a=r?"invTrans":"trans",i=t[a],o=t.srcCoords,v=!0,f=[],n=[],h=0;h<4;h++){var s=e[h].getBoundingClientRect(),u=2*h,l=s.left,d=s.top;f.push(l,d),v=v&&o&&l===o[u]&&d===o[u+1],n.push(e[h].offsetLeft,e[h].offsetTop)}return v&&i?i:(t.srcCoords=f,t[a]=r?sg(n,f):sg(f,n))}function Xw(e){return e.nodeName.toUpperCase()==="CANVAS"}an.transformLocalCoord=OD;an.transformCoordWithViewport=Xc;an.isCanvasEl=Xw;var ND=xa;ht.Dispatcher=ND;var Kc=nt,Kw=an,VD=Kw.isCanvasEl,HD=Kw.transformCoordWithViewport,Vf=typeof window<"u"&&!!window.addEventListener,qD=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ds=[];function Qc(e,t,r,a){return r=r||{},a||!Kc.canvasSupported?ug(e,t,r):Kc.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):ug(e,t,r),r}function ug(e,t,r){if(Kc.domSupported&&e.getBoundingClientRect){var a=t.clientX,i=t.clientY;if(VD(e)){var o=e.getBoundingClientRect();r.zrX=a-o.left,r.zrY=i-o.top;return}else if(HD(ds,e,a,i)){r.zrX=ds[0],r.zrY=ds[1];return}}r.zrX=r.zrY=0}function Qw(e){return e||window.event}function GD(e,t,r){if(t=Qw(t),t.zrX!=null)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(!i)Qc(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var o=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&Qc(e,o,t,r)}var v=t.button;return t.which==null&&v!==void 0&&qD.test(t.type)&&(t.which=v&1?1:v&2?3:v&4?2:0),t}function FD(e,t,r,a){Vf?e.addEventListener(t,r,a):e.attachEvent("on"+t,r)}function $D(e,t,r,a){Vf?e.removeEventListener(t,r,a):e.detachEvent("on"+t,r)}var UD=Vf?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function WD(e){return e.which===2||e.which===3}function ZD(e){return e.which>1}ht.clientToLocal=Qc;ht.getNativeEvent=Qw;ht.normalizeEvent=GD;ht.addEventListener=FD;ht.removeEventListener=$D;ht.stop=UD;ht.isMiddleOrRightButtonOnMouseUpDown=WD;ht.notLeftMouse=ZD;var YD=ht,Jc=function(){this._track=[]};Jc.prototype={constructor:Jc,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},o=0,v=a.length;o<v;o++){var f=a[o],n=YD.clientToLocal(r,f,{});i.points.push([n.zrX,n.zrY]),i.touches.push(f)}this._track.push(i)}},_recognize:function(e){for(var t in gs)if(gs.hasOwnProperty(t)){var r=gs[t](this._track,e);if(r)return r}}};function vg(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function XD(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var gs={pinch:function(e,t){var r=e.length;if(r){var a=(e[r-1]||{}).points,i=(e[r-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var o=vg(a)/vg(i);!isFinite(o)&&(o=1),t.pinchScale=o;var v=XD(a);return t.pinchX=v[0],t.pinchY=v[1],{type:"pinch",target:e[0].target,event:t}}}}},KD=Jc,QD=KD,Bo=Z,JD=Ye(),Jw=DD,jw=xa,jD=ht,eL=QD,eA="silent";function tL(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:rL}}function rL(){jD.stop(this.event)}function tA(){}tA.prototype.dispose=function(){};var aL=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ka=function(e,t,r,a){jw.call(this),this.storage=e,this.painter=t,this.painterRoot=a,r=r||new tA,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Jw.call(this),this.setHandlerProxy(r)};Ka.prototype={constructor:Ka,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(Bo.each(aL,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,a=rA(this,t,r),i=this._hovered,o=i.target;o&&!o.__zr&&(i=this.findHover(i.x,i.y),o=i.target);var v=this._hovered=a?{x:t,y:r}:this.findHover(t,r),f=v.target,n=this.proxy;n.setCursor&&n.setCursor(f?f.cursor:"default"),o&&f!==o&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(v,"mousemove",e),f&&f!==o&&this.dispatchToElement(v,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,r=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!r&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var i="on"+t,o=tL(t,e,r);a&&(a[i]&&(o.cancelBubble=a[i].call(a,o)),a.trigger(t,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer(function(v){typeof v[i]=="function"&&v[i].call(v,o),v.trigger&&v.trigger(t,o)}))}},findHover:function(e,t,r){for(var a=this.storage.getDisplayList(),i={x:e,y:t},o=a.length-1;o>=0;o--){var v;if(a[o]!==r&&!a[o].ignore&&(v=iL(a[o],e,t))&&(!i.topTarget&&(i.topTarget=a[o]),v!==eA)){i.target=a[o];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new eL);var r=this._gestureMgr;t==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&r.clear(),a){var i=a.type;e.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}};Bo.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Ka.prototype[e]=function(t){var r=t.zrX,a=t.zrY,i=rA(this,r,a),o,v;if((e!=="mouseup"||!i)&&(o=this.findHover(r,a),v=o.target),e==="mousedown")this._downEl=v,this._downPoint=[t.zrX,t.zrY],this._upEl=v;else if(e==="mouseup")this._upEl=v;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||JD.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function iL(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var a=e,i;a;){if(a.clipPath&&!a.clipPath.contain(t,r))return!1;a.silent&&(i=!0),a=a.parent}return i?eA:!0}return!1}function rA(e,t,r){var a=e.painter;return t<0||t>a.getWidth()||r<0||r>a.getHeight()}Bo.mixin(Ka,jw);Bo.mixin(Ka,Jw);var nL=Ka,oL=nL,Xt={},hg;function Pt(){if(hg)return Xt;hg=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(){var s=new e(6);return r(s),s}function r(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,s}function a(s,u){return s[0]=u[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5],s}function i(s,u,l){var d=u[0]*l[0]+u[2]*l[1],c=u[1]*l[0]+u[3]*l[1],p=u[0]*l[2]+u[2]*l[3],g=u[1]*l[2]+u[3]*l[3],m=u[0]*l[4]+u[2]*l[5]+u[4],y=u[1]*l[4]+u[3]*l[5]+u[5];return s[0]=d,s[1]=c,s[2]=p,s[3]=g,s[4]=m,s[5]=y,s}function o(s,u,l){return s[0]=u[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4]+l[0],s[5]=u[5]+l[1],s}function v(s,u,l){var d=u[0],c=u[2],p=u[4],g=u[1],m=u[3],y=u[5],_=Math.sin(l),b=Math.cos(l);return s[0]=d*b+g*_,s[1]=-d*_+g*b,s[2]=c*b+m*_,s[3]=-c*_+b*m,s[4]=b*p+_*y,s[5]=b*y-_*p,s}function f(s,u,l){var d=l[0],c=l[1];return s[0]=u[0]*d,s[1]=u[1]*c,s[2]=u[2]*d,s[3]=u[3]*c,s[4]=u[4]*d,s[5]=u[5]*c,s}function n(s,u){var l=u[0],d=u[2],c=u[4],p=u[1],g=u[3],m=u[5],y=l*g-p*d;return y?(y=1/y,s[0]=g*y,s[1]=-p*y,s[2]=-d*y,s[3]=l*y,s[4]=(d*m-g*c)*y,s[5]=(p*c-l*m)*y,s):null}function h(s){var u=t();return a(u,s),u}return Xt.create=t,Xt.identity=r,Xt.copy=a,Xt.mul=i,Xt.translate=o,Xt.rotate=v,Xt.scale=f,Xt.invert=n,Xt.clone=h,Xt}var er=Pt(),aA=Ye(),jc=er.identity,cg=5e-5;function da(e){return e>cg||e<-cg}var No=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},rr=No.prototype;rr.transform=null;rr.needLocalTransform=function(){return da(this.rotation)||da(this.position[0])||da(this.position[1])||da(this.scale[0]-1)||da(this.scale[1]-1)};var oa=[];rr.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),a=this.transform;if(!(r||t)){a&&jc(a);return}a=a||er.create(),r?this.getLocalTransform(a):jc(a),t&&(r?er.mul(a,e.transform,a):er.copy(a,e.transform)),this.transform=a;var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(oa);var o=oa[0]<0?-1:1,v=oa[1]<0?-1:1,f=((oa[0]-o)*i+o)/oa[0]||0,n=((oa[1]-v)*i+v)/oa[1]||0;a[0]*=f,a[1]*=f,a[2]*=n,a[3]*=n}this.invTransform=this.invTransform||er.create(),er.invert(this.invTransform,a)};rr.getLocalTransform=function(e){return No.getLocalTransform(this,e)};rr.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};rr.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Ra=[],ps=er.create();rr.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],a=this.position,i=this.scale;da(t-1)&&(t=Math.sqrt(t)),da(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(t=-t),e[3]<0&&(r=-r),a[0]=e[4],a[1]=e[5],i[0]=t,i[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/t)}};rr.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(er.mul(Ra,e.invTransform,t),t=Ra);var r=this.origin;r&&(r[0]||r[1])&&(ps[4]=r[0],ps[5]=r[1],er.mul(Ra,t,ps),Ra[4]-=r[0],Ra[5]-=r[1],t=Ra),this.setLocalTransform(t)}};rr.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};rr.transformCoordToLocal=function(e,t){var r=[e,t],a=this.invTransform;return a&&aA.applyTransform(r,r,a),r};rr.transformCoordToGlobal=function(e,t){var r=[e,t],a=this.transform;return a&&aA.applyTransform(r,r,a),r};No.getLocalTransform=function(e,t){t=t||[],jc(t);var r=e.origin,a=e.scale||[1,1],i=e.rotation||0,o=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),er.scale(t,t,a),i&&er.rotate(t,t,i),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=o[0],t[5]+=o[1],t};var sL=No,Hf=sL,uo={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-uo.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?uo.bounceIn(e*2)*.5:uo.bounceOut(e*2-1)*.5+.5}},lL=uo,uL=lL,vL=uL;function ef(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}ef.prototype={constructor:ef,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var a=this.easing,i=typeof a=="string"?vL[a]:a,o=typeof i=="function"?i(r):r;return this.fire("frame",o),r===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var hL=ef,cL=hL,lt={},iA=function(){this.head=null,this.tail=null,this._len=0},nn=iA.prototype;nn.insert=function(e){var t=new nA(e);return this.insertEntry(t),t};nn.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};nn.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};nn.len=function(){return this._len};nn.clear=function(){this.head=this.tail=null,this._len=0};var nA=function(e){this.value=e,this.next,this.prev},oA=function(e){this._list=new iA,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},qf=oA.prototype;qf.put=function(e,t){var r=this._list,a=this._map,i=null;if(a[e]==null){var o=r.len(),v=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var f=r.head;r.remove(f),delete a[f.key],i=f.value,this._lastRemovedEntry=f}v?v.value=t:v=new nA(t),v.key=e,r.insertEntry(v),a[e]=v}return i};qf.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};qf.clear=function(){this._list.clear(),this._map={}};var fL=oA,sA=fL,dL=sA,fg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tr(e){return e=Math.round(e),e<0?0:e>255?255:e}function gL(e){return e=Math.round(e),e<0?0:e>360?360:e}function Yi(e){return e<0?0:e>1?1:e}function ms(e){return e.length&&e.charAt(e.length-1)==="%"?tr(parseFloat(e)/100*255):tr(parseInt(e,10))}function Qa(e){return e.length&&e.charAt(e.length-1)==="%"?Yi(parseFloat(e)/100):Yi(parseFloat(e))}function ys(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Xr(e,t,r){return e+(t-e)*r}function Jt(e,t,r,a,i){return e[0]=t,e[1]=r,e[2]=a,e[3]=i,e}function tf(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var lA=new dL(20),Pn=null;function Ea(e,t){Pn&&tf(Pn,t),Pn=lA.put(e,Pn||t.slice())}function _a(e,t){if(e){t=t||[];var r=lA.get(e);if(r)return tf(t,r);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in fg)return tf(t,fg[a]),Ea(e,t),t;if(a.charAt(0)==="#"){if(a.length===4){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=4095)){Jt(t,0,0,0,1);return}return Jt(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),Ea(e,t),t}else if(a.length===7){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=16777215)){Jt(t,0,0,0,1);return}return Jt(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),Ea(e,t),t}return}var o=a.indexOf("("),v=a.indexOf(")");if(o!==-1&&v+1===a.length){var f=a.substr(0,o),n=a.substr(o+1,v-(o+1)).split(","),h=1;switch(f){case"rgba":if(n.length!==4){Jt(t,0,0,0,1);return}h=Qa(n.pop());case"rgb":if(n.length!==3){Jt(t,0,0,0,1);return}return Jt(t,ms(n[0]),ms(n[1]),ms(n[2]),h),Ea(e,t),t;case"hsla":if(n.length!==4){Jt(t,0,0,0,1);return}return n[3]=Qa(n[3]),rf(n,t),Ea(e,t),t;case"hsl":if(n.length!==3){Jt(t,0,0,0,1);return}return rf(n,t),Ea(e,t),t;default:return}}Jt(t,0,0,0,1)}}function rf(e,t){var r=(parseFloat(e[0])%360+360)%360/360,a=Qa(e[1]),i=Qa(e[2]),o=i<=.5?i*(a+1):i+a-i*a,v=i*2-o;return t=t||[],Jt(t,tr(ys(v,o,r+1/3)*255),tr(ys(v,o,r)*255),tr(ys(v,o,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function pL(e){if(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(t,r,a),o=Math.max(t,r,a),v=o-i,f=(o+i)/2,n,h;if(v===0)n=0,h=0;else{f<.5?h=v/(o+i):h=v/(2-o-i);var s=((o-t)/6+v/2)/v,u=((o-r)/6+v/2)/v,l=((o-a)/6+v/2)/v;t===o?n=l-u:r===o?n=1/3+s-l:a===o&&(n=2/3+u-s),n<0&&(n+=1),n>1&&(n-=1)}var d=[n*360,h,f];return e[3]!=null&&d.push(e[3]),d}}function mL(e,t){var r=_a(e);if(r){for(var a=0;a<3;a++)t<0?r[a]=r[a]*(1-t)|0:r[a]=(255-r[a])*t+r[a]|0,r[a]>255?r[a]=255:e[a]<0&&(r[a]=0);return on(r,r.length===4?"rgba":"rgb")}}function yL(e){var t=_a(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function uA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),v=t[i],f=t[o],n=a-i;return r[0]=tr(Xr(v[0],f[0],n)),r[1]=tr(Xr(v[1],f[1],n)),r[2]=tr(Xr(v[2],f[2],n)),r[3]=Yi(Xr(v[3],f[3],n)),r}}var _L=uA;function vA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),v=_a(t[i]),f=_a(t[o]),n=a-i,h=on([tr(Xr(v[0],f[0],n)),tr(Xr(v[1],f[1],n)),tr(Xr(v[2],f[2],n)),Yi(Xr(v[3],f[3],n))],"rgba");return r?{color:h,leftIndex:i,rightIndex:o,value:a}:h}}var xL=vA;function SL(e,t,r,a){if(e=_a(e),e)return e=pL(e),t!=null&&(e[0]=gL(t)),r!=null&&(e[1]=Qa(r)),a!=null&&(e[2]=Qa(a)),on(rf(e),"rgba")}function bL(e,t){if(e=_a(e),e&&t!=null)return e[3]=Yi(t),on(e,"rgba")}function on(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}lt.parse=_a;lt.lift=mL;lt.toHex=yL;lt.fastLerp=uA;lt.fastMapToColor=_L;lt.lerp=vA;lt.mapToColor=xL;lt.modifyHSL=SL;lt.modifyAlpha=bL;lt.stringify=on;var wL=cL,AL=lt,TL=Z,wo=TL.isArrayLike,af=Array.prototype.slice;function CL(e,t){return e[t]}function ML(e,t,r){e[t]=r}function nf(e,t,r){return(t-e)*r+e}function dg(e,t,r){return r>.5?t:e}function gg(e,t,r,a,i){var o=e.length;if(i===1)for(var v=0;v<o;v++)a[v]=nf(e[v],t[v],r);else for(var f=o&&e[0].length,v=0;v<o;v++)for(var n=0;n<f;n++)a[v][n]=nf(e[v][n],t[v][n],r)}function pg(e,t,r){var a=e.length,i=t.length;if(a!==i){var o=a>i;if(o)e.length=i;else for(var v=a;v<i;v++)e.push(r===1?t[v]:af.call(t[v]))}for(var f=e[0]&&e[0].length,v=0;v<e.length;v++)if(r===1)isNaN(e[v])&&(e[v]=t[v]);else for(var n=0;n<f;n++)isNaN(e[v][n])&&(e[v][n]=t[v][n])}function DL(e,t,r){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(r===1){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else for(var o=e[0].length,i=0;i<a;i++)for(var v=0;v<o;v++)if(e[i][v]!==t[i][v])return!1;return!0}function mg(e,t,r,a,i,o,v,f,n){var h=e.length;if(n===1)for(var s=0;s<h;s++)f[s]=of(e[s],t[s],r[s],a[s],i,o,v);else for(var u=e[0].length,s=0;s<h;s++)for(var l=0;l<u;l++)f[s][l]=of(e[s][l],t[s][l],r[s][l],a[s][l],i,o,v)}function of(e,t,r,a,i,o,v){var f=(r-e)*.5,n=(a-t)*.5;return(2*(t-r)+f+n)*v+(-3*(t-r)-2*f-n)*o+f*i+t}function LL(e){if(wo(e)){var t=e.length;if(wo(e[0])){for(var r=[],a=0;a<t;a++)r.push(af.call(e[a]));return r}return af.call(e)}return e}function yg(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function PL(e){var t=e[e.length-1].value;return wo(t&&t[0])?2:1}function IL(e,t,r,a,i,o){var v=e._getter,f=e._setter,n=t==="spline",h=a.length;if(h){var s=a[0].value,u=wo(s),l=!1,d=!1,c=u?PL(a):0,p;a.sort(function(G,V){return G.time-V.time}),p=a[h-1].time;for(var g=[],m=[],y=a[0].value,_=!0,b=0;b<h;b++){g.push(a[b].time/p);var T=a[b].value;if(u&&DL(T,y,c)||!u&&T===y||(_=!1),y=T,typeof T=="string"){var S=AL.parse(T);S?(T=S,l=!0):d=!0}m.push(T)}if(!(!o&&_)){for(var x=m[h-1],b=0;b<h-1;b++)u?pg(m[b],x,c):isNaN(m[b])&&!isNaN(x)&&!d&&!l&&(m[b]=x);u&&pg(v(e._target,i),x,c);var w=0,A=0,C,M,D,L,P,R;if(l)var k=[0,0,0,0];var z=function(G,V){var I;if(V<0)I=0;else if(V<A){for(C=Math.min(w+1,h-1),I=C;I>=0&&!(g[I]<=V);I--);I=Math.min(I,h-2)}else{for(I=w;I<h&&!(g[I]>V);I++);I=Math.min(I-1,h-2)}w=I,A=V;var O=g[I+1]-g[I];if(O!==0)if(M=(V-g[I])/O,n)if(L=m[I],D=m[I===0?I:I-1],P=m[I>h-2?h-1:I+1],R=m[I>h-3?h-1:I+2],u)mg(D,L,P,R,M,M*M,M*M*M,v(G,i),c);else{var E;if(l)E=mg(D,L,P,R,M,M*M,M*M*M,k,1),E=yg(k);else{if(d)return dg(L,P,M);E=of(D,L,P,R,M,M*M,M*M*M)}f(G,i,E)}else if(u)gg(m[I],m[I+1],M,v(G,i),c);else{var E;if(l)gg(m[I],m[I+1],M,k,1),E=yg(k);else{if(d)return dg(m[I],m[I+1],M);E=nf(m[I],m[I+1],M)}f(G,i,E)}},B=new wL({target:e._target,life:p,loop:e._loop,delay:e._delay,onframe:z,ondestroy:r});return t&&t!=="spline"&&(B.easing=t),B}}}var hA=function(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||CL,this._setter=a||ML,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};hA.prototype={when:function(e,t){var r=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!r[a]){r[a]=[];var i=this._getter(this._target,a);if(i==null)continue;e!==0&&r[a].push({time:0,value:LL(i)})}r[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,a=0,i=function(){a--,a||r._doneCallback()},o;for(var v in this._tracks)if(this._tracks.hasOwnProperty(v)){var f=IL(this,e,i,this._tracks[v],v,t);f&&(this._clipList.push(f),a++,this.animation&&this.animation.addClip(f),o=f)}if(o){var n=o.onframe;o.onframe=function(h,s){n(h,s);for(var u=0;u<r._onframeList.length;u++)r._onframeList[u](h,s)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),r&&r.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var RL=hA,cA=RL,ai={},fA=1;typeof window<"u"&&(fA=Math.max(window.devicePixelRatio||1,1));var EL=0,kL=fA;ai.debugMode=EL;ai.devicePixelRatio=kL;var OL=ai,zL=OL.debugMode,dA=function(){};zL===1&&(dA=console.error);var BL=dA,sn=BL,NL=cA,VL=sn,ln=Z,HL=ln.isString,_s=ln.isFunction,qL=ln.isObject,GL=ln.isArrayLike,FL=ln.indexOf,sf=function(){this.animators=[]};sf.prototype={constructor:sf,animate:function(e,t){var r,a=!1,i=this,o=this.__zr;if(e){var v=e.split("."),f=i;a=v[0]==="shape";for(var n=0,h=v.length;n<h;n++)f&&(f=f[v[n]]);f&&(r=f)}else r=i;if(!r){VL('Property "'+e+'" is not existed in element '+i.id);return}var s=i.animators,u=new NL(r,t);return u.during(function(l){i.dirty(a)}).done(function(){s.splice(FL(s,u),1)}),s.push(u),o&&o.animation.addAnimator(u),u},stopAnimation:function(e){for(var t=this.animators,r=t.length,a=0;a<r;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,r,a,i,o){_g(this,e,t,r,a,i,o)},animateFrom:function(e,t,r,a,i,o){_g(this,e,t,r,a,i,o,!0)}};function _g(e,t,r,a,i,o,v,f){HL(a)?(o=i,i=a,a=0):_s(i)?(o=i,i="linear",a=0):_s(a)?(o=a,a=0):_s(r)?(o=r,r=500):r||(r=500),e.stopAnimation(),gA(e,"",e,t,r,a,f);var n=e.animators.slice(),h=n.length;function s(){h--,h||o&&o()}h||o&&o();for(var u=0;u<n.length;u++)n[u].done(s).start(i,v)}function gA(e,t,r,a,i,o,v){var f={},n=0;for(var h in a)a.hasOwnProperty(h)&&(r[h]!=null?qL(a[h])&&!GL(a[h])?gA(e,t?t+"."+h:h,r[h],a[h],i,o,v):(v?(f[h]=r[h],xg(e,t,h,a[h])):f[h]=a[h],n++):a[h]!=null&&!v&&xg(e,t,h,a[h]));n>0&&e.animate(t,!1).when(i??500,f).delay(o||0)}function xg(e,t,r,a){if(!t)e.attr(r,a);else{var i={};i[t]={},i[t][r]=a,e.attr(i)}}var $L=sf,UL=$L,WL=Hw,pA=xa,mA=Hf,yA=UL,Vo=Z,un=function(e){mA.call(this,e),pA.call(this,e),yA.call(this,e),this.id=e.id||WL()};un.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Vo.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};Vo.mixin(un,yA);Vo.mixin(un,mA);Vo.mixin(un,pA);var ZL=un,_A=ZL,YL=Ye(),In=Pt(),Rn=YL.applyTransform,En=Math.min,kn=Math.max;function Zr(e,t,r,a){r<0&&(e=e+r,r=-r),a<0&&(t=t+a,a=-a),this.x=e,this.y=t,this.width=r,this.height=a}Zr.prototype={constructor:Zr,union:function(e){var t=En(e.x,this.x),r=En(e.y,this.y);this.width=kn(e.x+e.width,this.x+this.width)-t,this.height=kn(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],a=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,Rn(e,e,i),Rn(t,t,i),Rn(r,r,i),Rn(a,a,i),this.x=En(e[0],t[0],r[0],a[0]),this.y=En(e[1],t[1],r[1],a[1]);var o=kn(e[0],t[0],r[0],a[0]),v=kn(e[1],t[1],r[1],a[1]);this.width=o-this.x,this.height=v-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,a=e.height/t.height,i=In.create();return In.translate(i,i,[-t.x,-t.y]),In.scale(i,i,[r,a]),In.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof Zr||(e=Zr.create(e));var t=this,r=t.x,a=t.x+t.width,i=t.y,o=t.y+t.height,v=e.x,f=e.x+e.width,n=e.y,h=e.y+e.height;return!(a<v||f<r||o<n||h<i)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new Zr(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Zr.create=function(e){return new Zr(e.x,e.y,e.width,e.height)};var XL=Zr,Xe=XL,xA=Z,SA=_A,KL=Xe,Lr=function(e){e=e||{},SA.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Lr.prototype={constructor:Lr,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,a=r.indexOf(t);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Lr&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,a=this._children,i=xA.indexOf(a,e);return i<0?this:(a.splice(i,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof Lr&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,a;for(a=0;a<e.length;a++)r=e[a],t&&(t.delFromStorage(r),r instanceof Lr&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,a=0;a<r.length;a++){var i=r[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var a=this._children[r];e.call(t,a),a.type==="group"&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof Lr&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof Lr&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new KL(0,0,0,0),a=e||this._children,i=[],o=0;o<a.length;o++){var v=a[o];if(!(v.ignore||v.invisible)){var f=v.getBoundingRect(),n=v.getLocalTransform(i);n?(r.copy(f),r.applyTransform(n),t=t||r.clone(),t.union(r)):(t=t||f.clone(),t.union(f))}}return t||r}};xA.inherits(Lr,SA);var QL=Lr,Sa=QL,bA=32,Si=7;function JL(e){for(var t=0;e>=bA;)t|=e&1,e>>=1;return e+t}function Sg(e,t,r,a){var i=t+1;if(i===r)return 1;if(a(e[i++],e[t])<0){for(;i<r&&a(e[i],e[i-1])<0;)i++;jL(e,t,i)}else for(;i<r&&a(e[i],e[i-1])>=0;)i++;return i-t}function jL(e,t,r){for(r--;t<r;){var a=e[t];e[t++]=e[r],e[r--]=a}}function bg(e,t,r,a,i){for(a===t&&a++;a<r;a++){for(var o=e[a],v=t,f=a,n;v<f;)n=v+f>>>1,i(o,e[n])<0?f=n:v=n+1;var h=a-v;switch(h){case 3:e[v+3]=e[v+2];case 2:e[v+2]=e[v+1];case 1:e[v+1]=e[v];break;default:for(;h>0;)e[v+h]=e[v+h-1],h--}e[v]=o}}function xs(e,t,r,a,i,o){var v=0,f=0,n=1;if(o(e,t[r+i])>0){for(f=a-i;n<f&&o(e,t[r+i+n])>0;)v=n,n=(n<<1)+1,n<=0&&(n=f);n>f&&(n=f),v+=i,n+=i}else{for(f=i+1;n<f&&o(e,t[r+i-n])<=0;)v=n,n=(n<<1)+1,n<=0&&(n=f);n>f&&(n=f);var h=v;v=i-n,n=i-h}for(v++;v<n;){var s=v+(n-v>>>1);o(e,t[r+s])>0?v=s+1:n=s}return n}function Ss(e,t,r,a,i,o){var v=0,f=0,n=1;if(o(e,t[r+i])<0){for(f=i+1;n<f&&o(e,t[r+i-n])<0;)v=n,n=(n<<1)+1,n<=0&&(n=f);n>f&&(n=f);var h=v;v=i-n,n=i-h}else{for(f=a-i;n<f&&o(e,t[r+i+n])>=0;)v=n,n=(n<<1)+1,n<=0&&(n=f);n>f&&(n=f),v+=i,n+=i}for(v++;v<n;){var s=v+(n-v>>>1);o(e,t[r+s])<0?n=s:v=s+1}return n}function eP(e,t){var r=Si,a,i,o=0;e.length;var v=[];a=[],i=[];function f(d,c){a[o]=d,i[o]=c,o+=1}function n(){for(;o>1;){var d=o-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;s(d)}}function h(){for(;o>1;){var d=o-2;d>0&&i[d-1]<i[d+1]&&d--,s(d)}}function s(d){var c=a[d],p=i[d],g=a[d+1],m=i[d+1];i[d]=p+m,d===o-3&&(a[d+1]=a[d+2],i[d+1]=i[d+2]),o--;var y=Ss(e[g],e,c,p,0,t);c+=y,p-=y,p!==0&&(m=xs(e[c+p-1],e,g,m,m-1,t),m!==0&&(p<=m?u(c,p,g,m):l(c,p,g,m)))}function u(d,c,p,g){var m=0;for(m=0;m<c;m++)v[m]=e[d+m];var y=0,_=p,b=d;if(e[b++]=e[_++],--g===0){for(m=0;m<c;m++)e[b+m]=v[y+m];return}if(c===1){for(m=0;m<g;m++)e[b+m]=e[_+m];e[b+g]=v[y];return}for(var T=r,S,x,w;;){S=0,x=0,w=!1;do if(t(e[_],v[y])<0){if(e[b++]=e[_++],x++,S=0,--g===0){w=!0;break}}else if(e[b++]=v[y++],S++,x=0,--c===1){w=!0;break}while((S|x)<T);if(w)break;do{if(S=Ss(e[_],v,y,c,0,t),S!==0){for(m=0;m<S;m++)e[b+m]=v[y+m];if(b+=S,y+=S,c-=S,c<=1){w=!0;break}}if(e[b++]=e[_++],--g===0){w=!0;break}if(x=xs(v[y],e,_,g,0,t),x!==0){for(m=0;m<x;m++)e[b+m]=e[_+m];if(b+=x,_+=x,g-=x,g===0){w=!0;break}}if(e[b++]=v[y++],--c===1){w=!0;break}T--}while(S>=Si||x>=Si);if(w)break;T<0&&(T=0),T+=2}if(r=T,r<1&&(r=1),c===1){for(m=0;m<g;m++)e[b+m]=e[_+m];e[b+g]=v[y]}else{if(c===0)throw new Error;for(m=0;m<c;m++)e[b+m]=v[y+m]}}function l(d,c,p,g){var m=0;for(m=0;m<g;m++)v[m]=e[p+m];var y=d+c-1,_=g-1,b=p+g-1,T=0,S=0;if(e[b--]=e[y--],--c===0){for(T=b-(g-1),m=0;m<g;m++)e[T+m]=v[m];return}if(g===1){for(b-=c,y-=c,S=b+1,T=y+1,m=c-1;m>=0;m--)e[S+m]=e[T+m];e[b]=v[_];return}for(var x=r;;){var w=0,A=0,C=!1;do if(t(v[_],e[y])<0){if(e[b--]=e[y--],w++,A=0,--c===0){C=!0;break}}else if(e[b--]=v[_--],A++,w=0,--g===1){C=!0;break}while((w|A)<x);if(C)break;do{if(w=c-Ss(v[_],e,d,c,c-1,t),w!==0){for(b-=w,y-=w,c-=w,S=b+1,T=y+1,m=w-1;m>=0;m--)e[S+m]=e[T+m];if(c===0){C=!0;break}}if(e[b--]=v[_--],--g===1){C=!0;break}if(A=g-xs(e[y],v,0,g,g-1,t),A!==0){for(b-=A,_-=A,g-=A,S=b+1,T=_+1,m=0;m<A;m++)e[S+m]=v[T+m];if(g<=1){C=!0;break}}if(e[b--]=e[y--],--c===0){C=!0;break}x--}while(w>=Si||A>=Si);if(C)break;x<0&&(x=0),x+=2}if(r=x,r<1&&(r=1),g===1){for(b-=c,y-=c,S=b+1,T=y+1,m=c-1;m>=0;m--)e[S+m]=e[T+m];e[b]=v[_]}else{if(g===0)throw new Error;for(T=b-(g-1),m=0;m<g;m++)e[T+m]=v[m]}}this.mergeRuns=n,this.forceMergeRuns=h,this.pushRun=f}function tP(e,t,r,a){r||(r=0),a||(a=e.length);var i=a-r;if(!(i<2)){var o=0;if(i<bA){o=Sg(e,r,a,t),bg(e,r,a,r+o,t);return}var v=new eP(e,t),f=JL(i);do{if(o=Sg(e,r,a,t),o<f){var n=i;n>f&&(n=f),bg(e,r,r+n,r+o,t),o=n}v.pushRun(r,o),v.mergeRuns(),i-=o,r+=o}while(i!==0);v.forceMergeRuns()}}var Gf=tP,rP=Z,aP=nt,bs=Sa,iP=Gf;function wg(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var lf=function(){this._roots=[],this._displayList=[],this._displayListLen=0};lf.prototype={constructor:lf,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);r.length=this._displayListLen,aP.canvasSupported&&iP(r,wg)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t?t=t.slice():t=[];for(var i=a,o=e;i;)i.parent=o,i.updateTransform(),t.push(i),o=i,i=i.clipPath}if(e.isGroup){for(var v=e._children,f=0;f<v.length;f++){var n=v[f];e.__dirty&&(n.__dirty=!0),this._updateAndAddDisplayable(n,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof bs&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof bs&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);return}var i=rP.indexOf(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof bs&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:wg};var nP=lf,oP=nP,sP={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function lP(e,t,r){return sP.hasOwnProperty(t)?r*=e.dpr:r}var wA=lP,ii={},uP={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},vP=9;ii.ContextCachedBy=uP;ii.WILL_BE_RESTORED=vP;var hP=wA,cP=ii,Ag=cP.ContextCachedBy,Ao=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Xi=function(e){this.extendFrom(e,!1)};function fP(e,t,r){var a=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,v=t.y2==null?0:t.y2;t.global||(a=a*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,v=v*r.height+r.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,o=isNaN(o)?0:o,v=isNaN(v)?0:v;var f=e.createLinearGradient(a,o,i,v);return f}function dP(e,t,r){var a=r.width,i=r.height,o=Math.min(a,i),v=t.x==null?.5:t.x,f=t.y==null?.5:t.y,n=t.r==null?.5:t.r;t.global||(v=v*a+r.x,f=f*i+r.y,n=n*o);var h=e.createRadialGradient(v,f,0,v,f,n);return h}Xi.prototype={constructor:Xi,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){var a=this,i=r&&r.style,o=!i||e.__attrCachedBy!==Ag.STYLE_BIND;e.__attrCachedBy=Ag.STYLE_BIND;for(var v=0;v<Ao.length;v++){var f=Ao[v],n=f[0];(o||a[n]!==i[n])&&(e[n]=hP(e,n,a[n]||f[1]))}if((o||a.fill!==i.fill)&&(e.fillStyle=a.fill),(o||a.stroke!==i.stroke)&&(e.strokeStyle=a.stroke),(o||a.opacity!==i.opacity)&&(e.globalAlpha=a.opacity==null?1:a.opacity),(o||a.blend!==i.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var h=a.lineWidth;e.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var a=t.type==="radial"?dP:fP,i=a(e,t,r),o=t.colorStops,v=0;v<o.length;v++)i.addColorStop(o[v].offset,o[v].color);return i}};var uf=Xi.prototype;for(var ws=0;ws<Ao.length;ws++){var As=Ao[ws];As[0]in uf||(uf[As[0]]=As[1])}Xi.getGradient=uf.getGradient;var gP=Xi,Ff=gP,AA=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};AA.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var pP=AA,TA=pP,CA=Z,mP=ai,yP=mP.devicePixelRatio,_P=Ff,xP=TA;function SP(){return!1}function MA(e,t,r){var a=CA.createCanvas(),i=t.getWidth(),o=t.getHeight(),v=a.style;return v&&(v.position="absolute",v.left=0,v.top=0,v.width=i+"px",v.height=o+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=o*r,a}var vf=function(e,t,r){var a;r=r||yP,typeof e=="string"?a=MA(e,t,r):CA.isObject(e)&&(a=e,e=a.id),this.id=e,this.dom=a;var i=a.style;i&&(a.onselectstart=SP,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};vf.prototype={constructor:vf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=MA("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,a=this.dom,i=a.style,o=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*r,a.height=t*r,o&&(o.width=e*r,o.height=t*r,r!==1&&this.ctxBack.scale(r,r))},clear:function(e,v){var r=this.dom,a=this.ctx,i=r.width,o=r.height,v=v||this.clearColor,f=this.motionBlur&&!e,n=this.lastFrameAlpha,h=this.dpr;if(f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/h,o/h)),a.clearRect(0,0,i,o),v&&v!=="transparent"){var s;v.colorStops?(s=v.__canvasGradient||_P.getGradient(a,v,{x:0,y:0,width:i,height:o}),v.__canvasGradient=s):v.image&&(s=xP.prototype.getCanvasPattern.call(v,a)),a.save(),a.fillStyle=s||v,a.fillRect(0,0,i,o),a.restore()}if(f){var u=this.domBack;a.save(),a.globalAlpha=n,a.drawImage(u,0,0,i,o),a.restore()}}};var bP=vf,wP=bP,AP=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},DA=AP,ar={},At={},ni={},TP=sA,hf=new TP(50);function CP(e){if(typeof e=="string"){var t=hf.get(e);return t&&t.image}else return e}function MP(e,t,r,a,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var o=hf.get(e),v={hostEl:r,cb:a,cbPayload:i};return o?(t=o.image,!LA(t)&&o.pending.push(v)):(t=new Image,t.onload=t.onerror=DP,hf.put(e,t.__cachedImgObj={image:t,pending:[v]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function DP(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function LA(e){return e&&e.width&&e.height}ni.findExistImage=CP;ni.createOrUpdateImage=MP;ni.isImageReady=LA;var Tg;function $t(){if(Tg)return At;Tg=1;var e=Xe,t=ni,r=Z,a=r.getContext,i=r.extend,o=r.retrieve2,v=r.retrieve3,f=r.trim,n={},h=0,s=5e3,u=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,l="12px sans-serif",d={};function c(z,B){d[z]=B}function p(z,B){B=B||l;var G=z+":"+B;if(n[G])return n[G];for(var V=(z+"").split(`
`),I=0,O=0,E=V.length;O<E;O++)I=Math.max(D(V[O],B).width,I);return h>s&&(h=0,n={}),h++,n[G]=I,I}function g(z,B,G,V,I,O,E,N){return E?y(z,B,G,V,I,O,E,N):m(z,B,G,V,I,O,N)}function m(z,B,G,V,I,O,E){var N=L(z,B,I,O,E),q=p(z,B);I&&(q+=I[1]+I[3]);var H=N.outerHeight,F=_(0,q,G),U=b(0,H,V),W=new e(F,U,q,H);return W.lineHeight=N.lineHeight,W}function y(z,B,G,V,I,O,E,N){var q=P(z,{rich:E,truncate:N,font:B,textAlign:G,textPadding:I,textLineHeight:O}),H=q.outerWidth,F=q.outerHeight,U=_(0,H,G),W=b(0,F,V);return new e(U,W,H,F)}function _(z,B,G){return G==="right"?z-=B:G==="center"&&(z-=B/2),z}function b(z,B,G){return G==="middle"?z-=B/2:G==="bottom"&&(z-=B),z}function T(z,B,G){var V=B.textPosition,I=B.textDistance,O=G.x,E=G.y;I=I||0;var N=G.height,q=G.width,H=N/2,F="left",U="top";switch(V){case"left":O-=I,E+=H,F="right",U="middle";break;case"right":O+=I+q,E+=H,U="middle";break;case"top":O+=q/2,E-=I,F="center",U="bottom";break;case"bottom":O+=q/2,E+=N+I,F="center";break;case"inside":O+=q/2,E+=H,F="center",U="middle";break;case"insideLeft":O+=I,E+=H,U="middle";break;case"insideRight":O+=q-I,E+=H,F="right",U="middle";break;case"insideTop":O+=q/2,E+=I,F="center";break;case"insideBottom":O+=q/2,E+=N-I,F="center",U="bottom";break;case"insideTopLeft":O+=I,E+=I;break;case"insideTopRight":O+=q-I,E+=I,F="right";break;case"insideBottomLeft":O+=I,E+=N-I,U="bottom";break;case"insideBottomRight":O+=q-I,E+=N-I,F="right",U="bottom";break}return z=z||{},z.x=O,z.y=E,z.textAlign=F,z.textVerticalAlign=U,z}function S(z,B,G){var V={textPosition:z,textDistance:G};return T({},V,B)}function x(z,B,G,V,I){if(!B)return"";var O=(z+"").split(`
`);I=w(B,G,V,I);for(var E=0,N=O.length;E<N;E++)O[E]=A(O[E],I);return O.join(`
`)}function w(z,B,I,V){V=i({},V),V.font=B;var I=o(I,"...");V.maxIterations=o(V.maxIterations,2);var O=V.minChar=o(V.minChar,0);V.cnCharWidth=p("国",B);var E=V.ascCharWidth=p("a",B);V.placeholder=o(V.placeholder,"");for(var N=z=Math.max(0,z-1),q=0;q<O&&N>=E;q++)N-=E;var H=p(I,B);return H>N&&(I="",H=0),N=z-H,V.ellipsis=I,V.ellipsisWidth=H,V.contentWidth=N,V.containerWidth=z,V}function A(z,B){var G=B.containerWidth,V=B.font,I=B.contentWidth;if(!G)return"";var O=p(z,V);if(O<=G)return z;for(var E=0;;E++){if(O<=I||E>=B.maxIterations){z+=B.ellipsis;break}var N=E===0?C(z,I,B.ascCharWidth,B.cnCharWidth):O>0?Math.floor(z.length*I/O):0;z=z.substr(0,N),O=p(z,V)}return z===""&&(z=B.placeholder),z}function C(z,B,G,V){for(var I=0,O=0,E=z.length;O<E&&I<B;O++){var N=z.charCodeAt(O);I+=0<=N&&N<=127?G:V}return O}function M(z){return p("国",z)}function D(z,B){return d.measureText(z,B)}d.measureText=function(z,B){var G=a();return G.font=B||l,G.measureText(z)};function L(z,B,G,V,I){z!=null&&(z+="");var O=o(V,M(B)),E=z?z.split(`
`):[],N=E.length*O,q=N,H=!0;if(G&&(q+=G[0]+G[2]),z&&I){H=!1;var F=I.outerHeight,U=I.outerWidth;if(F!=null&&q>F)z="",E=[];else if(U!=null)for(var W=w(U-(G?G[1]+G[3]:0),B,I.ellipsis,{minChar:I.minChar,placeholder:I.placeholder}),Y=0,Q=E.length;Y<Q;Y++)E[Y]=A(E[Y],W)}return{lines:E,height:N,outerHeight:q,lineHeight:O,canCacheByTextString:H}}function P(z,B){var G={lines:[],width:0,height:0};if(z!=null&&(z+=""),!z)return G;for(var V=u.lastIndex=0,I;(I=u.exec(z))!=null;){var O=I.index;O>V&&R(G,z.substring(V,O)),R(G,I[2],I[1]),V=u.lastIndex}V<z.length&&R(G,z.substring(V,z.length));var E=G.lines,N=0,q=0,H=[],F=B.textPadding,U=B.truncate,W=U&&U.outerWidth,Y=U&&U.outerHeight;F&&(W!=null&&(W-=F[1]+F[3]),Y!=null&&(Y-=F[0]+F[2]));for(var Q=0;Q<E.length;Q++){for(var ee=E[Q],j=0,re=0,ae=0;ae<ee.tokens.length;ae++){var ne=ee.tokens[ae],de=ne.styleName&&B.rich[ne.styleName]||{},te=ne.textPadding=de.textPadding,se=ne.font=de.font||B.font,Te=ne.textHeight=o(de.textHeight,M(se));if(te&&(Te+=te[0]+te[2]),ne.height=Te,ne.lineHeight=v(de.textLineHeight,B.textLineHeight,Te),ne.textAlign=de&&de.textAlign||B.textAlign,ne.textVerticalAlign=de&&de.textVerticalAlign||"middle",Y!=null&&N+ne.lineHeight>Y)return{lines:[],width:0,height:0};ne.textWidth=p(ne.text,se);var le=de.textWidth,ve=le==null||le==="auto";if(typeof le=="string"&&le.charAt(le.length-1)==="%")ne.percentWidth=le,H.push(ne),le=0;else{if(ve){le=ne.textWidth;var Se=de.textBackgroundColor,X=Se&&Se.image;X&&(X=t.findExistImage(X),t.isImageReady(X)&&(le=Math.max(le,X.width*Te/X.height)))}var J=te?te[1]+te[3]:0;le+=J;var ie=W!=null?W-re:null;ie!=null&&ie<le&&(!ve||ie<J?(ne.text="",ne.textWidth=le=0):(ne.text=x(ne.text,ie-J,se,U.ellipsis,{minChar:U.minChar}),ne.textWidth=p(ne.text,se),le=ne.textWidth+J))}re+=ne.width=le,de&&(j=Math.max(j,ne.lineHeight))}ee.width=re,ee.lineHeight=j,N+=j,q=Math.max(q,re)}G.outerWidth=G.width=o(B.textWidth,q),G.outerHeight=G.height=o(B.textHeight,N),F&&(G.outerWidth+=F[1]+F[3],G.outerHeight+=F[0]+F[2]);for(var Q=0;Q<H.length;Q++){var ne=H[Q],ce=ne.percentWidth;ne.width=parseInt(ce,10)/100*q}return G}function R(z,B,G){for(var V=B==="",I=B.split(`
`),O=z.lines,E=0;E<I.length;E++){var N=I[E],q={styleName:G,text:N,isLineHolder:!N&&!V};if(E)O.push({tokens:[q]});else{var H=(O[O.length-1]||(O[0]={tokens:[]})).tokens,F=H.length;F===1&&H[0].isLineHolder?H[0]=q:(N||!F||V)&&H.push(q)}}}function k(z){var B=(z.fontSize||z.fontFamily)&&[z.fontStyle,z.fontWeight,(z.fontSize||12)+"px",z.fontFamily||"sans-serif"].join(" ");return B&&f(B)||z.textFont||z.font}return At.DEFAULT_FONT=l,At.$override=c,At.getWidth=p,At.getBoundingRect=g,At.adjustTextX=_,At.adjustTextY=b,At.calculateTextPosition=T,At.adjustTextPositionOnRect=S,At.truncateText=x,At.getLineHeight=M,At.measureText=D,At.parsePlainText=L,At.parseRichText=P,At.makeFont=k,At}var $f={};function LP(e,t){var r=t.x,a=t.y,i=t.width,o=t.height,v=t.r,f,n,h,s;i<0&&(r=r+i,i=-i),o<0&&(a=a+o,o=-o),typeof v=="number"?f=n=h=s=v:v instanceof Array?v.length===1?f=n=h=s=v[0]:v.length===2?(f=h=v[0],n=s=v[1]):v.length===3?(f=v[0],n=s=v[1],h=v[2]):(f=v[0],n=v[1],h=v[2],s=v[3]):f=n=h=s=0;var u;f+n>i&&(u=f+n,f*=i/u,n*=i/u),h+s>i&&(u=h+s,h*=i/u,s*=i/u),n+h>o&&(u=n+h,n*=o/u,h*=o/u),f+s>o&&(u=f+s,f*=o/u,s*=o/u),e.moveTo(r+f,a),e.lineTo(r+i-n,a),n!==0&&e.arc(r+i-n,a+n,n,-Math.PI/2,0),e.lineTo(r+i,a+o-h),h!==0&&e.arc(r+i-h,a+o-h,h,0,Math.PI/2),e.lineTo(r+s,a+o),s!==0&&e.arc(r+s,a+o-s,s,Math.PI/2,Math.PI),e.lineTo(r,a+f),f!==0&&e.arc(r+f,a+f,f,Math.PI,Math.PI*1.5)}$f.buildPath=LP;var oi=Z,PP=oi.retrieve2,Ts=oi.retrieve3,IP=oi.each,RP=oi.normalizeCssArray,EP=oi.isString,kP=oi.isObject,_r=$t(),OP=$f,Cg=ni,PA=wA,IA=ii,Fi=IA.ContextCachedBy,RA=IA.WILL_BE_RESTORED,cf=_r.DEFAULT_FONT,zP={left:1,right:1,center:1},BP={top:1,bottom:1,middle:1},Mg=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Dg={},EA={};function NP(e){return Lg(e),IP(e.rich,Lg),e}function Lg(e){if(e){e.font=_r.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||zP[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||BP[r]?r:"top";var a=e.textPadding;a&&(e.textPadding=RP(e.textPadding))}}function VP(e,t,r,a,i,o){a.rich?qP(e,t,r,a,i,o):HP(e,t,r,a,i,o)}function HP(e,t,r,a,i,o){var v=Uf(a),f,n=!1,h=t.__attrCachedBy===Fi.PLAIN_TEXT;o!==RA?(o&&(f=o.style,n=!v&&h&&f),t.__attrCachedBy=v?Fi.NONE:Fi.PLAIN_TEXT):h&&(t.__attrCachedBy=Fi.NONE);var s=a.font||cf;(!n||s!==(f.font||cf))&&(t.font=s);var u=e.__computedFont;e.__styleFont!==s&&(e.__styleFont=s,u=e.__computedFont=t.font);var l=a.textPadding,d=a.textLineHeight,c=e.__textCotentBlock;(!c||e.__dirtyText)&&(c=e.__textCotentBlock=_r.parsePlainText(r,u,l,d,a.truncate));var p=c.outerHeight,g=c.lines,m=c.lineHeight,y=Zf(EA,e,a,i),_=y.baseX,b=y.baseY,T=y.textAlign||"left",S=y.textVerticalAlign;kA(t,a,i,_,b);var x=_r.adjustTextY(b,p,S),w=_,A=x;if(v||l){var C=_r.getWidth(r,u),M=C;l&&(M+=l[1]+l[3]);var D=_r.adjustTextX(_,M,T);v&&Wf(e,t,a,D,x,M,p),l&&(w=OA(_,T,l),A+=l[0])}t.textAlign=T,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var L=0;L<Mg.length;L++){var P=Mg[L],R=P[0],k=P[1],z=a[R];(!n||z!==f[R])&&(t[k]=PA(t,k,z||P[2]))}A+=m/2;var B=a.textStrokeWidth,G=n?f.textStrokeWidth:null,V=!n||B!==G,I=!n||V||a.textStroke!==f.textStroke,O=Yf(a.textStroke,B),E=Xf(a.textFill);if(O&&(V&&(t.lineWidth=B),I&&(t.strokeStyle=O)),E&&(!n||a.textFill!==f.textFill)&&(t.fillStyle=E),g.length===1)O&&t.strokeText(g[0],w,A),E&&t.fillText(g[0],w,A);else for(var L=0;L<g.length;L++)O&&t.strokeText(g[L],w,A),E&&t.fillText(g[L],w,A),A+=m}function qP(e,t,r,a,i,o){o!==RA&&(t.__attrCachedBy=Fi.NONE);var v=e.__textCotentBlock;(!v||e.__dirtyText)&&(v=e.__textCotentBlock=_r.parseRichText(r,a)),GP(e,t,v,a,i)}function GP(e,t,r,a,i){var o=r.width,v=r.outerWidth,f=r.outerHeight,n=a.textPadding,h=Zf(EA,e,a,i),s=h.baseX,u=h.baseY,l=h.textAlign,d=h.textVerticalAlign;kA(t,a,i,s,u);var c=_r.adjustTextX(s,v,l),p=_r.adjustTextY(u,f,d),g=c,m=p;n&&(g+=n[3],m+=n[0]);var y=g+o;Uf(a)&&Wf(e,t,a,c,p,v,f);for(var _=0;_<r.lines.length;_++){for(var b=r.lines[_],T=b.tokens,S=T.length,x=b.lineHeight,w=b.width,A=0,C=g,M=y,D=S-1,L;A<S&&(L=T[A],!L.textAlign||L.textAlign==="left");)Cs(e,t,L,a,x,m,C,"left"),w-=L.width,C+=L.width,A++;for(;D>=0&&(L=T[D],L.textAlign==="right");)Cs(e,t,L,a,x,m,M,"right"),w-=L.width,M-=L.width,D--;for(C+=(o-(C-g)-(y-M)-w)/2;A<=D;)L=T[A],Cs(e,t,L,a,x,m,C+L.width/2,"center"),C+=L.width,A++;m+=x}}function kA(e,t,r,a,i){if(r&&t.textRotation){var o=t.textOrigin;o==="center"?(a=r.width/2+r.x,i=r.height/2+r.y):o&&(a=o[0]+r.x,i=o[1]+r.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function Cs(e,t,r,a,i,o,v,f){var n=a.rich[r.styleName]||{};n.text=r.text;var h=r.textVerticalAlign,s=o+i/2;h==="top"?s=o+r.height/2:h==="bottom"&&(s=o+i-r.height/2),!r.isLineHolder&&Uf(n)&&Wf(e,t,n,f==="right"?v-r.width:f==="center"?v-r.width/2:v,s-r.height/2,r.width,r.height);var u=r.textPadding;u&&(v=OA(v,f,u),s-=r.height/2-u[2]-r.textHeight/2),St(t,"shadowBlur",Ts(n.textShadowBlur,a.textShadowBlur,0)),St(t,"shadowColor",n.textShadowColor||a.textShadowColor||"transparent"),St(t,"shadowOffsetX",Ts(n.textShadowOffsetX,a.textShadowOffsetX,0)),St(t,"shadowOffsetY",Ts(n.textShadowOffsetY,a.textShadowOffsetY,0)),St(t,"textAlign",f),St(t,"textBaseline","middle"),St(t,"font",r.font||cf);var l=Yf(n.textStroke||a.textStroke,c),d=Xf(n.textFill||a.textFill),c=PP(n.textStrokeWidth,a.textStrokeWidth);l&&(St(t,"lineWidth",c),St(t,"strokeStyle",l),t.strokeText(r.text,v,s)),d&&(St(t,"fillStyle",d),t.fillText(r.text,v,s))}function Uf(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function Wf(e,t,r,a,i,o,v){var f=r.textBackgroundColor,n=r.textBorderWidth,h=r.textBorderColor,s=EP(f);if(St(t,"shadowBlur",r.textBoxShadowBlur||0),St(t,"shadowColor",r.textBoxShadowColor||"transparent"),St(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),St(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),s||n&&h){t.beginPath();var u=r.textBorderRadius;u?OP.buildPath(t,{x:a,y:i,width:o,height:v,r:u}):t.rect(a,i,o,v),t.closePath()}if(s)if(St(t,"fillStyle",f),r.fillOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=l}else t.fill();else if(kP(f)){var d=f.image;d=Cg.createOrUpdateImage(d,null,e,FP,f),d&&Cg.isImageReady(d)&&t.drawImage(d,a,i,o,v)}if(n&&h)if(St(t,"lineWidth",n),St(t,"strokeStyle",h),r.strokeOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=l}else t.stroke()}function FP(e,t){t.image=e}function Zf(e,t,r,a){var i=r.x||0,o=r.y||0,v=r.textAlign,f=r.textVerticalAlign;if(a){var n=r.textPosition;if(n instanceof Array)i=a.x+ff(n[0],a.width),o=a.y+ff(n[1],a.height);else{var h=t&&t.calculateTextPosition?t.calculateTextPosition(Dg,r,a):_r.calculateTextPosition(Dg,r,a);i=h.x,o=h.y,v=v||h.textAlign,f=f||h.textVerticalAlign}var s=r.textOffset;s&&(i+=s[0],o+=s[1])}return e=e||{},e.baseX=i,e.baseY=o,e.textAlign=v,e.textVerticalAlign=f,e}function St(e,t,r){return e[t]=PA(e,t,r),e[t]}function Yf(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function Xf(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function ff(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function OA(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function $P(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}ar.normalizeTextStyle=NP;ar.renderText=VP;ar.getBoxPosition=Zf;ar.getStroke=Yf;ar.getFill=Xf;ar.parsePercent=ff;ar.needDrawText=$P;var Ms,Pg;function zA(){if(Pg)return Ms;Pg=1;var e=ar,t=Xe,r=ii,a=r.WILL_BE_RESTORED,i=new t,o=function(){};o.prototype={constructor:o,drawRectText:function(f,n){var h=this.style;n=h.textRect||n,this.__dirty&&e.normalizeTextStyle(h,!0);var s=h.text;if(s!=null&&(s+=""),!!e.needDrawText(s,h)){f.save();var u=this.transform;h.transformText?this.setTransform(f):u&&(i.copy(n),i.applyTransform(u),n=i),e.renderText(this,f,s,h,n,a),f.restore()}}};var v=o;return Ms=v,Ms}var BA=Z,NA=Ff,Kf=_A,UP=zA();function Ki(e){e=e||{},Kf.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new NA(e.style),this._rect=null,this.__clipPaths=null}Ki.prototype={constructor:Ki,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?Kf.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new NA(e),this.dirty(!1),this},calculateTextPosition:null};BA.inherits(Ki,Kf);BA.mixin(Ki,UP);var WP=Ki,vn=WP,VA=vn,ZP=Xe,YP=Z,Ig=ni;function To(e){VA.call(this,e)}To.prototype={constructor:To,type:"image",brush:function(e,t){var r=this.style,a=r.image;r.bind(e,this,t);var i=this._image=Ig.createOrUpdateImage(a,this._image,this,this.onload);if(!(!i||!Ig.isImageReady(i))){var o=r.x||0,v=r.y||0,f=r.width,n=r.height,h=i.width/i.height;if(f==null&&n!=null?f=n*h:n==null&&f!=null?n=f/h:f==null&&n==null&&(f=i.width,n=i.height),this.setTransform(e),r.sWidth&&r.sHeight){var s=r.sx||0,u=r.sy||0;e.drawImage(i,s,u,r.sWidth,r.sHeight,o,v,f,n)}else if(r.sx&&r.sy){var s=r.sx,u=r.sy,l=f-s,d=n-u;e.drawImage(i,s,u,l,d,o,v,f,n)}else e.drawImage(i,o,v,f,n);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new ZP(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};YP.inherits(To,VA);var XP=To,si=XP,KP=ai,QP=KP.devicePixelRatio,Ur=Z,Ds=sn,HA=Xe,JP=Gf,df=wP,jP=DA,eI=si,tI=nt,Rg=1e5,ga=314159,Eg=.01,rI=.001;function On(e){return parseInt(e,10)}function aI(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var Ls=new HA(0,0,0,0),Ps=new HA(0,0,0,0);function iI(e,t,r){return Ls.copy(e.getBoundingRect()),e.transform&&Ls.applyTransform(e.transform),Ps.width=t,Ps.height=r,!Ls.intersect(Ps)}function nI(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function oI(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function sI(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var gf=function(e,t,r){this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Ur.extend({},r||{}),this.dpr=r.devicePixelRatio||QP,this._singleCanvas=a,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList=[],v=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var n=e.width,h=e.height;r.width!=null&&(n=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,e.width=n*this.dpr,e.height=h*this.dpr,this._width=n,this._height=h;var s=new df(e,this,this.dpr);s.__builtin__=!0,s.initContext(),v[ga]=s,s.zlevel=ga,o.push(ga),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=sI(this._width,this._height);e.appendChild(f)}this._hoverlayer=null,this._hoverElements=[]};gf.prototype={constructor:gf,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a],o=this._layers[i];if(!o.__builtin__&&o.refresh){var v=a===0?this._backgroundColor:null;o.refresh(v)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,a=Ur.indexOf(r,t);a>=0&&r.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var a=t[r].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){JP(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(Rg));var a={};r.ctx.save();for(var i=0;i<t;){var o=e[i],v=o.__from;if(!(v&&v.__zr)){e.splice(i,1),v.__hoverMir=null,t--;continue}i++,v.invisible||(o.transform=v.transform,o.invTransform=v.invTransform,o.__clipPaths=v.__clipPaths,this._doPaintEl(o,r,!0,a))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Rg)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;jP(function(){i._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(ga).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],o=this._layers[i];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&r.push(o)}for(var v=!0,f=0;f<r.length;f++){var o=r[f],n=o.ctx,h={};n.save();var s=t?o.__startIndex:o.__drawIndex,u=!t&&o.incremental&&Date.now,l=u&&Date.now(),d=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,d);else if(s===o.__startIndex){var c=e[s];(!c.incremental||!c.notClear||t)&&o.clear(!1,d)}s===-1&&(console.error("For some unknown reason. drawIndex is -1"),s=o.__startIndex);for(var p=s;p<o.__endIndex;p++){var g=e[p];if(this._doPaintEl(g,o,t,h),g.__dirty=g.__dirtyText=!1,u){var m=Date.now()-l;if(m>15)break}}o.__drawIndex=p,o.__drawIndex<o.__endIndex&&(v=!1),h.prevElClipPaths&&n.restore(),n.restore()}return tI.wxa&&Ur.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),v},_doPaintEl:function(e,t,r,a){var i=t.ctx,o=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(o&&!o[0]&&!o[3])&&!(e.culling&&iI(e,this._width,this._height))){var v=e.__clipPaths,f=a.prevElClipPaths;(!f||nI(v,f))&&(f&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),v&&(i.save(),oI(v,i),a.prevElClipPaths=v)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ga);var r=this._layers[e];return r||(r=new df("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]&&Ur.merge(r,this._layerConfig[e],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,a=this._zlevelList,i=a.length,o=null,v=-1,f=this._domRoot;if(r[e]){Ds("ZLevel "+e+" has been used already");return}if(!aI(t)){Ds("Layer of zlevel "+e+" is not valid");return}if(i>0&&e>a[0]){for(v=0;v<i-1&&!(a[v]<e&&a[v+1]>e);v++);o=r[a[v]]}if(a.splice(v+1,0,e),r[e]=t,!t.virtual)if(o){var n=o.dom;n.nextSibling?f.insertBefore(t.dom,n.nextSibling):f.appendChild(t.dom)}else f.firstChild?f.insertBefore(t.dom,f.firstChild):f.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,a,i;for(i=0;i<r.length;i++)a=r[i],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,a,i,o;for(o=0;o<r.length;o++)i=r[o],a=this._layers[i],a.__builtin__&&e.call(t,a,i)},eachOtherLayer:function(e,t){var r=this._zlevelList,a,i,o;for(o=0;o<r.length;o++)i=r[o],a=this._layers[i],a.__builtin__||e.call(t,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(n,h){n.__dirty=n.__used=!1});function t(n){i&&(i.__endIndex!==n&&(i.__dirty=!0),i.__endIndex=n)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,o=0,r=0;r<e.length;r++){var a=e[r],v=a.zlevel,f;a.incremental?(f=this.getLayer(v+rI,this._needsManuallyCompositing),f.incremental=!0,o=1):f=this.getLayer(v+(o>0?Eg:0),this._needsManuallyCompositing),f.__builtin__||Ds("ZLevel "+v+" has been used by unkown layer "+f.id),f!==i&&(f.__used=!0,f.__startIndex!==r&&(f.__dirty=!0),f.__startIndex=r,f.incremental?f.__drawIndex=-1:f.__drawIndex=r,t(r),i=f),a.__dirty&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(n,h){!n.__used&&n.getElementCount()>0&&(n.__dirty=!0,n.__startIndex=n.__endIndex=n.__drawIndex=0),n.__dirty&&n.__drawIndex<0&&(n.__drawIndex=n.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?Ur.merge(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+Eg){var o=this._layers[i];Ur.merge(o,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(Ur.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);Ur.each(this._progressiveLayers,function(o){o.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(ga).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ga].dom;var t=new df("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer(function(h){h.__builtin__?i.drawImage(h.dom,0,0,r,a):h.renderToCanvas&&(t.ctx.save(),h.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var o={},v=this.storage.getDisplayList(!0),f=0;f<v.length;f++){var n=v[f];this._doPaintEl(n,t,!0,o)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var v=this.root,f=document.defaultView.getComputedStyle(v);return(v[a]||On(f[r])||On(v.style[r]))-(On(f[i])||0)-(On(f[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),a=r.getContext("2d"),i=e.getBoundingRect(),o=e.style,v=o.shadowBlur*t,f=o.shadowOffsetX*t,n=o.shadowOffsetY*t,h=o.hasStroke()?o.lineWidth:0,s=Math.max(h/2,-f+v),u=Math.max(h/2,f+v),l=Math.max(h/2,-n+v),d=Math.max(h/2,n+v),c=i.width+s+u,p=i.height+l+d;r.width=c*t,r.height=p*t,a.scale(t,t),a.clearRect(0,0,c,p),a.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[s-i.x,l-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var m=eI,y=new m({style:{x:0,y:0,image:r}});return g.position!=null&&(y.position=e.position=g.position),g.rotation!=null&&(y.rotation=e.rotation=g.rotation),g.scale!=null&&(y.scale=e.scale=g.scale),y}};var lI=gf,uI=lI,qA=Z,vI=ht,GA=vI.Dispatcher,kg=DA,hI=cA,Co=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,GA.call(this)};Co.prototype={constructor:Co,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=qA.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,a=r.length,i=[],o=[],v=0;v<a;v++){var f=r[v],n=f.step(e,t);n&&(i.push(n),o.push(f))}for(var v=0;v<a;)r[v]._needsRemove?(r[v]=r[a-1],r.pop(),a--):v++;a=i.length;for(var v=0;v<a;v++)o[v].fire(i[v]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(kg(t),!e._paused&&e._update())}kg(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new hI(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};qA.mixin(Co,GA);var cI=Co,fI=cI,Ho=ht,dI=Ho.addEventListener,gI=Ho.removeEventListener,Pr=Ho.normalizeEvent,FA=Ho.getNativeEvent,Er=Z,$A=xa,Ja=nt,pI=300,Qf=Ja.domSupported,Is=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=Er.map(e,function(i){var o=i.replace("mouse","pointer");return r.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:a}}(),Og={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function UA(e){return e==="mousewheel"&&Ja.browser.firefox?"DOMMouseScroll":e}function pf(e){var t=e.pointerType;return t==="pen"||t==="touch"}function mI(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Rs(e){e&&(e.zrByTouch=!0)}function yI(e,t){return Pr(e.dom,new ZA(e,t),!0)}function WA(e,t){for(var r=t,a=!1;r&&r.nodeType!==9&&!(a=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return a}function ZA(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Es=ZA.prototype;Es.stopPropagation=Es.stopImmediatePropagation=Es.preventDefault=Er.noop;var jt={mousedown:function(e){e=Pr(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Pr(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&_f(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Pr(this.dom,e),_f(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Pr(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=WA(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=Pr(this.dom,e),Rs(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),jt.mousemove.call(this,e),jt.mousedown.call(this,e)},touchmove:function(e){e=Pr(this.dom,e),Rs(e),this.handler.processGesture(e,"change"),jt.mousemove.call(this,e)},touchend:function(e){e=Pr(this.dom,e),Rs(e),this.handler.processGesture(e,"end"),jt.mouseup.call(this,e),+new Date-this._lastTouchMoment<pI&&jt.click.call(this,e)},pointerdown:function(e){jt.mousedown.call(this,e)},pointermove:function(e){pf(e)||jt.mousemove.call(this,e)},pointerup:function(e){jt.mouseup.call(this,e)},pointerout:function(e){pf(e)||jt.mouseout.call(this,e)}};Er.each(["click","mousewheel","dblclick","contextmenu"],function(e){jt[e]=function(t){t=Pr(this.dom,t),this.trigger(e,t)}});var mf={pointermove:function(e){pf(e)||mf.mousemove.call(this,e)},pointerup:function(e){mf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;_f(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function _I(e,t){var r=t.domHandlers;Ja.pointerEventsSupported?Er.each(Is.pointer,function(a){vo(t,a,function(i){r[a].call(e,i)})}):(Ja.touchEventsSupported&&Er.each(Is.touch,function(a){vo(t,a,function(i){r[a].call(e,i),mI(t)})}),Er.each(Is.mouse,function(a){vo(t,a,function(i){i=FA(i),t.touching||r[a].call(e,i)})}))}function xI(e,t){Ja.pointerEventsSupported?Er.each(Og.pointer,r):Ja.touchEventsSupported||Er.each(Og.mouse,r);function r(a){function i(o){o=FA(o),WA(e,o.target)||(o=yI(e,o),t.domHandlers[a].call(e,o))}vo(t,a,i,{capture:!0})}}function vo(e,t,r,a){e.mounted[t]=r,e.listenerOpts[t]=a,dI(e.domTarget,UA(t),r,a)}function yf(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&gI(e.domTarget,UA(r),t[r],e.listenerOpts[r]);e.mounted={}}function _f(e,t){if(e._mayPointerCapture=null,Qf&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?xI(e,r):yf(r)}}function zg(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Jf(e,t){$A.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new zg(e,jt),Qf&&(this._globalHandlerScope=new zg(document,mf)),this._pointerCapturing=!1,this._mayPointerCapture=null,_I(this,this._localHandlerScope)}var YA=Jf.prototype;YA.dispose=function(){yf(this._localHandlerScope),Qf&&yf(this._globalHandlerScope)};YA.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Er.mixin(Jf,$A);var SI=Jf,bI=SI,wI=Hw,xf=nt,AI=Z,TI=oL,CI=oP,MI=uI,DI=fI,LI=bI;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var PI=!xf.canvasSupported,ho={canvas:MI},pa={},II="4.3.0";function RI(e,t){var r=new Sf(wI(),e,t);return pa[r.id]=r,r}function EI(e){if(e)e.dispose();else{for(var t in pa)pa.hasOwnProperty(t)&&pa[t].dispose();pa={}}return this}function kI(e){return pa[e]}function OI(e,t){ho[e]=t}function zI(e){delete pa[e]}var Sf=function(e,t,r){r=r||{},this.dom=t,this.id=e;var a=this,i=new CI,o=r.renderer;if(PI){if(!ho.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else(!o||!ho[o])&&(o="canvas");var v=new ho[o](t,i,r,e);this.storage=i,this.painter=v;var f=!xf.node&&!xf.worker?new LI(v.getViewportRoot(),v.root):null;this.handler=new TI(i,v,f,v.root),this.animation=new DI({stage:{update:AI.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var n=i.delFromStorage,h=i.addToStorage;i.delFromStorage=function(s){n.call(i,s),s&&s.removeSelfFromZr(a)},i.addToStorage=function(s){h.call(i,s),s.addSelfToZr(a)}};Sf.prototype={constructor:Sf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var r=this.painter.addHover(e,t);return this.refreshHover(),r}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,zI(this.id)}};Or.version=II;Or.init=RI;Or.dispose=EI;Or.getInstance=kI;Or.registerPainter=OI;var Re={},kt=Z,BI=nt,Wa=kt.each,ja=kt.isObject,NI=kt.isArray,XA="series\0";function KA(e){return e instanceof Array?e:e==null?[]:[e]}function VI(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var o=r[a];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var HI=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function qI(e){return ja(e)&&!NI(e)&&!(e instanceof Date)?e.value:e}function GI(e){return ja(e)&&!(e instanceof Array)}function FI(e,t){t=(t||[]).slice();var r=kt.map(e||[],function(a,i){return{exist:a}});return Wa(t,function(a,i){if(ja(a)){for(var o=0;o<r.length;o++)if(!r[o].option&&a.id!=null&&r[o].exist.id===a.id+""){r[o].option=a,t[i]=null;return}for(var o=0;o<r.length;o++){var v=r[o].exist;if(!r[o].option&&(v.id==null||a.id==null)&&a.name!=null&&!co(a)&&!co(v)&&v.name===a.name+""){r[o].option=a,t[i]=null;return}}}}),Wa(t,function(a,i){if(ja(a)){for(var o=0;o<r.length;o++){var v=r[o].exist;if(!r[o].option&&!co(v)&&a.id==null){r[o].option=a;break}}o>=r.length&&r.push({option:a})}}),r}function $I(e){var t=kt.createHashMap();Wa(e,function(r,a){var i=r.exist;i&&t.set(i.id,r)}),Wa(e,function(r,a){var i=r.option;kt.assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),Wa(e,function(r,a){var i=r.exist,o=r.option,v=r.keyInfo;if(ja(o)){if(v.name=o.name!=null?o.name+"":i?i.name:XA+a,i)v.id=i.id;else if(o.id!=null)v.id=o.id+"";else{var f=0;do v.id="\0"+v.name+"\0"+f++;while(t.get(v.id))}t.set(v.id,r)}})}function UI(e){var t=e.name;return!!(t&&t.indexOf(XA))}function co(e){return ja(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function WI(e,t){var r={},a={};return i(e||[],r),i(t||[],a,r),[o(r),o(a)];function i(v,f,n){for(var h=0,s=v.length;h<s;h++)for(var u=v[h].seriesId,l=KA(v[h].dataIndex),d=n&&n[u],c=0,p=l.length;c<p;c++){var g=l[c];d&&d[g]?d[g]=null:(f[u]||(f[u]={}))[g]=1}}function o(v,f){var n=[];for(var h in v)if(v.hasOwnProperty(h)&&v[h]!=null)if(f)n.push(+h);else{var s=o(v[h],!0);s.length&&n.push({seriesId:h,dataIndex:s})}return n}}function ZI(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return kt.isArray(t.dataIndex)?kt.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return kt.isArray(t.name)?kt.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function YI(){var e="__\0ec_inner_"+XI+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var XI=0;function KI(e,t,r){if(kt.isString(t)){var a={};a[t+"Index"]=0,t=a}var i=r&&r.defaultMainType;i&&!ks(t,i+"Index")&&!ks(t,i+"Id")&&!ks(t,i+"Name")&&(t[i+"Index"]=0);var o={};return Wa(t,function(n,f){var n=t[f];if(f==="dataIndex"||f==="dataIndexInside"){o[f]=n;return}var h=f.match(/^(\w+)(Index|Id|Name)$/)||[],s=h[1],u=(h[2]||"").toLowerCase();if(!(!s||!u||n==null||u==="index"&&n==="none"||r&&r.includeMainTypes&&kt.indexOf(r.includeMainTypes,s)<0)){var l={mainType:s};(u!=="index"||n!=="all")&&(l[u]=n);var d=e.queryComponents(l);o[s+"Models"]=d,o[s+"Model"]=d[0]}}),o}function ks(e,t){return e&&e.hasOwnProperty(t)}function QI(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function JI(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function jI(e){return e==="auto"?BI.domSupported?"html":"richText":e||"html"}function e2(e,t){var r=kt.createHashMap(),a=[];return kt.each(e,function(i){var o=t(i);(r.get(o)||(a.push(o),r.set(o,[]))).push(i)}),{keys:a,buckets:r}}Re.normalizeToArray=KA;Re.defaultEmphasis=VI;Re.TEXT_STYLE_OPTIONS=HI;Re.getDataItemValue=qI;Re.isDataItemOption=GI;Re.mappingToExists=FI;Re.makeIdAndName=$I;Re.isNameSpecified=UI;Re.isIdInner=co;Re.compressBatches=WI;Re.queryDataIndex=ZI;Re.makeInner=YI;Re.parseFinder=KI;Re.setAttribute=QI;Re.getAttribute=JI;Re.getTooltipRenderMode=jI;Re.groupData=e2;var Ot={},ei=Z,t2=".",sa="___EC__COMPONENT__CONTAINER___";function Ga(e){var t={main:"",sub:""};return e&&(e=e.split(t2),t.main=e[0]||"",t.sub=e[1]||""),t}function r2(e){ei.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function a2(e,t){e.$constructor=e,e.extend=function(r){var a=this,i=function(){r.$constructor?r.$constructor.apply(this,arguments):a.apply(this,arguments)};return ei.extend(i.prototype,r),i.extend=this.extend,i.superCall=o2,i.superApply=s2,ei.inherits(i,this),i.superClass=a,i}}var i2=0;function n2(e){var t=["__\0is_clz",i2++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function o2(e,t){var r=ei.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function s2(e,t,r){return this.superClass.prototype[t].apply(e,r)}function l2(e,t){t=t||{};var r={};e.registerClass=function(o,v){if(v){if(r2(v),v=Ga(v),!v.sub)r[v.main]=o;else if(v.sub!==sa){var f=a(v);f[v.sub]=o}}return o},e.getClass=function(o,v,f){var n=r[o];if(n&&n[sa]&&(n=v?n[v]:null),f&&!n)throw new Error(v?"Component "+o+"."+(v||"")+" not exists. Load it first.":o+".type should be specified.");return n},e.getClassesByMainType=function(o){o=Ga(o);var v=[],f=r[o.main];return f&&f[sa]?ei.each(f,function(n,h){h!==sa&&v.push(n)}):v.push(f),v},e.hasClass=function(o){return o=Ga(o),!!r[o.main]},e.getAllClassMainTypes=function(){var o=[];return ei.each(r,function(v,f){o.push(f)}),o},e.hasSubTypes=function(o){o=Ga(o);var v=r[o.main];return v&&v[sa]},e.parseClassType=Ga;function a(o){var v=r[o.main];return(!v||!v[sa])&&(v=r[o.main]={},v[sa]=!0),v}if(t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(o){var v=i.call(this,o);return e.registerClass(v,o.type)})}return e}function u2(e,t){}Ot.parseClassType=Ga;Ot.enableClassExtend=a2;Ot.enableClassCheck=n2;Ot.enableClassManagement=l2;Ot.setReadOnly=u2;var Bg=Z;function v2(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(r,a,i){for(var o={},v=0;v<e.length;v++){var f=e[v][1];if(!(a&&Bg.indexOf(a,f)>=0||i&&Bg.indexOf(i,f)<0)){var n=r.getShallow(f);n!=null&&(o[e[v][0]]=n)}}return o}}var li=v2,h2=li,c2=h2([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),f2={getLineStyle:function(e){var t=c2(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){e==null&&(e=1);var t=this.get("type"),r=Math.max(e,2),a=e*4;return t==="solid"||t==null?!1:t==="dashed"?[a,a]:[r,r]}},d2=f2,g2=li,p2=g2([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),m2={getAreaStyle:function(e,t){return p2(this,e,t)}},y2=m2,ye={},hn={},ut={},QA=Ye(),jf=QA.create,Za=QA.distSquare,zn=Math.pow,jr=Math.sqrt,Mo=1e-8,JA=1e-4,Ng=jr(3),Bn=1/3,mr=jf(),Ft=jf(),Ya=jf();function Kr(e){return e>-Mo&&e<Mo}function jA(e){return e>Mo||e<-Mo}function Mr(e,t,r,a,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*a+3*o*r)}function _2(e,t,r,a,i){var o=1-i;return 3*(((t-e)*o+2*(r-t)*i)*o+(a-r)*i*i)}function x2(e,t,r,a,i,o){var v=a+3*(t-r)-e,f=3*(r-t*2+e),n=3*(t-e),h=e-i,s=f*f-3*v*n,u=f*n-9*v*h,l=n*n-3*f*h,d=0;if(Kr(s)&&Kr(u))if(Kr(f))o[0]=0;else{var c=-n/f;c>=0&&c<=1&&(o[d++]=c)}else{var p=u*u-4*s*l;if(Kr(p)){var g=u/s,c=-f/v+g,m=-g/2;c>=0&&c<=1&&(o[d++]=c),m>=0&&m<=1&&(o[d++]=m)}else if(p>0){var y=jr(p),_=s*f+1.5*v*(-u+y),b=s*f+1.5*v*(-u-y);_<0?_=-zn(-_,Bn):_=zn(_,Bn),b<0?b=-zn(-b,Bn):b=zn(b,Bn);var c=(-f-(_+b))/(3*v);c>=0&&c<=1&&(o[d++]=c)}else{var T=(2*s*f-3*v*u)/(2*jr(s*s*s)),S=Math.acos(T)/3,x=jr(s),w=Math.cos(S),c=(-f-2*x*w)/(3*v),m=(-f+x*(w+Ng*Math.sin(S)))/(3*v),A=(-f+x*(w-Ng*Math.sin(S)))/(3*v);c>=0&&c<=1&&(o[d++]=c),m>=0&&m<=1&&(o[d++]=m),A>=0&&A<=1&&(o[d++]=A)}}return d}function S2(e,t,r,a,i){var o=6*r-12*t+6*e,v=9*t+3*a-3*e-9*r,f=3*t-3*e,n=0;if(Kr(v)){if(jA(o)){var h=-f/o;h>=0&&h<=1&&(i[n++]=h)}}else{var s=o*o-4*v*f;if(Kr(s))i[0]=-o/(2*v);else if(s>0){var u=jr(s),h=(-o+u)/(2*v),l=(-o-u)/(2*v);h>=0&&h<=1&&(i[n++]=h),l>=0&&l<=1&&(i[n++]=l)}}return n}function b2(e,t,r,a,i,o){var v=(t-e)*i+e,f=(r-t)*i+t,n=(a-r)*i+r,h=(f-v)*i+v,s=(n-f)*i+f,u=(s-h)*i+h;o[0]=e,o[1]=v,o[2]=h,o[3]=u,o[4]=u,o[5]=s,o[6]=n,o[7]=a}function w2(e,t,r,a,i,o,v,f,n,h,s){var u,l=.005,d=1/0,c,p,g,m;mr[0]=n,mr[1]=h;for(var y=0;y<1;y+=.05)Ft[0]=Mr(e,r,i,v,y),Ft[1]=Mr(t,a,o,f,y),g=Za(mr,Ft),g<d&&(u=y,d=g);d=1/0;for(var _=0;_<32&&!(l<JA);_++)c=u-l,p=u+l,Ft[0]=Mr(e,r,i,v,c),Ft[1]=Mr(t,a,o,f,c),g=Za(Ft,mr),c>=0&&g<d?(u=c,d=g):(Ya[0]=Mr(e,r,i,v,p),Ya[1]=Mr(t,a,o,f,p),m=Za(Ya,mr),p<=1&&m<d?(u=p,d=m):l*=.5);return s&&(s[0]=Mr(e,r,i,v,u),s[1]=Mr(t,a,o,f,u)),jr(d)}function Dr(e,t,r,a){var i=1-a;return i*(i*e+2*a*t)+a*a*r}function A2(e,t,r,a){return 2*((1-a)*(t-e)+a*(r-t))}function T2(e,t,r,a,i){var o=e-2*t+r,v=2*(t-e),f=e-a,n=0;if(Kr(o)){if(jA(v)){var h=-f/v;h>=0&&h<=1&&(i[n++]=h)}}else{var s=v*v-4*o*f;if(Kr(s)){var h=-v/(2*o);h>=0&&h<=1&&(i[n++]=h)}else if(s>0){var u=jr(s),h=(-v+u)/(2*o),l=(-v-u)/(2*o);h>=0&&h<=1&&(i[n++]=h),l>=0&&l<=1&&(i[n++]=l)}}return n}function C2(e,t,r){var a=e+r-2*t;return a===0?.5:(e-t)/a}function M2(e,t,r,a,i){var o=(t-e)*a+e,v=(r-t)*a+t,f=(v-o)*a+o;i[0]=e,i[1]=o,i[2]=f,i[3]=f,i[4]=v,i[5]=r}function D2(e,t,r,a,i,o,v,f,n){var h,s=.005,u=1/0;mr[0]=v,mr[1]=f;for(var l=0;l<1;l+=.05){Ft[0]=Dr(e,r,i,l),Ft[1]=Dr(t,a,o,l);var d=Za(mr,Ft);d<u&&(h=l,u=d)}u=1/0;for(var c=0;c<32&&!(s<JA);c++){var p=h-s,g=h+s;Ft[0]=Dr(e,r,i,p),Ft[1]=Dr(t,a,o,p);var d=Za(Ft,mr);if(p>=0&&d<u)h=p,u=d;else{Ya[0]=Dr(e,r,i,g),Ya[1]=Dr(t,a,o,g);var m=Za(Ya,mr);g<=1&&m<u?(h=g,u=m):s*=.5}}return n&&(n[0]=Dr(e,r,i,h),n[1]=Dr(t,a,o,h)),jr(u)}ut.cubicAt=Mr;ut.cubicDerivativeAt=_2;ut.cubicRootAt=x2;ut.cubicExtrema=S2;ut.cubicSubdivide=b2;ut.cubicProjectPoint=w2;ut.quadraticAt=Dr;ut.quadraticDerivativeAt=A2;ut.quadraticRootAt=T2;ut.quadraticExtremum=C2;ut.quadraticSubdivide=M2;ut.quadraticProjectPoint=D2;var la={},Vg;function qo(){if(Vg)return la;Vg=1;var e=Ye(),t=ut,r=Math.min,a=Math.max,i=Math.sin,o=Math.cos,v=Math.PI*2,f=e.create(),n=e.create(),h=e.create();function s(m,y,_){if(m.length!==0){var b=m[0],T=b[0],S=b[0],x=b[1],w=b[1],A;for(A=1;A<m.length;A++)b=m[A],T=r(T,b[0]),S=a(S,b[0]),x=r(x,b[1]),w=a(w,b[1]);y[0]=T,y[1]=x,_[0]=S,_[1]=w}}function u(m,y,_,b,T,S){T[0]=r(m,_),T[1]=r(y,b),S[0]=a(m,_),S[1]=a(y,b)}var l=[],d=[];function c(m,y,_,b,T,S,x,w,A,C){var M=t.cubicExtrema,D=t.cubicAt,L,P=M(m,_,T,x,l);for(A[0]=1/0,A[1]=1/0,C[0]=-1/0,C[1]=-1/0,L=0;L<P;L++){var R=D(m,_,T,x,l[L]);A[0]=r(R,A[0]),C[0]=a(R,C[0])}for(P=M(y,b,S,w,d),L=0;L<P;L++){var k=D(y,b,S,w,d[L]);A[1]=r(k,A[1]),C[1]=a(k,C[1])}A[0]=r(m,A[0]),C[0]=a(m,C[0]),A[0]=r(x,A[0]),C[0]=a(x,C[0]),A[1]=r(y,A[1]),C[1]=a(y,C[1]),A[1]=r(w,A[1]),C[1]=a(w,C[1])}function p(m,y,_,b,T,S,x,w){var A=t.quadraticExtremum,C=t.quadraticAt,M=a(r(A(m,_,T),1),0),D=a(r(A(y,b,S),1),0),L=C(m,_,T,M),P=C(y,b,S,D);x[0]=r(m,T,L),x[1]=r(y,S,P),w[0]=a(m,T,L),w[1]=a(y,S,P)}function g(m,y,_,b,T,S,x,w,A){var C=e.min,M=e.max,D=Math.abs(T-S);if(D%v<1e-4&&D>1e-4){w[0]=m-_,w[1]=y-b,A[0]=m+_,A[1]=y+b;return}if(f[0]=o(T)*_+m,f[1]=i(T)*b+y,n[0]=o(S)*_+m,n[1]=i(S)*b+y,C(w,f,n),M(A,f,n),T=T%v,T<0&&(T=T+v),S=S%v,S<0&&(S=S+v),T>S&&!x?S+=v:T<S&&x&&(T+=v),x){var L=S;S=T,T=L}for(var P=0;P<S;P+=Math.PI/2)P>T&&(h[0]=o(P)*_+m,h[1]=i(P)*b+y,C(w,h,w),M(A,h,A))}return la.fromPoints=s,la.fromLine=u,la.fromCubic=c,la.fromQuadratic=p,la.fromArc=g,la}var L2=ut,Hg=Ye(),bi=qo(),P2=Xe,I2=ai,qg=I2.devicePixelRatio,rt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ur=[],Hr=[],vr=[],hr=[],Gg=Math.min,Fg=Math.max,wi=Math.cos,Ai=Math.sin,Nn=Math.sqrt,ka=Math.abs,Os=typeof Float32Array<"u",Do=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Do.prototype={constructor:Do,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,r){r=r||0,this._ux=ka(r/qg/e)||0,this._uy=ka(r/qg/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(rt.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var r=ka(e-this._xi)>this._ux||ka(t-this._yi)>this._uy||this._len<5;return this.addData(rt.L,e,t),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),r&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,r,a,i,o){return this.addData(rt.C,e,t,r,a,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,r,a,i,o):this._ctx.bezierCurveTo(e,t,r,a,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(e,t,r,a){return this.addData(rt.Q,e,t,r,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,r,a):this._ctx.quadraticCurveTo(e,t,r,a)),this._xi=r,this._yi=a,this},arc:function(e,t,r,a,i,o){return this.addData(rt.A,e,t,r,r,a,i-a,0,o?0:1),this._ctx&&this._ctx.arc(e,t,r,a,i,o),this._xi=wi(i)*r+e,this._yi=Ai(i)*r+t,this},arcTo:function(e,t,r,a,i){return this._ctx&&this._ctx.arcTo(e,t,r,a,i),this},rect:function(e,t,r,a){return this._ctx&&this._ctx.rect(e,t,r,a),this.addData(rt.R,e,t,r,a),this},closePath:function(){this.addData(rt.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,r),e.closePath()),this._xi=t,this._yi=r,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,r=0;r<e.length;r++)t+=e[r];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length===t)&&Os&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,a=this._len,i=0;i<t;i++)r+=e[i].len();Os&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<t;i++)for(var o=e[i].data,v=0;v<o.length;v++)this.data[a++]=o[v];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var r=0;r<arguments.length;r++)t[this._len++]=arguments[r];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var r=this._dashSum,a=this._dashOffset,i=this._lineDash,o=this._ctx,v=this._xi,f=this._yi,n=e-v,h=t-f,s=Nn(n*n+h*h),u=v,l=f,d,c=i.length,p;for(n/=s,h/=s,a<0&&(a=r+a),a%=r,u-=a*n,l-=a*h;n>0&&u<=e||n<0&&u>=e||n===0&&(h>0&&l<=t||h<0&&l>=t);)p=this._dashIdx,d=i[p],u+=n*d,l+=h*d,this._dashIdx=(p+1)%c,!(n>0&&u<v||n<0&&u>v||h>0&&l<f||h<0&&l>f)&&o[p%2?"moveTo":"lineTo"](n>=0?Gg(u,e):Fg(u,e),h>=0?Gg(l,t):Fg(l,t));n=u-e,h=l-t,this._dashOffset=-Nn(n*n+h*h)},_dashedBezierTo:function(e,t,r,a,i,o){var v=this._dashSum,f=this._dashOffset,n=this._lineDash,h=this._ctx,s=this._xi,u=this._yi,l,d,c,p=L2.cubicAt,g=0,m=this._dashIdx,y=n.length,_,b,T=0;for(f<0&&(f=v+f),f%=v,l=0;l<1;l+=.1)d=p(s,e,r,i,l+.1)-p(s,e,r,i,l),c=p(u,t,a,o,l+.1)-p(u,t,a,o,l),g+=Nn(d*d+c*c);for(;m<y&&(T+=n[m],!(T>f));m++);for(l=(T-f)/g;l<=1;)_=p(s,e,r,i,l),b=p(u,t,a,o,l),m%2?h.moveTo(_,b):h.lineTo(_,b),l+=n[m]/g,m=(m+1)%y;m%2!==0&&h.lineTo(i,o),d=i-_,c=o-b,this._dashOffset=-Nn(d*d+c*c)},_dashedQuadraticTo:function(e,t,r,a){var i=r,o=a;r=(r+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,r,a,i,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Os&&(this.data=new Float32Array(e)))},getBoundingRect:function(){ur[0]=ur[1]=vr[0]=vr[1]=Number.MAX_VALUE,Hr[0]=Hr[1]=hr[0]=hr[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,r=0,a=0,i=0,o=0;o<e.length;){var v=e[o++];switch(o===1&&(t=e[o],r=e[o+1],a=t,i=r),v){case rt.M:a=e[o++],i=e[o++],t=a,r=i,vr[0]=a,vr[1]=i,hr[0]=a,hr[1]=i;break;case rt.L:bi.fromLine(t,r,e[o],e[o+1],vr,hr),t=e[o++],r=e[o++];break;case rt.C:bi.fromCubic(t,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],vr,hr),t=e[o++],r=e[o++];break;case rt.Q:bi.fromQuadratic(t,r,e[o++],e[o++],e[o],e[o+1],vr,hr),t=e[o++],r=e[o++];break;case rt.A:var f=e[o++],n=e[o++],h=e[o++],s=e[o++],u=e[o++],l=e[o++]+u;o+=1;var d=1-e[o++];o===1&&(a=wi(u)*h+f,i=Ai(u)*s+n),bi.fromArc(f,n,h,s,u,l,d,vr,hr),t=wi(l)*h+f,r=Ai(l)*s+n;break;case rt.R:a=t=e[o++],i=r=e[o++];var c=e[o++],p=e[o++];bi.fromLine(a,i,a+c,i+p,vr,hr);break;case rt.Z:t=a,r=i;break}Hg.min(ur,ur,vr),Hg.max(Hr,Hr,hr)}return o===0&&(ur[0]=ur[1]=Hr[0]=Hr[1]=0),new P2(ur[0],ur[1],Hr[0]-ur[0],Hr[1]-ur[1])},rebuildPath:function(e){for(var t=this.data,r,a,i,o,v,f,n=this._ux,h=this._uy,s=this._len,u=0;u<s;){var l=t[u++];switch(u===1&&(i=t[u],o=t[u+1],r=i,a=o),l){case rt.M:r=i=t[u++],a=o=t[u++],e.moveTo(i,o);break;case rt.L:v=t[u++],f=t[u++],(ka(v-i)>n||ka(f-o)>h||u===s-1)&&(e.lineTo(v,f),i=v,o=f);break;case rt.C:e.bezierCurveTo(t[u++],t[u++],t[u++],t[u++],t[u++],t[u++]),i=t[u-2],o=t[u-1];break;case rt.Q:e.quadraticCurveTo(t[u++],t[u++],t[u++],t[u++]),i=t[u-2],o=t[u-1];break;case rt.A:var d=t[u++],c=t[u++],p=t[u++],g=t[u++],m=t[u++],y=t[u++],_=t[u++],b=t[u++],T=p>g?p:g,S=p>g?1:p/g,x=p>g?g/p:1,w=Math.abs(p-g)>.001,A=m+y;w?(e.translate(d,c),e.rotate(_),e.scale(S,x),e.arc(0,0,T,m,A,1-b),e.scale(1/S,1/x),e.rotate(-_),e.translate(-d,-c)):e.arc(d,c,T,m,A,1-b),u===1&&(r=wi(m)*p+d,a=Ai(m)*g+c),i=wi(A)*p+d,o=Ai(A)*g+c;break;case rt.R:r=i=t[u],a=o=t[u+1],e.rect(t[u++],t[u++],t[u++],t[u++]);break;case rt.Z:e.closePath(),i=r,o=a}}}};Do.CMD=rt;var R2=Do,ui=R2,ed={},td={};function E2(e,t,r,a,i,o,v){if(i===0)return!1;var f=i,n=0,h=e;if(v>t+f&&v>a+f||v<t-f&&v<a-f||o>e+f&&o>r+f||o<e-f&&o<r-f)return!1;if(e!==r)n=(t-a)/(e-r),h=(e*a-r*t)/(e-r);else return Math.abs(o-e)<=f/2;var s=n*o-v+h,u=s*s/(n*n+1);return u<=f/2*f/2}td.containStroke=E2;var eT={},k2=ut;function O2(e,t,r,a,i,o,v,f,n,h,s){if(n===0)return!1;var u=n;if(s>t+u&&s>a+u&&s>o+u&&s>f+u||s<t-u&&s<a-u&&s<o-u&&s<f-u||h>e+u&&h>r+u&&h>i+u&&h>v+u||h<e-u&&h<r-u&&h<i-u&&h<v-u)return!1;var l=k2.cubicProjectPoint(e,t,r,a,i,o,v,f,h,s,null);return l<=u/2}eT.containStroke=O2;var rd={},z2=ut,B2=z2.quadraticProjectPoint;function N2(e,t,r,a,i,o,v,f,n){if(v===0)return!1;var h=v;if(n>t+h&&n>a+h&&n>o+h||n<t-h&&n<a-h&&n<o-h||f>e+h&&f>r+h&&f>i+h||f<e-h&&f<r-h&&f<i-h)return!1;var s=B2(e,t,r,a,i,o,f,n,null);return s<=h/2}rd.containStroke=N2;var tT={},ad={},$g=Math.PI*2;function V2(e){return e%=$g,e<0&&(e+=$g),e}ad.normalizeRadian=V2;var H2=ad,Vn=H2.normalizeRadian,Ti=Math.PI*2;function q2(e,t,r,a,i,o,v,f,n){if(v===0)return!1;var h=v;f-=e,n-=t;var s=Math.sqrt(f*f+n*n);if(s-h>r||s+h<r)return!1;if(Math.abs(a-i)%Ti<1e-4)return!0;if(o){var u=a;a=Vn(i),i=Vn(u)}else a=Vn(a),i=Vn(i);a>i&&(i+=Ti);var l=Math.atan2(n,f);return l<0&&(l+=Ti),l>=a&&l<=i||l+Ti>=a&&l+Ti<=i}tT.containStroke=q2;function G2(e,t,r,a,i,o){if(o>t&&o>a||o<t&&o<a||a===t)return 0;var v=a<t?1:-1,f=(o-t)/(a-t);(f===1||f===0)&&(v=a<t?.5:-.5);var n=f*(r-e)+e;return n===i?1/0:n>i?v:0}var rT=G2,F2=ui,Oa=td,$2=eT,U2=rd,W2=tT,Z2=ad,Hn=Z2.normalizeRadian,yr=ut,ua=rT,qr=F2.CMD,za=Math.PI*2,Y2=1e-4;function X2(e,t){return Math.abs(e-t)<Y2}var Dt=[-1,-1,-1],Gt=[-1,-1];function K2(){var e=Gt[0];Gt[0]=Gt[1],Gt[1]=e}function Q2(e,t,r,a,i,o,v,f,n,h){if(h>t&&h>a&&h>o&&h>f||h<t&&h<a&&h<o&&h<f)return 0;var s=yr.cubicRootAt(t,a,o,f,h,Dt);if(s===0)return 0;for(var u=0,l=-1,d,c,p=0;p<s;p++){var g=Dt[p],m=g===0||g===1?.5:1,y=yr.cubicAt(e,r,i,v,g);y<n||(l<0&&(l=yr.cubicExtrema(t,a,o,f,Gt),Gt[1]<Gt[0]&&l>1&&K2(),d=yr.cubicAt(t,a,o,f,Gt[0]),l>1&&(c=yr.cubicAt(t,a,o,f,Gt[1]))),l===2?g<Gt[0]?u+=d<t?m:-m:g<Gt[1]?u+=c<d?m:-m:u+=f<c?m:-m:g<Gt[0]?u+=d<t?m:-m:u+=f<d?m:-m)}return u}function J2(e,t,r,a,i,o,v,f){if(f>t&&f>a&&f>o||f<t&&f<a&&f<o)return 0;var n=yr.quadraticRootAt(t,a,o,f,Dt);if(n===0)return 0;var h=yr.quadraticExtremum(t,a,o);if(h>=0&&h<=1){for(var s=0,u=yr.quadraticAt(t,a,o,h),l=0;l<n;l++){var d=Dt[l]===0||Dt[l]===1?.5:1,c=yr.quadraticAt(e,r,i,Dt[l]);c<v||(Dt[l]<h?s+=u<t?d:-d:s+=o<u?d:-d)}return s}else{var d=Dt[0]===0||Dt[0]===1?.5:1,c=yr.quadraticAt(e,r,i,Dt[0]);return c<v?0:o<t?d:-d}}function j2(e,t,r,a,i,o,v,f){if(f-=t,f>r||f<-r)return 0;var n=Math.sqrt(r*r-f*f);Dt[0]=-n,Dt[1]=n;var h=Math.abs(a-i);if(h<1e-4)return 0;if(h%za<1e-4){a=0,i=za;var s=o?1:-1;return v>=Dt[0]+e&&v<=Dt[1]+e?s:0}if(o){var n=a;a=Hn(i),i=Hn(n)}else a=Hn(a),i=Hn(i);a>i&&(i+=za);for(var u=0,l=0;l<2;l++){var d=Dt[l];if(d+e>v){var c=Math.atan2(f,d),s=o?1:-1;c<0&&(c=za+c),(c>=a&&c<=i||c+za>=a&&c+za<=i)&&(c>Math.PI/2&&c<Math.PI*1.5&&(s=-s),u+=s)}}return u}function aT(e,t,r,a,i){for(var o=0,v=0,f=0,n=0,h=0,s=0;s<e.length;){var u=e[s++];switch(u===qr.M&&s>1&&(r||(o+=ua(v,f,n,h,a,i))),s===1&&(v=e[s],f=e[s+1],n=v,h=f),u){case qr.M:n=e[s++],h=e[s++],v=n,f=h;break;case qr.L:if(r){if(Oa.containStroke(v,f,e[s],e[s+1],t,a,i))return!0}else o+=ua(v,f,e[s],e[s+1],a,i)||0;v=e[s++],f=e[s++];break;case qr.C:if(r){if($2.containStroke(v,f,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],t,a,i))return!0}else o+=Q2(v,f,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],a,i)||0;v=e[s++],f=e[s++];break;case qr.Q:if(r){if(U2.containStroke(v,f,e[s++],e[s++],e[s],e[s+1],t,a,i))return!0}else o+=J2(v,f,e[s++],e[s++],e[s],e[s+1],a,i)||0;v=e[s++],f=e[s++];break;case qr.A:var l=e[s++],d=e[s++],c=e[s++],p=e[s++],g=e[s++],m=e[s++];s+=1;var y=1-e[s++],S=Math.cos(g)*c+l,x=Math.sin(g)*p+d;s>1?o+=ua(v,f,S,x,a,i):(n=S,h=x);var _=(a-l)*p/c+l;if(r){if(W2.containStroke(l,d,p,g,g+m,y,t,_,i))return!0}else o+=j2(l,d,p,g,g+m,y,_,i);v=Math.cos(g+m)*c+l,f=Math.sin(g+m)*p+d;break;case qr.R:n=v=e[s++],h=f=e[s++];var b=e[s++],T=e[s++],S=n+b,x=h+T;if(r){if(Oa.containStroke(n,h,S,h,t,a,i)||Oa.containStroke(S,h,S,x,t,a,i)||Oa.containStroke(S,x,n,x,t,a,i)||Oa.containStroke(n,x,n,h,t,a,i))return!0}else o+=ua(S,h,S,x,a,i),o+=ua(n,x,n,h,a,i);break;case qr.Z:if(r){if(Oa.containStroke(v,f,n,h,t,a,i))return!0}else o+=ua(v,f,n,h,a,i);v=n,f=h;break}}return!r&&!X2(f,h)&&(o+=ua(v,f,n,h,a,i)||0),o!==0}function eR(e,t,r){return aT(e,0,!1,t,r)}function tR(e,t,r,a){return aT(e,t,!0,r,a)}ed.contain=eR;ed.containStroke=tR;var id=vn,nd=Z,bf=ui,Ug=ed,rR=TA,Wg=rR.prototype.getCanvasPattern,zs=Math.abs,aR=new bf(!0);function ya(e){id.call(this,e),this.path=null}ya.prototype={constructor:ya,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var r=this.style,a=this.path||aR,i=r.hasStroke(),o=r.hasFill(),v=r.fill,f=r.stroke,n=o&&!!v.colorStops,h=i&&!!f.colorStops,s=o&&!!v.image,u=i&&!!f.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var l;n&&(l=l||this.getBoundingRect(),this._fillGradient=r.getGradient(e,v,l)),h&&(l=l||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,f,l))}n?e.fillStyle=this._fillGradient:s&&(e.fillStyle=Wg.call(v,e)),h?e.strokeStyle=this._strokeGradient:u&&(e.strokeStyle=Wg.call(f,e));var d=r.lineDash,c=r.lineDashOffset,p=!!e.setLineDash,g=this.getGlobalScale();if(a.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||d&&!p&&i?(a.beginPath(e),d&&!p&&(a.setLineDash(d),a.setLineDashOffset(c)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),o)if(r.fillOpacity!=null){var m=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,a.fill(e),e.globalAlpha=m}else a.fill(e);if(d&&p&&(e.setLineDash(d),e.lineDashOffset=c),i)if(r.strokeOpacity!=null){var m=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,a.stroke(e),e.globalAlpha=m}else a.stroke(e);d&&p&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new bf},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var a=this.path;a||(a=this.path=new bf),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){i.copy(e);var o=t.lineWidth,v=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),v>1e-10&&(i.width+=o/v,i.height+=o/v,i.x-=o/v/2,i.y-=o/v/2)}return i}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=r[0],t=r[1],a.contain(e,t)){var o=this.path.data;if(i.hasStroke()){var v=i.lineWidth,f=i.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(i.hasFill()||(v=Math.max(v,this.strokeContainThreshold)),Ug.containStroke(o,v/f,e,t)))return!0}if(i.hasFill())return Ug.contain(o,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):id.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(nd.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&zs(e[0]-1)>1e-10&&zs(e[3]-1)>1e-10?Math.sqrt(zs(e[0]*e[3]-e[2]*e[1])):1}};ya.extend=function(e){var t=function(a){ya.call(this,a),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var o=this.shape;for(var v in i)!o.hasOwnProperty(v)&&i.hasOwnProperty(v)&&(o[v]=i[v])}e.init&&e.init.call(this,a)};nd.inherits(t,ya);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};nd.inherits(ya,id);var iR=ya,at=iR,nR=ui,oR=Ye(),Bs=oR.applyTransform,Ba=nR.CMD,sR=[[],[],[]],Zg=Math.sqrt,lR=Math.atan2;function uR(e,t){var r=e.data,a,i,o,v,f,n,h=Ba.M,s=Ba.C,u=Ba.L,l=Ba.R,d=Ba.A,c=Ba.Q;for(o=0,v=0;o<r.length;){switch(a=r[o++],v=o,i=0,a){case h:i=1;break;case u:i=1;break;case s:i=3;break;case c:i=2;break;case d:var p=t[4],g=t[5],m=Zg(t[0]*t[0]+t[1]*t[1]),y=Zg(t[2]*t[2]+t[3]*t[3]),_=lR(-t[1]/y,t[0]/m);r[o]*=m,r[o++]+=p,r[o]*=y,r[o++]+=g,r[o++]*=m,r[o++]*=y,r[o++]+=_,r[o++]+=_,o+=2,v=o;break;case l:n[0]=r[o++],n[1]=r[o++],Bs(n,n,t),r[v++]=n[0],r[v++]=n[1],n[0]+=r[o++],n[1]+=r[o++],Bs(n,n,t),r[v++]=n[0],r[v++]=n[1]}for(f=0;f<i;f++){var n=sR[f];n[0]=r[o++],n[1]=r[o++],Bs(n,n,t),r[v++]=n[0],r[v++]=n[1]}}}var vR=uR,od=at,Ns=ui,hR=vR,Vs=Math.sqrt,qn=Math.sin,Gn=Math.cos,Fn=Math.PI,Yg=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},wf=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(Yg(e)*Yg(t))},Xg=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(wf(e,t))};function Kg(e,t,r,a,i,o,v,f,n,h,s){var u=n*(Fn/180),l=Gn(u)*(e-r)/2+qn(u)*(t-a)/2,d=-1*qn(u)*(e-r)/2+Gn(u)*(t-a)/2,c=l*l/(v*v)+d*d/(f*f);c>1&&(v*=Vs(c),f*=Vs(c));var p=(i===o?-1:1)*Vs((v*v*(f*f)-v*v*(d*d)-f*f*(l*l))/(v*v*(d*d)+f*f*(l*l)))||0,g=p*v*d/f,m=p*-f*l/v,y=(e+r)/2+Gn(u)*g-qn(u)*m,_=(t+a)/2+qn(u)*g+Gn(u)*m,b=Xg([1,0],[(l-g)/v,(d-m)/f]),T=[(l-g)/v,(d-m)/f],S=[(-1*l-g)/v,(-1*d-m)/f],x=Xg(T,S);wf(T,S)<=-1&&(x=Fn),wf(T,S)>=1&&(x=0),o===0&&x>0&&(x=x-2*Fn),o===1&&x<0&&(x=x+2*Fn),s.addData(h,y,_,v,f,b,x,u,o)}var cR=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,fR=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function dR(e){if(!e)return new Ns;for(var t=0,r=0,a=t,i=r,o,v=new Ns,f=Ns.CMD,n=e.match(cR),h=0;h<n.length;h++){for(var s=n[h],u=s.charAt(0),l,d=s.match(fR)||[],c=d.length,p=0;p<c;p++)d[p]=parseFloat(d[p]);for(var g=0;g<c;){var m,y,_,b,T,S,x,w=t,A=r;switch(u){case"l":t+=d[g++],r+=d[g++],l=f.L,v.addData(l,t,r);break;case"L":t=d[g++],r=d[g++],l=f.L,v.addData(l,t,r);break;case"m":t+=d[g++],r+=d[g++],l=f.M,v.addData(l,t,r),a=t,i=r,u="l";break;case"M":t=d[g++],r=d[g++],l=f.M,v.addData(l,t,r),a=t,i=r,u="L";break;case"h":t+=d[g++],l=f.L,v.addData(l,t,r);break;case"H":t=d[g++],l=f.L,v.addData(l,t,r);break;case"v":r+=d[g++],l=f.L,v.addData(l,t,r);break;case"V":r=d[g++],l=f.L,v.addData(l,t,r);break;case"C":l=f.C,v.addData(l,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),t=d[g-2],r=d[g-1];break;case"c":l=f.C,v.addData(l,d[g++]+t,d[g++]+r,d[g++]+t,d[g++]+r,d[g++]+t,d[g++]+r),t+=d[g-2],r+=d[g-1];break;case"S":m=t,y=r;var C=v.len(),M=v.data;o===f.C&&(m+=t-M[C-4],y+=r-M[C-3]),l=f.C,w=d[g++],A=d[g++],t=d[g++],r=d[g++],v.addData(l,m,y,w,A,t,r);break;case"s":m=t,y=r;var C=v.len(),M=v.data;o===f.C&&(m+=t-M[C-4],y+=r-M[C-3]),l=f.C,w=t+d[g++],A=r+d[g++],t+=d[g++],r+=d[g++],v.addData(l,m,y,w,A,t,r);break;case"Q":w=d[g++],A=d[g++],t=d[g++],r=d[g++],l=f.Q,v.addData(l,w,A,t,r);break;case"q":w=d[g++]+t,A=d[g++]+r,t+=d[g++],r+=d[g++],l=f.Q,v.addData(l,w,A,t,r);break;case"T":m=t,y=r;var C=v.len(),M=v.data;o===f.Q&&(m+=t-M[C-4],y+=r-M[C-3]),t=d[g++],r=d[g++],l=f.Q,v.addData(l,m,y,t,r);break;case"t":m=t,y=r;var C=v.len(),M=v.data;o===f.Q&&(m+=t-M[C-4],y+=r-M[C-3]),t+=d[g++],r+=d[g++],l=f.Q,v.addData(l,m,y,t,r);break;case"A":_=d[g++],b=d[g++],T=d[g++],S=d[g++],x=d[g++],w=t,A=r,t=d[g++],r=d[g++],l=f.A,Kg(w,A,t,r,S,x,_,b,T,l,v);break;case"a":_=d[g++],b=d[g++],T=d[g++],S=d[g++],x=d[g++],w=t,A=r,t+=d[g++],r+=d[g++],l=f.A,Kg(w,A,t,r,S,x,_,b,T,l,v);break}}(u==="z"||u==="Z")&&(l=f.Z,v.addData(l),t=a,r=i),o=l}return v.toStatic(),v}function iT(e,t){var r=dR(e);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i)}else{var i=a;r.rebuildPath(i)}},t.applyTransform=function(a){hR(r,a),this.dirty(!0)},t}function gR(e,t){return new od(iT(e,t))}function pR(e,t){return od.extend(iT(e,t))}function mR(e,t){for(var r=[],a=e.length,i=0;i<a;i++){var o=e[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),r.push(o.path)}var v=new od(t);return v.createPathProxy(),v.buildPath=function(f){f.appendPath(r);var n=f.getContext();n&&f.rebuildPath(n)},v}hn.createFromString=gR;hn.extendFromString=pR;hn.mergePath=mR;var nT=vn,yR=Z,_R=$t(),Ci=ar,xR=ii,SR=xR.ContextCachedBy,Lo=function(e){nT.call(this,e)};Lo.prototype={constructor:Lo,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&Ci.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var a=r.text;if(a!=null&&(a+=""),!Ci.needDrawText(a,r)){e.__attrCachedBy=SR.NONE;return}this.setTransform(e),Ci.renderText(this,e,a,r,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Ci.normalizeTextStyle(e,!0),!this._rect){e.text;var t=_R.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Ci.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};yR.inherits(Lo,nT);var bR=Lo,ba=bR,wR=at,AR=wR.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),oT=AR,Qg=nt,Gr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function TR(e){return Qg.browser.ie&&Qg.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,a;if(t)for(var i=0;i<t.length;i++){var o=t[i],v=o&&o.shape,f=o&&o.type;if(v&&(f==="sector"&&v.startAngle===v.endAngle||f==="rect"&&(!v.width||!v.height))){for(var n=0;n<Gr.length;n++)Gr[n][2]=r[Gr[n][0]],r[Gr[n][0]]=Gr[n][1];a=!0;break}}if(e.apply(this,arguments),a)for(var n=0;n<Gr.length;n++)r[Gr[n][0]]=Gr[n][2]}:e}var sT=TR,Jg=at,CR=sT,MR=Jg.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:CR(Jg.prototype.brush),buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),v=t.startAngle,f=t.endAngle,n=t.clockwise,h=Math.cos(v),s=Math.sin(v);e.moveTo(h*i+r,s*i+a),e.lineTo(h*o+r,s*o+a),e.arc(r,a,o,v,f,!n),e.lineTo(Math.cos(f)*i+r,Math.sin(f)*i+a),i!==0&&e.arc(r,a,i,f,v,n),e.closePath()}}),DR=MR,LR=at,PR=LR.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.PI*2;e.moveTo(r+t.r,a),e.arc(r,a,t.r,0,i,!1),e.moveTo(r+t.r0,a),e.arc(r,a,t.r0,0,i,!0)}}),IR=PR,sd={},RR=Ye(),ER=RR.distance;function jg(e,t,r,a,i,o,v){var f=(r-e)*.5,n=(a-t)*.5;return(2*(t-r)+f+n)*v+(-3*(t-r)-2*f-n)*o+f*i+t}function kR(e,t){for(var r=e.length,a=[],i=0,o=1;o<r;o++)i+=ER(e[o-1],e[o]);var v=i/2;v=v<r?r:v;for(var o=0;o<v;o++){var f=o/(v-1)*(t?r:r-1),n=Math.floor(f),h=f-n,s,u=e[n%r],l,d;t?(s=e[(n-1+r)%r],l=e[(n+1)%r],d=e[(n+2)%r]):(s=e[n===0?n:n-1],l=e[n>r-2?r-1:n+1],d=e[n>r-3?r-1:n+2]);var c=h*h,p=h*c;a.push([jg(s[0],u[0],l[0],d[0],h,c,p),jg(s[1],u[1],l[1],d[1],h,c,p)])}return a}var OR=kR,wa=Ye(),$n=wa.min,Un=wa.max,Hs=wa.scale,ep=wa.distance,tp=wa.add,zR=wa.clone,BR=wa.sub;function NR(e,t,r,a){var i=[],o=[],v=[],f=[],n,h,s,u;if(a){s=[1/0,1/0],u=[-1/0,-1/0];for(var l=0,d=e.length;l<d;l++)$n(s,s,e[l]),Un(u,u,e[l]);$n(s,s,a[0]),Un(u,u,a[1])}for(var l=0,d=e.length;l<d;l++){var c=e[l];if(r)n=e[l?l-1:d-1],h=e[(l+1)%d];else if(l===0||l===d-1){i.push(zR(e[l]));continue}else n=e[l-1],h=e[l+1];BR(o,h,n),Hs(o,o,t);var p=ep(c,n),g=ep(c,h),m=p+g;m!==0&&(p/=m,g/=m),Hs(v,o,-p),Hs(f,o,g);var y=tp([],c,v),_=tp([],c,f);a&&(Un(y,y,s),$n(y,y,u),Un(_,_,s),$n(_,_,u)),i.push(y),i.push(_)}return r&&i.push(i.shift()),i}var VR=NR,HR=OR,qR=VR;function GR(e,t,r){var a=t.points,i=t.smooth;if(a&&a.length>=2){if(i&&i!=="spline"){var o=qR(a,i,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var v=a.length,f=0;f<(r?v:v-1);f++){var n=o[f*2],h=o[f*2+1],s=a[(f+1)%v];e.bezierCurveTo(n[0],n[1],h[0],h[1],s[0],s[1])}}else{i==="spline"&&(a=HR(a,r)),e.moveTo(a[0][0],a[0][1]);for(var f=1,u=a.length;f<u;f++)e.lineTo(a[f][0],a[f][1])}r&&e.closePath()}}sd.buildPath=GR;var FR=at,$R=sd,UR=FR.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){$R.buildPath(e,t,!0)}}),lT=UR,WR=at,ZR=sd,YR=WR.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){ZR.buildPath(e,t,!1)}}),uT=YR,vi={},Fa=Math.round;function XR(e,t,r){if(t){var a=t.x1,i=t.x2,o=t.y1,v=t.y2;e.x1=a,e.x2=i,e.y1=o,e.y2=v;var f=r&&r.lineWidth;f&&(Fa(a*2)===Fa(i*2)&&(e.x1=e.x2=ma(a,f,!0)),Fa(o*2)===Fa(v*2)&&(e.y1=e.y2=ma(o,f,!0)))}}function KR(e,t,r){if(t){var a=t.x,i=t.y,o=t.width,v=t.height;e.x=a,e.y=i,e.width=o,e.height=v;var f=r&&r.lineWidth;f&&(e.x=ma(a,f,!0),e.y=ma(i,f,!0),e.width=Math.max(ma(a+o,f,!1)-e.x,o===0?0:1),e.height=Math.max(ma(i+v,f,!1)-e.y,v===0?0:1))}}function ma(e,t,r){if(!t)return e;var a=Fa(e*2);return(a+Fa(t))%2===0?a/2:(a+(r?1:-1))/2}vi.subPixelOptimizeLine=XR;vi.subPixelOptimizeRect=KR;vi.subPixelOptimize=ma;var QR=at,JR=$f,jR=vi,eE=jR.subPixelOptimizeRect,va={},tE=QR.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r,a,i,o;this.subPixelOptimize?(eE(va,t,this.style),r=va.x,a=va.y,i=va.width,o=va.height,va.r=t.r,t=va):(r=t.x,a=t.y,i=t.width,o=t.height),t.r?JR.buildPath(e,t):e.rect(r,a,i,o),e.closePath()}}),ld=tE,rE=at,aE=vi,iE=aE.subPixelOptimizeLine,Mi={},nE=rE.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r,a,i,o;this.subPixelOptimize?(iE(Mi,t,this.style),r=Mi.x1,a=Mi.y1,i=Mi.x2,o=Mi.y2):(r=t.x1,a=t.y1,i=t.x2,o=t.y2);var v=t.percent;v!==0&&(e.moveTo(r,a),v<1&&(i=r*(1-v)+i*v,o=a*(1-v)+o*v),e.lineTo(i,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),vT=nE,oE=at,sE=Ye(),hi=ut,rp=hi.quadraticSubdivide,ap=hi.cubicSubdivide,ip=hi.quadraticAt,np=hi.cubicAt,op=hi.quadraticDerivativeAt,sp=hi.cubicDerivativeAt,It=[];function lp(e,t,r){var a=e.cpx2,i=e.cpy2;return a===null||i===null?[(r?sp:np)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?sp:np)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?op:ip)(e.x1,e.cpx1,e.x2,t),(r?op:ip)(e.y1,e.cpy1,e.y2,t)]}var lE=oE.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,o=t.y2,v=t.cpx1,f=t.cpy1,n=t.cpx2,h=t.cpy2,s=t.percent;s!==0&&(e.moveTo(r,a),n==null||h==null?(s<1&&(rp(r,v,i,s,It),v=It[1],i=It[2],rp(a,f,o,s,It),f=It[1],o=It[2]),e.quadraticCurveTo(v,f,i,o)):(s<1&&(ap(r,v,n,i,s,It),v=It[1],n=It[2],i=It[3],ap(a,f,h,o,s,It),f=It[1],h=It[2],o=It[3]),e.bezierCurveTo(v,f,n,h,i,o)))},pointAt:function(e){return lp(this.shape,e,!1)},tangentAt:function(e){var t=lp(this.shape,e,!0);return sE.normalize(t,t)}}),uE=lE,vE=at,hE=vE.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r,0),o=t.startAngle,v=t.endAngle,f=t.clockwise,n=Math.cos(o),h=Math.sin(o);e.moveTo(n*i+r,h*i+a),e.arc(r,a,i,o,v,!f)}}),cE=hE,up=at,fE=up.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1],e[r].segmentIgnoreThreshold)},buildPath:function(e,t){for(var r=t.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),up.prototype.getBoundingRect.call(this)}}),dE=fE,Af=function(e){this.colorStops=e||[]};Af.prototype={constructor:Af,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var gE=Af,Go=gE,pE=Z,hT=Go,Po=function(e,t,r,a,i,o){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=a??0,this.type="linear",this.global=o||!1,hT.call(this,i)};Po.prototype={constructor:Po};pE.inherits(Po,hT);var mE=Po,ud=mE,yE=Z,cT=Go,Io=function(e,t,r,a,i){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=i||!1,cT.call(this,a)};Io.prototype={constructor:Io};yE.inherits(Io,cT);var _E=Io,xE=_E,SE=Z,bE=SE.inherits,fT=vn,wE=Xe;function ir(e){fT.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}ir.prototype.incremental=!0;ir.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};ir.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};ir.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};ir.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};ir.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};ir.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var a=this._displayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===this._cursor?null:this._displayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var a=this._temporaryDisplayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===0?null:this._temporaryDisplayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var AE=[];ir.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new wE(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(AE)),e.union(a)}this._rect=e}return this._rect};ir.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++){var o=this._displayables[i];if(o.contain(e,t))return!0}return!1};bE(ir,fT);var TE=ir,vd=TE,Nt=Z,hd=hn,CE=lt,Tf=Pt(),dT=Ye(),ME=at,DE=Hf,cd=si;ye.Image=cd;var LE=Sa;ye.Group=LE;var PE=ba;ye.Text=PE;var gT=oT;ye.Circle=gT;var pT=DR;ye.Sector=pT;var mT=IR;ye.Ring=mT;var yT=lT;ye.Polygon=yT;var _T=uT;ye.Polyline=_T;var xT=ld;ye.Rect=xT;var ST=vT;ye.Line=ST;var bT=uE;ye.BezierCurve=bT;var wT=cE;ye.Arc=wT;var IE=dE;ye.CompoundPath=IE;var RE=ud;ye.LinearGradient=RE;var EE=xE;ye.RadialGradient=EE;var kE=Xe;ye.BoundingRect=kE;var OE=vd;ye.IncrementalDisplayable=OE;var fd=vi,Ro=Math.max,Eo=Math.min,Fo={},dd=1,zE={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},vp="emphasis",hp="normal",cp=1,fp={},Cf={};function BE(e){return ME.extend(e)}function NE(e,t){return hd.extendFromString(e,t)}function Sr(e,t){Cf[e]=t}function VE(e){if(Cf.hasOwnProperty(e))return Cf[e]}function AT(e,t,r,a){var i=hd.createFromString(e,t);return r&&(a==="center"&&(r=TT(r,i.getBoundingRect())),CT(i,r)),i}function HE(e,t,r){var a=new cd({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var o={width:i.width,height:i.height};a.setStyle(TT(t,o))}}});return a}function TT(e,t){var r=t.width/t.height,a=e.height*r,i;a<=e.width?i=e.height:(a=e.width,i=a/r);var o=e.x+e.width/2,v=e.y+e.height/2;return{x:o-a/2,y:v-i/2,width:a,height:i}}var qE=hd.mergePath;function CT(e,t){if(e.applyTransform){var r=e.getBoundingRect(),a=r.calculateTransform(t);e.applyTransform(a)}}function GE(e){return fd.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function FE(e){return fd.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var $E=fd.subPixelOptimize;function dp(e){return e!=null&&e!=="none"}var gp=Nt.createHashMap(),pp=0;function UE(e){if(typeof e!="string")return e;var t=gp.get(e);return t||(t=CE.lift(e,-.1),pp<1e4&&(gp.set(e,t),pp++)),t}function WE(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var r=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var i in t)t[i]!=null&&(r[i]=a[i]);r.fill=a.fill,r.stroke=a.stroke}}function gd(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var r=e.__zr,a=e.useHoverLayer&&r&&r.painter.type==="canvas";if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!r&&e.useHoverLayer)){var i=e,o=e.style;a&&(i=r.addHover(e),o=i.style),ko(o),a||WE(i),o.extendFrom(t),mp(o,t,"fill"),mp(o,t,"stroke"),Qi(o),a||(e.dirty(!1),e.z2+=dd)}}}function mp(e,t,r){!dp(t[r])&&dp(e[r])&&(e[r]=UE(e[r]))}function pd(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var r=e.style,a=e.__cachedNormalStl;a&&(ko(r),e.setStyle(a),Qi(r));var i=e.__cachedNormalZ2;i!=null&&e.z2-i===dd&&(e.z2=i)}}function cn(e,t,r){var a=hp,i=hp,o;e.__highlighted&&(a=vp,o=!0),t(e,r),e.__highlighted&&(i=vp,o=!0),e.isGroup&&e.traverse(function(v){!v.isGroup&&t(v,r)}),o&&e.__highDownOnUpdate&&e.__highDownOnUpdate(a,i)}function MT(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,pd(e),gd(e))}function ZE(e){!DT(this,e)&&!this.__highByOuter&&cn(this,gd)}function YE(e){!DT(this,e)&&!this.__highByOuter&&cn(this,pd)}function XE(e){this.__highByOuter|=1<<(e||0),cn(this,gd)}function KE(e){!(this.__highByOuter&=~(1<<(e||0)))&&cn(this,pd)}function DT(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function QE(e,t){LT(e,!0),cn(e,MT,t)}function LT(e,t){var r=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!r||e.__highDownDispatcher){var a=r?"off":"on";e[a]("mouseover",ZE)[a]("mouseout",YE),e[a]("emphasis",XE)[a]("normal",KE),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!r}}function JE(e){return!!(e&&e.__highDownDispatcher)}function jE(e){var t=fp[e];return t==null&&cp<=32&&(t=fp[e]=cp++),t}function ek(e,t,r,a,i,o,v){i=i||Fo;var f=i.labelFetcher,n=i.labelDataIndex,h=i.labelDimIndex,s=r.getShallow("show"),u=a.getShallow("show"),l;(s||u)&&(f&&(l=f.getFormattedLabel(n,"normal",null,h)),l==null&&(l=Nt.isFunction(i.defaultText)?i.defaultText(n,i):i.defaultText));var d=s?l:null,c=u?Nt.retrieve2(f?f.getFormattedLabel(n,"emphasis",null,h):null,l):null;(d!=null||c!=null)&&(Mf(e,r,o,i),Mf(t,a,v,i,!0)),e.text=d,t.text=c}function tk(e,t,r){var a=e.style;t&&(ko(a),e.setStyle(t),Qi(a)),a=e.__hoverStl,r&&a&&(ko(a),Nt.extend(a,r),Qi(a))}function Mf(e,t,r,a,i){return PT(e,t,a,i),r&&Nt.extend(e,r),e}function rk(e,t,r){var a={isRectText:!0},i;r===!1?i=!0:a.autoColor=r,PT(e,t,a,i)}function PT(e,t,r,a){if(r=r||Fo,r.isRectText){var i;r.getTextPosition?i=r.getTextPosition(t,a):(i=t.getShallow("position")||(a?null:"inside"),i==="outside"&&(i="top")),e.textPosition=i,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");o!=null&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=Nt.retrieve2(t.getShallow("distance"),a?null:5)}var v=t.ecModel,f=v&&v.option.textStyle,n=ak(t),h;if(n){h={};for(var s in n)if(n.hasOwnProperty(s)){var u=t.getModel(["rich",s]);yp(h[s]={},u,f,r,a)}}return e.rich=h,yp(e,t,f,r,a,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function ak(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Fo).rich;if(r){t=t||{};for(var a in r)r.hasOwnProperty(a)&&(t[a]=1)}e=e.parentModel}return t}function yp(e,t,r,a,i,o){r=!i&&r||Fo,e.textFill=Wn(t.getShallow("color"),a)||r.color,e.textStroke=Wn(t.getShallow("textBorderColor"),a)||r.textBorderColor,e.textStrokeWidth=Nt.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),i||(o&&(e.insideRollbackOpt=a,Qi(e)),e.textFill==null&&(e.textFill=a.autoColor)),e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!o||!a.disableBox)&&(e.textBackgroundColor=Wn(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=Wn(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function Wn(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function Qi(e){var t=e.textPosition,r=e.insideRollbackOpt,a;if(r&&e.textFill==null){var i=r.autoColor,o=r.isRectText,v=r.useInsideStyle,f=v!==!1&&(v===!0||o&&t&&typeof t=="string"&&t.indexOf("inside")>=0),n=!f&&i!=null;(f||n)&&(a={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),f&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=i,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),n&&(e.textFill=i)}e.insideRollback=a}function ko(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function ik(e,t){var r=t&&t.getModel("textStyle");return Nt.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function IT(e,t,r,a,i,o){typeof i=="function"&&(o=i,i=null);var v=a&&a.isAnimationEnabled();if(v){var f=e?"Update":"",n=a.getShallow("animationDuration"+f),h=a.getShallow("animationEasing"+f),s=a.getShallow("animationDelay"+f);typeof s=="function"&&(s=s(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),typeof n=="function"&&(n=n(i)),n>0?t.animateTo(r,n,s||0,h,o,!!o):(t.stopAnimation(),t.attr(r),o&&o())}else t.stopAnimation(),t.attr(r),o&&o()}function RT(e,t,r,a,i){IT(!0,e,t,r,a,i)}function nk(e,t,r,a,i){IT(!1,e,t,r,a,i)}function ok(e,t){for(var r=Tf.identity([]);e&&e!==t;)Tf.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function ET(e,t,r){return t&&!Nt.isArrayLike(t)&&(t=DE.getLocalTransform(t)),r&&(t=Tf.invert([],t)),dT.applyTransform([],e,t)}function sk(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];return o=ET(o,t,r),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function lk(e,t,r,a){if(!e||!t)return;function i(f){var n={};return f.traverse(function(h){!h.isGroup&&h.anid&&(n[h.anid]=h)}),n}function o(f){var n={position:dT.clone(f.position),rotation:f.rotation};return f.shape&&(n.shape=Nt.extend({},f.shape)),n}var v=i(e);t.traverse(function(f){if(!f.isGroup&&f.anid){var n=v[f.anid];if(n){var h=o(f);f.attr(o(n)),RT(f,h,r,f.dataIndex)}}})}function uk(e,t){return Nt.map(e,function(r){var a=r[0];a=Ro(a,t.x),a=Eo(a,t.x+t.width);var i=r[1];return i=Ro(i,t.y),i=Eo(i,t.y+t.height),[a,i]})}function vk(e,t){var r=Ro(e.x,t.x),a=Eo(e.x+e.width,t.x+t.width),i=Ro(e.y,t.y),o=Eo(e.y+e.height,t.y+t.height);if(a>=r&&o>=i)return{x:r,y:i,width:a-r,height:o-i}}function hk(e,t,r){t=Nt.extend({rectHover:!0},t);var a=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Nt.defaults(a,r),new cd(t)):AT(e.replace("path://",""),t,r,"center")}function ck(e,t,r,a,i){for(var o=0,v=i[i.length-1];o<i.length;o++){var f=i[o];if(kT(e,t,r,a,f[0],f[1],v[0],v[1]))return!0;v=f}}function kT(e,t,r,a,i,o,v,f){var n=r-e,h=a-t,s=v-i,u=f-o,l=qs(s,u,n,h);if(fk(l))return!1;var d=e-i,c=t-o,p=qs(d,c,n,h)/l;if(p<0||p>1)return!1;var g=qs(d,c,s,u)/l;return!(g<0||g>1)}function qs(e,t,r,a){return e*a-r*t}function fk(e){return e<=1e-6&&e>=-1e-6}Sr("circle",gT);Sr("sector",pT);Sr("ring",mT);Sr("polygon",yT);Sr("polyline",_T);Sr("rect",xT);Sr("line",ST);Sr("bezierCurve",bT);Sr("arc",wT);ye.Z2_EMPHASIS_LIFT=dd;ye.CACHED_LABEL_STYLE_PROPERTIES=zE;ye.extendShape=BE;ye.extendPath=NE;ye.registerShape=Sr;ye.getShapeClass=VE;ye.makePath=AT;ye.makeImage=HE;ye.mergePath=qE;ye.resizePath=CT;ye.subPixelOptimizeLine=GE;ye.subPixelOptimizeRect=FE;ye.subPixelOptimize=$E;ye.setElementHoverStyle=MT;ye.setHoverStyle=QE;ye.setAsHighDownDispatcher=LT;ye.isHighDownDispatcher=JE;ye.getHighlightDigit=jE;ye.setLabelStyle=ek;ye.modifyLabelStyle=tk;ye.setTextStyle=Mf;ye.setText=rk;ye.getFont=ik;ye.updateProps=RT;ye.initProps=nk;ye.getTransform=ok;ye.applyTransform=ET;ye.transformDirection=sk;ye.groupTransition=lk;ye.clipPointsByRect=uk;ye.clipRectByRect=vk;ye.createIcon=hk;ye.linePolygonIntersect=ck;ye.lineLineIntersect=kT;var dk=$t(),gk=ye,pk=["textStyle","color"],mk={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(pk):null)},getFont:function(){return gk.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return dk.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},yk=mk,_k=li,xk=_k([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Sk={getItemStyle:function(e,t){var r=xk(this,e,t),a=this.getBorderLineDash();return a&&(r.lineDash=a),r},getBorderLineDash:function(){var e=this.get("borderType");return e==="solid"||e==null?null:e==="dashed"?[5,5]:[1,1]}},bk=Sk,Df=Z,wk=nt,Ak=Re,Tk=Ak.makeInner,OT=Ot,Ck=OT.enableClassExtend,Mk=OT.enableClassCheck,Dk=d2,Lk=y2,Pk=yk,Ik=bk,$o=Df.mixin,zT=Tk();function xr(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}xr.prototype={constructor:xr,init:null,mergeOption:function(e){Df.merge(this.option,e,!0)},get:function(e,t){return e==null?this.option:_p(this.option,this.parsePath(e),!t&&Gs(this,e))},getShallow:function(e,t){var r=this.option,a=r==null?r:r[e],i=!t&&Gs(this,e);return a==null&&i&&(a=i.getShallow(e)),a},getModel:function(e,t){var r=e==null?this.option:_p(this.option,e=this.parsePath(e)),a;return t=t||(a=Gs(this,e))&&a.getModel(e),new xr(r,t,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(Df.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return typeof e=="string"&&(e=e.split(".")),e},customizeGetParent:function(e){zT(this).getParent=e},isAnimationEnabled:function(){if(!wk.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function _p(e,t,r){for(var a=0;a<t.length&&!(t[a]&&(e=e&&typeof e=="object"?e[t[a]]:null,e==null));a++);return e==null&&r&&(e=r.get(t)),e}function Gs(e,t){var r=zT(e).getParent;return r?r.call(e,t):e.parentModel}Ck(xr);Mk(xr);$o(xr,Dk);$o(xr,Lk);$o(xr,Pk);$o(xr,Ik);var Rk=xr,vt=Rk,ea={},Tr=Z,Ek=Ot,xp=Ek.parseClassType,kk=0;function Ok(e){return[e||"",kk++,Math.random().toFixed(5)].join("_")}function zk(e){var t={};return e.registerSubTypeDefaulter=function(r,a){r=xp(r),t[r.main]=a},e.determineSubType=function(r,a){var i=a.type;if(!i){var o=xp(r).main;e.hasSubTypes(r)&&t[o]&&(i=t[o](a))}return i},e}function Bk(e,t){e.topologicalTravel=function(o,v,f,n){if(!o.length)return;var h=r(v),s=h.graph,u=h.noEntryList,l={};for(Tr.each(o,function(y){l[y]=!0});u.length;){var d=u.pop(),c=s[d],p=!!l[d];p&&(f.call(n,d,c.originalDeps.slice()),delete l[d]),Tr.each(c.successor,p?m:g)}Tr.each(l,function(){throw new Error("Circle dependency may exists")});function g(y){s[y].entryCount--,s[y].entryCount===0&&u.push(y)}function m(y){l[y]=!0,g(y)}};function r(o){var v={},f=[];return Tr.each(o,function(n){var h=a(v,n),s=h.originalDeps=t(n),u=i(s,o);h.entryCount=u.length,h.entryCount===0&&f.push(n),Tr.each(u,function(l){Tr.indexOf(h.predecessor,l)<0&&h.predecessor.push(l);var d=a(v,l);Tr.indexOf(d.successor,l)<0&&d.successor.push(n)})}),{graph:v,noEntryList:f}}function a(o,v){return o[v]||(o[v]={predecessor:[],successor:[]}),o[v]}function i(o,v){var f=[];return Tr.each(o,function(n){Tr.indexOf(v,n)>=0&&f.push(n)}),f}}ea.getUID=Ok;ea.enableSubTypeDefaulter=zk;ea.enableTopologicalTravel=Bk;var Ne={},st={},Sp;function Oe(){if(Sp)return st;Sp=1;var e=Z,t=1e-4;function r(S){return S.replace(/^\s+|\s+$/g,"")}function a(S,x,w,A){var C=x[1]-x[0],M=w[1]-w[0];if(C===0)return M===0?w[0]:(w[0]+w[1])/2;if(A)if(C>0){if(S<=x[0])return w[0];if(S>=x[1])return w[1]}else{if(S>=x[0])return w[0];if(S<=x[1])return w[1]}else{if(S===x[0])return w[0];if(S===x[1])return w[1]}return(S-x[0])/C*M+w[0]}function i(S,x){switch(S){case"center":case"middle":S="50%";break;case"left":case"top":S="0%";break;case"right":case"bottom":S="100%";break}return typeof S=="string"?r(S).match(/%$/)?parseFloat(S)/100*x:parseFloat(S):S==null?NaN:+S}function o(S,x,w){return x==null&&(x=10),x=Math.min(Math.max(0,x),20),S=(+S).toFixed(x),w?S:+S}function v(S){return S.sort(function(x,w){return x-w}),S}function f(S){if(S=+S,isNaN(S))return 0;for(var x=1,w=0;Math.round(S*x)/x!==S;)x*=10,w++;return w}function n(S){var x=S.toString(),w=x.indexOf("e");if(w>0){var A=+x.slice(w+1);return A<0?-A:0}else{var C=x.indexOf(".");return C<0?0:x.length-1-C}}function h(S,x){var w=Math.log,A=Math.LN10,C=Math.floor(w(S[1]-S[0])/A),M=Math.round(w(Math.abs(x[1]-x[0]))/A),D=Math.min(Math.max(-C+M,0),20);return isFinite(D)?D:20}function s(S,x,w){if(!S[x])return 0;var A=e.reduce(S,function(V,I){return V+(isNaN(I)?0:I)},0);if(A===0)return 0;for(var C=Math.pow(10,w),M=e.map(S,function(V){return(isNaN(V)?0:V)/A*C*100}),D=C*100,L=e.map(M,function(V){return Math.floor(V)}),P=e.reduce(L,function(V,I){return V+I},0),R=e.map(M,function(V,I){return V-L[I]});P<D;){for(var k=Number.NEGATIVE_INFINITY,z=null,B=0,G=R.length;B<G;++B)R[B]>k&&(k=R[B],z=B);++L[z],R[z]=0,++P}return L[x]/C}var u=9007199254740991;function l(S){var x=Math.PI*2;return(S%x+x)%x}function d(S){return S>-t&&S<t}var c=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function p(S){if(S instanceof Date)return S;if(typeof S=="string"){var x=c.exec(S);if(!x)return new Date(NaN);if(x[8]){var w=+x[4]||0;return x[8].toUpperCase()!=="Z"&&(w-=x[8].slice(0,3)),new Date(Date.UTC(+x[1],+(x[2]||1)-1,+x[3]||1,w,+(x[5]||0),+x[6]||0,+x[7]||0))}else return new Date(+x[1],+(x[2]||1)-1,+x[3]||1,+x[4]||0,+(x[5]||0),+x[6]||0,+x[7]||0)}else if(S==null)return new Date(NaN);return new Date(Math.round(S))}function g(S){return Math.pow(10,m(S))}function m(S){if(S===0)return 0;var x=Math.floor(Math.log(S)/Math.LN10);return S/Math.pow(10,x)>=10&&x++,x}function y(S,x){var w=m(S),A=Math.pow(10,w),C=S/A,M;return x?C<1.5?M=1:C<2.5?M=2:C<4?M=3:C<7?M=5:M=10:C<1?M=1:C<2?M=2:C<3?M=3:C<5?M=5:M=10,S=M*A,w>=-20?+S.toFixed(w<0?-w:0):S}function _(S,x){var w=(S.length-1)*x+1,A=Math.floor(w),C=+S[A-1],M=w-A;return M?C+M*(S[A]-C):C}function b(S){S.sort(function(P,R){return L(P,R,0)?-1:1});for(var x=-1/0,w=1,A=0;A<S.length;){for(var C=S[A].interval,M=S[A].close,D=0;D<2;D++)C[D]<=x&&(C[D]=x,M[D]=D?1:1-w),x=C[D],w=M[D];C[0]===C[1]&&M[0]*M[1]!==1?S.splice(A,1):A++}return S;function L(P,R,k){return P.interval[k]<R.interval[k]||P.interval[k]===R.interval[k]&&(P.close[k]-R.close[k]===(k?-1:1)||!k&&L(P,R,1))}}function T(S){return S-parseFloat(S)>=0}return st.linearMap=a,st.parsePercent=i,st.round=o,st.asc=v,st.getPrecision=f,st.getPrecisionSafe=n,st.getPixelPrecision=h,st.getPercentWithPrecision=s,st.MAX_SAFE_INTEGER=u,st.remRadian=l,st.isRadianAroundZero=d,st.parseDate=p,st.quantity=g,st.quantityExponent=m,st.nice=y,st.quantile=_,st.reformIntervals=b,st.isNumeric=T,st}var Rt={},bp;function Ke(){if(bp)return Rt;bp=1;var e=Z,t=$t(),r=Oe();function a(b){return isNaN(b)?"-":(b=(b+"").split("."),b[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(b.length>1?"."+b[1]:""))}function i(b,T){return b=(b||"").toLowerCase().replace(/-(.)/g,function(S,x){return x.toUpperCase()}),T&&b&&(b=b.charAt(0).toUpperCase()+b.slice(1)),b}var o=e.normalizeCssArray,v=/([&<>"'])/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function n(b){return b==null?"":(b+"").replace(v,function(T,S){return f[S]})}var h=["a","b","c","d","e","f","g"],s=function(b,T){return"{"+b+(T??"")+"}"};function u(b,T,S){e.isArray(T)||(T=[T]);var x=T.length;if(!x)return"";for(var w=T[0].$vars||[],A=0;A<w.length;A++){var C=h[A];b=b.replace(s(C),s(C,0))}for(var M=0;M<x;M++)for(var D=0;D<w.length;D++){var L=T[M][w[D]];b=b.replace(s(h[D],M),S?n(L):L)}return b}function l(b,T,S){return e.each(T,function(x,w){b=b.replace("{"+w+"}",S?n(x):x)}),b}function d(b,w){b=e.isString(b)?{color:b,extraCssText:w}:b||{};var S=b.color,x=b.type,w=b.extraCssText,A=b.renderMode||"html",C=b.markerId||"X";return S?A==="html"?x==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+n(S)+";"+(w||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+n(S)+";"+(w||"")+'"></span>':{renderMode:A,content:"{marker"+C+"|}  ",style:{color:S}}:""}function c(b,T){return b+="","0000".substr(0,T-b.length)+b}function p(b,T,S){(b==="week"||b==="month"||b==="quarter"||b==="half-year"||b==="year")&&(b=`MM-dd
yyyy`);var x=r.parseDate(T),w=S?"UTC":"",A=x["get"+w+"FullYear"](),C=x["get"+w+"Month"]()+1,M=x["get"+w+"Date"](),D=x["get"+w+"Hours"](),L=x["get"+w+"Minutes"](),P=x["get"+w+"Seconds"](),R=x["get"+w+"Milliseconds"]();return b=b.replace("MM",c(C,2)).replace("M",C).replace("yyyy",A).replace("yy",A%100).replace("dd",c(M,2)).replace("d",M).replace("hh",c(D,2)).replace("h",D).replace("mm",c(L,2)).replace("m",L).replace("ss",c(P,2)).replace("s",P).replace("SSS",c(R,3)),b}function g(b){return b&&b.charAt(0).toUpperCase()+b.substr(1)}var m=t.truncateText;function y(b){return t.getBoundingRect(b.text,b.font,b.textAlign,b.textVerticalAlign,b.textPadding,b.textLineHeight,b.rich,b.truncate)}function _(b,T,S,x,w,A,C,M){return t.getBoundingRect(b,T,S,x,w,M,A,C)}return Rt.addCommas=a,Rt.toCamelCase=i,Rt.normalizeCssArray=o,Rt.encodeHTML=n,Rt.formatTpl=u,Rt.formatTplSimple=l,Rt.getTooltipMarker=d,Rt.formatTime=p,Rt.capitalFirst=g,Rt.truncateText=m,Rt.getTextBoundingRect=y,Rt.getTextRect=_,Rt}var ti=Z,BT=Xe,Nk=Oe(),pr=Nk.parsePercent,NT=Ke(),fo=ti.each,VT=["left","right","top","bottom","width","height"],Qr=[["width","left","right"],["height","top","bottom"]];function md(e,t,r,a,i){var o=0,v=0;a==null&&(a=1/0),i==null&&(i=1/0);var f=0;t.eachChild(function(n,h){var s=n.position,u=n.getBoundingRect(),l=t.childAt(h+1),d=l&&l.getBoundingRect(),c,p;if(e==="horizontal"){var g=u.width+(d?-d.x+u.x:0);c=o+g,c>a||n.newline?(o=0,c=g,v+=f+r,f=u.height):f=Math.max(f,u.height)}else{var m=u.height+(d?-d.y+u.y:0);p=v+m,p>i||n.newline?(o+=f+r,v=0,p=m,f=u.width):f=Math.max(f,u.width)}n.newline||(s[0]=o,s[1]=v,e==="horizontal"?o=c+r:v=p+r)})}var Vk=md,Hk=ti.curry(md,"vertical"),qk=ti.curry(md,"horizontal");function Gk(e,t,r){var a=t.width,i=t.height,o=pr(e.x,a),v=pr(e.y,i),f=pr(e.x2,a),n=pr(e.y2,i);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(f)||isNaN(parseFloat(e.x2)))&&(f=a),(isNaN(v)||isNaN(parseFloat(e.y)))&&(v=0),(isNaN(n)||isNaN(parseFloat(e.y2)))&&(n=i),r=NT.normalizeCssArray(r||0),{width:Math.max(f-o-r[1]-r[3],0),height:Math.max(n-v-r[0]-r[2],0)}}function HT(e,t,r){r=NT.normalizeCssArray(r||0);var a=t.width,i=t.height,o=pr(e.left,a),v=pr(e.top,i),f=pr(e.right,a),n=pr(e.bottom,i),h=pr(e.width,a),s=pr(e.height,i),u=r[2]+r[0],l=r[1]+r[3],d=e.aspect;switch(isNaN(h)&&(h=a-f-l-o),isNaN(s)&&(s=i-n-u-v),d!=null&&(isNaN(h)&&isNaN(s)&&(d>a/i?h=a*.8:s=i*.8),isNaN(h)&&(h=d*s),isNaN(s)&&(s=h/d)),isNaN(o)&&(o=a-f-h-l),isNaN(v)&&(v=i-n-s-u),e.left||e.right){case"center":o=a/2-h/2-r[3];break;case"right":o=a-h-l;break}switch(e.top||e.bottom){case"middle":case"center":v=i/2-s/2-r[0];break;case"bottom":v=i-s-u;break}o=o||0,v=v||0,isNaN(h)&&(h=a-l-o-(f||0)),isNaN(s)&&(s=i-u-v-(n||0));var c=new BT(o+r[3],v+r[0],h,s);return c.margin=r,c}function Fk(e,t,r,a,i){var o=!i||!i.hv||i.hv[0],v=!i||!i.hv||i.hv[1],f=i&&i.boundingMode||"all";if(!(!o&&!v)){var n;if(f==="raw")n=e.type==="group"?new BT(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(n=e.getBoundingRect(),e.needLocalTransform()){var h=e.getLocalTransform();n=n.clone(),n.applyTransform(h)}t=HT(ti.defaults({width:n.width,height:n.height},t),r,a);var s=e.position,u=o?t.x-n.x:0,l=v?t.y-n.y:0;e.attr("position",f==="raw"?[u,l]:[s[0]+u,s[1]+l])}}function $k(e,t){return e[Qr[t][0]]!=null||e[Qr[t][1]]!=null&&e[Qr[t][2]]!=null}function Uk(e,t,r){!ti.isObject(r)&&(r={});var a=r.ignoreSize;!ti.isArray(a)&&(a=[a,a]);var i=v(Qr[0],0),o=v(Qr[1],1);h(Qr[0],e,i),h(Qr[1],e,o);function v(s,u){var l={},d=0,c={},p=0,g=2;if(fo(s,function(_){c[_]=e[_]}),fo(s,function(_){f(t,_)&&(l[_]=c[_]=t[_]),n(l,_)&&d++,n(c,_)&&p++}),a[u])return n(t,s[1])?c[s[2]]=null:n(t,s[2])&&(c[s[1]]=null),c;if(p===g||!d)return c;if(d>=g)return l;for(var m=0;m<s.length;m++){var y=s[m];if(!f(l,y)&&f(e,y)){l[y]=e[y];break}}return l}function f(s,u){return s.hasOwnProperty(u)}function n(s,u){return s[u]!=null&&s[u]!=="auto"}function h(s,u,l){fo(s,function(d){u[d]=l[d]})}}function Wk(e){return qT({},e)}function qT(e,t){return t&&e&&fo(VT,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}Ne.LOCATION_PARAMS=VT;Ne.HV_NAMES=Qr;Ne.box=Vk;Ne.vbox=Hk;Ne.hbox=qk;Ne.getAvailableSize=Gk;Ne.getLayoutRect=HT;Ne.positionElement=Fk;Ne.sizeCalculable=$k;Ne.mergeLayoutParam=Uk;Ne.getLayoutParams=Wk;Ne.copyLayoutParams=qT;var Zk={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},Yk=Zk,Jr=Z,wp=vt,yd=ea,GT=Ot,Xk=GT.enableClassManagement,Kk=GT.parseClassType,Qk=Re,Jk=Qk.makeInner,Fs=Ne,jk=Yk,eO=Jk(),ci=wp.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){wp.call(this,e,t,r,a),this.uid=yd.getUID("ec_cpt_model")},init:function(e,t,r,a){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?Fs.getLayoutParams(e):{},i=t.getTheme();Jr.merge(e,i.get(this.mainType)),Jr.merge(e,this.getDefaultOption()),r&&Fs.mergeLayoutParam(e,a,r)},mergeOption:function(e,t){Jr.merge(this.option,e,!0);var r=this.layoutMode;r&&Fs.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=eO(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var a=r.prototype.defaultOption;a&&t.push(a),r=r.superClass}for(var i={},o=t.length-1;o>=0;o--)i=Jr.merge(i,t[o],!0);e.defaultOption=i}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});Xk(ci,{registerWhenExtend:!0});yd.enableSubTypeDefaulter(ci);yd.enableTopologicalTravel(ci,tO);function tO(e){var t=[];return Jr.each(ci.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=Jr.map(t,function(r){return Kk(r).main}),e!=="dataset"&&Jr.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}Jr.mixin(ci,jk);var rO=ci,ct=rO,FT="";typeof navigator<"u"&&(FT=navigator.platform||"");var aO={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:FT.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},iO=aO,$T=Re,nO=$T.makeInner,oO=$T.normalizeToArray,$s=nO();function sO(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a].length>t)return e[a];return e[r-1]}var lO={clearColorPalette:function(){$s(this).colorIdx=0,$s(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var a=$s(t),i=a.colorIdx||0,o=a.colorNameMap=a.colorNameMap||{};if(o.hasOwnProperty(e))return o[e];var v=oO(this.get("color",!0)),f=this.get("colorLayer",!0),n=r==null||!f?v:sO(f,r);if(n=n||v,!(!n||!n.length)){var h=n[i];return e&&(o[e]=h),a.colorIdx=(i+1)%n.length,h}}},UT=lO,cr={},fr={},Ap;function fn(){if(Ap)return fr;Ap=1;var e="original",t="arrayRows",r="objectRows",a="keyedColumns",i="unknown",o="typedArray",v="column",f="row";return fr.SOURCE_FORMAT_ORIGINAL=e,fr.SOURCE_FORMAT_ARRAY_ROWS=t,fr.SOURCE_FORMAT_OBJECT_ROWS=r,fr.SOURCE_FORMAT_KEYED_COLUMNS=a,fr.SOURCE_FORMAT_UNKNOWN=i,fr.SOURCE_FORMAT_TYPED_ARRAY=o,fr.SERIES_LAYOUT_BY_COLUMN=v,fr.SERIES_LAYOUT_BY_ROW=f,fr}var Us,Tp;function dn(){if(Tp)return Us;Tp=1;var e=Z,t=e.createHashMap,r=e.isTypedArray,a=Ot,i=a.enableClassCheck,o=fn(),v=o.SOURCE_FORMAT_ORIGINAL,f=o.SERIES_LAYOUT_BY_COLUMN,n=o.SOURCE_FORMAT_UNKNOWN,h=o.SOURCE_FORMAT_TYPED_ARRAY,s=o.SOURCE_FORMAT_KEYED_COLUMNS;function u(d){this.fromDataset=d.fromDataset,this.data=d.data||(d.sourceFormat===s?{}:[]),this.sourceFormat=d.sourceFormat||n,this.seriesLayoutBy=d.seriesLayoutBy||f,this.dimensionsDefine=d.dimensionsDefine,this.encodeDefine=d.encodeDefine&&t(d.encodeDefine),this.startIndex=d.startIndex||0,this.dimensionsDetectCount=d.dimensionsDetectCount}u.seriesDataToSource=function(d){return new u({data:d,sourceFormat:r(d)?h:v,fromDataset:!1})},i(u);var l=u;return Us=l,Us}var Cp;function zr(){if(Cp)return cr;Cp=1;var e=Re,t=e.makeInner,r=e.getDataItemValue,a=Z,i=a.createHashMap,o=a.each,v=a.map,f=a.isArray,n=a.isString,h=a.isObject,s=a.isTypedArray,u=a.isArrayLike,l=a.extend;a.assert;var d=dn(),c=fn(),p=c.SOURCE_FORMAT_ORIGINAL,g=c.SOURCE_FORMAT_ARRAY_ROWS,m=c.SOURCE_FORMAT_OBJECT_ROWS,y=c.SOURCE_FORMAT_KEYED_COLUMNS,_=c.SOURCE_FORMAT_UNKNOWN,b=c.SOURCE_FORMAT_TYPED_ARRAY,T=c.SERIES_LAYOUT_BY_ROW,S={Must:1,Might:2,Not:3},x=t();function w(I){var O=I.option.source,E=_;if(s(O))E=b;else if(f(O)){O.length===0&&(E=g);for(var N=0,q=O.length;N<q;N++){var H=O[N];if(H!=null){if(f(H)){E=g;break}else if(h(H)){E=m;break}}}}else if(h(O)){for(var F in O)if(O.hasOwnProperty(F)&&u(O[F])){E=y;break}}else if(O!=null)throw new Error("Invalid data");x(I).sourceFormat=E}function A(I){return x(I).source}function C(I){x(I).datasetMap=i()}function M(I){var O=I.option,E=O.data,N=s(E)?b:p,q=!1,H=O.seriesLayoutBy,F=O.sourceHeader,U=O.dimensions,W=B(I);if(W){var Y=W.option;E=Y.source,N=x(W).sourceFormat,q=!0,H=H||Y.seriesLayoutBy,F==null&&(F=Y.sourceHeader),U=U||Y.dimensions}var Q=D(E,N,H,F,U);x(I).source=new d({data:E,fromDataset:q,seriesLayoutBy:H,sourceFormat:N,dimensionsDefine:Q.dimensionsDefine,startIndex:Q.startIndex,dimensionsDetectCount:Q.dimensionsDetectCount,encodeDefine:O.encode})}function D(I,O,E,N,q){if(!I)return{dimensionsDefine:L(q)};var H,F;if(O===g)N==="auto"||N==null?P(function(W){W!=null&&W!=="-"&&(n(W)?F==null&&(F=1):F=0)},E,I,10):F=N?1:0,!q&&F===1&&(q=[],P(function(W,Y){q[Y]=W??""},E,I)),H=q?q.length:E===T?I.length:I[0]?I[0].length:null;else if(O===m)q||(q=R(I));else if(O===y)q||(q=[],o(I,function(W,Y){q.push(Y)}));else if(O===p){var U=r(I[0]);H=f(U)&&U.length||1}return{startIndex:F,dimensionsDefine:L(q),dimensionsDetectCount:H}}function L(I){if(I){var O=i();return v(I,function(E,N){if(E=l({},h(E)?E:{name:E}),E.name==null)return E;E.name+="",E.displayName==null&&(E.displayName=E.name);var q=O.get(E.name);return q?E.name+="-"+q.count++:O.set(E.name,{count:1}),E})}}function P(I,O,E,N){if(N==null&&(N=1/0),O===T)for(var q=0;q<E.length&&q<N;q++)I(E[q]?E[q][0]:null,q);else for(var H=E[0]||[],q=0;q<H.length&&q<N;q++)I(H[q],q)}function R(I){for(var O=0,E;O<I.length&&!(E=I[O++]););if(E){var N=[];return o(E,function(q,H){N.push(H)}),N}}function k(I,O,E){var N={},q=B(O);if(!q||!I)return N;var H=[],F=[],U=O.ecModel,W=x(U).datasetMap,Y=q.uid+"_"+E.seriesLayoutBy,Q,ee;I=I.slice(),o(I,function(ne,de){!h(ne)&&(I[de]={name:ne}),ne.type==="ordinal"&&Q==null&&(Q=de,ee=ae(I[de])),N[ne.name]=[]});var j=W.get(Y)||W.set(Y,{categoryWayDim:ee,valueWayDim:0});o(I,function(ne,de){var te=ne.name,se=ae(ne);if(Q==null){var Te=j.valueWayDim;re(N[te],Te,se),re(F,Te,se),j.valueWayDim+=se}else if(Q===de)re(N[te],0,se),re(H,0,se);else{var Te=j.categoryWayDim;re(N[te],Te,se),re(F,Te,se),j.categoryWayDim+=se}});function re(ne,de,te){for(var se=0;se<te;se++)ne.push(de+se)}function ae(ne){var de=ne.dimsDef;return de?de.length:1}return H.length&&(N.itemName=H),F.length&&(N.seriesName=F),N}function z(I,O,E){var N={},q=B(I);if(!q)return N;var H=O.sourceFormat,F=O.dimensionsDefine,U;(H===m||H===y)&&o(F,function(Q,ee){(h(Q)?Q.name:Q)==="name"&&(U=ee)});var W=function(){for(var Q={},ee={},j=[],re=0,ae=Math.min(5,E);re<ae;re++){var ne=V(O.data,H,O.seriesLayoutBy,F,O.startIndex,re);j.push(ne);var de=ne===S.Not;if(de&&Q.v==null&&re!==U&&(Q.v=re),(Q.n==null||Q.n===Q.v||!de&&j[Q.n]===S.Not)&&(Q.n=re),te(Q)&&j[Q.n]!==S.Not)return Q;de||(ne===S.Might&&ee.v==null&&re!==U&&(ee.v=re),(ee.n==null||ee.n===ee.v)&&(ee.n=re))}function te(se){return se.v!=null&&se.n!=null}return te(Q)?Q:te(ee)?ee:null}();if(W){N.value=W.v;var Y=U??W.n;N.itemName=[Y],N.seriesName=[Y]}return N}function B(I){var O=I.option,E=O.data;if(!E)return I.ecModel.getComponent("dataset",O.datasetIndex||0)}function G(I,O){return V(I.data,I.sourceFormat,I.seriesLayoutBy,I.dimensionsDefine,I.startIndex,O)}function V(I,O,E,N,q,H){var F,U=5;if(s(I))return S.Not;var W,Y;if(N){var Q=N[H];h(Q)?(W=Q.name,Y=Q.type):n(Q)&&(W=Q)}if(Y!=null)return Y==="ordinal"?S.Must:S.Not;if(O===g)if(E===T){for(var ee=I[H],j=0;j<(ee||[]).length&&j<U;j++)if((F=de(ee[q+j]))!=null)return F}else for(var j=0;j<I.length&&j<U;j++){var re=I[q+j];if(re&&(F=de(re[H]))!=null)return F}else if(O===m){if(!W)return S.Not;for(var j=0;j<I.length&&j<U;j++){var ae=I[j];if(ae&&(F=de(ae[W]))!=null)return F}}else if(O===y){if(!W)return S.Not;var ee=I[W];if(!ee||s(ee))return S.Not;for(var j=0;j<ee.length&&j<U;j++)if((F=de(ee[j]))!=null)return F}else if(O===p)for(var j=0;j<I.length&&j<U;j++){var ae=I[j],ne=r(ae);if(!f(ne))return S.Not;if((F=de(ne[H]))!=null)return F}function de(te){var se=n(te);if(te!=null&&isFinite(te)&&te!=="")return se?S.Might:S.Not;if(se&&te!=="-")return S.Must}return S.Not}return cr.BE_ORDINAL=S,cr.detectSourceFormat=w,cr.getSource=A,cr.resetSourceDefaulter=C,cr.prepareSource=M,cr.makeSeriesEncodeForAxisCoordSys=k,cr.makeSeriesEncodeForNameBased=z,cr.guessOrdinal=G,cr}var Vt=Z,Mt=Vt.each,Wr=Vt.filter,WT=Vt.map,go=Vt.isArray,Mp=Vt.indexOf,Ws=Vt.isObject,uO=Vt.isString,_d=Vt.createHashMap,Dp=Vt.assert,Lf=Vt.clone,xd=Vt.merge,Lp=Vt.extend,vO=Vt.mixin,Di=Re,Pp=vt,Ir=ct,hO=iO,cO=UT,fO=zr(),dO=fO.resetSourceDefaulter,Pf="\0_ec_inner",ZT=Pp.extend({init:function(e,t,r,a){r=r||{},this.option=null,this._theme=new Pp(r),this._optionManager=a},setOption:function(e,t){Dp(!(Pf in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");!this.option||e==="recreate"?mO.call(this,a):(this.restoreData(),this.mergeOption(a)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||e==="recreate"||e==="media"){var o=r.getMediaOption(this,this._api);o.length&&Mt(o,function(v){this.mergeOption(v,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];dO(this),Mt(e,function(o,v){o!=null&&(Ir.hasClass(v)?v&&a.push(v):t[v]=t[v]==null?Lf(o):xd(t[v],o,!0))}),Ir.topologicalTravel(a,Ir.getAllClassMainTypes(),i,this);function i(o,v){var f=Di.normalizeToArray(e[o]),n=Di.mappingToExists(r.get(o),f);Di.makeIdAndName(n),Mt(n,function(s,u){var l=s.option;Ws(l)&&(s.keyInfo.mainType=o,s.keyInfo.subType=_O(o,l,s.exist))});var h=yO(r,v);t[o]=[],r.set(o,[]),Mt(n,function(s,u){var l=s.exist,d=s.option;if(Dp(Ws(d)||l,"Empty component definition"),!d)l.mergeOption({},this),l.optionUpdated({},!1);else{var c=Ir.getClass(o,s.keyInfo.subType,!0);if(l&&l.constructor===c)l.name=s.keyInfo.name,l.mergeOption(d,this),l.optionUpdated(d,!1);else{var p=Lp({dependentModels:h,componentIndex:u},s.keyInfo);l=new c(d,this,this,p),Lp(l,p),l.init(d,this,this,p),l.optionUpdated(null,!0)}}r.get(o)[u]=l,t[o][u]=l.option},this),o==="series"&&Zs(this,r.get("series"))}this._seriesIndicesMap=_d(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Lf(this.option);return Mt(e,function(t,r){if(Ir.hasClass(r)){for(var t=Di.normalizeToArray(t),a=t.length-1;a>=0;a--)Di.isIdInner(t[a])&&t.splice(a,1);e[r]=t}}),delete e[Pf],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,a=e.id,i=e.name,o=this._componentsMap.get(t);if(!o||!o.length)return[];var v;if(r!=null)go(r)||(r=[r]),v=Wr(WT(r,function(h){return o[h]}),function(h){return!!h});else if(a!=null){var f=go(a);v=Wr(o,function(h){return f&&Mp(a,h.id)>=0||!f&&h.id===a})}else if(i!=null){var n=go(i);v=Wr(o,function(h){return n&&Mp(i,h.name)>=0||!n&&h.name===i})}else v=o.slice();return Ip(v,e)},findComponents:function(e){var t=e.query,r=e.mainType,a=o(t),i=a?this.queryComponents(a):this._componentsMap.get(r);return v(Ip(i,e));function o(f){var n=r+"Index",h=r+"Id",s=r+"Name";return f&&(f[n]!=null||f[h]!=null||f[s]!=null)?{mainType:r,index:f[n],id:f[h],name:f[s]}:null}function v(f){return e.filter?Wr(f,e.filter):f}},eachComponent:function(e,t,r){var a=this._componentsMap;if(typeof e=="function")r=t,t=e,a.each(function(o,v){Mt(o,function(f,n){t.call(r,v,f,n)})});else if(uO(e))Mt(a.get(e),t,r);else if(Ws(e)){var i=this.findComponents(e);Mt(i,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return Wr(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return Wr(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Mt(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)},this)},eachRawSeries:function(e,t){Mt(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){Mt(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(r,i,a)},this)},eachRawSeriesByType:function(e,t,r){return Mt(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=Wr(this._componentsMap.get("series"),e,t);Zs(this,r)},restoreData:function(e){var t=this._componentsMap;Zs(this,t.get("series"));var r=[];t.each(function(a,i){r.push(i)}),Ir.topologicalTravel(r,Ir.getAllClassMainTypes(),function(a,i){Mt(t.get(a),function(o){(a!=="series"||!gO(o,e))&&o.restoreData()})})}});function gO(e,t){if(t){var r=t.seiresIndex,a=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function pO(e,t){var r=e.color&&!e.colorLayer;Mt(t,function(a,i){i==="colorLayer"&&r||Ir.hasClass(i)||(typeof a=="object"?e[i]=e[i]?xd(e[i],a,!1):Lf(a):e[i]==null&&(e[i]=a))})}function mO(e){e=e,this.option={},this.option[Pf]=1,this._componentsMap=_d({series:[]}),this._seriesIndices,this._seriesIndicesMap,pO(e,this._theme.option),xd(e,hO,!1),this.mergeOption(e)}function yO(e,t){go(t)||(t=t?[t]:[]);var r={};return Mt(t,function(a){r[a]=(e.get(a)||[]).slice()}),r}function _O(e,t,r){var a=t.type?t.type:r?r.subType:Ir.determineSubType(e,t);return a}function Zs(e,t){e._seriesIndicesMap=_d(e._seriesIndices=WT(t,function(r){return r.componentIndex})||[])}function Ip(e,t){return t.hasOwnProperty("subType")?Wr(e,function(r){return r.subType===t.subType}):e}vO(ZT,cO);var xO=ZT,YT=xO,Rp=Z,SO=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function bO(e){Rp.each(SO,function(t){this[t]=Rp.bind(e[t],e)},this)}var wO=bO,XT=wO,Ep=Z,Sd={};function Ji(){this._coordinateSystems=[]}Ji.prototype={constructor:Ji,create:function(e,t){var r=[];Ep.each(Sd,function(a,i){var o=a.create(e,t);r=r.concat(o||[])}),this._coordinateSystems=r},update:function(e,t){Ep.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};Ji.register=function(e,t){Sd[e]=t};Ji.get=function(e){return Sd[e]};var AO=Ji,br=AO,kr=Z,po=Re,TO=ct,mo=kr.each,ha=kr.clone,yo=kr.map,kp=kr.merge,CO=/^(min|max)?(.+)$/;function If(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}If.prototype={constructor:If,setOption:function(e,t){e&&kr.each(po.normalizeToArray(e.series),function(i){i&&i.data&&kr.isTypedArray(i.data)&&kr.setAsPrimitive(i.data)}),e=ha(e);var r=this._optionBackup,a=MO.call(this,e,t,!r);this._newBaseOption=a.baseOption,r?(IO(r.baseOption,a.baseOption),a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=yo(t.timelineOptions,ha),this._mediaList=yo(t.mediaList,ha),this._mediaDefault=ha(t.mediaDefault),this._currentMediaIndices=[],ha(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");a&&(t=ha(r[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],v=[];if(!a.length&&!i)return v;for(var f=0,n=a.length;f<n;f++)DO(a[f].query,t,r)&&o.push(f);return!o.length&&i&&(o=[-1]),o.length&&!PO(o,this._currentMediaIndices)&&(v=yo(o,function(h){return ha(h===-1?i.option:a[h].option)})),this._currentMediaIndices=o,v}};function MO(e,t,r){var a=[],i=[],o,v,f=e.timeline;if(e.baseOption&&(v=e.baseOption),(f||e.options)&&(v=v||{},a=(e.options||[]).slice()),e.media){v=v||{};var n=e.media;mo(n,function(h){h&&h.option&&(h.query?i.push(h):o||(o=h))})}return v||(v=e),v.timeline||(v.timeline=f),mo([v].concat(a).concat(kr.map(i,function(h){return h.option})),function(h){mo(t,function(s){s(h,r)})}),{baseOption:v,timelineOptions:a,mediaDefault:o,mediaList:i}}function DO(e,t,r){var a={width:t,height:r,aspectratio:t/r},i=!0;return kr.each(e,function(o,v){var f=v.match(CO);if(!(!f||!f[1]||!f[2])){var n=f[1],h=f[2].toLowerCase();LO(a[h],o,n)||(i=!1)}}),i}function LO(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function PO(e,t){return e.join(",")===t.join(",")}function IO(e,t){t=t||{},mo(t,function(r,a){if(r!=null){var i=e[a];if(!TO.hasClass(a))e[a]=kp(i,r,!0);else{r=po.normalizeToArray(r),i=po.normalizeToArray(i);var o=po.mappingToExists(i,r);e[a]=yo(o,function(v){return v.option&&v.exist?kp(v.exist,v.option,!0):v.exist||v.option})}}})}var RO=If,EO=RO,Lt=Z,Op=Re,Kt=Lt.each,ji=Lt.isObject,zp=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Ys(e){var t=e&&e.itemStyle;if(t)for(var r=0,a=zp.length;r<a;r++){var i=zp[r],o=t.normal,v=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?Lt.merge(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),v&&v[i]&&(e[i]=e[i]||{},e[i].emphasis?Lt.merge(e[i].emphasis,v[i]):e[i].emphasis=v[i],v[i]=null)}}function Tt(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,i=e[t].emphasis;a&&(r?(e[t].normal=e[t].emphasis=null,Lt.defaults(e[t],a)):e[t]=a),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function $i(e){Tt(e,"itemStyle"),Tt(e,"lineStyle"),Tt(e,"areaStyle"),Tt(e,"label"),Tt(e,"labelLine"),Tt(e,"upperLabel"),Tt(e,"edgeLabel")}function it(e,t){var r=ji(e)&&e[t],a=ji(r)&&r.textStyle;if(a)for(var i=0,o=Op.TEXT_STYLE_OPTIONS.length;i<o;i++){var t=Op.TEXT_STYLE_OPTIONS[i];a.hasOwnProperty(t)&&(r[t]=a[t])}}function qt(e){e&&($i(e),it(e,"label"),e.emphasis&&it(e.emphasis,"label"))}function kO(e){if(ji(e)){Ys(e),$i(e),it(e,"label"),it(e,"upperLabel"),it(e,"edgeLabel"),e.emphasis&&(it(e.emphasis,"label"),it(e.emphasis,"upperLabel"),it(e.emphasis,"edgeLabel"));var o=e.markPoint;o&&(Ys(o),qt(o));var f=e.markLine;f&&(Ys(f),qt(f));var t=e.markArea;t&&qt(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var a=e.links||e.edges;if(a&&!Lt.isTypedArray(a))for(var i=0;i<a.length;i++)qt(a[i]);Lt.each(e.categories,function(h){$i(h)})}if(r&&!Lt.isTypedArray(r))for(var i=0;i<r.length;i++)qt(r[i]);var o=e.markPoint;if(o&&o.data)for(var v=o.data,i=0;i<v.length;i++)qt(v[i]);var f=e.markLine;if(f&&f.data)for(var n=f.data,i=0;i<n.length;i++)Lt.isArray(n[i])?(qt(n[i][0]),qt(n[i][1])):qt(n[i]);e.type==="gauge"?(it(e,"axisLabel"),it(e,"title"),it(e,"detail")):e.type==="treemap"?(Tt(e.breadcrumb,"itemStyle"),Lt.each(e.levels,function(h){$i(h)})):e.type==="tree"&&$i(e.leaves)}}function Cr(e){return Lt.isArray(e)?e:e?[e]:[]}function Bp(e){return(Lt.isArray(e)?e[0]:e)||{}}function OO(e,t){Kt(Cr(e.series),function(a){ji(a)&&kO(a)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Kt(r,function(a){Kt(Cr(e[a]),function(i){i&&(it(i,"axisLabel"),it(i.axisPointer,"label"))})}),Kt(Cr(e.parallel),function(a){var i=a&&a.parallelAxisDefault;it(i,"axisLabel"),it(i&&i.axisPointer,"label")}),Kt(Cr(e.calendar),function(a){Tt(a,"itemStyle"),it(a,"dayLabel"),it(a,"monthLabel"),it(a,"yearLabel")}),Kt(Cr(e.radar),function(a){it(a,"name")}),Kt(Cr(e.geo),function(a){ji(a)&&(qt(a),Kt(Cr(a.regions),function(i){qt(i)}))}),Kt(Cr(e.timeline),function(a){qt(a),Tt(a,"label"),Tt(a,"itemStyle"),Tt(a,"controlStyle",!0);var i=a.data;Lt.isArray(i)&&Lt.each(i,function(o){Lt.isObject(o)&&(Tt(o,"label"),Tt(o,"itemStyle"))})}),Kt(Cr(e.toolbox),function(a){Tt(a,"iconStyle"),Kt(a.feature,function(i){Tt(i,"iconStyle")})}),it(Bp(e.axisPointer),"label"),it(Bp(e.tooltip).axisPointer,"label")}var zO=OO,bd=Z,_o=bd.each,BO=bd.isArray,NO=bd.isObject,VO=zO,HO=Re,qO=HO.normalizeToArray;function GO(e,t){t=t.split(",");for(var r=e,a=0;a<t.length&&(r=r&&r[t[a]],r!=null);a++);return r}function FO(e,t,r,a){t=t.split(",");for(var i=e,o,v=0;v<t.length-1;v++)o=t[v],i[o]==null&&(i[o]={}),i=i[o];(a||i[t[v]]==null)&&(i[t[v]]=r)}function Np(e){_o($O,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var $O=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],UO=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function WO(e,t){VO(e,t),e.series=qO(e.series),_o(e.series,function(r){if(NO(r)){var a=r.type;if(a==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(a==="pie"||a==="gauge")r.clockWise!=null&&(r.clockwise=r.clockWise);else if(a==="gauge"){var i=GO(r,"pointer.color");i!=null&&FO(r,"itemStyle.color",i)}Np(r)}}),e.dataRange&&(e.visualMap=e.dataRange),_o(UO,function(r){var a=e[r];a&&(BO(a)||(a=[a]),_o(a,function(i){Np(i)}))})}var ZO=WO,KT=Z,YO=KT.createHashMap,XO=KT.each;function KO(e){var t=YO();e.eachSeries(function(r){var a=r.get("stack");if(a){var i=t.get(a)||t.set(a,[]),o=r.getData(),v={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:r};if(!v.stackedDimension||!(v.isStackedByIndex||v.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(v)}}),t.each(QO)}function QO(e){XO(e,function(t,r){var a=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],v=t.data,f=t.isStackedByIndex,n=v.map(o,function(h,s,u){var l=v.get(t.stackedDimension,u);if(isNaN(l))return i;var d,c;f?c=v.getRawIndex(u):d=v.get(t.stackedByDimension,u);for(var p=NaN,g=r-1;g>=0;g--){var m=e[g];if(f||(c=m.data.rawIndexOf(m.stackedByDimension,d)),c>=0){var y=m.data.getByRawIndex(m.stackResultDimension,c);if(l>=0&&y>0||l<=0&&y<0){l+=y,p=y;break}}}return a[0]=l,a[1]=p,a});v.hostModel.setData(n),t.data=n})}var JO=KO,nr={},gn=Z;gn.isTypedArray;var jO=gn.extend;gn.assert;var ez=gn.each,tz=gn.isObject,QT=Re,rz=QT.getDataItemValue,az=QT.isDataItemOption,iz=Oe(),nz=iz.parseDate,Vp=dn(),Uo=fn(),oz=Uo.SOURCE_FORMAT_TYPED_ARRAY,sz=Uo.SOURCE_FORMAT_ARRAY_ROWS,Hp=Uo.SOURCE_FORMAT_ORIGINAL,lz=Uo.SOURCE_FORMAT_OBJECT_ROWS;function JT(e,t){Vp.isInstance(e)||(e=Vp.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===oz&&(this._offset=0,this._dimSize=t,this._data=r);var i=uz[a===sz?a+"_"+e.seriesLayoutBy:a];jO(this,i)}var wd=JT.prototype;wd.pure=!1;wd.persistent=!0;wd.getSource=function(){return this._source};var uz={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Xs},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var i=r[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:qp,getItem:Gp,appendData:Xs},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var i=this._data[r[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;ez(e,function(r,a){for(var i=t[a]||(t[a]=[]),o=0;o<(r||[]).length;o++)i.push(r[o])})}},original:{count:qp,getItem:Gp,appendData:Xs},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function qp(){return this._data.length}function Gp(e){return this._data[e]}function Xs(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var vz={arrayRows:Ks,objectRows:function(e,t,r,a){return r!=null?e[a]:e},keyedColumns:Ks,original:function(e,t,r,a){var i=rz(e);return r==null||!(i instanceof Array)?i:i[r]},typedArray:Ks};function Ks(e,t,r,a){return r!=null?e[r]:e}var hz={arrayRows:Fp,objectRows:function(e,t,r,a){return Rf(e[t],this._dimensionInfos[t])},keyedColumns:Fp,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return!this._rawData.pure&&az(e)&&(this.hasItemOption=!0),Rf(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function Fp(e,t,r,a){return Rf(e[a],this._dimensionInfos[t])}function Rf(e,t){var r=t&&t.type;if(r==="ordinal"){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+nz(e)),e==null||e===""?NaN:+e}function cz(e,t,r){if(e){var a=e.getRawDataItem(t);if(a!=null){var i=e.getProvider().getSource().sourceFormat,o,v,f=e.getDimensionInfo(r);return f&&(o=f.name,v=f.index),vz[i](a,t,v,o)}}}function fz(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(!(a!==Hp&&a!==lz)){var i=e.getRawDataItem(t);if(a===Hp&&!tz(i)&&(i=null),i)return i[r]}}}nr.DefaultDataProvider=JT;nr.defaultDimValueGetters=hz;nr.retrieveRawValue=cz;nr.retrieveRawAttr=fz;var dz=nr,$p=dz.retrieveRawValue,jT=Ke(),gz=jT.getTooltipMarker,pz=jT.formatTpl,mz=Re,yz=mz.getTooltipRenderMode,_z=/\{@(.+?)\}/g,xz={getDataParams:function(e,t){var r=this.getData(t),a=this.getRawValue(e,t),i=r.getRawIndex(e),o=r.getName(e),v=r.getRawDataItem(e),f=r.getItemVisual(e,"color"),n=r.getItemVisual(e,"borderColor"),h=this.ecModel.getComponent("tooltip"),s=h&&h.get("renderMode"),u=yz(s),l=this.mainType,d=l==="series",c=r.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:v,dataType:t,value:a,color:f,borderColor:n,dimensionNames:c?c.dimensionNames:null,encode:c?c.encode:null,marker:gz({color:f,renderMode:u}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,a,i){t=t||"normal";var o=this.getData(r),v=o.getItemModel(e),f=this.getDataParams(e,r);a!=null&&f.value instanceof Array&&(f.value=f.value[a]);var n=v.get(t==="normal"?[i||"label","formatter"]:[t,i||"label","formatter"]);if(typeof n=="function")return f.status=t,f.dimensionIndex=a,n(f);if(typeof n=="string"){var h=pz(n,f);return h.replace(_z,function(s,u){var l=u.length;return u.charAt(0)==="["&&u.charAt(l-1)==="]"&&(u=+u.slice(1,l-1)),$p(o,e,u)})}},getRawValue:function(e,t){return $p(this.getData(t),e)},formatTooltip:function(){}},Ad=xz,Wo={},eC=Z;eC.assert;var tC=eC.isArray;function Sz(e){return new rC(e)}function rC(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var ta=rC.prototype;ta.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var o=h(this._modBy),v=this._modDataCount||0,f=h(e&&e.modBy),n=e&&e.modDataCount||0;(o!==f||v!==n)&&(i="reset");function h(m){return!(m>=1)&&(m=1),m}var s;(this._dirty||i==="reset")&&(this._dirty=!1,s=bz(this,r)),this._modBy=f,this._modDataCount=n;var u=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var l=this._dueIndex,d=Math.min(u!=null?this._dueIndex+u:1/0,this._dueEnd);if(!r&&(s||l<d)){var c=this._progress;if(tC(c))for(var p=0;p<c.length;p++)Wp(this,c[p],l,d,f,n);else Wp(this,c,l,d,f,n)}this._dueIndex=d;var g=this._settedOutputEnd!=null?this._settedOutputEnd:d;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Up=function(){var e,t,r,a,i,o={reset:function(n,h,s,u){t=n,e=h,r=s,a=u,i=Math.ceil(a/r),o.next=r>1&&a>0?f:v}};return o;function v(){return t<e?t++:null}function f(){var n=t%i*r+Math.ceil(t/i),h=t>=e?null:n<a?n:t;return t++,h}}();ta.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function Wp(e,t,r,a,i,o){Up.reset(r,a,i,o),e._callingProgress=t,e._callingProgress({start:r,end:a,count:a-r,next:Up.next},e.context)}function bz(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,a;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(a=r.forceFirstProgress,r=r.progress),tC(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),a}ta.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};ta.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};ta.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};ta.getUpstream=function(){return this._upstream};ta.getDownstream=function(){return this._downstream};ta.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};Wo.createTask=Sz;var Et=Z,wz=nt,Zo=Ke(),Az=Zo.formatTime,Li=Zo.encodeHTML,Zp=Zo.addCommas,Yp=Zo.getTooltipMarker,Ui=Re,Xp=ct,aC=UT,Tz=Ad,iC=Ne,Cz=iC.getLayoutParams,Kp=iC.mergeLayoutParam,Mz=Wo,Dz=Mz.createTask,nC=zr(),Qp=nC.prepareSource,Lz=nC.getSource,Pz=nr,Jp=Pz.retrieveRawValue,Pi=Ui.makeInner(),Td=Xp.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,r,a){this.seriesIndex=this.componentIndex,this.dataTask=Dz({count:Rz,reset:Ez}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),Qp(this);var i=this.getInitialData(e,r);em(i,this),this.dataTask.context.data=i,Pi(this).dataBeforeProcessed=i,jp(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?Cz(e):{},i=this.subType;Xp.hasClass(i)&&(i+="Series"),Et.merge(e,t.getTheme().get(this.subType)),Et.merge(e,this.getDefaultOption()),Ui.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Kp(e,a,r)},mergeOption:function(e,t){e=Et.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&Kp(this.option,e,r),Qp(this);var a=this.getInitialData(e,t);em(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Pi(this).dataBeforeProcessed=a,jp(this)},fillDataTextStyle:function(e){if(e&&!Et.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Ui.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=Ef(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return Pi(this).data},setData:function(e){var t=Ef(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}Pi(this).data=e},getSource:function(){return Lz(this)},getRawData:function(){return Pi(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r,a){var i=this;a=a||"html";var o=a==="html"?"<br/>":`
`,v=a==="richText",f={},n=0;function h(A){var C=Et.reduce(A,function(R,k,z){var B=u.getDimensionInfo(z);return R|=B&&B.tooltip!==!1&&B.displayName!=null},0),M=[];l.length?Et.each(l,function(R){D(Jp(u,e,R),R)}):Et.each(A,D);function D(R,k){var z=u.getDimensionInfo(k);if(!(!z||z.otherDims.tooltip===!1)){var B=z.type,G="sub"+i.seriesIndex+"at"+n,V=Yp({color:g,type:"subItem",renderMode:a,markerId:G}),I=typeof V=="string"?V:V.content,O=(C?I+Li(z.displayName||"-")+": ":"")+Li(B==="ordinal"?R+"":B==="time"?t?"":Az("yyyy/MM/dd hh:mm:ss",R):Zp(R));O&&M.push(O),v&&(f[G]=g,++n)}}var L=C?v?`
`:"<br/>":"",P=L+M.join(L||", ");return{renderMode:a,content:P,style:f}}function s(A){return{renderMode:a,content:Li(Zp(A)),style:f}}var u=this.getData(),l=u.mapDimension("defaultedTooltip",!0),d=l.length,c=this.getRawValue(e),p=Et.isArray(c),g=u.getItemVisual(e,"color");Et.isObject(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color),g=g||"transparent";var m=d>1||p&&!d?h(c):s(d?Jp(u,e,l[0]):p?c[0]:c),y=m.content,_=i.seriesIndex+"at"+n,b=Yp({color:g,type:"item",renderMode:a,markerId:_});f[_]=g,++n;var T=u.getName(e),S=this.name;Ui.isNameSpecified(this)||(S=""),S=S?Li(S)+(t?": ":o):"";var x=typeof b=="string"?b:b.content,w=t?x+S+y:S+x+(T?Li(T)+": "+y:y);return{html:w,markers:f}},isAnimationEnabled:function(){if(wz.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var a=this.ecModel,i=aC.getColorFromPalette.call(this,e,t,r);return i||(i=a.getColorFromPalette(e,t,r)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Et.mixin(Td,Tz);Et.mixin(Td,aC);function jp(e){var t=e.name;Ui.isNameSpecified(e)||(e.name=Iz(e)||t)}function Iz(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),a=[];return Et.each(r,function(i){var o=t.getDimensionInfo(i);o.displayName&&a.push(o.displayName)}),a.join(" ")}function Rz(e){return e.model.getRawData().count()}function Ez(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),kz}function kz(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function em(e,t){Et.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Et.curry(Oz,t))})}function Oz(e){var t=Ef(e);t&&t.setOutputEnd(this.count())}function Ef(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}var zz=Td,ft=zz,Bz=Sa,Nz=ea,oC=Ot,ri=function(){this.group=new Bz,this.uid=Nz.getUID("viewComponent")};ri.prototype={constructor:ri,init:function(e,t){},render:function(e,t,r,a){},dispose:function(){},filterForExposedEvent:null};var Qs=ri.prototype;Qs.updateView=Qs.updateLayout=Qs.updateVisual=function(e,t,r,a){};oC.enableClassExtend(ri);oC.enableClassManagement(ri,{registerWhenExtend:!0});var Vz=ri,Yo=Vz,Hz=Re,qz=Hz.makeInner;function Gz(){var e=qz();return function(t){var r=e(t),a=t.pipelineContext,i=r.large,o=r.progressiveRender,v=r.large=a&&a.large,f=r.progressiveRender=a&&a.progressiveRender;return!!(i^v||o^f)&&"reset"}}var fi=Gz,Fz=Z,$z=Fz.each,Uz=Sa,Wz=ea,sC=Ot,kf=Re,lC=ye,Zz=Wo,Yz=Zz.createTask,Xz=fi,uC=kf.makeInner(),Kz=Xz();function di(){this.group=new Uz,this.uid=Wz.getUID("viewChart"),this.renderTask=Yz({plan:Qz,reset:Jz}),this.renderTask.context={view:this}}di.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,a){},highlight:function(e,t,r,a){tm(e.getData(),a,"emphasis")},downplay:function(e,t,r,a){tm(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var Js=di.prototype;Js.updateView=Js.updateLayout=Js.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};function Of(e,t,r){if(e&&(e.trigger(t,r),e.isGroup&&!lC.isHighDownDispatcher(e)))for(var a=0,i=e.childCount();a<i;a++)Of(e.childAt(a),t,r)}function tm(e,t,r){var a=kf.queryDataIndex(e,t),i=t&&t.highlightKey!=null?lC.getHighlightDigit(t.highlightKey):null;a!=null?$z(kf.normalizeToArray(a),function(o){Of(e.getItemGraphicEl(o),r,i)}):e.eachItemGraphicEl(function(o){Of(o,r,i)})}sC.enableClassExtend(di,["dispose"]);sC.enableClassManagement(di,{registerWhenExtend:!0});di.markUpdateMethod=function(e,t){uC(e).updateMethod=t};function Qz(e){return Kz(e.model)}function Jz(e){var t=e.model,r=e.ecModel,a=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,v=e.view,f=i&&uC(i).updateMethod,n=o?"incrementalPrepareRender":f&&v[f]?f:"render";return n!=="render"&&v[n](t,r,a,i),jz[n]}var jz={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},eB=di,wr=eB,or={},Oo="\0__throttleOriginMethod",rm="\0__throttleRate",am="\0__throttleType";function vC(e,t,r){var a,i=0,o=0,v=null,f,n,h,s;t=t||0;function u(){o=new Date().getTime(),v=null,e.apply(n,h||[])}var l=function(){a=new Date().getTime(),n=this,h=arguments;var d=s||t,c=s||r;s=null,f=a-(c?i:o)-d,clearTimeout(v),c?v=setTimeout(u,d):f>=0?u():v=setTimeout(u,-f),i=a};return l.clear=function(){v&&(clearTimeout(v),v=null)},l.debounceNextCall=function(d){s=d},l}function tB(e,t,r,a){var i=e[t];if(i){var o=i[Oo]||i,v=i[am],f=i[rm];if(f!==r||v!==a){if(r==null||!a)return e[t]=o;i=e[t]=vC(o,r,a==="debounce"),i[Oo]=o,i[am]=a,i[rm]=r}return i}}function rB(e,t){var r=e[t];r&&r[Oo]&&(e[t]=r[Oo])}or.throttle=vC;or.createOrUpdate=tB;or.clear=rB;var aB=Go,iB=Z,nB=iB.isFunction,oB={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(a),o=nB(i)&&!(i instanceof aB)?i:null;(!i||o)&&(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),r.setVisual("color",i);var v=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),f=e.get(v);if(r.setVisual("borderColor",f),!t.isSeriesFiltered(e)){o&&r.each(function(h){r.setItemVisual(h,"color",o(e.getDataParams(h)))});var n=function(h,s){var u=h.getItemModel(s),l=u.get(a,!0),d=u.get(v,!0);l!=null&&h.setItemVisual(s,"color",l),d!=null&&h.setItemVisual(s,"borderColor",d)};return{dataEach:r.hasItemOption?n:null}}}},sB=oB,lB={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},ra=lB,uB=Z,im=ra,vB=nr,hB=vB.retrieveRawValue;function cB(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var a=0;t.eachSeries(function(p,g){++a},this);var i=r.get("data.maxCount")||10,o=r.get("series.maxCount")||10,v=Math.min(a,o),f;if(a<1)return;var n=d();n?f=u(l("general.withTitle"),{title:n}):f=l("general.withoutTitle");var h=[],s=a>1?"series.multiple.prefix":"series.single.prefix";f+=u(l(s),{seriesCount:a}),t.eachSeries(function(p,g){if(g<v){var m,y=p.get("name"),_="series."+(a>1?"multiple":"single")+".";m=l(y?_+"withName":_+"withoutName"),m=u(m,{seriesId:p.seriesIndex,seriesName:p.get("name"),seriesType:c(p.subType)});var b=p.getData();window.data=b,b.count()>i?m+=u(l("data.partialData"),{displayCnt:i}):m+=l("data.allData");for(var T=[],S=0;S<b.count();S++)if(S<i){var x=b.getName(S),w=hB(b,S);T.push(u(l(x?"data.withName":"data.withoutName"),{name:x,value:w}))}m+=T.join(l("data.separator.middle"))+l("data.separator.end"),h.push(m)}}),f+=h.join(l("series.multiple.separator.middle"))+l("series.multiple.separator.end"),e.setAttribute("aria-label",f);function u(p,g){if(typeof p!="string")return p;var m=p;return uB.each(g,function(y,_){m=m.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),y)}),m}function l(p){var g=r.get(p);if(g==null){for(var m=p.split("."),y=im.aria,_=0;_<m.length;++_)y=y[m[_]];return y}else return g}function d(){var p=t.getModel("title").option;return p&&p.length&&(p=p[0]),p&&p.text}function c(p){return im.series.typeNames[p]||"自定义图"}}var fB=cB,dB=Z,Zn=ye,Yn=Math.PI;function gB(e,t){t=t||{},dB.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new Zn.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),a=new Zn.Arc({shape:{startAngle:-Yn/2,endAngle:-Yn/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),i=new Zn.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:Yn*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:Yn*3/2}).delay(300).start("circularInOut");var o=new Zn.Group;return o.add(a),o.add(i),o.add(r),o.resize=function(){var v=e.getWidth()/2,f=e.getHeight()/2;a.setShape({cx:v,cy:f});var n=a.shape.r;i.setShape({x:v-n,y:f-n,width:n*2,height:n*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},o.resize(),o}var pB=gB,pn=Z,Cd=pn.each,mB=pn.map,yB=pn.isFunction,Xo=pn.createHashMap,_B=pn.noop,xB=Wo,zf=xB.createTask,SB=ea,bB=SB.getUID,wB=YT,AB=XT,TB=Re,CB=TB.normalizeToArray;function Md(e,t,i,o){this.ecInstance=e,this.api=t,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),o=this._visualHandlers=o.slice();this._allHandlers=i.concat(o),this._stageTaskMap=Xo()}var Ut=Md.prototype;Ut.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})};Ut.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),a=r.context,i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=i?r.step:null,v=a&&a.modDataCount,f=v!=null?Math.ceil(v/o):null;return{step:o,modBy:f,modDataCount:v}}};Ut.getPipeline=function(e){return this._pipelineMap.get(e)};Ut.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),o=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,v=e.get("large")&&i>=e.get("largeThreshold"),f=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:f,large:v}};Ut.restorePipelines=function(e){var t=this,r=t._pipelineMap=Xo();e.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;r.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),Ko(t,a,a.dataTask)})};Ut.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;Cd(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&MB(this,a,i,t,r),a.overallReset&&DB(this,a,i,t,r)},this)};Ut.prepareView=function(e,t,r,a){var i=e.renderTask,o=i.context;o.model=t,o.ecModel=r,o.api=a,i.__block=!e.incrementalPrepareRender,Ko(this,t,i)};Ut.performDataProcessorTasks=function(e,t){hC(this,this._dataProcessorHandlers,e,t,{block:!0})};Ut.performVisualTasks=function(e,t,r){hC(this,this._visualHandlers,e,t,r)};function hC(e,t,r,a,i){i=i||{};var o;Cd(t,function(f,n){if(!(i.visualType&&i.visualType!==f.visualType)){var h=e._stageTaskMap.get(f.uid),s=h.seriesTaskMap,u=h.overallTask;if(u){var l,d=u.agentStubMap;d.each(function(p){v(i,p)&&(p.dirty(),l=!0)}),l&&u.dirty(),nm(u,a);var c=e.getPerformArgs(u,i.block);d.each(function(p){p.perform(c)}),o|=u.perform(c)}else s&&s.each(function(p,g){v(i,p)&&p.dirty();var m=e.getPerformArgs(p,i.block);m.skip=!f.performRawSeries&&r.isSeriesFiltered(p.context.model),nm(p,a),o|=p.perform(m)})}});function v(f,n){return f.setDirty&&(!f.dirtyMap||f.dirtyMap.get(n.__pipeline.id))}e.unfinished|=o}Ut.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};Ut.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var nm=Ut.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function MB(e,t,r,a,i){var o=r.seriesTaskMap||(r.seriesTaskMap=Xo()),v=t.seriesType,f=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(n):v?a.eachRawSeriesByType(v,n):f&&f(a,i).each(n);function n(s){var u=s.uid,l=o.get(u)||o.set(u,zf({plan:EB,reset:kB,count:zB}));l.context={model:s,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},Ko(e,s,l)}var h=e._pipelineMap;o.each(function(s,u){h.get(u)||(s.dispose(),o.removeKey(u))})}function DB(e,t,r,a,i){var o=r.overallTask=r.overallTask||zf({reset:LB});o.context={ecModel:a,api:i,overallReset:t.overallReset,scheduler:e};var v=o.agentStubMap=o.agentStubMap||Xo(),f=t.seriesType,n=t.getTargetSeries,h=!0,s=t.modifyOutputEnd;f?a.eachRawSeriesByType(f,u):n?n(a,i).each(u):(h=!1,Cd(a.getSeries(),u));function u(d){var c=d.uid,p=v.get(c);p||(p=v.set(c,zf({reset:PB,onDirty:RB})),o.dirty()),p.context={model:d,overallProgress:h,modifyOutputEnd:s},p.agent=o,p.__block=h,Ko(e,d,p)}var l=e._pipelineMap;v.each(function(d,c){l.get(c)||(d.dispose(),o.dirty(),v.removeKey(c))})}function LB(e){e.overallReset(e.ecModel,e.api,e.payload)}function PB(e,t){return e.overallProgress&&IB}function IB(){this.agent.dirty(),this.getDownstream().dirty()}function RB(){this.agent&&this.agent.dirty()}function EB(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function kB(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=CB(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?mB(t,function(r,a){return cC(a)}):OB}var OB=cC(0);function cC(e){return function(t,r){var a=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(a,o);else i&&i.progress&&i.progress(t,a)}}function zB(e){return e.data.count()}function Ko(e,t,r){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i}Md.wrapStageHandler=function(e,t){return yB(e)&&(e={overallReset:e,seriesType:BB(e)}),e.uid=bB("stageHandler"),t&&(e.visualType=t),e};function BB(e){zo=null;try{e(en,fC)}catch{}return zo}var en={},fC={},zo;dC(en,wB);dC(fC,AB);en.eachSeriesByType=en.eachRawSeriesByType=function(e){zo=e};en.eachComponent=function(e){e.mainType==="series"&&e.subType&&(zo=e.subType)};function dC(e,t){for(var r in t.prototype)e[r]=_B}var NB=Md,VB=NB,om=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],HB={color:om,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],om]},qB=HB,xt="#eee",Xn=function(){return{axisLine:{lineStyle:{color:xt}},axisTick:{lineStyle:{color:xt}},axisLabel:{textStyle:{color:xt}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:xt}}}},js=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],gC={color:js,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:xt},crossStyle:{color:xt},label:{color:"#000"}}},legend:{textStyle:{color:xt}},textStyle:{color:xt},title:{textStyle:{color:xt}},toolbox:{iconStyle:{normal:{borderColor:xt}}},dataZoom:{textStyle:{color:xt}},visualMap:{textStyle:{color:xt}},timeline:{lineStyle:{color:xt},itemStyle:{normal:{color:js[1]}},label:{normal:{textStyle:{color:xt}}},controlStyle:{normal:{color:xt,borderColor:xt}}},timeAxis:Xn(),logAxis:Xn(),valueAxis:Xn(),categoryAxis:Xn(),line:{symbol:"circle"},graph:{color:js},gauge:{title:{textStyle:{color:xt}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};gC.categoryAxis.splitLine.show=!1;var GB=gC,FB=GB,sm={},lm;function pC(){if(lm)return sm;lm=1;var e=ct,t=Yo,r=zr(),a=r.detectSourceFormat,i=fn(),o=i.SERIES_LAYOUT_BY_COLUMN;return e.extend({type:"dataset",defaultOption:{seriesLayoutBy:o,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){a(this)}}),t.extend({type:"dataset"}),sm}var mn={},$B=at,UB=$B.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var r=.5522848,a=t.cx,i=t.cy,o=t.rx,v=t.ry,f=o*r,n=v*r;e.moveTo(a-o,i),e.bezierCurveTo(a-o,i-n,a-f,i-v,a,i-v),e.bezierCurveTo(a+f,i-v,a+o,i-n,a+o,i),e.bezierCurveTo(a+o,i+n,a+f,i+v,a,i+v),e.bezierCurveTo(a-f,i+v,a-o,i+n,a-o,i),e.closePath()}}),WB=UB,Wi=Sa,ZB=si,YB=ba,XB=oT,mC=ld,KB=WB,QB=vT,JB=at,jB=lT,eN=uT,tN=ud,rN=Ff,Kn=Pt(),aN=hn,iN=aN.createFromString,yn=Z,nN=yn.isString,oN=yn.extend,sN=yn.defaults,Rr=yn.trim,um=yn.each,Yr=/[\s,]+/;function yC(e){if(nN(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function Qo(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Qo.prototype.parse=function(e,t){t=t||{};var r=yC(e);if(!r)throw new Error("Illegal svg");var a=new Wi;this._root=a;var i=r.getAttribute("viewBox")||"",o=parseFloat(r.getAttribute("width")||t.width),v=parseFloat(r.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(v)&&(v=null),Bt(r,a,null,!0);for(var f=r.firstChild;f;)this._parseNode(f,a),f=f.nextSibling;var n,h;if(i){var s=Rr(i).split(Yr);s.length>=4&&(n={x:parseFloat(s[0]||0),y:parseFloat(s[1]||0),width:parseFloat(s[2]),height:parseFloat(s[3])})}if(n&&o!=null&&v!=null&&(h=_C(n,o,v),!t.ignoreViewBox)){var u=a;a=new Wi,a.add(u),u.scale=h.scale.slice(),u.position=h.position.slice()}return!t.ignoreRootClip&&o!=null&&v!=null&&a.setClipPath(new mC({shape:{x:0,y:0,width:o,height:v}})),{root:a,width:o,height:v,viewBoxRect:n,viewBoxTransform:h}};Qo.prototype._parseNode=function(e,t){var r=e.nodeName.toLowerCase();r==="defs"?this._isDefine=!0:r==="text"&&(this._isText=!0);var a;if(this._isDefine){var i=uN[r];if(i){var o=i.call(this,e),v=e.getAttribute("id");v&&(this._defs[v]=o)}}else{var i=lN[r];i&&(a=i.call(this,e,t),t.add(a))}for(var f=e.firstChild;f;)f.nodeType===1&&this._parseNode(f,a),f.nodeType===3&&this._isText&&this._parseText(f,a),f=f.nextSibling;r==="defs"?this._isDefine=!1:r==="text"&&(this._isText=!1)};Qo.prototype._parseText=function(e,t){if(e.nodeType===1){var r=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(a)}var i=new YB({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ht(t,i),Bt(e,i,this._defs);var o=i.style.fontSize;o&&o<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=o/9,i.scale[1]*=o/9);var v=i.getBoundingRect();return this._textX+=v.width,t.add(i),i};var lN={g:function(e,t){var r=new Wi;return Ht(t,r),Bt(e,r,this._defs),r},rect:function(e,t){var r=new mC;return Ht(t,r),Bt(e,r,this._defs),r.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),r},circle:function(e,t){var r=new XB;return Ht(t,r),Bt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),r},line:function(e,t){var r=new QB;return Ht(t,r),Bt(e,r,this._defs),r.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),r},ellipse:function(e,t){var r=new KB;return Ht(t,r),Bt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),r},polygon:function(e,t){var r=e.getAttribute("points");r&&(r=vm(r));var a=new jB({shape:{points:r||[]}});return Ht(t,a),Bt(e,a,this._defs),a},polyline:function(e,t){var r=new JB;Ht(t,r),Bt(e,r,this._defs);var a=e.getAttribute("points");a&&(a=vm(a));var i=new eN({shape:{points:a||[]}});return i},image:function(e,t){var r=new ZB;return Ht(t,r),Bt(e,r,this._defs),r.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),r},text:function(e,t){var r=e.getAttribute("x")||0,a=e.getAttribute("y")||0,i=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(o);var v=new Wi;return Ht(t,v),Bt(e,v,this._defs),v},tspan:function(e,t){var r=e.getAttribute("x"),a=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0,v=new Wi;return Ht(t,v),Bt(e,v,this._defs),this._textX+=i,this._textY+=o,v},path:function(e,t){var r=e.getAttribute("d")||"",a=iN(r);return Ht(t,a),Bt(e,a,this._defs),a}},uN={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),r=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),o=new tN(t,r,a,i);return vN(e,o),o},radialgradient:function(e){}};function vN(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1){var a=r.getAttribute("offset");a.indexOf("%")>0?a=parseInt(a,10)/100:a?a=parseFloat(a):a=0;var i=r.getAttribute("stop-color")||"#000000";t.addColorStop(a,i)}r=r.nextSibling}}function Ht(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),sN(t.__inheritedStyle,e.__inheritedStyle))}function vm(e){for(var t=Rr(e).split(Yr),r=[],a=0;a<t.length;a+=2){var i=parseFloat(t[a]),o=parseFloat(t[a+1]);r.push([i,o])}return r}var Xa={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Bt(e,t,r,a){var i=t.__inheritedStyle||{},o=t.type==="text";if(e.nodeType===1&&(fN(e,t),oN(i,dN(e)),!a)){for(var v in Xa)if(Xa.hasOwnProperty(v)){var f=e.getAttribute(v);f!=null&&(i[Xa[v]]=f)}}var n=o?"textFill":"fill",h=o?"textStroke":"stroke";t.style=t.style||new rN;var s=t.style;i.fill!=null&&s.set(n,hm(i.fill,r)),i.stroke!=null&&s.set(h,hm(i.stroke,r)),um(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){var l=u==="lineWidth"&&o?"textStrokeWidth":u;i[u]!=null&&s.set(l,parseFloat(i[u]))}),(!i.textBaseline||i.textBaseline==="auto")&&(i.textBaseline="alphabetic"),i.textBaseline==="alphabetic"&&(i.textBaseline="bottom"),i.textAlign==="start"&&(i.textAlign="left"),i.textAlign==="end"&&(i.textAlign="right"),um(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(u){i[u]!=null&&s.set(u,i[u])}),i.lineDash&&(t.style.lineDash=Rr(i.lineDash).split(Yr)),s[h]&&s[h]!=="none"&&(t[h]=!0),t.__inheritedStyle=i}var hN=/url\(\s*#(.*?)\)/;function hm(e,t){var r=t&&e&&e.match(hN);if(r){var a=Rr(r[1]),i=t[a];return i}return e}var cN=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function fN(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var a=null,i=[];r.replace(cN,function(n,h,s){i.push(h,s)});for(var o=i.length-1;o>0;o-=2){var v=i[o],f=i[o-1];switch(a=a||Kn.create(),f){case"translate":v=Rr(v).split(Yr),Kn.translate(a,a,[parseFloat(v[0]),parseFloat(v[1]||0)]);break;case"scale":v=Rr(v).split(Yr),Kn.scale(a,a,[parseFloat(v[0]),parseFloat(v[1]||v[0])]);break;case"rotate":v=Rr(v).split(Yr),Kn.rotate(a,a,parseFloat(v[0]));break;case"skew":v=Rr(v).split(Yr),console.warn("Skew transform is not supported yet");break;case"matrix":var v=Rr(v).split(Yr);a[0]=parseFloat(v[0]),a[1]=parseFloat(v[1]),a[2]=parseFloat(v[2]),a[3]=parseFloat(v[3]),a[4]=parseFloat(v[4]),a[5]=parseFloat(v[5]);break}}t.setLocalTransform(a)}}var cm=/([^\s:;]+)\s*:\s*([^:;]+)/g;function dN(e){var t=e.getAttribute("style"),r={};if(!t)return r;var a={};cm.lastIndex=0;for(var i;(i=cm.exec(t))!=null;)a[i[1]]=i[2];for(var o in Xa)Xa.hasOwnProperty(o)&&a[o]!=null&&(r[Xa[o]]=a[o]);return r}function _C(e,t,r){var a=t/e.width,i=r/e.height,o=Math.min(a,i),v=[o,o],f=[-(e.x+e.width/2)*o+t/2,-(e.y+e.height/2)*o+r/2];return{scale:v,position:f}}function gN(e,t){var r=new Qo;return r.parse(e,t)}mn.parseXML=yC;mn.makeViewBoxTransform=_C;mn.parseSVG=gN;var _n=Z,pN=_n.createHashMap,mN=_n.isString,yN=_n.isArray,_N=_n.each;_n.assert;var xN=mn,SN=xN.parseXML,fm=pN(),bN={registerMap:function(e,t,r){var a;return yN(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(r=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:r}]),_N(a,function(i){var o=i.type;o==="geoJson"&&(o=i.type="geoJSON");var v=wN[o];v(i)}),fm.set(e,a)},retrieveMap:function(e){return fm.get(e)}},wN={geoJSON:function(e){var t=e.source;e.geoJSON=mN(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=SN(e.source)}},Dd=bN,pt={},dr={},el,dm;function Aa(){if(dm)return el;dm=1;function e(i){return i}function t(i,o,v,f,n){this._old=i,this._new=o,this._oldKeyGetter=v||e,this._newKeyGetter=f||e,this.context=n}t.prototype={constructor:t,add:function(i){return this._add=i,this},update:function(i){return this._update=i,this},remove:function(i){return this._remove=i,this},execute:function(){var i=this._old,o=this._new,v={},f={},n=[],h=[],s;for(r(i,v,n,"_oldKeyGetter",this),r(o,f,h,"_newKeyGetter",this),s=0;s<i.length;s++){var u=n[s],l=f[u];if(l!=null){var d=l.length;d?(d===1&&(f[u]=null),l=l.shift()):f[u]=null,this._update&&this._update(l,s)}else this._remove&&this._remove(s)}for(var s=0;s<h.length;s++){var u=h[s];if(f.hasOwnProperty(u)){var l=f[u];if(l==null)continue;if(!l.length)this._add&&this._add(l);else for(var c=0,d=l.length;c<d;c++)this._add&&this._add(l[c])}}}};function r(i,o,v,f,n){for(var h=0;h<i.length;h++){var s="_ec_"+n[f](i[h],h),u=o[s];u==null?(v.push(s),o[s]=h):(u.length||(o[s]=u=[u]),u.push(h))}}var a=t;return el=a,el}var Ii={},gm;function xn(){if(gm)return Ii;gm=1;var e=Z,t=e.each,r=e.createHashMap;e.assert;var a=r(["tooltip","label","itemName","itemId","seriesName"]);function i(n){var h={},s=h.encode={},u=r(),l=[],d=[],c=h.userOutput={dimensionNames:n.dimensions.slice(),encode:{}};t(n.dimensions,function(_){var b=n.getDimensionInfo(_),T=b.coordDim;if(T){var S=b.coordDimIndex;o(s,T)[S]=_,b.isExtraCoord||(u.set(T,1),f(b.type)&&(l[0]=_),o(c.encode,T)[S]=b.index),b.defaultTooltip&&d.push(_)}a.each(function(x,w){var A=o(s,w),C=b.otherDims[w];C!=null&&C!==!1&&(A[C]=b.name)})});var p=[],g={};u.each(function(_,b){var T=s[b];g[b]=T[0],p=p.concat(T)}),h.dataDimsOnCoord=p,h.encodeFirstDimNotExtra=g;var m=s.label;m&&m.length&&(l=m.slice());var y=s.tooltip;return y&&y.length?d=y.slice():d.length||(d=l.slice()),s.defaultedLabel=l,s.defaultedTooltip=d,h}function o(n,h){return n.hasOwnProperty(h)||(n[h]=[]),n[h]}function v(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function f(n){return!(n==="ordinal"||n==="time")}return Ii.OTHER_DIMENSIONS=a,Ii.summarizeDimensions=i,Ii.getDimensionTypeByAxis=v,Ii}var tl,pm;function xC(){if(pm)return tl;pm=1;var e=Z;function t(a){a!=null&&e.extend(this,a),this.otherDims={}}var r=t;return tl=r,tl}var rl,mm;function Wt(){if(mm)return rl;mm=1;var e=Z,t=vt,r=Aa(),a=dn(),i=nr,o=i.defaultDimValueGetters,v=i.DefaultDataProvider,f=xn(),n=f.summarizeDimensions,h=xC(),s=e.isObject,u="undefined",l=-1,d="e\0\0",c={float:typeof Float64Array===u?Array:Float64Array,int:typeof Int32Array===u?Array:Int32Array,ordinal:Array,number:Array,time:Array},p=typeof Uint32Array===u?Array:Uint32Array,g=typeof Int32Array===u?Array:Int32Array,m=typeof Uint16Array===u?Array:Uint16Array;function y(I){return I._rawCount>65535?p:m}function _(I){var O=I.constructor;return O===Array?I.slice():new O(I)}var b=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],T=["_extent","_approximateExtent","_rawExtent"];function S(I,O){e.each(b.concat(O.__wrappedMethods||[]),function(E){O.hasOwnProperty(E)&&(I[E]=O[E])}),I.__wrappedMethods=O.__wrappedMethods,e.each(T,function(E){I[E]=e.clone(O[E])}),I._calculationInfo=e.extend(O._calculationInfo)}var x=function(I,O){I=I||["x","y"];for(var E={},N=[],q={},H=0;H<I.length;H++){var F=I[H];e.isString(F)?F=new h({name:F}):F instanceof h||(F=new h(F));var U=F.name;F.type=F.type||"float",F.coordDim||(F.coordDim=U,F.coordDimIndex=0),F.otherDims=F.otherDims||{},N.push(U),E[U]=F,F.index=H,F.createInvertedIndices&&(q[U]=[])}this.dimensions=N,this._dimensionInfos=E,this.hostModel=O,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=n(this),this._invertedIndicesMap=q,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},w=x.prototype;w.type="list",w.hasItemOption=!0,w.getDimension=function(I){return(typeof I=="number"||!isNaN(I)&&!this._dimensionInfos.hasOwnProperty(I))&&(I=this.dimensions[I]),I},w.getDimensionInfo=function(I){return this._dimensionInfos[this.getDimension(I)]},w.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},w.mapDimension=function(I,O){var E=this._dimensionsSummary;if(O==null)return E.encodeFirstDimNotExtra[I];var N=E.encode[I];return O===!0?(N||[]).slice():N&&N[O]},w.initData=function(I,O,E){var N=a.isInstance(I)||e.isArrayLike(I);N&&(I=new v(I,this.dimensions.length)),this._rawData=I,this._storage={},this._indices=null,this._nameList=O||[],this._idList=[],this._nameRepeatCount={},E||(this.hasItemOption=!1),this.defaultDimValueGetter=o[this._rawData.getSource().sourceFormat],this._dimValueGetter=E=E||this.defaultDimValueGetter,this._dimValueGetterArrayRows=o.arrayRows,this._rawExtent={},this._initDataFromProvider(0,I.count()),I.pure&&(this.hasItemOption=!1)},w.getProvider=function(){return this._rawData},w.appendData=function(I){var O=this._rawData,E=this.count();O.appendData(I);var N=O.count();O.persistent||(N+=E),this._initDataFromProvider(E,N)},w.appendValues=function(I,O){for(var E=this._chunkSize,N=this._storage,q=this.dimensions,H=q.length,F=this._rawExtent,U=this.count(),W=U+Math.max(I.length,O?O.length:0),Y=this._chunkCount,Q=0;Q<H;Q++){var ee=q[Q];F[ee]||(F[ee]=B()),N[ee]||(N[ee]=[]),A(N,this._dimensionInfos[ee],E,Y,W),this._chunkCount=N[ee].length}for(var j=new Array(H),re=U;re<W;re++){for(var ae=re-U,ne=Math.floor(re/E),de=re%E,te=0;te<H;te++){var ee=q[te],se=this._dimValueGetterArrayRows(I[ae]||j,ee,ae,te);N[ee][ne][de]=se;var Te=F[ee];se<Te[0]&&(Te[0]=se),se>Te[1]&&(Te[1]=se)}O&&(this._nameList[re]=O[ae])}this._rawCount=this._count=W,this._extent={},C(this)},w._initDataFromProvider=function(I,O){if(!(I>=O)){for(var E=this._chunkSize,N=this._rawData,q=this._storage,H=this.dimensions,F=H.length,U=this._dimensionInfos,W=this._nameList,Y=this._idList,Q=this._rawExtent,ee=this._nameRepeatCount={},j,re=this._chunkCount,ae=0;ae<F;ae++){var ne=H[ae];Q[ne]||(Q[ne]=B());var de=U[ne];de.otherDims.itemName===0&&(j=this._nameDimIdx=ae),de.otherDims.itemId===0&&(this._idDimIdx=ae),q[ne]||(q[ne]=[]),A(q,de,E,re,O),this._chunkCount=q[ne].length}for(var te=new Array(F),se=I;se<O;se++){te=N.getItem(se,te);for(var Te=Math.floor(se/E),le=se%E,ve=0;ve<F;ve++){var ne=H[ve],Se=q[ne][Te],X=this._dimValueGetter(te,ne,se,ve);Se[le]=X;var J=Q[ne];X<J[0]&&(J[0]=X),X>J[1]&&(J[1]=X)}if(!N.pure){var ie=W[se];if(te&&ie==null){if(te.name!=null)W[se]=ie=te.name;else if(j!=null){var ce=H[j],ue=q[ce][Te];if(ue){ie=ue[le];var fe=U[ce].ordinalMeta;fe&&fe.categories.length&&(ie=fe.categories[ie])}}}var _e=te==null?null:te.id;_e==null&&ie!=null&&(ee[ie]=ee[ie]||0,_e=ie,ee[ie]>0&&(_e+="__ec__"+ee[ie]),ee[ie]++),_e!=null&&(Y[se]=_e)}}!N.persistent&&N.clean&&N.clean(),this._rawCount=this._count=O,this._extent={},C(this)}};function A(I,O,E,N,q){var H=c[O.type],F=N-1,U=O.name,W=I[U][F];if(W&&W.length<E){for(var Y=new H(Math.min(q-F*E,E)),Q=0;Q<W.length;Q++)Y[Q]=W[Q];I[U][F]=Y}for(var ee=N*E;ee<q;ee+=E)I[U].push(new H(Math.min(q-ee,E)))}function C(I){var O=I._invertedIndicesMap;e.each(O,function(E,N){var q=I._dimensionInfos[N],H=q.ordinalMeta;if(H){E=O[N]=new g(H.categories.length);for(var F=0;F<E.length;F++)E[F]=l;for(var F=0;F<I._count;F++)E[I.get(N,F)]=F}})}function M(I,O,E){var N;if(O!=null){var q=I._chunkSize,H=Math.floor(E/q),F=E%q,U=I.dimensions[O],W=I._storage[U][H];if(W){N=W[F];var Y=I._dimensionInfos[U].ordinalMeta;Y&&Y.categories.length&&(N=Y.categories[N])}}return N}w.count=function(){return this._count},w.getIndices=function(){var I,O=this._indices;if(O){var E=O.constructor,N=this._count;if(E===Array){I=new E(N);for(var q=0;q<N;q++)I[q]=O[q]}else I=new E(O.buffer,0,N)}else for(var E=y(this),I=new E(this.count()),q=0;q<I.length;q++)I[q]=q;return I},w.get=function(I,O){if(!(O>=0&&O<this._count))return NaN;var E=this._storage;if(!E[I])return NaN;O=this.getRawIndex(O);var N=Math.floor(O/this._chunkSize),q=O%this._chunkSize,H=E[I][N],F=H[q];return F},w.getByRawIndex=function(I,O){if(!(O>=0&&O<this._rawCount))return NaN;var E=this._storage[I];if(!E)return NaN;var N=Math.floor(O/this._chunkSize),q=O%this._chunkSize,H=E[N];return H[q]},w._getFast=function(I,O){var E=Math.floor(O/this._chunkSize),N=O%this._chunkSize,q=this._storage[I][E];return q[N]},w.getValues=function(I,O){var E=[];e.isArray(I)||(O=I,I=this.dimensions);for(var N=0,q=I.length;N<q;N++)E.push(this.get(I[N],O));return E},w.hasValue=function(I){for(var O=this._dimensionsSummary.dataDimsOnCoord,E=0,N=O.length;E<N;E++)if(isNaN(this.get(O[E],I)))return!1;return!0},w.getDataExtent=function(I){I=this.getDimension(I);var O=this._storage[I],E=B();if(!O)return E;var N=this.count(),q=!this._indices,H;if(q)return this._rawExtent[I].slice();if(H=this._extent[I],H)return H.slice();H=E;for(var F=H[0],U=H[1],W=0;W<N;W++){var Y=this._getFast(I,this.getRawIndex(W));Y<F&&(F=Y),Y>U&&(U=Y)}return H=[F,U],this._extent[I]=H,H},w.getApproximateExtent=function(I){return I=this.getDimension(I),this._approximateExtent[I]||this.getDataExtent(I)},w.setApproximateExtent=function(I,O){O=this.getDimension(O),this._approximateExtent[O]=I.slice()},w.getCalculationInfo=function(I){return this._calculationInfo[I]},w.setCalculationInfo=function(I,O){s(I)?e.extend(this._calculationInfo,I):this._calculationInfo[I]=O},w.getSum=function(I){var O=this._storage[I],E=0;if(O)for(var N=0,q=this.count();N<q;N++){var H=this.get(I,N);isNaN(H)||(E+=H)}return E},w.getMedian=function(I){var O=[];this.each(I,function(q,H){isNaN(q)||O.push(q)});var E=[].concat(O).sort(function(q,H){return q-H}),N=this.count();return N===0?0:N%2===1?E[(N-1)/2]:(E[N/2]+E[N/2-1])/2},w.rawIndexOf=function(I,O){var E=I&&this._invertedIndicesMap[I],N=E[O];return N==null||isNaN(N)?l:N},w.indexOfName=function(I){for(var O=0,E=this.count();O<E;O++)if(this.getName(O)===I)return O;return-1},w.indexOfRawIndex=function(I){if(I>=this._rawCount||I<0)return-1;if(!this._indices)return I;var O=this._indices,E=O[I];if(E!=null&&E<this._count&&E===I)return I;for(var N=0,q=this._count-1;N<=q;){var H=(N+q)/2|0;if(O[H]<I)N=H+1;else if(O[H]>I)q=H-1;else return H}return-1},w.indicesOfNearest=function(I,O,E){var N=this._storage,q=N[I],H=[];if(!q)return H;E==null&&(E=1/0);for(var F=1/0,U=-1,W=0,Y=0,Q=this.count();Y<Q;Y++){var ee=O-this.get(I,Y),j=Math.abs(ee);j<=E&&((j<F||j===F&&ee>=0&&U<0)&&(F=j,U=ee,W=0),ee===U&&(H[W++]=Y))}return H.length=W,H},w.getRawIndex=D;function D(I){return I}function L(I){return I<this._count&&I>=0?this._indices[I]:-1}w.getRawDataItem=function(I){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(I));for(var O=[],E=0;E<this.dimensions.length;E++){var N=this.dimensions[E];O.push(this.get(N,I))}return O},w.getName=function(I){var O=this.getRawIndex(I);return this._nameList[O]||M(this,this._nameDimIdx,O)||""},w.getId=function(I){return P(this,this.getRawIndex(I))};function P(I,O){var E=I._idList[O];return E==null&&(E=M(I,I._idDimIdx,O)),E==null&&(E=d+O),E}function R(I){return e.isArray(I)||(I=[I]),I}w.each=function(I,O,E,N){if(this._count){typeof I=="function"&&(N=E,E=O,O=I,I=[]),E=E||N||this,I=e.map(R(I),this.getDimension,this);for(var q=I.length,H=0;H<this.count();H++)switch(q){case 0:O.call(E,H);break;case 1:O.call(E,this.get(I[0],H),H);break;case 2:O.call(E,this.get(I[0],H),this.get(I[1],H),H);break;default:for(var F=0,U=[];F<q;F++)U[F]=this.get(I[F],H);U[F]=H,O.apply(E,U)}}},w.filterSelf=function(I,O,E,N){if(this._count){typeof I=="function"&&(N=E,E=O,O=I,I=[]),E=E||N||this,I=e.map(R(I),this.getDimension,this);for(var q=this.count(),H=y(this),F=new H(q),U=[],W=I.length,Y=0,Q=I[0],ee=0;ee<q;ee++){var j,re=this.getRawIndex(ee);if(W===0)j=O.call(E,ee);else if(W===1){var ae=this._getFast(Q,re);j=O.call(E,ae,ee)}else{for(var ne=0;ne<W;ne++)U[ne]=this._getFast(Q,re);U[ne]=ee,j=O.apply(E,U)}j&&(F[Y++]=re)}return Y<q&&(this._indices=F),this._count=Y,this._extent={},this.getRawIndex=this._indices?L:D,this}},w.selectRange=function(I){if(this._count){var O=[];for(var E in I)I.hasOwnProperty(E)&&O.push(E);var N=O.length;if(N){var q=this.count(),H=y(this),F=new H(q),U=0,W=O[0],Y=I[W][0],Q=I[W][1],ee=!1;if(!this._indices){var j=0;if(N===1){for(var re=this._storage[O[0]],ae=0;ae<this._chunkCount;ae++)for(var ne=re[ae],de=Math.min(this._count-ae*this._chunkSize,this._chunkSize),te=0;te<de;te++){var se=ne[te];(se>=Y&&se<=Q||isNaN(se))&&(F[U++]=j),j++}ee=!0}else if(N===2){for(var re=this._storage[W],Te=this._storage[O[1]],le=I[O[1]][0],ve=I[O[1]][1],ae=0;ae<this._chunkCount;ae++)for(var ne=re[ae],Se=Te[ae],de=Math.min(this._count-ae*this._chunkSize,this._chunkSize),te=0;te<de;te++){var se=ne[te],X=Se[te];(se>=Y&&se<=Q||isNaN(se))&&(X>=le&&X<=ve||isNaN(X))&&(F[U++]=j),j++}ee=!0}}if(!ee)if(N===1)for(var te=0;te<q;te++){var J=this.getRawIndex(te),se=this._getFast(W,J);(se>=Y&&se<=Q||isNaN(se))&&(F[U++]=J)}else for(var te=0;te<q;te++){for(var ie=!0,J=this.getRawIndex(te),ae=0;ae<N;ae++){var ce=O[ae],se=this._getFast(E,J);(se<I[ce][0]||se>I[ce][1])&&(ie=!1)}ie&&(F[U++]=this.getRawIndex(te))}return U<q&&(this._indices=F),this._count=U,this._extent={},this.getRawIndex=this._indices?L:D,this}}},w.mapArray=function(I,O,E,N){typeof I=="function"&&(N=E,E=O,O=I,I=[]),E=E||N||this;var q=[];return this.each(I,function(){q.push(O&&O.apply(this,arguments))},E),q};function k(I,O){var E=I.dimensions,N=new x(e.map(E,I.getDimensionInfo,I),I.hostModel);S(N,I);for(var q=N._storage={},H=I._storage,F=0;F<E.length;F++){var U=E[F];H[U]&&(e.indexOf(O,U)>=0?(q[U]=z(H[U]),N._rawExtent[U]=B(),N._extent[U]=null):q[U]=H[U])}return N}function z(I){for(var O=new Array(I.length),E=0;E<I.length;E++)O[E]=_(I[E]);return O}function B(){return[1/0,-1/0]}w.map=function(I,O,E,N){E=E||N||this,I=e.map(R(I),this.getDimension,this);var q=k(this,I);q._indices=this._indices,q.getRawIndex=q._indices?L:D;for(var H=q._storage,F=[],U=this._chunkSize,W=I.length,Y=this.count(),Q=[],ee=q._rawExtent,j=0;j<Y;j++){for(var re=0;re<W;re++)Q[re]=this.get(I[re],j);Q[W]=j;var ae=O&&O.apply(E,Q);if(ae!=null){typeof ae!="object"&&(F[0]=ae,ae=F);for(var ne=this.getRawIndex(j),de=Math.floor(ne/U),te=ne%U,se=0;se<ae.length;se++){var Te=I[se],le=ae[se],ve=ee[Te],Se=H[Te];Se&&(Se[de][te]=le),le<ve[0]&&(ve[0]=le),le>ve[1]&&(ve[1]=le)}}}return q},w.downSample=function(I,O,E,N){for(var q=k(this,[I]),H=q._storage,F=[],U=Math.floor(1/O),W=H[I],Y=this.count(),Q=this._chunkSize,ee=q._rawExtent[I],j=new(y(this))(Y),re=0,ae=0;ae<Y;ae+=U){U>Y-ae&&(U=Y-ae,F.length=U);for(var ne=0;ne<U;ne++){var de=this.getRawIndex(ae+ne),te=Math.floor(de/Q),se=de%Q;F[ne]=W[te][se]}var Te=E(F),le=this.getRawIndex(Math.min(ae+N(F,Te)||0,Y-1)),ve=Math.floor(le/Q),Se=le%Q;W[ve][Se]=Te,Te<ee[0]&&(ee[0]=Te),Te>ee[1]&&(ee[1]=Te),j[re++]=le}return q._count=re,q._indices=j,q.getRawIndex=L,q},w.getItemModel=function(I){var O=this.hostModel;return new t(this.getRawDataItem(I),O,O&&O.ecModel)},w.diff=function(I){var O=this;return new r(I?I.getIndices():[],this.getIndices(),function(E){return P(I,E)},function(E){return P(O,E)})},w.getVisual=function(I){var O=this._visual;return O&&O[I]},w.setVisual=function(I,O){if(s(I)){for(var E in I)I.hasOwnProperty(E)&&this.setVisual(E,I[E]);return}this._visual=this._visual||{},this._visual[I]=O},w.setLayout=function(I,O){if(s(I)){for(var E in I)I.hasOwnProperty(E)&&this.setLayout(E,I[E]);return}this._layout[I]=O},w.getLayout=function(I){return this._layout[I]},w.getItemLayout=function(I){return this._itemLayouts[I]},w.setItemLayout=function(I,O,E){this._itemLayouts[I]=E?e.extend(this._itemLayouts[I]||{},O):O},w.clearItemLayouts=function(){this._itemLayouts.length=0},w.getItemVisual=function(I,O,E){var N=this._itemVisuals[I],q=N&&N[O];return q==null&&!E?this.getVisual(O):q},w.setItemVisual=function(I,O,E){var N=this._itemVisuals[I]||{},q=this.hasItemVisual;if(this._itemVisuals[I]=N,s(O)){for(var H in O)O.hasOwnProperty(H)&&(N[H]=O[H],q[H]=!0);return}N[O]=E,q[O]=!0},w.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var G=function(I){I.seriesIndex=this.seriesIndex,I.dataIndex=this.dataIndex,I.dataType=this.dataType};w.setItemGraphicEl=function(I,O){var E=this.hostModel;O&&(O.dataIndex=I,O.dataType=this.dataType,O.seriesIndex=E&&E.seriesIndex,O.type==="group"&&O.traverse(G,O)),this._graphicEls[I]=O},w.getItemGraphicEl=function(I){return this._graphicEls[I]},w.eachItemGraphicEl=function(I,O){e.each(this._graphicEls,function(E,N){E&&I&&I.call(O,E,N)})},w.cloneShallow=function(I){if(!I){var O=e.map(this.dimensions,this.getDimensionInfo,this);I=new x(O,this.hostModel)}if(I._storage=this._storage,S(I,this),this._indices){var E=this._indices.constructor;I._indices=new E(this._indices)}else I._indices=null;return I.getRawIndex=I._indices?L:D,I},w.wrapMethod=function(I,O){var E=this[I];typeof E=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(I),this[I]=function(){var N=E.apply(this,arguments);return O.apply(this,[N].concat(e.slice(arguments)))})},w.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],w.CHANGABLE_METHODS=["filterSelf","selectRange"];var V=x;return rl=V,rl}var al,ym;function SC(){if(ym)return al;ym=1;var e=Z,t=e.createHashMap,r=e.each,a=e.isString,i=e.defaults,o=e.extend,v=e.isObject,f=e.clone,n=Re,h=n.normalizeToArray,s=zr(),u=s.guessOrdinal,l=s.BE_ORDINAL,d=dn(),c=xn(),p=c.OTHER_DIMENSIONS,g=xC();function m(T,S,x){d.isInstance(S)||(S=d.seriesDataToSource(S)),x=x||{},T=(T||[]).slice();for(var w=(x.dimsDef||[]).slice(),A=t(),C=t(),M=[],D=y(S,T,w,x.dimCount),L=0;L<D;L++){var P=w[L]=o({},v(w[L])?w[L]:{name:w[L]}),R=P.name,k=M[L]=new g;R!=null&&A.get(R)==null&&(k.name=k.displayName=R,A.set(R,L)),P.type!=null&&(k.type=P.type),P.displayName!=null&&(k.displayName=P.displayName)}var z=x.encodeDef;!z&&x.encodeDefaulter&&(z=x.encodeDefaulter(S,D)),z=t(z),z.each(function(H,F){if(H=h(H).slice(),H.length===1&&!a(H[0])&&H[0]<0){z.set(F,!1);return}var U=z.set(F,[]);r(H,function(W,Y){a(W)&&(W=A.get(W)),W!=null&&W<D&&(U[Y]=W,G(M[W],F,Y))})});var B=0;r(T,function(W,F){var U,W,Y,Q;if(a(W))U=W,W={};else{U=W.name;var ee=W.ordinalMeta;W.ordinalMeta=null,W=f(W),W.ordinalMeta=ee,Y=W.dimsDef,Q=W.otherDims,W.name=W.coordDim=W.coordDimIndex=W.dimsDef=W.otherDims=null}var j=z.get(U);if(j!==!1){var j=h(j);if(!j.length)for(var re=0;re<(Y&&Y.length||1);re++){for(;B<M.length&&M[B].coordDim!=null;)B++;B<M.length&&j.push(B++)}r(j,function(ae,ne){var de=M[ae];if(G(i(de,W),U,ne),de.name==null&&Y){var te=Y[ne];!v(te)&&(te={name:te}),de.name=de.displayName=te.name,de.defaultTooltip=te.defaultTooltip}Q&&i(de.otherDims,Q)})}});function G(H,F,U){p.get(F)!=null?H.otherDims[F]=U:(H.coordDim=F,H.coordDimIndex=U,C.set(F,!0))}var V=x.generateCoord,I=x.generateCoordCount,O=I!=null;I=V?I||1:0;for(var E=V||"value",N=0;N<D;N++){var k=M[N]=M[N]||new g,q=k.coordDim;q==null&&(k.coordDim=_(E,C,O),k.coordDimIndex=0,(!V||I<=0)&&(k.isExtraCoord=!0),I--),k.name==null&&(k.name=_(k.coordDim,A)),k.type==null&&(u(S,N,k.name)===l.Must||k.isExtraCoord&&(k.otherDims.itemName!=null||k.otherDims.seriesName!=null))&&(k.type="ordinal")}return M}function y(T,S,x,w){var A=Math.max(T.dimensionsDetectCount||1,S.length,x.length,w||0);return r(S,function(C){var M=C.dimsDef;M&&(A=Math.max(A,M.length))}),A}function _(T,S,x){if(x||S.get(T)!=null){for(var w=0;S.get(T+w)!=null;)w++;T+=w}return S.set(T,!0),T}var b=m;return al=b,al}var il,_m;function gi(){if(_m)return il;_m=1;var e=SC();function t(r,a){return a=a||{},e(a.coordDimensions||[],r,{dimsDef:a.dimensionsDefine||r.dimensionsDefine,encodeDef:a.encodeDefine||r.encodeDefine,dimCount:a.dimensionsCount,encodeDefaulter:a.encodeDefaulter,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})}return il=t,il}var nl={},xm;function AN(){if(xm)return nl;xm=1;var e=Z,t=e.createHashMap;e.retrieve;var r=e.each;function a(f){this.coordSysName=f,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function i(f){var n=f.get("coordinateSystem"),h=new a(n),s=o[n];if(s)return s(f,h,h.axisMap,h.categoryAxisMap),h}var o={cartesian2d:function(f,n,h,s){var u=f.getReferringComponents("xAxis")[0],l=f.getReferringComponents("yAxis")[0];n.coordSysDims=["x","y"],h.set("x",u),h.set("y",l),v(u)&&(s.set("x",u),n.firstCategoryDimIndex=0),v(l)&&(s.set("y",l),n.firstCategoryDimIndex==null&(n.firstCategoryDimIndex=1))},singleAxis:function(f,n,h,s){var u=f.getReferringComponents("singleAxis")[0];n.coordSysDims=["single"],h.set("single",u),v(u)&&(s.set("single",u),n.firstCategoryDimIndex=0)},polar:function(f,n,h,s){var u=f.getReferringComponents("polar")[0],l=u.findAxisModel("radiusAxis"),d=u.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],h.set("radius",l),h.set("angle",d),v(l)&&(s.set("radius",l),n.firstCategoryDimIndex=0),v(d)&&(s.set("angle",d),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(f,n,h,s){n.coordSysDims=["lng","lat"]},parallel:function(f,n,h,s){var u=f.ecModel,l=u.getComponent("parallel",f.get("parallelIndex")),d=n.coordSysDims=l.dimensions.slice();r(l.parallelAxisIndex,function(c,p){var g=u.getComponent("parallelAxis",c),m=d[p];h.set(m,g),v(g)&&n.firstCategoryDimIndex==null&&(s.set(m,g),n.firstCategoryDimIndex=p)})}};function v(f){return f.get("type")==="category"}return nl.getCoordSysInfoBySeries=i,nl}var Ri={},Sm;function Ar(){if(Sm)return Ri;Sm=1;var e=Z,t=e.each,r=e.isString;function a(v,f,n){n=n||{};var h=n.byIndex,s=n.stackedCoordDimension,u=!!(v&&v.get("stack")),l,d,c,p;if(t(f,function(_,b){r(_)&&(f[b]=_={name:_}),u&&!_.isExtraCoord&&(!h&&!l&&_.ordinalMeta&&(l=_),!d&&_.type!=="ordinal"&&_.type!=="time"&&(!s||s===_.coordDim)&&(d=_))}),d&&!h&&!l&&(h=!0),d){c="__\0ecstackresult",p="__\0ecstackedover",l&&(l.createInvertedIndices=!0);var g=d.coordDim,m=d.type,y=0;t(f,function(_){_.coordDim===g&&y++}),f.push({name:c,coordDim:g,coordDimIndex:y,type:m,isExtraCoord:!0,isCalculationCoord:!0}),y++,f.push({name:p,coordDim:p,coordDimIndex:y,type:m,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:d&&d.name,stackedByDimension:l&&l.name,isStackedByIndex:h,stackedOverDimension:p,stackResultDimension:c}}function i(v,f){return!!f&&f===v.getCalculationInfo("stackedDimension")}function o(v,f){return i(v,f)?v.getCalculationInfo("stackResultDimension"):f}return Ri.enableDataStack=a,Ri.isDimensionStacked=i,Ri.getStackedDimension=o,Ri}var ol,bm;function Br(){if(bm)return ol;bm=1;var e=Z,t=Wt(),r=gi(),a=fn(),i=a.SOURCE_FORMAT_ORIGINAL,o=xn(),v=o.getDimensionTypeByAxis,f=Re,n=f.getDataItemValue,h=br,s=AN(),u=s.getCoordSysInfoBySeries,l=dn(),d=Ar(),c=d.enableDataStack,p=zr(),g=p.makeSeriesEncodeForAxisCoordSys;function m(T,S,x){x=x||{},l.isInstance(T)||(T=l.seriesDataToSource(T));var w=S.get("coordinateSystem"),A=h.get(w),C=u(S),M;C&&(M=e.map(C.coordSysDims,function(B){var G={name:B},V=C.axisMap.get(B);if(V){var I=V.get("type");G.type=v(I)}return G})),M||(M=A&&(A.getDimensionsInfo?A.getDimensionsInfo():A.dimensions.slice())||["x","y"]);var D=r(T,{coordDimensions:M,generateCoord:x.generateCoord,encodeDefaulter:x.useEncodeDefaulter?e.curry(g,M,S):null}),L,P;C&&e.each(D,function(B,G){var V=B.coordDim,I=C.categoryAxisMap.get(V);I&&(L==null&&(L=G),B.ordinalMeta=I.getOrdinalMeta()),B.otherDims.itemName!=null&&(P=!0)}),!P&&L!=null&&(D[L].otherDims.itemName=0);var R=c(S,D),k=new t(D,S);k.setCalculationInfo(R);var z=L!=null&&y(T)?function(B,G,V,I){return I===L?V:this.defaultDimValueGetter(B,G,V,I)}:null;return k.hasItemOption=!1,k.initData(T,null,z),k}function y(T){if(T.sourceFormat===i){var S=_(T.data||[]);return S!=null&&!e.isArray(n(S))}}function _(T){for(var S=0;S<T.length&&T[S]==null;)S++;return T[S]}var b=m;return ol=b,ol}var Qt={},sl,wm;function Jo(){if(wm)return sl;wm=1;var e=Ot;function t(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(a){return a},t.prototype.getSetting=function(a){return this._setting[a]},t.prototype.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},t.prototype.normalize=function(a){var i=this._extent;return i[1]===i[0]?.5:(a-i[0])/(i[1]-i[0])},t.prototype.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},t.prototype.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},t.prototype.unionExtentFromData=function(a,i){this.unionExtent(a.getApproximateExtent(i))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(a,i){var o=this._extent;isNaN(a)||(o[0]=a),isNaN(i)||(o[1]=i)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(a){this._isBlank=a},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return sl=r,sl}var ll,Am;function bC(){if(Am)return ll;Am=1;var e=Z,t=e.createHashMap,r=e.isObject,a=e.map;function i(h){this.categories=h.categories||[],this._needCollect=h.needCollect,this._deduplication=h.deduplication,this._map}i.createByAxisModel=function(h){var s=h.option,u=s.data,l=u&&a(u,f);return new i({categories:l,needCollect:!l,deduplication:s.dedplication!==!1})};var o=i.prototype;o.getOrdinal=function(h){return v(this).get(h)},o.parseAndCollect=function(h){var s,u=this._needCollect;if(typeof h!="string"&&!u)return h;if(u&&!this._deduplication)return s=this.categories.length,this.categories[s]=h,s;var l=v(this);return s=l.get(h),s==null&&(u?(s=this.categories.length,this.categories[s]=h,l.set(h,s)):s=NaN),s};function v(h){return h._map||(h._map=t(h.categories))}function f(h){return r(h)&&h.value!=null?h.value:h+""}var n=i;return ll=n,ll}var ul,Tm;function TN(){if(Tm)return ul;Tm=1;var e=Z,t=Jo(),r=bC(),a=t.prototype,i=t.extend({type:"ordinal",init:function(v,f){(!v||e.isArray(v))&&(v=new r({categories:v})),this._ordinalMeta=v,this._extent=f||[0,v.categories.length-1]},parse:function(v){return typeof v=="string"?this._ordinalMeta.getOrdinal(v):Math.round(v)},contain:function(v){return v=this.parse(v),a.contain.call(this,v)&&this._ordinalMeta.categories[v]!=null},normalize:function(v){return a.normalize.call(this,this.parse(v))},scale:function(v){return Math.round(a.scale.call(this,v))},getTicks:function(){for(var v=[],f=this._extent,n=f[0];n<=f[1];)v.push(n),n++;return v},getLabel:function(v){if(!this.isBlank())return this._ordinalMeta.categories[v]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(v,f){this.unionExtent(v.getApproximateExtent(f))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});i.create=function(){return new i};var o=i;return ul=o,ul}var Ei={},Cm;function wC(){if(Cm)return Ei;Cm=1;var e=Oe(),t=e.round;function r(v,f,n,h){var s={},u=v[1]-v[0],l=s.interval=e.nice(u/f,!0);n!=null&&l<n&&(l=s.interval=n),h!=null&&l>h&&(l=s.interval=h);var d=s.intervalPrecision=a(l),c=s.niceTickExtent=[t(Math.ceil(v[0]/l)*l,d),t(Math.floor(v[1]/l)*l,d)];return o(c,v),s}function a(v){return e.getPrecisionSafe(v)+2}function i(v,f,n){v[f]=Math.max(Math.min(v[f],n[1]),n[0])}function o(v,f){!isFinite(v[0])&&(v[0]=f[0]),!isFinite(v[1])&&(v[1]=f[1]),i(v,0,f),i(v,1,f),v[0]>v[1]&&(v[0]=v[1])}return Ei.intervalScaleNiceTicks=r,Ei.getIntervalPrecision=a,Ei.fixExtent=o,Ei}var vl,Mm;function jo(){if(Mm)return vl;Mm=1;var e=Oe(),t=Ke(),r=Jo(),a=wC(),i=e.round,o=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(f,n){var h=this._extent;isNaN(f)||(h[0]=parseFloat(f)),isNaN(n)||(h[1]=parseFloat(n))},unionExtent:function(f){var n=this._extent;f[0]<n[0]&&(n[0]=f[0]),f[1]>n[1]&&(n[1]=f[1]),o.prototype.setExtent.call(this,n[0],n[1])},getInterval:function(){return this._interval},setInterval:function(f){this._interval=f,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(f)},getTicks:function(f){var n=this._interval,h=this._extent,s=this._niceExtent,u=this._intervalPrecision,l=[];if(!n)return l;var d=1e4;h[0]<s[0]&&(f?l.push(i(s[0]-n,u)):l.push(h[0]));for(var c=s[0];c<=s[1]&&(l.push(c),c=i(c+n,u),c!==l[l.length-1]);)if(l.length>d)return[];var p=l.length?l[l.length-1]:s[1];return h[1]>p&&(f?l.push(i(p+n,u)):l.push(h[1])),l},getMinorTicks:function(f){for(var n=this.getTicks(!0),h=[],s=this.getExtent(),u=1;u<n.length;u++){for(var l=n[u],d=n[u-1],c=0,p=[],g=l-d,m=g/f;c<f-1;){var y=e.round(d+(c+1)*m);y>s[0]&&y<s[1]&&p.push(y),c++}h.push(p)}return h},getLabel:function(f,n){if(f==null)return"";var h=n&&n.precision;return h==null?h=e.getPrecisionSafe(f)||0:h==="auto"&&(h=this._intervalPrecision),f=i(f,h,!0),t.addCommas(f)},niceTicks:function(f,n,h){f=f||5;var s=this._extent,u=s[1]-s[0];if(isFinite(u)){u<0&&(u=-u,s.reverse());var l=a.intervalScaleNiceTicks(s,f,n,h);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},niceExtent:function(f){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var h=n[0];f.fixMax||(n[1]+=h/2),n[0]-=h/2}else n[1]=1;var s=n[1]-n[0];isFinite(s)||(n[0]=0,n[1]=1),this.niceTicks(f.splitNumber,f.minInterval,f.maxInterval);var u=this._interval;f.fixMin||(n[0]=i(Math.floor(n[0]/u)*u)),f.fixMax||(n[1]=i(Math.ceil(n[1]/u)*u))}});o.create=function(){return new o};var v=o;return vl=v,vl}var Fr={},Dm;function es(){if(Dm)return Fr;Dm=1;var e=Z,t=Oe(),r=t.parsePercent,a=Ar(),i=a.isDimensionStacked,o=fi,v="__ec_stack_",f=.5,n=typeof Float32Array<"u"?Float32Array:Array;function h(S){return S.get("stack")||v+S.seriesIndex}function s(S){return S.dim+S.index}function u(S){var x=[],w=S.axis,A="axis0";if(w.type==="category"){for(var C=w.getBandWidth(),M=0;M<S.count;M++)x.push(e.defaults({bandWidth:C,axisKey:A,stackId:v+M},S));for(var D=p(x),L=[],M=0;M<S.count;M++){var P=D[A][v+M];P.offsetCenter=P.offset+P.width/2,L.push(P)}return L}}function l(S,x){var w=[];return x.eachSeriesByType(S,function(A){_(A)&&!b(A)&&w.push(A)}),w}function d(S){var x={};e.each(S,function(P){var R=P.coordinateSystem,k=R.getBaseAxis();if(!(k.type!=="time"&&k.type!=="value"))for(var z=P.getData(),B=k.dim+"_"+k.index,G=z.mapDimension(k.dim),V=0,I=z.count();V<I;++V){var O=z.get(G,V);x[B]?x[B].push(O):x[B]=[O]}});var w=[];for(var A in x)if(x.hasOwnProperty(A)){var C=x[A];if(C){C.sort(function(P,R){return P-R});for(var M=null,D=1;D<C.length;++D){var L=C[D]-C[D-1];L>0&&(M=M===null?L:Math.min(M,L))}w[A]=M}}return w}function c(S){var x=d(S),w=[];return e.each(S,function(A){var C=A.coordinateSystem,M=C.getBaseAxis(),D=M.getExtent(),L;if(M.type==="category")L=M.getBandWidth();else if(M.type==="value"||M.type==="time"){var P=M.dim+"_"+M.index,R=x[P],k=Math.abs(D[1]-D[0]),z=M.scale.getExtent(),B=Math.abs(z[1]-z[0]);L=R?k/B*R:k}else{var G=A.getData();L=Math.abs(D[1]-D[0])/G.count()}var V=r(A.get("barWidth"),L),I=r(A.get("barMaxWidth"),L),O=r(A.get("barMinWidth")||1,L),E=A.get("barGap"),N=A.get("barCategoryGap");w.push({bandWidth:L,barWidth:V,barMaxWidth:I,barMinWidth:O,barGap:E,barCategoryGap:N,axisKey:s(M),stackId:h(A)})}),p(w)}function p(S){var x={};e.each(S,function(A,C){var M=A.axisKey,D=A.bandWidth,L=x[M]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},P=L.stacks;x[M]=L;var R=A.stackId;P[R]||L.autoWidthCount++,P[R]=P[R]||{width:0,maxWidth:0};var k=A.barWidth;k&&!P[R].width&&(P[R].width=k,k=Math.min(L.remainedWidth,k),L.remainedWidth-=k);var z=A.barMaxWidth;z&&(P[R].maxWidth=z);var B=A.barMinWidth;B&&(P[R].minWidth=B);var G=A.barGap;G!=null&&(L.gap=G);var V=A.barCategoryGap;V!=null&&(L.categoryGap=V)});var w={};return e.each(x,function(A,C){w[C]={};var M=A.stacks,D=A.bandWidth,L=r(A.categoryGap,D),P=r(A.gap,1),R=A.remainedWidth,k=A.autoWidthCount,z=(R-L)/(k+(k-1)*P);z=Math.max(z,0),e.each(M,function(I){var O=I.maxWidth,E=I.minWidth;if(I.width){var N=I.width;O&&(N=Math.min(N,O)),E&&(N=Math.max(N,E)),I.width=N,R-=N+P*N,k--}else{var N=z;O&&O<N&&(N=Math.min(O,R)),E&&E>N&&(N=E),N!==z&&(I.width=N,R-=N+P*N,k--)}}),z=(R-L)/(k+(k-1)*P),z=Math.max(z,0);var B=0,G;e.each(M,function(I,O){I.width||(I.width=z),G=I,B+=I.width*(1+P)}),G&&(B-=G.width*P);var V=-B/2;e.each(M,function(I,O){w[C][O]=w[C][O]||{bandWidth:D,offset:V,width:I.width},V+=I.width*(1+P)})}),w}function g(S,x,w){if(S&&x){var A=S[s(x)];return A!=null&&w!=null&&(A=A[h(w)]),A}}function m(S,x){var w=l(S,x),A=c(w),C={};e.each(w,function(M){var D=M.getData(),L=M.coordinateSystem,P=L.getBaseAxis(),R=h(M),k=A[s(P)][R],z=k.offset,B=k.width,G=L.getOtherAxis(P),V=M.get("barMinHeight")||0;C[R]=C[R]||[],D.setLayout({bandWidth:k.bandWidth,offset:z,size:B});for(var I=D.mapDimension(G.dim),O=D.mapDimension(P.dim),E=i(D,I),N=G.isHorizontal(),q=T(P,G),H=0,F=D.count();H<F;H++){var U=D.get(I,H),W=D.get(O,H),Y=U>=0?"p":"n",Q=q;E&&(C[R][W]||(C[R][W]={p:q,n:q}),Q=C[R][W][Y]);var ee,j,re,ae;if(N){var ne=L.dataToPoint([U,W]);ee=Q,j=ne[1]+z,re=ne[0]-q,ae=B,Math.abs(re)<V&&(re=(re<0?-1:1)*V),isNaN(re)||E&&(C[R][W][Y]+=re)}else{var ne=L.dataToPoint([W,U]);ee=ne[0]+z,j=Q,re=B,ae=ne[1]-q,Math.abs(ae)<V&&(ae=(ae<=0?-1:1)*V),isNaN(ae)||E&&(C[R][W][Y]+=ae)}D.setItemLayout(H,{x:ee,y:j,width:re,height:ae})}},this)}var y={seriesType:"bar",plan:o(),reset:function(S){if(!_(S)||!b(S))return;var x=S.getData(),w=S.coordinateSystem,A=w.grid.getRect(),C=w.getBaseAxis(),M=w.getOtherAxis(C),D=x.mapDimension(M.dim),L=x.mapDimension(C.dim),P=M.isHorizontal(),R=P?0:1,k=g(c([S]),C,S).width;return k>f||(k=f),{progress:z};function z(B,G){for(var V=B.count,I=new n(V*2),O=new n(V*2),E=new n(V),N,q=[],H=[],F=0,U=0;(N=B.next())!=null;)H[R]=G.get(D,N),H[1-R]=G.get(L,N),q=w.dataToPoint(H,null,q),O[F]=P?A.x+A.width:q[0],I[F++]=q[0],O[F]=P?q[1]:A.y+A.height,I[F++]=q[1],E[U++]=N;G.setLayout({largePoints:I,largeDataIndices:E,largeBackgroundPoints:O,barWidth:k,valueAxisStart:T(C,M),backgroundStart:P?A.x:A.y,valueAxisHorizontal:P})}}};function _(S){return S.coordinateSystem&&S.coordinateSystem.type==="cartesian2d"}function b(S){return S.pipelineContext&&S.pipelineContext.large}function T(S,x,w){return x.toGlobalCoord(x.dataToCoord(x.type==="log"?1:0))}return Fr.getLayoutOnAxis=u,Fr.prepareLayoutBarSeries=l,Fr.makeColumnLayout=c,Fr.retrieveColumnLayout=g,Fr.layout=m,Fr.largeLayout=y,Fr}var hl,Lm;function CN(){if(Lm)return hl;Lm=1;var e=Z,t=Oe(),r=Ke(),a=wC(),i=jo(),o=i.prototype,v=Math.ceil,f=Math.floor,n=1e3,h=n*60,s=h*60,u=s*24,l=function(g,m,y,_){for(;y<_;){var b=y+_>>>1;g[b][1]<m?y=b+1:_=b}return y},d=i.extend({type:"time",getLabel:function(g){var m=this._stepLvl,y=new Date(g);return r.formatTime(m[0],y,this.getSetting("useUTC"))},niceExtent:function(g){var m=this._extent;if(m[0]===m[1]&&(m[0]-=u,m[1]+=u),m[1]===-1/0&&m[0]===1/0){var y=new Date;m[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),m[0]=m[1]-u}this.niceTicks(g.splitNumber,g.minInterval,g.maxInterval);var _=this._interval;g.fixMin||(m[0]=t.round(f(m[0]/_)*_)),g.fixMax||(m[1]=t.round(v(m[1]/_)*_))},niceTicks:function(g,m,y){g=g||10;var _=this._extent,b=_[1]-_[0],T=b/g;m!=null&&T<m&&(T=m),y!=null&&T>y&&(T=y);var S=c.length,x=l(c,T,0,S),w=c[Math.min(x,S-1)],A=w[1];if(w[0]==="year"){var C=b/A,M=t.nice(C/g,!0);A*=M}var D=this.getSetting("useUTC")?0:new Date(+_[0]||+_[1]).getTimezoneOffset()*60*1e3,L=[Math.round(v((_[0]-D)/A)*A+D),Math.round(f((_[1]-D)/A)*A+D)];a.fixExtent(L,_),this._stepLvl=w,this._interval=A,this._niceExtent=L},parse:function(g){return+t.parseDate(g)}});e.each(["contain","normalize"],function(g){d.prototype[g]=function(m){return o[g].call(this,this.parse(m))}});var c=[["hh:mm:ss",n],["hh:mm:ss",n*5],["hh:mm:ss",n*10],["hh:mm:ss",n*15],["hh:mm:ss",n*30],[`hh:mm
MM-dd`,h],[`hh:mm
MM-dd`,h*5],[`hh:mm
MM-dd`,h*10],[`hh:mm
MM-dd`,h*15],[`hh:mm
MM-dd`,h*30],[`hh:mm
MM-dd`,s],[`hh:mm
MM-dd`,s*2],[`hh:mm
MM-dd`,s*6],[`hh:mm
MM-dd`,s*12],[`MM-dd
yyyy`,u],[`MM-dd
yyyy`,u*2],[`MM-dd
yyyy`,u*3],[`MM-dd
yyyy`,u*4],[`MM-dd
yyyy`,u*5],[`MM-dd
yyyy`,u*6],["week",u*7],[`MM-dd
yyyy`,u*10],["week",u*14],["week",u*21],["month",u*31],["week",u*42],["month",u*62],["week",u*70],["quarter",u*95],["month",u*31*4],["month",u*31*5],["half-year",u*380/2],["month",u*31*8],["month",u*31*10],["year",u*380]];d.create=function(g){return new d({useUTC:g.ecModel.get("useUTC")})};var p=d;return hl=p,hl}var cl,Pm;function AC(){if(Pm)return cl;Pm=1;var e=Z,t=Jo(),r=Oe(),a=jo(),i=t.prototype,o=a.prototype,v=r.getPrecisionSafe,f=r.round,n=Math.floor,h=Math.ceil,s=Math.pow,u=Math.log,l=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new a},getTicks:function(p){var g=this._originalScale,m=this._extent,y=g.getExtent();return e.map(o.getTicks.call(this,p),function(_){var b=r.round(s(this.base,_));return b=_===m[0]&&g.__fixMin?d(b,y[0]):b,b=_===m[1]&&g.__fixMax?d(b,y[1]):b,b},this)},getMinorTicks:o.getMinorTicks,getLabel:o.getLabel,scale:function(p){return p=i.scale.call(this,p),s(this.base,p)},setExtent:function(p,g){var m=this.base;p=u(p)/u(m),g=u(g)/u(m),o.setExtent.call(this,p,g)},getExtent:function(){var p=this.base,g=i.getExtent.call(this);g[0]=s(p,g[0]),g[1]=s(p,g[1]);var m=this._originalScale,y=m.getExtent();return m.__fixMin&&(g[0]=d(g[0],y[0])),m.__fixMax&&(g[1]=d(g[1],y[1])),g},unionExtent:function(p){this._originalScale.unionExtent(p);var g=this.base;p[0]=u(p[0])/u(g),p[1]=u(p[1])/u(g),i.unionExtent.call(this,p)},unionExtentFromData:function(p,g){this.unionExtent(p.getApproximateExtent(g))},niceTicks:function(p){p=p||10;var g=this._extent,m=g[1]-g[0];if(!(m===1/0||m<=0)){var y=r.quantity(m),_=p/m*y;for(_<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var b=[r.round(h(g[0]/y)*y),r.round(n(g[1]/y)*y)];this._interval=y,this._niceExtent=b}},niceExtent:function(p){o.niceExtent.call(this,p);var g=this._originalScale;g.__fixMin=p.fixMin,g.__fixMax=p.fixMax}});e.each(["contain","normalize"],function(p){l.prototype[p]=function(g){return g=u(g)/u(this.base),i[p].call(this,g)}}),l.create=function(){return new l};function d(p,g){return f(p,v(g))}var c=l;return cl=c,cl}var Im;function sr(){if(Im)return Qt;Im=1;var e=Z,t=TN(),r=jo(),a=Jo(),i=Oe(),o=es(),v=o.prepareLayoutBarSeries,f=o.makeColumnLayout,n=o.retrieveColumnLayout,h=Xe;CN(),AC();function s(T,S){var x=T.type,w=S.getMin(),A=S.getMax(),C=w!=null,M=A!=null,D=T.getExtent(),L,P,R;x==="ordinal"?L=S.getCategories().length:(P=S.get("boundaryGap"),e.isArray(P)||(P=[P||0,P||0]),typeof P[0]=="boolean"&&(P=[0,0]),P[0]=i.parsePercent(P[0],1),P[1]=i.parsePercent(P[1],1),R=D[1]-D[0]||Math.abs(D[0])),w==null&&(w=x==="ordinal"?L?0:NaN:D[0]-P[0]*R),A==null&&(A=x==="ordinal"?L?L-1:NaN:D[1]+P[1]*R),w==="dataMin"?w=D[0]:typeof w=="function"&&(w=w({min:D[0],max:D[1]})),A==="dataMax"?A=D[1]:typeof A=="function"&&(A=A({min:D[0],max:D[1]})),(w==null||!isFinite(w))&&(w=NaN),(A==null||!isFinite(A))&&(A=NaN),T.setBlank(e.eqNaN(w)||e.eqNaN(A)||x==="ordinal"&&!T.getOrdinalMeta().categories.length),S.getNeedCrossZero()&&(w>0&&A>0&&!C&&(w=0),w<0&&A<0&&!M&&(A=0));var k=S.ecModel;if(k&&x==="time"){var z=v("bar",k),B;if(e.each(z,function(I){B|=I.getBaseAxis()===S.axis}),B){var G=f(z),V=u(w,A,S,G);w=V.min,A=V.max}}return[w,A]}function u(T,S,x,w){var A=x.axis.getExtent(),C=A[1]-A[0],M=n(w,x.axis);if(M===void 0)return{min:T,max:S};var D=1/0;e.each(M,function(B){D=Math.min(B.offset,D)});var L=-1/0;e.each(M,function(B){L=Math.max(B.offset+B.width,L)}),D=Math.abs(D),L=Math.abs(L);var P=D+L,R=S-T,k=1-(D+L)/C,z=R/k-R;return S+=z*(L/P),T-=z*(D/P),{min:T,max:S}}function l(T,S){var x=s(T,S),w=S.getMin()!=null,A=S.getMax()!=null,C=S.get("splitNumber");T.type==="log"&&(T.base=S.get("logBase"));var M=T.type;T.setExtent(x[0],x[1]),T.niceExtent({splitNumber:C,fixMin:w,fixMax:A,minInterval:M==="interval"||M==="time"?S.get("minInterval"):null,maxInterval:M==="interval"||M==="time"?S.get("maxInterval"):null});var D=S.get("interval");D!=null&&T.setInterval&&T.setInterval(D)}function d(T,S){if(S=S||T.get("type"),S)switch(S){case"category":return new t(T.getOrdinalMeta?T.getOrdinalMeta():T.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(a.getClass(S)||r).create(T)}}function c(T){var S=T.scale.getExtent(),x=S[0],w=S[1];return!(x>0&&w>0||x<0&&w<0)}function p(T){var S=T.getLabelModel().get("formatter"),x=T.type==="category"?T.scale.getExtent()[0]:null;return typeof S=="string"?(S=function(w){return function(A){return A=T.scale.getLabel(A),w.replace("{value}",A??"")}}(S),S):typeof S=="function"?function(w,A){return x!=null&&(A=w-x),S(g(T,w),A)}:function(w){return T.scale.getLabel(w)}}function g(T,S){return T.type==="category"?T.scale.getLabel(S):S}function m(T){var S=T.model,x=T.scale;if(!(!S.get("axisLabel.show")||x.isBlank())){var w=T.type==="category",A,C,M=x.getExtent();w?C=x.count():(A=x.getTicks(),C=A.length);var D=T.getLabelModel(),L=p(T),P,R=1;C>40&&(R=Math.ceil(C/40));for(var k=0;k<C;k+=R){var z=A?A[k]:M[0]+k,B=L(z),G=D.getTextRect(B),V=y(G,D.get("rotate")||0);P?P.union(V):P=V}return P}}function y(T,S){var x=S*Math.PI/180,w=T.plain(),A=w.width,C=w.height,M=A*Math.cos(x)+C*Math.sin(x),D=A*Math.sin(x)+C*Math.cos(x),L=new h(w.x,w.y,M,D);return L}function _(T){var S=T.get("interval");return S??"auto"}function b(T){return T.type==="category"&&_(T.getLabelModel())===0}return Qt.getScaleExtent=s,Qt.niceScaleExtent=l,Qt.createScaleByModel=d,Qt.ifAxisCrossZero=c,Qt.makeLabelFormatter=p,Qt.getAxisRawValue=g,Qt.estimateLabelUnionRect=m,Qt.getOptionCategoryInterval=_,Qt.shouldShowAllLabels=b,Qt}var fl,Rm;function pi(){if(Rm)return fl;Rm=1;var e=Z,t={getMin:function(r){var a=this.option,i=!r&&a.rangeStart!=null?a.rangeStart:a.min;return this.axis&&i!=null&&i!=="dataMin"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(r){var a=this.option,i=!r&&a.rangeEnd!=null?a.rangeEnd:a.max;return this.axis&&i!=null&&i!=="dataMax"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,a){this.option.rangeStart=r,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return fl=t,fl}var dl={},Em;function Zt(){if(Em)return dl;Em=1;var e=Z,t=ye,r=Xe,a=$t(),i=a.calculateTextPosition,o=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(p,g){var m=g.cx,y=g.cy,_=g.width/2,b=g.height/2;p.moveTo(m,y-b),p.lineTo(m+_,y+b),p.lineTo(m-_,y+b),p.closePath()}}),v=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(p,g){var m=g.cx,y=g.cy,_=g.width/2,b=g.height/2;p.moveTo(m,y-b),p.lineTo(m+_,y),p.lineTo(m,y+b),p.lineTo(m-_,y),p.closePath()}}),f=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(p,g){var m=g.x,y=g.y,_=g.width/5*3,b=Math.max(_,g.height),T=_/2,S=T*T/(b-T),x=y-b+T+S,w=Math.asin(S/T),A=Math.cos(w)*T,C=Math.sin(w),M=Math.cos(w),D=T*.6,L=T*.7;p.moveTo(m-A,x+S),p.arc(m,x,T,Math.PI-w,Math.PI*2+w),p.bezierCurveTo(m+A-C*D,x+S+M*D,m,y-L,m,y),p.bezierCurveTo(m,y-L,m-A+C*D,x+S+M*D,m-A,x+S),p.closePath()}}),n=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(p,g){var m=g.height,y=g.width,_=g.x,b=g.y,T=y/3*2;p.moveTo(_,b),p.lineTo(_+T,b+m),p.lineTo(_,b+m/4*3),p.lineTo(_-T,b+m),p.lineTo(_,b),p.closePath()}}),h={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:v,pin:f,arrow:n,triangle:o},s={line:function(p,g,m,y,_){_.x1=p,_.y1=g+y/2,_.x2=p+m,_.y2=g+y/2},rect:function(p,g,m,y,_){_.x=p,_.y=g,_.width=m,_.height=y},roundRect:function(p,g,m,y,_){_.x=p,_.y=g,_.width=m,_.height=y,_.r=Math.min(m,y)/4},square:function(p,g,m,y,_){var b=Math.min(m,y);_.x=p,_.y=g,_.width=b,_.height=b},circle:function(p,g,m,y,_){_.cx=p+m/2,_.cy=g+y/2,_.r=Math.min(m,y)/2},diamond:function(p,g,m,y,_){_.cx=p+m/2,_.cy=g+y/2,_.width=m,_.height=y},pin:function(p,g,m,y,_){_.x=p+m/2,_.y=g+y/2,_.width=m,_.height=y},arrow:function(p,g,m,y,_){_.x=p+m/2,_.y=g+y/2,_.width=m,_.height=y},triangle:function(p,g,m,y,_){_.cx=p+m/2,_.cy=g+y/2,_.width=m,_.height=y}},u={};e.each(h,function(p,g){u[g]=new p});var l=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(p,g,m){var y=i(p,g,m),_=this.shape;return _&&_.symbolType==="pin"&&g.textPosition==="inside"&&(y.y=m.y+m.height*.4),y},buildPath:function(p,g,m){var y=g.symbolType;if(y!=="none"){var _=u[y];_||(y="rect",_=u[y]),s[y](g.x,g.y,g.width,g.height,_.shape),_.buildPath(p,_.shape,m)}}});function d(p,g){if(this.type!=="image"){var m=this.style,y=this.shape;y&&y.symbolType==="line"?m.stroke=p:this.__isEmptyBrush?(m.stroke=p,m.fill=g||"#fff"):(m.fill&&(m.fill=p),m.stroke&&(m.stroke=p)),this.dirty(!1)}}function c(p,g,m,y,_,b,T){var S=p.indexOf("empty")===0;S&&(p=p.substr(5,1).toLowerCase()+p.substr(6));var x;return p.indexOf("image://")===0?x=t.makeImage(p.slice(8),new r(g,m,y,_),T?"center":"cover"):p.indexOf("path://")===0?x=t.makePath(p.slice(7),{},new r(g,m,y,_),T?"center":"cover"):x=new l({shape:{symbolType:p,x:g,y:m,width:y,height:_}}),x.__isEmptyBrush=S,x.setColor=d,x.setColor(b),x}return dl.createSymbol=c,dl}var km;function MN(){if(km)return dr;km=1;var e=Z,t=Br(),r=sr(),a=pi(),i=vt,o=Ne;o.getLayoutRect,dr.getLayoutRect=o.getLayoutRect;var v=Ar(),f=v.enableDataStack,n=v.isDimensionStacked,h=v.getStackedDimension,s=SC();dr.completeDimensions=s;var u=gi();dr.createDimensions=u;var l=Zt();dr.createSymbol=l.createSymbol;function d(m){return t(m.getSource(),m)}var c={isDimensionStacked:n,enableDataStack:f,getStackedDimension:h};function p(m,y){var _=y;i.isInstance(y)||(_=new i(y),e.mixin(_,a));var b=r.createScaleByModel(_);return b.setExtent(m[0],m[1]),r.niceScaleExtent(b,_),b}function g(m){e.mixin(m,a)}return dr.createList=d,dr.dataStack=c,dr.createScale=p,dr.mixinAxisModelCommonMethods=g,dr}var gl={},Om;function TC(){if(Om)return gl;Om=1;var e=rT,t=1e-8;function r(i,o){return Math.abs(i-o)<t}function a(i,o,v){var f=0,n=i[0];if(!n)return!1;for(var h=1;h<i.length;h++){var s=i[h];f+=e(n[0],n[1],s[0],s[1],o,v),n=s}var u=i[0];return(!r(n[0],u[0])||!r(n[1],u[1]))&&(f+=e(n[0],n[1],u[0],u[1],o,v)),f!==0}return gl.contain=a,gl}var pl,zm;function CC(){if(zm)return pl;zm=1;var e=Xe,t=qo(),r=Ye(),a=TC();function i(v,f,n){if(this.name=v,this.geometries=f,n)n=[n[0],n[1]];else{var h=this.getBoundingRect();n=[h.x+h.width/2,h.y+h.height/2]}this.center=n}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var v=this._rect;if(v)return v;for(var f=Number.MAX_VALUE,n=[f,f],h=[-f,-f],s=[],u=[],l=this.geometries,d=0;d<l.length;d++)if(l[d].type==="polygon"){var c=l[d].exterior;t.fromPoints(c,s,u),r.min(n,n,s),r.max(h,h,u)}return d===0&&(n[0]=n[1]=h[0]=h[1]=0),this._rect=new e(n[0],n[1],h[0]-n[0],h[1]-n[1])},contain:function(v){var f=this.getBoundingRect(),n=this.geometries;if(!f.contain(v[0],v[1]))return!1;e:for(var h=0,s=n.length;h<s;h++)if(n[h].type==="polygon"){var u=n[h].exterior,l=n[h].interiors;if(a.contain(u,v[0],v[1])){for(var d=0;d<(l?l.length:0);d++)if(a.contain(l[d]))continue e;return!0}}return!1},transformTo:function(v,f,n,h){var s=this.getBoundingRect(),u=s.width/s.height;n?h||(h=n/u):n=u*h;for(var l=new e(v,f,n,h),d=s.calculateTransform(l),c=this.geometries,p=0;p<c.length;p++)if(c[p].type==="polygon"){for(var g=c[p].exterior,m=c[p].interiors,y=0;y<g.length;y++)r.applyTransform(g[y],g[y],d);for(var _=0;_<(m?m.length:0);_++)for(var y=0;y<m[_].length;y++)r.applyTransform(m[_][y],m[_][y],d)}s=this._rect,s.copy(l),this.center=[s.x+s.width/2,s.y+s.height/2]},cloneShallow:function(v){v==null&&(v=this.name);var f=new i(v,this.geometries,this.center);return f._rect=this._rect,f.transformTo=null,f}};var o=i;return pl=o,pl}var ml,Bm;function MC(){if(Bm)return ml;Bm=1;var e=Z,t=CC();function r(o){if(!o.UTF8Encoding)return o;var v=o.UTF8Scale;v==null&&(v=1024);for(var f=o.features,n=0;n<f.length;n++)for(var h=f[n],s=h.geometry,u=s.coordinates,l=s.encodeOffsets,d=0;d<u.length;d++){var c=u[d];if(s.type==="Polygon")u[d]=a(c,l[d],v);else if(s.type==="MultiPolygon")for(var p=0;p<c.length;p++){var g=c[p];c[p]=a(g,l[d][p],v)}}return o.UTF8Encoding=!1,o}function a(o,v,f){for(var n=[],h=v[0],s=v[1],u=0;u<o.length;u+=2){var l=o.charCodeAt(u)-64,d=o.charCodeAt(u+1)-64;l=l>>1^-(l&1),d=d>>1^-(d&1),l+=h,d+=s,h=l,s=d,n.push([l/f,d/f])}return n}function i(o){return r(o),e.map(e.filter(o.features,function(v){return v.geometry&&v.properties&&v.geometry.coordinates.length>0}),function(v){var f=v.properties,n=v.geometry,h=n.coordinates,s=[];n.type==="Polygon"&&s.push({type:"polygon",exterior:h[0],interiors:h.slice(1)}),n.type==="MultiPolygon"&&e.each(h,function(l){l[0]&&s.push({type:"polygon",exterior:l[0],interiors:l.slice(1)})});var u=new t(f.name,s,f.cp);return u.properties=f,u})}return ml=i,ml}var ki={},Nm;function DN(){if(Nm)return ki;Nm=1;var e=Z,t=$t(),r=Re,a=r.makeInner,i=sr(),o=i.makeLabelFormatter,v=i.getOptionCategoryInterval,f=i.shouldShowAllLabels,n=a();function h(x){return x.type==="category"?u(x):c(x)}function s(x,w){return x.type==="category"?d(x,w):{ticks:x.scale.getTicks()}}function u(x){var w=x.getLabelModel(),A=l(x,w);return!w.get("show")||x.scale.isBlank()?{labels:[],labelCategoryInterval:A.labelCategoryInterval}:A}function l(x,w){var A=p(x,"labels"),C=v(w),M=g(A,C);if(M)return M;var D,L;return e.isFunction(C)?D=S(x,C):(L=C==="auto"?y(x):C,D=T(x,L)),m(A,C,{labels:D,labelCategoryInterval:L})}function d(x,w){var A=p(x,"ticks"),C=v(w),M=g(A,C);if(M)return M;var D,L;if((!w.get("show")||x.scale.isBlank())&&(D=[]),e.isFunction(C))D=S(x,C,!0);else if(C==="auto"){var P=l(x,x.getLabelModel());L=P.labelCategoryInterval,D=e.map(P.labels,function(R){return R.tickValue})}else L=C,D=T(x,L,!0);return m(A,C,{ticks:D,tickCategoryInterval:L})}function c(x){var w=x.scale.getTicks(),A=o(x);return{labels:e.map(w,function(C,M){return{formattedLabel:A(C,M),rawLabel:x.scale.getLabel(C),tickValue:C}})}}function p(x,w){return n(x)[w]||(n(x)[w]=[])}function g(x,w){for(var A=0;A<x.length;A++)if(x[A].key===w)return x[A].value}function m(x,w,A){return x.push({key:w,value:A}),A}function y(x){var w=n(x).autoInterval;return w??(n(x).autoInterval=x.calculateCategoryInterval())}function _(x){var w=b(x),A=o(x),C=(w.axisRotate-w.labelRotate)/180*Math.PI,M=x.scale,D=M.getExtent(),L=M.count();if(D[1]-D[0]<1)return 0;var P=1;L>40&&(P=Math.max(1,Math.floor(L/40)));for(var R=D[0],k=x.dataToCoord(R+1)-x.dataToCoord(R),z=Math.abs(k*Math.cos(C)),B=Math.abs(k*Math.sin(C)),G=0,V=0;R<=D[1];R+=P){var I=0,O=0,E=t.getBoundingRect(A(R),w.font,"center","top");I=E.width*1.3,O=E.height*1.3,G=Math.max(G,I,7),V=Math.max(V,O,7)}var N=G/z,q=V/B;isNaN(N)&&(N=1/0),isNaN(q)&&(q=1/0);var H=Math.max(0,Math.floor(Math.min(N,q))),F=n(x.model),U=x.getExtent(),W=F.lastAutoInterval,Y=F.lastTickCount;return W!=null&&Y!=null&&Math.abs(W-H)<=1&&Math.abs(Y-L)<=1&&W>H&&F.axisExtend0===U[0]&&F.axisExtend1===U[1]?H=W:(F.lastTickCount=L,F.lastAutoInterval=H,F.axisExtend0=U[0],F.axisExtend1=U[1]),H}function b(x){var w=x.getLabelModel();return{axisRotate:x.getRotate?x.getRotate():x.isHorizontal&&!x.isHorizontal()?90:0,labelRotate:w.get("rotate")||0,font:w.getFont()}}function T(x,w,A){var C=o(x),M=x.scale,D=M.getExtent(),L=x.getLabelModel(),P=[],R=Math.max((w||0)+1,1),k=D[0],z=M.count();k!==0&&R>1&&z/R>2&&(k=Math.round(Math.ceil(k/R)*R));var B=f(x),G=L.get("showMinLabel")||B,V=L.get("showMaxLabel")||B;G&&k!==D[0]&&O(D[0]);for(var I=k;I<=D[1];I+=R)O(I);V&&I-R!==D[1]&&O(D[1]);function O(E){P.push(A?E:{formattedLabel:C(E),rawLabel:M.getLabel(E),tickValue:E})}return P}function S(x,w,A){var C=x.scale,M=o(x),D=[];return e.each(C.getTicks(),function(L){var P=C.getLabel(L);w(L,P)&&D.push(A?L:{formattedLabel:M(L),rawLabel:P,tickValue:L})}),D}return ki.createAxisLabels=h,ki.createAxisTicks=s,ki.calculateCategoryInterval=_,ki}var yl,Vm;function aa(){if(Vm)return yl;Vm=1;var e=Z,t=e.each,r=e.map,a=Oe(),i=a.linearMap,o=a.getPixelPrecision,v=a.round,f=DN(),n=f.createAxisTicks,h=f.createAxisLabels,s=f.calculateCategoryInterval,u=[0,1],l=function(g,m,y){this.dim=g,this.scale=m,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(g){var m=this._extent,y=Math.min(m[0],m[1]),_=Math.max(m[0],m[1]);return g>=y&&g<=_},containData:function(g){return this.scale.contain(g)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(g){return o(g||this.scale.getExtent(),this._extent)},setExtent:function(g,m){var y=this._extent;y[0]=g,y[1]=m},dataToCoord:function(g,m){var y=this._extent,_=this.scale;return g=_.normalize(g),this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count())),i(g,u,y,m)},coordToData:function(g,m){var y=this._extent,_=this.scale;this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count()));var b=i(g,y,u,m);return this.scale.scale(b)},pointToData:function(g,m){},getTicksCoords:function(g){g=g||{};var m=g.tickModel||this.getTickModel(),y=n(this,m),_=y.ticks,b=r(_,function(S){return{coord:this.dataToCoord(S),tickValue:S}},this),T=m.get("alignWithLabel");return c(this,b,T,g.clamp),b},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var g=this.model.getModel("minorTick"),m=g.get("splitNumber");m>0&&m<100||(m=5);var y=this.scale.getMinorTicks(m),_=r(y,function(b){return r(b,function(T){return{coord:this.dataToCoord(T),tickValue:T}},this)},this);return _},getViewLabels:function(){return h(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var g=this._extent,m=this.scale.getExtent(),y=m[1]-m[0]+(this.onBand?1:0);y===0&&(y=1);var _=Math.abs(g[1]-g[0]);return Math.abs(_)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return s(this)}};function d(g,m){var y=g[1]-g[0],_=m,b=y/_/2;g[0]+=b,g[1]-=b}function c(g,m,y,_){var b=m.length;if(!g.onBand||y||!b)return;var T=g.getExtent(),S,x;if(b===1)m[0].coord=T[0],S=m[1]={coord:T[0]};else{var w=m[b-1].tickValue-m[0].tickValue,A=(m[b-1].coord-m[0].coord)/w;t(m,function(L){L.coord-=A/2});var C=g.scale.getExtent();x=1+C[1]-m[b-1].tickValue,S={coord:m[b-1].coord+A*x},m.push(S)}var M=T[0]>T[1];D(m[0].coord,T[0])&&(_?m[0].coord=T[0]:m.shift()),_&&D(T[0],m[0].coord)&&m.unshift({coord:T[0]}),D(T[1],S.coord)&&(_?S.coord=T[1]:m.pop()),_&&D(S.coord,T[1])&&m.push({coord:T[1]});function D(L,P){return L=v(L),P=v(P),M?L>P:L<P}}var p=l;return yl=p,yl}var Hm;function DC(){if(Hm)return pt;Hm=1;var e=Or;pt.zrender=e;var t=Pt();pt.matrix=t;var r=Ye();pt.vector=r;var a=Z,i=lt;pt.color=i;var o=ye,v=Oe();pt.number=v;var f=Ke();pt.format=f;var n=or;n.throttle,pt.throttle=n.throttle;var h=MN();pt.helper=h;var s=MC();pt.parseGeoJSON=s;var u=Wt();pt.List=u;var l=vt;pt.Model=l;var d=aa();pt.Axis=d;var c=nt;pt.env=c;var p=s,g={};a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){g[y]=a[y]});var m={};return a.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){m[y]=o[y]}),pt.parseGeoJson=p,pt.util=g,pt.graphic=m,pt}(function(e){var t=Or,r=Z,a=lt,i=nt,o=Gf,v=xa,f=YT,n=XT,h=br,s=EO,u=ZO,l=JO,d=ct,c=ft,p=Yo,g=wr,m=ye,y=Re,_=or,b=_.throttle,T=sB,S=fB,x=pB,w=VB,A=qB,C=FB;pC();var M=Dd,D=r.assert,L=r.each,P=r.isFunction,R=r.isObject,k=d.parseClassType,z="4.7.0",B={zrender:"4.3.0"},G=1,V=1e3,I=800,O=900,E=5e3,N=1e3,q=1100,H=2e3,F=3e3,U=3500,W=4e3,Y=5e3,Q={PROCESSOR:{FILTER:V,SERIES_FILTER:I,STATISTIC:E},VISUAL:{LAYOUT:N,PROGRESSIVE_LAYOUT:q,GLOBAL:H,CHART:F,POST_CHART_LAYOUT:U,COMPONENT:W,BRUSH:Y}},ee="__flagInMainProcess",j="__optionUpdated",re=/^[a-zA-Z0-9_]+$/;function ae(K,oe){return function(ge,be,Ae){if(!oe&&this._disposed){this.id;return}ge=ge&&ge.toLowerCase(),v.prototype[K].call(this,ge,be,Ae)}}function ne(){v.call(this)}ne.prototype.on=ae("on",!0),ne.prototype.off=ae("off",!0),ne.prototype.one=ae("one",!0),r.mixin(ne,v);function de(K,Me,ge){ge=ge||{},typeof Me=="string"&&(Me=et[Me]),this.id,this.group,this._dom=K;var be="canvas",Ae=this._zr=t.init(K,{renderer:ge.renderer||be,devicePixelRatio:ge.devicePixelRatio,width:ge.width,height:ge.height});this._throttledZrFlush=b(r.bind(Ae.flush,Ae),17);var Me=r.clone(Me);Me&&u(Me,!0),this._theme=Me,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new h;var Le=this._api=He(this);function Ie(Pe,Be){return Pe.__prio-Be.__prio}o(Ue,Ie),o(Fe,Ie),this._scheduler=new w(this,Le,Fe,Ue),v.call(this,this._ecEventProcessor=new Ge),this._messageCenter=new ne,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],Ae.animation.on("frame",this._onframe,this),ce(Ae,this),r.setAsPrimitive(this)}var te=de.prototype;te._onframe=function(){if(!this._disposed){var K=this._scheduler;if(this[j]){var oe=this[j].silent;this[ee]=!0,le(this),Te.update.call(this),this[ee]=!1,this[j]=!1,J.call(this,oe),ie.call(this,oe)}else if(K.unfinished){var ge=G,be=this._model,Ae=this._api;K.unfinished=!1;do{var Me=+new Date;K.performSeriesTasks(be),K.performDataProcessorTasks(be),Se(this,be),K.performVisualTasks(be),xe(this,this._model,Ae,"remain"),ge-=+new Date-Me}while(ge>0&&K.unfinished);K.unfinished||this._zr.flush()}}},te.getDom=function(){return this._dom},te.getZr=function(){return this._zr},te.setOption=function(K,oe,ge){if(this._disposed){this.id;return}var be;if(R(oe)&&(ge=oe.lazyUpdate,be=oe.silent,oe=oe.notMerge),this[ee]=!0,!this._model||oe){var Ae=new s(this._api),Me=this._theme,Le=this._model=new f;Le.scheduler=this._scheduler,Le.init(null,null,Me,Ae)}this._model.setOption(K,qe),ge?(this[j]={silent:be},this[ee]=!1):(le(this),Te.update.call(this),this._zr.flush(),this[j]=!1,this[ee]=!1,J.call(this,be),ie.call(this,be))},te.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},te.getModel=function(){return this._model},te.getOption=function(){return this._model&&this._model.getOption()},te.getWidth=function(){return this._zr.getWidth()},te.getHeight=function(){return this._zr.getHeight()},te.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},te.getRenderedCanvas=function(K){if(i.canvasSupported){K=K||{},K.pixelRatio=K.pixelRatio||1,K.backgroundColor=K.backgroundColor||this._model.get("backgroundColor");var oe=this._zr;return oe.painter.getRenderedCanvas(K)}},te.getSvgDataUrl=function(){if(i.svgSupported){var K=this._zr,oe=K.storage.getDisplayList();return r.each(oe,function(ge){ge.stopAnimation(!0)}),K.painter.pathToDataUrl()}},te.getDataURL=function(K){if(this._disposed){this.id;return}K=K||{};var oe=K.excludeComponents,ge=this._model,be=[],Ae=this;L(oe,function(Le){ge.eachComponent({mainType:Le},function(Ie){var Pe=Ae._componentsMap[Ie.__viewId];Pe.group.ignore||(be.push(Pe),Pe.group.ignore=!0)})});var Me=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(K).toDataURL("image/"+(K&&K.type||"png"));return L(be,function(Le){Le.group.ignore=!1}),Me},te.getConnectedDataURL=function(K){if(this._disposed){this.id;return}if(i.canvasSupported){var oe=this.group,ge=Math.min,be=Math.max,Ae=1/0;if(zt[oe]){var Me=Ae,Le=Ae,Ie=-Ae,Pe=-Ae,Be=[],ze=K&&K.pixelRatio||1;r.each(bt,function(Yt,Ln){if(Yt.group===oe){var BM=Yt.getRenderedCanvas(r.clone(K)),Pa=Yt.getDom().getBoundingClientRect();Me=ge(Pa.left,Me),Le=ge(Pa.top,Le),Ie=be(Pa.right,Ie),Pe=be(Pa.bottom,Pe),Be.push({dom:BM,left:Pa.left,top:Pa.top})}}),Me*=ze,Le*=ze,Ie*=ze,Pe*=ze;var Ve=Ie-Me,tt=Pe-Le,We=r.createCanvas();We.width=Ve,We.height=tt;var _t=t.init(We);return K.connectedBackgroundColor&&_t.add(new m.Rect({shape:{x:0,y:0,width:Ve,height:tt},style:{fill:K.connectedBackgroundColor}})),L(Be,function(Yt){var Ln=new m.Image({style:{x:Yt.left*ze-Me,y:Yt.top*ze-Le,image:Yt.dom}});_t.add(Ln)}),_t.refreshImmediately(),We.toDataURL("image/"+(K&&K.type||"png"))}else return this.getDataURL(K)}},te.convertToPixel=r.curry(se,"convertToPixel"),te.convertFromPixel=r.curry(se,"convertFromPixel");function se(K,oe,ge){if(this._disposed){this.id;return}var be=this._model,Ae=this._coordSysMgr.getCoordinateSystems(),Me;oe=y.parseFinder(be,oe);for(var Le=0;Le<Ae.length;Le++){var Ie=Ae[Le];if(Ie[K]&&(Me=Ie[K](be,oe,ge))!=null)return Me}}te.containPixel=function(K,oe){if(this._disposed){this.id;return}var ge=this._model,be;return K=y.parseFinder(ge,K),r.each(K,function(Ae,Me){Me.indexOf("Models")>=0&&r.each(Ae,function(Le){var Ie=Le.coordinateSystem;if(Ie&&Ie.containPoint)be|=!!Ie.containPoint(oe);else if(Me==="seriesModels"){var Pe=this._chartsMap[Le.__viewId];Pe&&Pe.containPoint&&(be|=Pe.containPoint(oe,Le))}},this)},this),!!be},te.getVisual=function(K,oe){var ge=this._model;K=y.parseFinder(ge,K,{defaultMainType:"series"});var be=K.seriesModel,Ae=be.getData(),Me=K.hasOwnProperty("dataIndexInside")?K.dataIndexInside:K.hasOwnProperty("dataIndex")?Ae.indexOfRawIndex(K.dataIndex):null;return Me!=null?Ae.getItemVisual(Me,oe):Ae.getVisual(oe)},te.getViewOfComponentModel=function(K){return this._componentsMap[K.__viewId]},te.getViewOfSeriesModel=function(K){return this._chartsMap[K.__viewId]};var Te={prepareAndUpdate:function(K){le(this),Te.update.call(this,K)},update:function(K){var oe=this._model,ge=this._api,be=this._zr,Ae=this._coordSysMgr,Me=this._scheduler;if(oe){Me.restoreData(oe,K),Me.performSeriesTasks(oe),Ae.create(oe,ge),Me.performDataProcessorTasks(oe,K),Se(this,oe),Ae.update(oe,ge),fe(oe),Me.performVisualTasks(oe,K),_e(this,oe,ge,K);var Le=oe.get("backgroundColor")||"transparent";if(i.canvasSupported)be.setBackgroundColor(Le);else{var Ie=a.parse(Le);Le=a.stringify(Ie,"rgb"),Ie[3]===0&&(Le="transparent")}pe(oe,ge)}},updateTransform:function(K){var oe=this._model,ge=this,be=this._api;if(oe){var Ae=[];oe.eachComponent(function(Le,Ie){var Pe=ge.getViewOfComponentModel(Ie);if(Pe&&Pe.__alive)if(Pe.updateTransform){var Be=Pe.updateTransform(Ie,oe,be,K);Be&&Be.update&&Ae.push(Pe)}else Ae.push(Pe)});var Me=r.createHashMap();oe.eachSeries(function(Le){var Ie=ge._chartsMap[Le.__viewId];if(Ie.updateTransform){var Pe=Ie.updateTransform(Le,oe,be,K);Pe&&Pe.update&&Me.set(Le.uid,1)}else Me.set(Le.uid,1)}),fe(oe),this._scheduler.performVisualTasks(oe,K,{setDirty:!0,dirtyMap:Me}),xe(ge,oe,be,K,Me),pe(oe,this._api)}},updateView:function(K){var oe=this._model;oe&&(g.markUpdateMethod(K,"updateView"),fe(oe),this._scheduler.performVisualTasks(oe,K,{setDirty:!0}),_e(this,this._model,this._api,K),pe(oe,this._api))},updateVisual:function(K){Te.update.call(this,K)},updateLayout:function(K){Te.update.call(this,K)}};function le(K){var oe=K._model,ge=K._scheduler;ge.restorePipelines(oe),ge.prepareStageTasks(),ue(K,"component",oe,ge),ue(K,"chart",oe,ge),ge.plan()}function ve(K,oe,ge,be,Ae){var Me=K._model;if(!be){L(K._componentsViews.concat(K._chartsViews),Be);return}var Le={};Le[be+"Id"]=ge[be+"Id"],Le[be+"Index"]=ge[be+"Index"],Le[be+"Name"]=ge[be+"Name"];var Ie={mainType:be,query:Le};Ae&&(Ie.subType=Ae);var Pe=ge.excludeSeriesId;Pe!=null&&(Pe=r.createHashMap(y.normalizeToArray(Pe))),Me&&Me.eachComponent(Ie,function(ze){(!Pe||Pe.get(ze.id)==null)&&Be(K[be==="series"?"_chartsMap":"_componentsMap"][ze.__viewId])},K);function Be(ze){ze&&ze.__alive&&ze[oe]&&ze[oe](ze.__model,Me,K._api,ge)}}te.resize=function(K){if(this._disposed){this.id;return}this._zr.resize(K);var oe=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!oe){var ge=oe.resetOption("media"),be=K&&K.silent;this[ee]=!0,ge&&le(this),Te.update.call(this),this[ee]=!1,J.call(this,be),ie.call(this,be)}};function Se(K,oe){var ge=K._chartsMap,be=K._scheduler;oe.eachSeries(function(Ae){be.updateStreamModes(Ae,ge[Ae.__viewId])})}te.showLoading=function(K,oe){if(this._disposed){this.id;return}if(R(K)&&(oe=K,K=""),K=K||"default",this.hideLoading(),!!mt[K]){var ge=mt[K](this._api,oe),be=this._zr;this._loadingFX=ge,be.add(ge)}},te.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},te.makeActionFromEvent=function(K){var oe=r.extend({},K);return oe.type=ke[K.type],oe},te.dispatchAction=function(K,oe){if(this._disposed){this.id;return}if(R(oe)||(oe={silent:!!oe}),!!Qe[K.type]&&this._model){if(this[ee]){this._pendingActions.push(K);return}X.call(this,K,oe.silent),oe.flush?this._zr.flush(!0):oe.flush!==!1&&i.browser.weChat&&this._throttledZrFlush(),J.call(this,oe.silent),ie.call(this,oe.silent)}};function X(K,oe){var ge=K.type,be=K.escapeConnect,Ae=Qe[ge],Me=Ae.actionInfo,Le=(Me.update||"update").split(":"),Ie=Le.pop();Le=Le[0]!=null&&k(Le[0]),this[ee]=!0;var Pe=[K],Be=!1;K.batch&&(Be=!0,Pe=r.map(K.batch,function(We){return We=r.defaults(r.extend({},We),K),We.batch=null,We}));var ze=[],Ve,tt=ge==="highlight"||ge==="downplay";L(Pe,function(We){Ve=Ae.action(We,this._model,this._api),Ve=Ve||r.extend({},We),Ve.type=Me.event||Ve.type,ze.push(Ve),tt?ve(this,Ie,We,"series"):Le&&ve(this,Ie,We,Le.main,Le.sub)},this),Ie!=="none"&&!tt&&!Le&&(this[j]?(le(this),Te.update.call(this,K),this[j]=!1):Te[Ie].call(this,K)),Be?Ve={type:Me.event||ge,escapeConnect:be,batch:ze}:Ve=ze[0],this[ee]=!1,!oe&&this._messageCenter.trigger(Ve.type,Ve)}function J(K){for(var oe=this._pendingActions;oe.length;){var ge=oe.shift();X.call(this,ge,K)}}function ie(K){!K&&this.trigger("updated")}function ce(K,oe){K.on("rendered",function(){oe.trigger("rendered"),K.animation.isFinished()&&!oe[j]&&!oe._scheduler.unfinished&&!oe._pendingActions.length&&oe.trigger("finished")})}te.appendData=function(K){if(this._disposed){this.id;return}var oe=K.seriesIndex,ge=this.getModel(),be=ge.getSeriesByIndex(oe);be.appendData(K),this._scheduler.unfinished=!0},te.on=ae("on",!1),te.off=ae("off",!1),te.one=ae("one",!1);function ue(K,oe,ge,be){for(var Ae=oe==="component",Me=Ae?K._componentsViews:K._chartsViews,Le=Ae?K._componentsMap:K._chartsMap,Ie=K._zr,Pe=K._api,Be=0;Be<Me.length;Be++)Me[Be].__alive=!1;Ae?ge.eachComponent(function(tt,We){tt!=="series"&&ze(We)}):ge.eachSeries(ze);function ze(tt){var We="_ec_"+tt.id+"_"+tt.type,_t=Le[We];if(!_t){var Yt=k(tt.type),Ln=Ae?p.getClass(Yt.main,Yt.sub):g.getClass(Yt.sub);_t=new Ln,_t.init(ge,Pe),Le[We]=_t,Me.push(_t),Ie.add(_t.group)}tt.__viewId=_t.__id=We,_t.__alive=!0,_t.__model=tt,_t.group.__ecComponentInfo={mainType:tt.mainType,index:tt.componentIndex},!Ae&&be.prepareView(_t,tt,ge,Pe)}for(var Be=0;Be<Me.length;){var Ve=Me[Be];Ve.__alive?Be++:(!Ae&&Ve.renderTask.dispose(),Ie.remove(Ve.group),Ve.dispose(ge,Pe),Me.splice(Be,1),delete Le[Ve.__id],Ve.__id=Ve.group.__ecComponentInfo=null)}}function fe(K){K.clearColorPalette(),K.eachSeries(function(oe){oe.clearColorPalette()})}function _e(K,oe,ge,be){Ce(K,oe,ge,be),L(K._chartsViews,function(Ae){Ae.__alive=!1}),xe(K,oe,ge,be),L(K._chartsViews,function(Ae){Ae.__alive||Ae.remove(oe,ge)})}function Ce(K,oe,ge,be,Ae){L(Ae||K._componentsViews,function(Me){var Le=Me.__model;Me.render(Le,oe,ge,be),$e(Le,Me)})}function xe(K,oe,ge,be,Ae){var Me=K._scheduler,Le;oe.eachSeries(function(Ie){var Pe=K._chartsMap[Ie.__viewId];Pe.__alive=!0;var Be=Pe.renderTask;Me.updatePayload(Be,be),Ae&&Ae.get(Ie.uid)&&Be.dirty(),Le|=Be.perform(Me.getPerformArgs(Be)),Pe.group.silent=!!Ie.get("silent"),$e(Ie,Pe),Ee(Ie,Pe)}),Me.unfinished|=Le,De(K,oe),S(K._zr.dom,oe)}function pe(K,oe){L(Je,function(ge){ge(K,oe)})}var he=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];te._initEvents=function(){L(he,function(K){var oe=function(ge){var be=this.getModel(),Ae=ge.target,Me,Le=K==="globalout";if(Le)Me={};else if(Ae&&Ae.dataIndex!=null){var Ie=Ae.dataModel||be.getSeriesByIndex(Ae.seriesIndex);Me=Ie&&Ie.getDataParams(Ae.dataIndex,Ae.dataType,Ae)||{}}else Ae&&Ae.eventData&&(Me=r.extend({},Ae.eventData));if(Me){var Pe=Me.componentType,Be=Me.componentIndex;(Pe==="markLine"||Pe==="markPoint"||Pe==="markArea")&&(Pe="series",Be=Me.seriesIndex);var ze=Pe&&Be!=null&&be.getComponent(Pe,Be),Ve=ze&&this[ze.mainType==="series"?"_chartsMap":"_componentsMap"][ze.__viewId];Me.event=ge,Me.type=K,this._ecEventProcessor.eventInfo={targetEl:Ae,packedEvent:Me,model:ze,view:Ve},this.trigger(K,Me)}};oe.zrEventfulCallAtLast=!0,this._zr.on(K,oe,this)},this),L(ke,function(K,oe){this._messageCenter.on(oe,function(ge){this.trigger(oe,ge)},this)},this)},te.isDisposed=function(){return this._disposed},te.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},te.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),je,"");var K=this._api,oe=this._model;L(this._componentsViews,function(ge){ge.dispose(oe,K)}),L(this._chartsViews,function(ge){ge.dispose(oe,K)}),this._zr.dispose(),delete bt[this.id]},r.mixin(de,v);function me(K){}function De(K,oe){var ge=K._zr,be=ge.storage,Ae=0;be.traverse(function(Me){Ae++}),Ae>oe.get("hoverLayerThreshold")&&!i.node&&oe.eachSeries(function(Me){if(!Me.preventUsingHoverLayer){var Le=K._chartsMap[Me.__viewId];Le.__alive&&Le.group.traverse(function(Ie){Ie.useHoverLayer=!0})}})}function Ee(K,oe){var ge=K.get("blendMode")||null;oe.group.traverse(function(be){be.isGroup||be.style.blend!==ge&&be.setStyle("blend",ge),be.eachPendingDisplayable&&be.eachPendingDisplayable(function(Ae){Ae.setStyle("blend",ge)})})}function $e(K,oe){var ge=K.get("z"),be=K.get("zlevel");oe.group.traverse(function(Ae){Ae.type!=="group"&&(ge!=null&&(Ae.z=ge),be!=null&&(Ae.zlevel=be))})}function He(K){var oe=K._coordSysMgr;return r.extend(new n(K),{getCoordinateSystems:r.bind(oe.getCoordinateSystems,oe),getComponentByElement:function(ge){for(;ge;){var be=ge.__ecComponentInfo;if(be!=null)return K._model.getComponent(be.mainType,be.index);ge=ge.parent}}})}function Ge(){this.eventInfo}Ge.prototype={constructor:Ge,normalizeQuery:function(K){var oe={},ge={},be={};if(r.isString(K)){var Ae=k(K);oe.mainType=Ae.main||null,oe.subType=Ae.sub||null}else{var Me=["Index","Name","Id"],Le={name:1,dataIndex:1,dataType:1};r.each(K,function(Ie,Pe){for(var Be=!1,ze=0;ze<Me.length;ze++){var Ve=Me[ze],tt=Pe.lastIndexOf(Ve);if(tt>0&&tt===Pe.length-Ve.length){var We=Pe.slice(0,tt);We!=="data"&&(oe.mainType=We,oe[Ve.toLowerCase()]=Ie,Be=!0)}}Le.hasOwnProperty(Pe)&&(ge[Pe]=Ie,Be=!0),Be||(be[Pe]=Ie)})}return{cptQuery:oe,dataQuery:ge,otherQuery:be}},filter:function(K,oe,ge){var be=this.eventInfo;if(!be)return!0;var Ae=be.targetEl,Me=be.packedEvent,Le=be.model,Ie=be.view;if(!Le||!Ie)return!0;var Pe=oe.cptQuery,Be=oe.dataQuery;return ze(Pe,Le,"mainType")&&ze(Pe,Le,"subType")&&ze(Pe,Le,"index","componentIndex")&&ze(Pe,Le,"name")&&ze(Pe,Le,"id")&&ze(Be,Me,"name")&&ze(Be,Me,"dataIndex")&&ze(Be,Me,"dataType")&&(!Ie.filterForExposedEvent||Ie.filterForExposedEvent(K,oe.otherQuery,Ae,Me));function ze(Ve,tt,We,_t){return Ve[We]==null||tt[_t||We]===Ve[We]}},afterTrigger:function(){this.eventInfo=null}};var Qe={},ke={},Fe=[],qe=[],Je=[],Ue=[],et={},mt={},bt={},zt={},lr=new Date-0,dt=new Date-0,je="_echarts_instance_";function wt(K){var oe=0,ge=1,be=2,Ae="__connectUpdateStatus";function Me(Le,Ie){for(var Pe=0;Pe<Le.length;Pe++){var Be=Le[Pe];Be[Ae]=Ie}}L(ke,function(Le,Ie){K._messageCenter.on(Ie,function(Pe){if(zt[K.group]&&K[Ae]!==oe){if(Pe&&Pe.escapeConnect)return;var Be=K.makeActionFromEvent(Pe),ze=[];L(bt,function(Ve){Ve!==K&&Ve.group===K.group&&ze.push(Ve)}),Me(ze,oe),L(ze,function(Ve){Ve[Ae]!==ge&&Ve.dispatchAction(Be)}),Me(ze,be)}})})}function gt(K,oe,ge){var be=Vr(K);if(be)return be;var Ae=new de(K,oe,ge);return Ae.id="ec_"+lr++,bt[Ae.id]=Ae,y.setAttribute(K,je,Ae.id),wt(Ae),Ae}function Ct(K){if(r.isArray(K)){var oe=K;K=null,L(oe,function(ge){ge.group!=null&&(K=ge.group)}),K=K||"g_"+dt++,L(oe,function(ge){ge.group=K})}return zt[K]=!0,K}function Nr(K){zt[K]=!1}var ot=Nr;function yt(K){typeof K=="string"?K=bt[K]:K instanceof de||(K=Vr(K)),K instanceof de&&!K.isDisposed()&&K.dispose()}function Vr(K){return bt[y.getAttribute(K,je)]}function La(K){return bt[K]}function us(K,oe){et[K]=oe}function jd(K){qe.push(K)}function eg(K,oe){hs(Fe,K,oe,V)}function TM(K){Je.push(K)}function vs(K,oe,ge){typeof oe=="function"&&(ge=oe,oe="");var be=R(K)?K.type:[K,K={event:oe}][0];K.event=(K.event||be).toLowerCase(),oe=K.event,D(re.test(be)&&re.test(oe)),Qe[be]||(Qe[be]={action:ge,actionInfo:K}),ke[oe]=be}function CM(K,oe){h.register(K,oe)}function MM(K){var oe=h.get(K);if(oe)return oe.getDimensionsInfo?oe.getDimensionsInfo():oe.dimensions.slice()}function DM(K,oe){hs(Ue,K,oe,N,"layout")}function tg(K,oe){hs(Ue,K,oe,F,"visual")}function hs(K,oe,ge,be,Ae){(P(oe)||R(oe))&&(ge=oe,oe=be);var Me=w.wrapStageHandler(ge,Ae);return Me.__prio=oe,Me.__raw=ge,K.push(Me),Me}function rg(K,oe){mt[K]=oe}function LM(K){return d.extend(K)}function PM(K){return p.extend(K)}function IM(K){return c.extend(K)}function RM(K){return g.extend(K)}function EM(K){r.$override("createCanvas",K)}function kM(K,oe,ge){M.registerMap(K,oe,ge)}function OM(K){var oe=M.retrieveMap(K);return oe&&oe[0]&&{geoJson:oe[0].geoJSON,specialAreas:oe[0].specialAreas}}tg(H,T),jd(u),eg(O,l),rg("default",x),vs({type:"highlight",event:"highlight",update:"highlight"},r.noop),vs({type:"downplay",event:"downplay",update:"downplay"},r.noop),us("light",A),us("dark",C);var zM={};e.version=z,e.dependencies=B,e.PRIORITY=Q,e.init=gt,e.connect=Ct,e.disConnect=Nr,e.disconnect=ot,e.dispose=yt,e.getInstanceByDom=Vr,e.getInstanceById=La,e.registerTheme=us,e.registerPreprocessor=jd,e.registerProcessor=eg,e.registerPostUpdate=TM,e.registerAction=vs,e.registerCoordinateSystem=CM,e.getCoordinateSystemDimensions=MM,e.registerLayout=DM,e.registerVisual=tg,e.registerLoading=rg,e.extendComponentModel=LM,e.extendComponentView=PM,e.extendSeriesModel=IM,e.extendChartView=RM,e.setCanvasCreator=EM,e.registerMap=kM,e.getMap=OM,e.dataTool=zM;var cs=DC();(function(){for(var K in cs)cs.hasOwnProperty(K)&&(e[K]=cs[K])})()})(we);var qm={},_l,Gm;function LN(){if(Gm)return _l;Gm=1;var e=Br(),t=ft,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return _l=r,_l}var xl={},Fm;function Ld(){if(Fm)return xl;Fm=1;var e=nr,t=e.retrieveRawValue;function r(a,i){var o=a.mapDimension("defaultedLabel",!0),v=o.length;if(v===1)return t(a,i,o[0]);if(v){for(var f=[],n=0;n<o.length;n++){var h=t(a,i,o[n]);f.push(h)}return f.join(" ")}}return xl.getDefaultLabel=r,xl}var Sl,$m;function ts(){if($m)return Sl;$m=1;var e=Z,t=Zt(),r=t.createSymbol,a=ye,i=Oe(),o=i.parsePercent,v=Ld(),f=v.getDefaultLabel;function n(_,b,T){a.Group.call(this),this.updateData(_,b,T)}var h=n.prototype,s=n.getSymbolSize=function(_,b){var T=_.getItemVisual(b,"symbolSize");return T instanceof Array?T.slice():[+T,+T]};function u(_){return[_[0]/2,_[1]/2]}function l(_,b){this.parent.drift(_,b)}h._createSymbol=function(_,b,T,S,x){this.removeAll();var w=b.getItemVisual(T,"color"),A=r(_,-1,-1,2,2,w,x);A.attr({z2:100,culling:!0,scale:u(S)}),A.drift=l,this._symbolType=_,this.add(A)},h.stopSymbolAnimation=function(_){this.childAt(0).stopAnimation(_)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(_,b){var T=this.childAt(0);T.zlevel=_,T.z=b},h.setDraggable=function(_){var b=this.childAt(0);b.draggable=_,b.cursor=_?"move":b.cursor},h.updateData=function(_,b,T){this.silent=!1;var S=_.getItemVisual(b,"symbol")||"circle",x=_.hostModel,w=s(_,b),A=S!==this._symbolType;if(A){var C=_.getItemVisual(b,"symbolKeepAspect");this._createSymbol(S,_,b,w,C)}else{var M=this.childAt(0);M.silent=!1,a.updateProps(M,{scale:u(w)},x,b)}if(this._updateCommon(_,b,w,T),A){var M=this.childAt(0),D=T&&T.fadeIn,L={scale:M.scale.slice()};D&&(L.style={opacity:M.style.opacity}),M.scale=[0,0],D&&(M.style.opacity=0),a.initProps(M,L,x,b)}this._seriesModel=x};var d=["itemStyle"],c=["emphasis","itemStyle"],p=["label"],g=["emphasis","label"];h._updateCommon=function(_,b,T,S){var x=this.childAt(0),w=_.hostModel,A=_.getItemVisual(b,"color");x.type!=="image"?x.useStyle({strokeNoScale:!0}):x.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var C=S&&S.itemStyle,M=S&&S.hoverItemStyle,D=S&&S.symbolRotate,L=S&&S.symbolOffset,P=S&&S.labelModel,R=S&&S.hoverLabelModel,k=S&&S.hoverAnimation,z=S&&S.cursorStyle;if(!S||_.hasItemOption){var B=S&&S.itemModel?S.itemModel:_.getItemModel(b);C=B.getModel(d).getItemStyle(["color"]),M=B.getModel(c).getItemStyle(),D=B.getShallow("symbolRotate"),L=B.getShallow("symbolOffset"),P=B.getModel(p),R=B.getModel(g),k=B.getShallow("hoverAnimation"),z=B.getShallow("cursor")}else M=e.extend({},M);var G=x.style;x.attr("rotation",(D||0)*Math.PI/180||0),L&&x.attr("position",[o(L[0],T[0]),o(L[1],T[1])]),z&&x.attr("cursor",z),x.setColor(A,S&&S.symbolInnerColor),x.setStyle(C);var V=_.getItemVisual(b,"opacity");V!=null&&(G.opacity=V);var I=_.getItemVisual(b,"liftZ"),O=x.__z2Origin;I!=null?O==null&&(x.__z2Origin=x.z2,x.z2+=I):O!=null&&(x.z2=O,x.__z2Origin=null);var E=S&&S.useNameLabel;a.setLabelStyle(G,M,P,R,{labelFetcher:w,labelDataIndex:b,defaultText:N,isRectText:!0,autoColor:A});function N(q,H){return E?_.getName(q):f(_,q)}x.__symbolOriginalScale=u(T),x.hoverStyle=M,x.highDownOnUpdate=k&&w.isAnimationEnabled()?m:null,a.setHoverStyle(x)};function m(_,b){if(!(this.incremental||this.useHoverLayer))if(b==="emphasis"){var T=this.__symbolOriginalScale,S=T[1]/T[0],x={scale:[Math.max(T[0]*1.1,T[0]+3),Math.max(T[1]*1.1,T[1]+3*S)]};this.animateTo(x,400,"elasticOut")}else b==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h.fadeOut=function(_,b){var T=this.childAt(0);this.silent=T.silent=!0,!(b&&b.keepLabel)&&(T.style.text=null),a.updateProps(T,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,_)},e.inherits(n,a.Group);var y=n;return Sl=y,Sl}var bl,Um;function Sn(){if(Um)return bl;Um=1;var e=ye,t=ts(),r=Z,a=r.isObject;function i(s){this.group=new e.Group,this._symbolCtor=s||t}var o=i.prototype;function v(s,u,l,d){return u&&!isNaN(u[0])&&!isNaN(u[1])&&!(d.isIgnore&&d.isIgnore(l))&&!(d.clipShape&&!d.clipShape.contain(u[0],u[1]))&&s.getItemVisual(l,"symbol")!=="none"}o.updateData=function(s,u){u=f(u);var l=this.group,d=s.hostModel,c=this._data,p=this._symbolCtor,g=n(s);c||l.removeAll(),s.diff(c).add(function(m){var y=s.getItemLayout(m);if(v(s,y,m,u)){var _=new p(s,m,g);_.attr("position",y),s.setItemGraphicEl(m,_),l.add(_)}}).update(function(m,y){var _=c.getItemGraphicEl(y),b=s.getItemLayout(m);if(!v(s,b,m,u)){l.remove(_);return}_?(_.updateData(s,m,g),e.updateProps(_,{position:b},d)):(_=new p(s,m),_.attr("position",b)),l.add(_),s.setItemGraphicEl(m,_)}).remove(function(m){var y=c.getItemGraphicEl(m);y&&y.fadeOut(function(){l.remove(y)})}).execute(),this._data=s},o.isPersistent=function(){return!0},o.updateLayout=function(){var s=this._data;s&&s.eachItemGraphicEl(function(u,l){var d=s.getItemLayout(l);u.attr("position",d)})},o.incrementalPrepareUpdate=function(s){this._seriesScope=n(s),this._data=null,this.group.removeAll()},o.incrementalUpdate=function(s,u,l){l=f(l);function d(m){m.isGroup||(m.incremental=m.useHoverLayer=!0)}for(var c=s.start;c<s.end;c++){var p=u.getItemLayout(c);if(v(u,p,c,l)){var g=new this._symbolCtor(u,c,this._seriesScope);g.traverse(d),g.attr("position",p),this.group.add(g),u.setItemGraphicEl(c,g)}}};function f(s){return s!=null&&!a(s)&&(s={isIgnore:s}),s||{}}o.remove=function(s){var u=this.group,l=this._data;l&&s?l.eachItemGraphicEl(function(d){d.fadeOut(function(){u.remove(d)})}):u.removeAll()};function n(s){var u=s.hostModel;return{itemStyle:u.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:u.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:u.get("symbolRotate"),symbolOffset:u.get("symbolOffset"),hoverAnimation:u.get("hoverAnimation"),labelModel:u.getModel("label"),hoverLabelModel:u.getModel("emphasis.label"),cursorStyle:u.get("cursor")}}var h=i;return bl=h,bl}var Qn={},Wm;function LC(){if(Wm)return Qn;Wm=1;var e=Ar(),t=e.isDimensionStacked,r=Z,a=r.map;function i(f,n,h){var s=f.getBaseAxis(),u=f.getOtherAxis(s),l=o(u,h),d=s.dim,c=u.dim,p=n.mapDimension(c),g=n.mapDimension(d),m=c==="x"||c==="radius"?1:0,y=a(f.dimensions,function(T){return n.mapDimension(T)}),_,b=n.getCalculationInfo("stackResultDimension");return(_|=t(n,y[0]))&&(y[0]=b),(_|=t(n,y[1]))&&(y[1]=b),{dataDimsForPoint:y,valueStart:l,valueAxisDim:c,baseAxisDim:d,stacked:!!_,valueDim:p,baseDim:g,baseDataOffset:m,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function o(f,n){var h=0,s=f.scale.getExtent();return n==="start"?h=s[0]:n==="end"?h=s[1]:s[0]>0?h=s[0]:s[1]<0&&(h=s[1]),h}function v(f,n,h,s){var u=NaN;f.stacked&&(u=h.get(h.getCalculationInfo("stackedOverDimension"),s)),isNaN(u)&&(u=f.valueStart);var l=f.baseDataOffset,d=[];return d[l]=h.get(f.baseDim,s),d[1-l]=u,n.dataToPoint(d)}return Qn.prepareDataCoordInfo=i,Qn.getStackedOnPoint=v,Qn}var wl,Zm;function PN(){if(Zm)return wl;Zm=1;var e=LC(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function a(o,v){var f=[];return v.diff(o).add(function(n){f.push({cmd:"+",idx:n})}).update(function(n,h){f.push({cmd:"=",idx:h,idx1:n})}).remove(function(n){f.push({cmd:"-",idx:n})}).execute(),f}function i(o,v,f,n,h,s,u,l){for(var d=a(o,v),c=[],p=[],g=[],m=[],y=[],_=[],b=[],T=t(h,v,u),S=t(s,o,l),x=0;x<d.length;x++){var w=d[x],A=!0;switch(w.cmd){case"=":var C=o.getItemLayout(w.idx),M=v.getItemLayout(w.idx1);(isNaN(C[0])||isNaN(C[1]))&&(C=M.slice()),c.push(C),p.push(M),g.push(f[w.idx]),m.push(n[w.idx1]),b.push(v.getRawIndex(w.idx1));break;case"+":var D=w.idx;c.push(h.dataToPoint([v.get(T.dataDimsForPoint[0],D),v.get(T.dataDimsForPoint[1],D)])),p.push(v.getItemLayout(D).slice()),g.push(r(T,h,v,D)),m.push(n[D]),b.push(v.getRawIndex(D));break;case"-":var D=w.idx,L=o.getRawIndex(D);L!==D?(c.push(o.getItemLayout(D)),p.push(s.dataToPoint([o.get(S.dataDimsForPoint[0],D),o.get(S.dataDimsForPoint[1],D)])),g.push(f[D]),m.push(r(S,s,o,D)),b.push(L)):A=!1}A&&(y.push(w),_.push(_.length))}_.sort(function(G,V){return b[G]-b[V]});for(var P=[],R=[],k=[],z=[],B=[],x=0;x<_.length;x++){var D=_[x];P[x]=c[D],R[x]=p[D],k[x]=g[D],z[x]=m[D],B[x]=y[D]}return{current:P,next:R,stackedOnCurrent:k,stackedOnNext:z,status:B}}return wl=i,wl}var Jn={},Ym;function PC(){if(Ym)return Jn;Ym=1;var e=at,t=Ye(),r=sT,a=t.min,i=t.max,o=t.scaleAndAdd,v=t.copy,f=[],n=[],h=[];function s(m){return isNaN(m[0])||isNaN(m[1])}function u(m,y,_,b,T,S,x,w,A,C,M){return C==="none"||!C?d.apply(this,arguments):l.apply(this,arguments)}function l(m,y,_,b,T,S,x,w,A,C,M){for(var D=0,L=_,P=0;P<b;P++){var R=y[L];if(L>=T||L<0)break;if(s(R)){if(M){L+=S;continue}break}if(L===_)m[S>0?"moveTo":"lineTo"](R[0],R[1]);else if(A>0){var k=y[D],z=C==="y"?1:0,B=(R[z]-k[z])*A;v(n,k),n[z]=k[z]+B,v(h,R),h[z]=R[z]-B,m.bezierCurveTo(n[0],n[1],h[0],h[1],R[0],R[1])}else m.lineTo(R[0],R[1]);D=L,L+=S}return P}function d(m,y,_,b,T,S,x,w,A,C,M){for(var D=0,L=_,P=0;P<b;P++){var R=y[L];if(L>=T||L<0)break;if(s(R)){if(M){L+=S;continue}break}if(L===_)m[S>0?"moveTo":"lineTo"](R[0],R[1]),v(n,R);else if(A>0){var k=L+S,G=y[k];if(M)for(;G&&s(y[k]);)k+=S,G=y[k];var z=.5,B=y[D],G=y[k];if(!G||s(G))v(h,R);else{s(G)&&!M&&(G=R),t.sub(f,G,B);var V,I;if(C==="x"||C==="y"){var O=C==="x"?0:1;V=Math.abs(R[O]-B[O]),I=Math.abs(R[O]-G[O])}else V=t.dist(R,B),I=t.dist(R,G);z=I/(I+V),o(h,R,f,-A*(1-z))}a(n,n,w),i(n,n,x),a(h,h,w),i(h,h,x),m.bezierCurveTo(n[0],n[1],h[0],h[1],R[0],R[1]),o(n,R,f,A*z)}else m.lineTo(R[0],R[1]);D=L,L+=S}return P}function c(m,y){var _=[1/0,1/0],b=[-1/0,-1/0];if(y)for(var T=0;T<m.length;T++){var S=m[T];S[0]<_[0]&&(_[0]=S[0]),S[1]<_[1]&&(_[1]=S[1]),S[0]>b[0]&&(b[0]=S[0]),S[1]>b[1]&&(b[1]=S[1])}return{min:y?_:b,max:y?b:_}}var p=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(m,y){var _=y.points,b=0,T=_.length,S=c(_,y.smoothConstraint);if(y.connectNulls){for(;T>0&&s(_[T-1]);T--);for(;b<T&&s(_[b]);b++);}for(;b<T;)b+=u(m,_,b,T,T,1,S.min,S.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),g=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(m,y){var _=y.points,b=y.stackedOnPoints,T=0,S=_.length,x=y.smoothMonotone,w=c(_,y.smoothConstraint),A=c(b,y.smoothConstraint);if(y.connectNulls){for(;S>0&&s(_[S-1]);S--);for(;T<S&&s(_[T]);T++);}for(;T<S;){var C=u(m,_,T,S,S,1,w.min,w.max,y.smooth,x,y.connectNulls);u(m,b,T+C-1,C,S,-1,A.min,A.max,y.stackedOnSmooth,x,y.connectNulls),T+=C+1,m.closePath()}}});return Jn.Polyline=p,Jn.Polygon=g,Jn}var Oi={},Xm;function bn(){if(Xm)return Oi;Xm=1;var e=ye,t=Oe(),r=t.round;function a(v,f,n){var h=v.getArea(),s=v.getBaseAxis().isHorizontal(),u=h.x,l=h.y,d=h.width,c=h.height,p=n.get("lineStyle.width")||2;u-=p/2,l-=p/2,d+=p,c+=p;var g=new e.Rect({shape:{x:u,y:l,width:d,height:c}});return f&&(g.shape[s?"width":"height"]=0,e.initProps(g,{shape:{width:d,height:c}},n)),g}function i(v,f,n){var h=v.getArea(),s=new e.Sector({shape:{cx:r(v.cx,1),cy:r(v.cy,1),r0:r(h.r0,1),r:r(h.r,1),startAngle:h.startAngle,endAngle:h.endAngle,clockwise:h.clockwise}});return f&&(s.shape.endAngle=h.startAngle,e.initProps(s,{shape:{endAngle:h.endAngle}},n)),s}function o(v,f,n){if(v){if(v.type==="polar")return i(v,f,n);if(v.type==="cartesian2d")return a(v,f,n)}else return null;return null}return Oi.createGridClipPath=a,Oi.createPolarClipPath=i,Oi.createClipPath=o,Oi}var Al,Km;function IN(){if(Km)return Al;Km=1;var e=Z,t=Sn(),r=ts(),a=PN(),i=ye,o=Re,v=PC(),f=v.Polyline,n=v.Polygon,h=wr,s=LC(),u=s.prepareDataCoordInfo,l=s.getStackedOnPoint,d=bn(),c=d.createGridClipPath,p=d.createPolarClipPath;function g(A,C){if(A.length===C.length){for(var M=0;M<A.length;M++){var D=A[M],L=C[M];if(D[0]!==L[0]||D[1]!==L[1])return}return!0}}function m(A){return typeof A=="number"?A:A?.5:0}function y(A,C,M){if(!M.valueDim)return[];for(var D=[],L=0,P=C.count();L<P;L++)D.push(l(M,A,C,L));return D}function _(A,C,M){for(var D=C.getBaseAxis(),L=D.dim==="x"||D.dim==="radius"?0:1,P=[],R=0;R<A.length-1;R++){var k=A[R+1],z=A[R];P.push(z);var B=[];switch(M){case"end":B[L]=k[L],B[1-L]=z[1-L],P.push(B);break;case"middle":var G=(z[L]+k[L])/2,V=[];B[L]=V[L]=G,B[1-L]=z[1-L],V[1-L]=k[1-L],P.push(B),P.push(V);break;default:B[L]=z[L],B[1-L]=k[1-L],P.push(B)}}return A[R]&&P.push(A[R]),P}function b(A,C){var M=A.getVisual("visualMeta");if(!(!M||!M.length||!A.count())&&C.type==="cartesian2d"){for(var D,L,P=M.length-1;P>=0;P--){var R=M[P].dimension,k=A.dimensions[R],z=A.getDimensionInfo(k);if(D=z&&z.coordDim,D==="x"||D==="y"){L=M[P];break}}if(L){var B=C.getAxis(D),G=e.map(L.stops,function(F){return{coord:B.toGlobalCoord(B.dataToCoord(F.value)),color:F.color}}),V=G.length,I=L.outerColors.slice();V&&G[0].coord>G[V-1].coord&&(G.reverse(),I.reverse());var O=10,E=G[0].coord-O,N=G[V-1].coord+O,q=N-E;if(q<.001)return"transparent";e.each(G,function(F){F.offset=(F.coord-E)/q}),G.push({offset:V?G[V-1].offset:.5,color:I[1]||"transparent"}),G.unshift({offset:V?G[0].offset:.5,color:I[0]||"transparent"});var H=new i.LinearGradient(0,0,0,0,G,!0);return H[D]=E,H[D+"2"]=N,H}}}function T(A,C,M){var D=A.get("showAllSymbol"),L=D==="auto";if(!(D&&!L)){var P=M.getAxesByScale("ordinal")[0];if(P&&!(L&&S(P,C))){var R=C.mapDimension(P.dim),k={};return e.each(P.getViewLabels(),function(z){k[z.tickValue]=1}),function(z){return!k.hasOwnProperty(C.get(R,z))}}}}function S(A,C){var M=A.getExtent(),D=Math.abs(M[1]-M[0])/A.scale.count();isNaN(D)&&(D=0);for(var L=C.count(),P=Math.max(1,Math.round(L/5)),R=0;R<L;R+=P)if(r.getSymbolSize(C,R)[A.isHorizontal()?1:0]*1.5>D)return!1;return!0}function x(A,C,M){if(A.type==="cartesian2d"){var D=A.getBaseAxis().isHorizontal(),L=c(A,C,M);if(!M.get("clip",!0)){var P=L.shape,R=Math.max(P.width,P.height);D?(P.y-=R,P.height+=R*2):(P.x-=R,P.width+=R*2)}return L}else return p(A,C,M)}var w=h.extend({type:"line",init:function(){var A=new i.Group,C=new t;this.group.add(C.group),this._symbolDraw=C,this._lineGroup=A},render:function(A,C,M){var D=A.coordinateSystem,L=this.group,P=A.getData(),R=A.getModel("lineStyle"),k=A.getModel("areaStyle"),z=P.mapArray(P.getItemLayout),B=D.type==="polar",G=this._coordSys,V=this._symbolDraw,I=this._polyline,O=this._polygon,E=this._lineGroup,N=A.get("animation"),q=!k.isEmpty(),H=k.get("origin"),F=u(D,P,H),U=y(D,P,F),W=A.get("showSymbol"),Y=W&&!B&&T(A,P,D),Q=this._data;Q&&Q.eachItemGraphicEl(function(te,se){te.__temp&&(L.remove(te),Q.setItemGraphicEl(se,null))}),W||V.remove(),L.add(E);var ee=!B&&A.get("step"),j;D&&D.getArea&&A.get("clip",!0)&&(j=D.getArea(),j.width!=null?(j.x-=.1,j.y-=.1,j.width+=.2,j.height+=.2):j.r0&&(j.r0-=.5,j.r1+=.5)),this._clipShapeForSymbol=j,I&&G.type===D.type&&ee===this._step?(q&&!O?O=this._newPolygon(z,U,D,N):O&&!q&&(E.remove(O),O=this._polygon=null),E.setClipPath(x(D,!1,A)),W&&V.updateData(P,{isIgnore:Y,clipShape:j}),P.eachItemGraphicEl(function(te){te.stopAnimation(!0)}),(!g(this._stackedOnPoints,U)||!g(this._points,z))&&(N?this._updateAnimation(P,U,D,M,ee,H):(ee&&(z=_(z,D,ee),U=_(U,D,ee)),I.setShape({points:z}),O&&O.setShape({points:z,stackedOnPoints:U})))):(W&&V.updateData(P,{isIgnore:Y,clipShape:j}),ee&&(z=_(z,D,ee),U=_(U,D,ee)),I=this._newPolyline(z,D,N),q&&(O=this._newPolygon(z,U,D,N)),E.setClipPath(x(D,!0,A)));var re=b(P,D)||P.getVisual("color");I.useStyle(e.defaults(R.getLineStyle(),{fill:"none",stroke:re,lineJoin:"bevel"}));var ae=A.get("smooth");if(ae=m(A.get("smooth")),I.setShape({smooth:ae,smoothMonotone:A.get("smoothMonotone"),connectNulls:A.get("connectNulls")}),O){var ne=P.getCalculationInfo("stackedOnSeries"),de=0;O.useStyle(e.defaults(k.getAreaStyle(),{fill:re,opacity:.7,lineJoin:"bevel"})),ne&&(de=m(ne.get("smooth"))),O.setShape({smooth:ae,stackedOnSmooth:de,smoothMonotone:A.get("smoothMonotone"),connectNulls:A.get("connectNulls")})}this._data=P,this._coordSys=D,this._stackedOnPoints=U,this._points=z,this._step=ee,this._valueOrigin=H},dispose:function(){},highlight:function(A,C,M,D){var L=A.getData(),P=o.queryDataIndex(L,D);if(!(P instanceof Array)&&P!=null&&P>=0){var R=L.getItemGraphicEl(P);if(!R){var k=L.getItemLayout(P);if(!k||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(k[0],k[1]))return;R=new r(L,P),R.position=k,R.setZ(A.get("zlevel"),A.get("z")),R.ignore=isNaN(k[0])||isNaN(k[1]),R.__temp=!0,L.setItemGraphicEl(P,R),R.stopSymbolAnimation(!0),this.group.add(R)}R.highlight()}else h.prototype.highlight.call(this,A,C,M,D)},downplay:function(A,C,M,D){var L=A.getData(),P=o.queryDataIndex(L,D);if(P!=null&&P>=0){var R=L.getItemGraphicEl(P);R&&(R.__temp?(L.setItemGraphicEl(P,null),this.group.remove(R)):R.downplay())}else h.prototype.downplay.call(this,A,C,M,D)},_newPolyline:function(A){var C=this._polyline;return C&&this._lineGroup.remove(C),C=new f({shape:{points:A},silent:!0,z2:10}),this._lineGroup.add(C),this._polyline=C,C},_newPolygon:function(A,C){var M=this._polygon;return M&&this._lineGroup.remove(M),M=new n({shape:{points:A,stackedOnPoints:C},silent:!0}),this._lineGroup.add(M),this._polygon=M,M},_updateAnimation:function(A,C,M,D,L,P){var R=this._polyline,k=this._polygon,z=A.hostModel,B=a(this._data,A,this._stackedOnPoints,C,this._coordSys,M,this._valueOrigin,P),G=B.current,V=B.stackedOnCurrent,I=B.next,O=B.stackedOnNext;L&&(G=_(B.current,M,L),V=_(B.stackedOnCurrent,M,L),I=_(B.next,M,L),O=_(B.stackedOnNext,M,L)),R.shape.__points=B.current,R.shape.points=G,i.updateProps(R,{shape:{points:I}},z),k&&(k.setShape({points:G,stackedOnPoints:V}),i.updateProps(k,{shape:{points:I,stackedOnPoints:O}},z));for(var E=[],N=B.status,q=0;q<N.length;q++){var H=N[q].cmd;if(H==="="){var F=A.getItemGraphicEl(N[q].idx1);F&&E.push({el:F,ptIdx:q})}}R.animators&&R.animators.length&&R.animators[0].during(function(){for(var U=0;U<E.length;U++){var W=E[U].el;W.attr("position",R.shape.__points[E[U].ptIdx])}})},remove:function(A){var C=this.group,M=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),M&&M.eachItemGraphicEl(function(D,L){D.__temp&&(C.remove(D),M.setItemGraphicEl(L,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return Al=w,Al}var Tl,Qm;function Ta(){if(Qm)return Tl;Qm=1;var e=Z,t=e.isFunction;function r(a,i,o){return{seriesType:a,performRawSeries:!0,reset:function(v,f,n){var h=v.getData(),s=v.get("symbol"),u=v.get("symbolSize"),l=v.get("symbolKeepAspect"),d=t(s),c=t(u),p=d||c,g=!d&&s?s:i,m=c?null:u;if(h.setVisual({legendSymbol:o||g,symbol:g,symbolSize:m,symbolKeepAspect:l}),f.isSeriesFiltered(v))return;function y(_,b){if(p){var T=v.getRawValue(b),S=v.getDataParams(b);d&&_.setItemVisual(b,"symbol",s(T,S)),c&&_.setItemVisual(b,"symbolSize",u(T,S))}if(_.hasItemOption){var x=_.getItemModel(b),w=x.getShallow("symbol",!0),A=x.getShallow("symbolSize",!0),C=x.getShallow("symbolKeepAspect",!0);w!=null&&_.setItemVisual(b,"symbol",w),A!=null&&_.setItemVisual(b,"symbolSize",A),C!=null&&_.setItemVisual(b,"symbolKeepAspect",C)}}return{dataEach:h.hasItemOption||p?y:null}}}}return Tl=r,Tl}var Cl,Jm;function wn(){if(Jm)return Cl;Jm=1;var e=Z,t=e.map,r=fi,a=Ar(),i=a.isDimensionStacked;function o(v){return{seriesType:v,plan:r(),reset:function(f){var n=f.getData(),h=f.coordinateSystem,s=f.pipelineContext,u=s.large;if(!h)return;var l=t(h.dimensions,function(g){return n.mapDimension(g)}).slice(0,2),d=l.length,c=n.getCalculationInfo("stackResultDimension");i(n,l[0])&&(l[0]=c),i(n,l[1])&&(l[1]=c);function p(g,m){for(var y=g.end-g.start,_=u&&new Float32Array(y*d),b=g.start,T=0,S=[],x=[];b<g.end;b++){var w;if(d===1){var A=m.get(l[0],b);w=!isNaN(A)&&h.dataToPoint(A,null,x)}else{var A=S[0]=m.get(l[0],b),C=S[1]=m.get(l[1],b);w=!isNaN(A)&&!isNaN(C)&&h.dataToPoint(S,null,x)}u?(_[T++]=w?w[0]:NaN,_[T++]=w?w[1]:NaN):m.setItemLayout(b,w&&w.slice()||[NaN,NaN])}u&&m.setLayout("symbolPoints",_)}return d&&{progress:p}}}}return Cl=o,Cl}var Ml,jm;function RN(){if(jm)return Ml;jm=1;var e={average:function(a){for(var i=0,o=0,v=0;v<a.length;v++)isNaN(a[v])||(i+=a[v],o++);return o===0?NaN:i/o},sum:function(a){for(var i=0,o=0;o<a.length;o++)i+=a[o]||0;return i},max:function(a){for(var i=-1/0,o=0;o<a.length;o++)a[o]>i&&(i=a[o]);return isFinite(i)?i:NaN},min:function(a){for(var i=1/0,o=0;o<a.length;o++)a[o]<i&&(i=a[o]);return isFinite(i)?i:NaN},nearest:function(a){return a[0]}},t=function(a,i){return Math.round(a.length/2)};function r(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(i,o,v){var f=i.getData(),n=i.get("sampling"),h=i.coordinateSystem;if(h.type==="cartesian2d"&&n){var s=h.getBaseAxis(),u=h.getOtherAxis(s),l=s.getExtent(),d=l[1]-l[0],c=Math.round(f.count()/d);if(c>1){var p;typeof n=="string"?p=e[n]:typeof n=="function"&&(p=n),p&&i.setData(f.downSample(f.mapDimension(u.dim),1/c,p,t))}}}}}return Ml=r,Ml}var ey={},Dl,ty;function EN(){if(ty)return Dl;ty=1;var e=Z;function t(i){return this._axes[i]}var r=function(i){this._axes={},this._dimList=[],this.name=i||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(i){return this._axes[i]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(i){return i=i.toLowerCase(),e.filter(this.getAxes(),function(o){return o.scale.type===i})},addAxis:function(i){var o=i.dim;this._axes[o]=i,this._dimList.push(o)},dataToCoord:function(i){return this._dataCoordConvert(i,"dataToCoord")},coordToData:function(i){return this._dataCoordConvert(i,"coordToData")},_dataCoordConvert:function(i,o){for(var v=this._dimList,f=i instanceof Array?[]:{},n=0;n<v.length;n++){var h=v[n],s=this._axes[h];f[h]=s[o](i[h])}return f}};var a=r;return Dl=a,Dl}var Ll,ry;function kN(){if(ry)return Ll;ry=1;var e=Z,t=Xe,r=EN();function a(o){r.call(this,o)}a.prototype={constructor:a,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(o){var v=this.getAxis("x"),f=this.getAxis("y");return v.contain(v.toLocalCoord(o[0]))&&f.contain(f.toLocalCoord(o[1]))},containData:function(o){return this.getAxis("x").containData(o[0])&&this.getAxis("y").containData(o[1])},dataToPoint:function(o,v,f){var n=this.getAxis("x"),h=this.getAxis("y");return f=f||[],f[0]=n.toGlobalCoord(n.dataToCoord(o[0])),f[1]=h.toGlobalCoord(h.dataToCoord(o[1])),f},clampData:function(o,v){var f=this.getAxis("x").scale,n=this.getAxis("y").scale,h=f.getExtent(),s=n.getExtent(),u=f.parse(o[0]),l=n.parse(o[1]);return v=v||[],v[0]=Math.min(Math.max(Math.min(h[0],h[1]),u),Math.max(h[0],h[1])),v[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),v},pointToData:function(o,v){var f=this.getAxis("x"),n=this.getAxis("y");return v=v||[],v[0]=f.coordToData(f.toLocalCoord(o[0])),v[1]=n.coordToData(n.toLocalCoord(o[1])),v},getOtherAxis:function(o){return this.getAxis(o.dim==="x"?"y":"x")},getArea:function(){var o=this.getAxis("x").getGlobalExtent(),v=this.getAxis("y").getGlobalExtent(),f=Math.min(o[0],o[1]),n=Math.min(v[0],v[1]),h=Math.max(o[0],o[1])-f,s=Math.max(v[0],v[1])-n,u=new t(f,n,h,s);return u}},e.inherits(a,r);var i=a;return Ll=i,Ll}var Pl,ay;function ON(){if(ay)return Pl;ay=1;var e=Z,t=aa(),r=function(i,o,v,f,n){t.call(this,i,o,v),this.type=f||"value",this.position=n||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},getGlobalExtent:function(i){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),i&&o[0]>o[1]&&o.reverse(),o},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(i,o){return this.coordToData(this.toLocalCoord(i[this.dim==="x"?0:1]),o)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var a=r;return Pl=a,Pl}var Il,iy;function IC(){if(iy)return Il;iy=1;var e=Z,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var a=r;return Il=a,Il}var Rl,ny;function rs(){if(ny)return Rl;ny=1;var e=Z,t=IC(),r=ct,a=Ne,i=a.getLayoutParams,o=a.mergeLayoutParam,v=bC(),f=["value","category","time","log"];function n(h,s,u,l){e.each(f,function(d){s.extend({type:h+"Axis."+d,mergeDefaultAndTheme:function(c,p){var g=this.layoutMode,m=g?i(c):{},y=p.getTheme();e.merge(c,y.get(d+"Axis")),e.merge(c,this.getDefaultOption()),c.type=u(h,c),g&&o(c,m,g)},optionUpdated:function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=v.createByAxisModel(this))},getCategories:function(c){var p=this.option;if(p.type==="category")return c?p.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[d+"Axis"],l],!0)})}),r.registerSubTypeDefaulter(h+"Axis",e.curry(u,h))}return Rl=n,Rl}var El,oy;function RC(){if(oy)return El;oy=1;var e=Z,t=ct,r=rs(),a=pi(),i=t.extend({type:"cartesian2dAxis",axis:null,init:function(){i.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){i.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){i.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function o(n,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a);var v={offset:0};r("x",i,o,v),r("y",i,o,v);var f=i;return El=f,El}var kl,sy;function zN(){if(sy)return kl;sy=1,RC();var e=ct,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return kl=t,kl}var Ol,ly;function Pd(){if(ly)return Ol;ly=1;var e=Z,t=e.isObject,r=e.each,a=e.map,i=e.indexOf;e.retrieve;var o=Ne,v=o.getLayoutRect,f=sr(),n=f.createScaleByModel,h=f.ifAxisCrossZero,s=f.niceScaleExtent,u=f.estimateLabelUnionRect,l=kN(),d=ON(),c=br,p=Ar(),g=p.getStackedDimension;zN();function m(M,D,L){return M.getCoordSysModel()===D}function y(M,D,L){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(M,D,L),this.model=M}var _=y.prototype;_.type="grid",_.axisPointerEnabled=!0,_.getRect=function(){return this._rect},_.update=function(M,D){var L=this._axesMap;this._updateScale(M,this.model),r(L.x,function(R){s(R.scale,R.model)}),r(L.y,function(R){s(R.scale,R.model)});var P={};r(L.x,function(R){b(L,"y",R,P)}),r(L.y,function(R){b(L,"x",R,P)}),this.resize(this.model,D)};function b(M,D,L,P){L.getAxesOnZeroOf=function(){return k?[k]:[]};var R=M[D],k,z=L.model,B=z.get("axisLine.onZero"),G=z.get("axisLine.onZeroAxisIndex");if(!B)return;if(G!=null)T(R[G])&&(k=R[G]);else for(var V in R)if(R.hasOwnProperty(V)&&T(R[V])&&!P[I(R[V])]){k=R[V];break}k&&(P[I(k)]=!0);function I(O){return O.dim+"_"+O.index}}function T(M){return M&&M.type!=="category"&&M.type!=="time"&&h(M)}_.resize=function(M,D,L){var P=v(M.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()});this._rect=P;var R=this._axesList;k(),!L&&M.get("containLabel")&&(r(R,function(z){if(!z.model.get("axisLabel.inside")){var B=u(z);if(B){var G=z.isHorizontal()?"height":"width",V=z.model.get("axisLabel.margin");P[G]-=B[G]+V,z.position==="top"?P.y+=B.height+V:z.position==="left"&&(P.x+=B.width+V)}}}),k());function k(){r(R,function(z){var B=z.isHorizontal(),G=B?[0,P.width]:[0,P.height],V=z.inverse?1:0;z.setExtent(G[V],G[1-V]),S(z,B?P.x:P.y)})}},_.getAxis=function(M,D){var L=this._axesMap[M];if(L!=null){if(D==null){for(var P in L)if(L.hasOwnProperty(P))return L[P]}return L[D]}},_.getAxes=function(){return this._axesList.slice()},_.getCartesian=function(M,D){if(M!=null&&D!=null){var L="x"+M+"y"+D;return this._coordsMap[L]}t(M)&&(D=M.yAxisIndex,M=M.xAxisIndex);for(var P=0,R=this._coordsList;P<R.length;P++)if(R[P].getAxis("x").index===M||R[P].getAxis("y").index===D)return R[P]},_.getCartesians=function(){return this._coordsList.slice()},_.convertToPixel=function(M,D,L){var P=this._findConvertTarget(M,D);return P.cartesian?P.cartesian.dataToPoint(L):P.axis?P.axis.toGlobalCoord(P.axis.dataToCoord(L)):null},_.convertFromPixel=function(M,D,L){var P=this._findConvertTarget(M,D);return P.cartesian?P.cartesian.pointToData(L):P.axis?P.axis.coordToData(P.axis.toLocalCoord(L)):null},_._findConvertTarget=function(M,D){var L=D.seriesModel,P=D.xAxisModel||L&&L.getReferringComponents("xAxis")[0],R=D.yAxisModel||L&&L.getReferringComponents("yAxis")[0],k=D.gridModel,z=this._coordsList,B,G;if(L)B=L.coordinateSystem,i(z,B)<0&&(B=null);else if(P&&R)B=this.getCartesian(P.componentIndex,R.componentIndex);else if(P)G=this.getAxis("x",P.componentIndex);else if(R)G=this.getAxis("y",R.componentIndex);else if(k){var V=k.coordinateSystem;V===this&&(B=this._coordsList[0])}return{cartesian:B,axis:G}},_.containPoint=function(M){var D=this._coordsList[0];if(D)return D.containPoint(M)},_._initCartesian=function(M,D,L){var P={left:!1,right:!1,top:!1,bottom:!1},R={x:{},y:{}},k={x:0,y:0};if(D.eachComponent("xAxis",z("x"),this),D.eachComponent("yAxis",z("y"),this),!k.x||!k.y){this._axesMap={},this._axesList=[];return}this._axesMap=R,r(R.x,function(B,G){r(R.y,function(V,I){var O="x"+G+"y"+I,E=new l(O);E.grid=this,E.model=M,this._coordsMap[O]=E,this._coordsList.push(E),E.addAxis(B),E.addAxis(V)},this)},this);function z(B){return function(G,V){if(m(G,M)){var I=G.get("position");B==="x"?I!=="top"&&I!=="bottom"&&(I=P.bottom?"top":"bottom"):I!=="left"&&I!=="right"&&(I=P.left?"right":"left"),P[I]=!0;var O=new d(B,n(G),[0,0],G.get("type"),I),E=O.type==="category";O.onBand=E&&G.get("boundaryGap"),O.inverse=G.get("inverse"),G.axis=O,O.model=G,O.grid=this,O.index=V,this._axesList.push(O),R[B][V]=O,k[B]++}}}},_._updateScale=function(M,D){r(this._axesList,function(P){P.scale.setExtent(1/0,-1/0)}),M.eachSeries(function(P){if(A(P)){var R=w(P),k=R[0],z=R[1];if(!m(k,D)||!m(z,D))return;var B=this.getCartesian(k.componentIndex,z.componentIndex),G=P.getData(),V=B.getAxis("x"),I=B.getAxis("y");G.type==="list"&&(L(G,V),L(G,I))}},this);function L(P,R,k){r(P.mapDimension(R.dim,!0),function(z){R.scale.unionExtentFromData(P,g(P,z))})}},_.getTooltipAxes=function(M){var D=[],L=[];return r(this.getCartesians(),function(P){var R=M!=null&&M!=="auto"?P.getAxis(M):P.getBaseAxis(),k=P.getOtherAxis(R);i(D,R)<0&&D.push(R),i(L,k)<0&&L.push(k)}),{baseAxes:D,otherAxes:L}};function S(M,D){var L=M.getExtent(),P=L[0]+L[1];M.toGlobalCoord=M.dim==="x"?function(R){return R+D}:function(R){return P-R+D},M.toLocalCoord=M.dim==="x"?function(R){return R-D}:function(R){return P-R+D}}var x=["xAxis","yAxis"];function w(M,D){return a(x,function(L){var P=M.getReferringComponents(L)[0];return P})}function A(M){return M.get("coordinateSystem")==="cartesian2d"}y.create=function(M,D){var L=[];return M.eachComponent("grid",function(P,R){var k=new y(P,M,D);k.name="grid_"+R,k.resize(P,D,!0),P.coordinateSystem=k,L.push(k)}),M.eachSeries(function(P){if(A(P)){var R=w(P),k=R[0],z=R[1],B=k.getCoordSysModel(),G=B.coordinateSystem;P.coordinateSystem=G.getCartesian(k.componentIndex,z.componentIndex)}}),L},y.dimensions=y.prototype.dimensions=l.prototype.dimensions,c.register("cartesian2d",y);var C=y;return Ol=C,Ol}var uy={},vy={},zl,hy;function ia(){if(hy)return zl;hy=1;var e=Z,t=e.retrieve,r=e.defaults,a=e.extend,i=e.each,o=Ke(),v=ye,f=vt,n=Oe(),h=n.isRadianAroundZero,s=n.remRadian,u=Zt(),l=u.createSymbol,d=Pt(),c=Ye(),p=c.applyTransform,g=sr(),m=g.shouldShowAllLabels,y=Math.PI,_=function(B,G){this.opt=G,this.axisModel=B,r(G,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new v.Group;var V=new v.Group({position:G.position.slice(),rotation:G.rotation});V.updateTransform(),this._transform=V.transform,this._dumbGroup=V};_.prototype={constructor:_,hasBuilder:function(B){return!!b[B]},add:function(B){b[B].call(this)},getGroup:function(){return this.group}};var b={axisLine:function(){var B=this.opt,G=this.axisModel;if(G.get("axisLine.show")){var V=this.axisModel.axis.getExtent(),I=this._transform,O=[V[0],0],E=[V[1],0];I&&(p(O,O,I),p(E,E,I));var N=a({lineCap:"round"},G.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new v.Line({anid:"line",subPixelOptimize:!0,shape:{x1:O[0],y1:O[1],x2:E[0],y2:E[1]},style:N,strokeContainThreshold:B.strokeContainThreshold||5,silent:!0,z2:1}));var q=G.get("axisLine.symbol"),H=G.get("axisLine.symbolSize"),F=G.get("axisLine.symbolOffset")||0;if(typeof F=="number"&&(F=[F,F]),q!=null){typeof q=="string"&&(q=[q,q]),(typeof H=="string"||typeof H=="number")&&(H=[H,H]);var U=H[0],W=H[1];i([{rotate:B.rotation+Math.PI/2,offset:F[0],r:0},{rotate:B.rotation-Math.PI/2,offset:F[1],r:Math.sqrt((O[0]-E[0])*(O[0]-E[0])+(O[1]-E[1])*(O[1]-E[1]))}],function(Y,Q){if(q[Q]!=="none"&&q[Q]!=null){var ee=l(q[Q],-U/2,-W/2,U,W,N.stroke,!0),j=Y.r+Y.offset,re=[O[0]+j*Math.cos(B.rotation),O[1]-j*Math.sin(B.rotation)];ee.attr({rotation:Y.rotate,position:re,silent:!0,z2:11}),this.group.add(ee)}},this)}}},axisTickLabel:function(){var B=this.axisModel,G=this.opt,V=P(this,B,G),I=k(this,B,G);A(B,I,V),R(this,B,G)},axisName:function(){var B=this.opt,G=this.axisModel,V=t(B.axisName,G.get("name"));if(V){var I=G.get("nameLocation"),O=B.nameDirection,E=G.getModel("nameTextStyle"),N=G.get("nameGap")||0,q=this.axisModel.axis.getExtent(),H=q[0]>q[1]?-1:1,F=[I==="start"?q[0]-H*N:I==="end"?q[1]+H*N:(q[0]+q[1])/2,D(I)?B.labelOffset+O*N:0],U,W=G.get("nameRotate");W!=null&&(W=W*y/180);var Y;D(I)?U=S(B.rotation,W??B.rotation,O):(U=x(B,I,W||0,q),Y=B.axisNameAvailableWidth,Y!=null&&(Y=Math.abs(Y/Math.sin(U.rotation)),!isFinite(Y)&&(Y=null)));var Q=E.getFont(),ee=G.get("nameTruncate",!0)||{},j=ee.ellipsis,re=t(B.nameTruncateMaxWidth,ee.maxWidth,Y),ae=j!=null&&re!=null?o.truncateText(V,re,Q,j,{minChar:2,placeholder:ee.placeholder}):V,ne=G.get("tooltip",!0),de=G.mainType,te={componentType:de,name:V,$vars:["name"]};te[de+"Index"]=G.componentIndex;var se=new v.Text({anid:"name",__fullText:V,__truncatedText:ae,position:F,rotation:U.rotation,silent:w(G),z2:1,tooltip:ne&&ne.show?a({content:V,formatter:function(){return V},formatterParams:te},ne):null});v.setTextStyle(se.style,E,{text:ae,textFont:Q,textFill:E.getTextColor()||G.get("axisLine.lineStyle.color"),textAlign:E.get("align")||U.textAlign,textVerticalAlign:E.get("verticalAlign")||U.textVerticalAlign}),G.get("triggerEvent")&&(se.eventData=T(G),se.eventData.targetType="axisName",se.eventData.name=V),this._dumbGroup.add(se),se.updateTransform(),this.group.add(se),se.decomposeTransform()}}},T=_.makeAxisEventDataBase=function(B){var G={componentType:B.mainType,componentIndex:B.componentIndex};return G[B.mainType+"Index"]=B.componentIndex,G},S=_.innerTextLayout=function(B,G,V){var I=s(G-B),O,E;return h(I)?(E=V>0?"top":"bottom",O="center"):h(I-y)?(E=V>0?"bottom":"top",O="center"):(E="middle",I>0&&I<y?O=V>0?"right":"left":O=V>0?"left":"right"),{rotation:I,textAlign:O,textVerticalAlign:E}};function x(B,G,V,I){var O=s(V-B.rotation),E,N,q=I[0]>I[1],H=G==="start"&&!q||G!=="start"&&q;return h(O-y/2)?(N=H?"bottom":"top",E="center"):h(O-y*1.5)?(N=H?"top":"bottom",E="center"):(N="middle",O<y*1.5&&O>y/2?E=H?"left":"right":E=H?"right":"left"),{rotation:O,textAlign:E,textVerticalAlign:N}}var w=_.isLabelSilent=function(B){var G=B.get("tooltip");return B.get("silent")||!(B.get("triggerEvent")||G&&G.show)};function A(B,G,V){if(!m(B.axis)){var I=B.get("axisLabel.showMinLabel"),O=B.get("axisLabel.showMaxLabel");G=G||[],V=V||[];var E=G[0],N=G[1],q=G[G.length-1],H=G[G.length-2],F=V[0],U=V[1],W=V[V.length-1],Y=V[V.length-2];I===!1?(C(E),C(F)):M(E,N)&&(I?(C(N),C(U)):(C(E),C(F))),O===!1?(C(q),C(W)):M(H,q)&&(O?(C(H),C(Y)):(C(q),C(W)))}}function C(B){B&&(B.ignore=!0)}function M(B,G,V){var I=B&&B.getBoundingRect().clone(),O=G&&G.getBoundingRect().clone();if(!(!I||!O)){var E=d.identity([]);return d.rotate(E,E,-B.rotation),I.applyTransform(d.mul([],E,B.getLocalTransform())),O.applyTransform(d.mul([],E,G.getLocalTransform())),I.intersect(O)}}function D(B){return B==="middle"||B==="center"}function L(B,G,V,I,O){for(var E=[],N=[],q=[],H=0;H<B.length;H++){var F=B[H].coord;N[0]=F,N[1]=0,q[0]=F,q[1]=V,G&&(p(N,N,G),p(q,q,G));var U=new v.Line({anid:O+"_"+B[H].tickValue,subPixelOptimize:!0,shape:{x1:N[0],y1:N[1],x2:q[0],y2:q[1]},style:I,z2:2,silent:!0});E.push(U)}return E}function P(B,G,V){var I=G.axis,O=G.getModel("axisTick");if(!(!O.get("show")||I.scale.isBlank())){for(var E=O.getModel("lineStyle"),N=V.tickDirection*O.get("length"),q=I.getTicksCoords(),H=L(q,B._transform,N,r(E.getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")}),"ticks"),F=0;F<H.length;F++)B.group.add(H[F]);return H}}function R(B,G,V){var I=G.axis,O=G.getModel("minorTick");if(!(!O.get("show")||I.scale.isBlank())){var E=I.getMinorTicksCoords();if(E.length)for(var N=O.getModel("lineStyle"),q=V.tickDirection*O.get("length"),H=r(N.getLineStyle(),r(G.getModel("axisTick").getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")})),F=0;F<E.length;F++)for(var U=L(E[F],B._transform,q,H,"minorticks_"+F),W=0;W<U.length;W++)B.group.add(U[W])}}function k(B,G,V){var I=G.axis,O=t(V.axisLabelShow,G.get("axisLabel.show"));if(!(!O||I.scale.isBlank())){var E=G.getModel("axisLabel"),N=E.get("margin"),q=I.getViewLabels(),H=(t(V.labelRotate,E.get("rotate"))||0)*y/180,F=S(V.rotation,H,V.labelDirection),U=G.getCategories&&G.getCategories(!0),W=[],Y=w(G),Q=G.get("triggerEvent");return i(q,function(ee,j){var re=ee.tickValue,ae=ee.formattedLabel,ne=ee.rawLabel,de=E;U&&U[re]&&U[re].textStyle&&(de=new f(U[re].textStyle,E,G.ecModel));var te=de.getTextColor()||G.get("axisLine.lineStyle.color"),se=I.dataToCoord(re),Te=[se,V.labelOffset+V.labelDirection*N],le=new v.Text({anid:"label_"+re,position:Te,rotation:F.rotation,silent:Y,z2:10});v.setTextStyle(le.style,de,{text:ae,textAlign:de.getShallow("align",!0)||F.textAlign,textVerticalAlign:de.getShallow("verticalAlign",!0)||de.getShallow("baseline",!0)||F.textVerticalAlign,textFill:typeof te=="function"?te(I.type==="category"?ne:I.type==="value"?re+"":re,j):te}),Q&&(le.eventData=T(G),le.eventData.targetType="axisLabel",le.eventData.value=ne),B._dumbGroup.add(le),le.updateTransform(),W.push(le),B.group.add(le),le.decomposeTransform()}),W}}var z=_;return zl=z,zl}var ca={},cy;function as(){if(cy)return ca;cy=1;var e=Z,t=vt,r=e.each,a=e.curry;function i(p,g){var m={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return o(m,p,g),m.seriesInvolved&&f(m,p),m}function o(p,g,m){var y=g.getComponent("tooltip"),_=g.getComponent("axisPointer"),b=_.get("link",!0)||[],T=[];r(m.getCoordinateSystems(),function(S){if(!S.axisPointerEnabled)return;var x=c(S.model),w=p.coordSysAxesInfo[x]={};p.coordSysMap[x]=S;var A=S.model,C=A.getModel("tooltip",y);if(r(S.getAxes(),a(P,!1,null)),S.getTooltipAxes&&y&&C.get("show")){var M=C.get("trigger")==="axis",D=C.get("axisPointer.type")==="cross",L=S.getTooltipAxes(C.get("axisPointer.axis"));(M||D)&&r(L.baseAxes,a(P,D?"cross":!0,M)),D&&r(L.otherAxes,a(P,"cross",!1))}function P(R,k,z){var B=z.model.getModel("axisPointer",_),G=B.get("show");if(!(!G||G==="auto"&&!R&&!d(B))){k==null&&(k=B.get("triggerTooltip")),B=R?v(z,C,_,g,R,k):B;var V=B.get("snap"),I=c(z.model),O=k||V||z.type==="category",E=p.axesInfo[I]={key:I,axis:z,coordSys:S,axisPointerModel:B,triggerTooltip:k,involveSeries:O,snap:V,useHandle:d(B),seriesModels:[]};w[I]=E,p.seriesInvolved|=O;var N=n(b,z);if(N!=null){var q=T[N]||(T[N]={axesInfo:{}});q.axesInfo[I]=E,q.mapper=b[N].mapper,E.linkGroup=q}}}})}function v(p,g,m,y,_,b){var T=g.getModel("axisPointer"),S={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(C){S[C]=e.clone(T.get(C))}),S.snap=p.type!=="category"&&!!b,T.get("type")==="cross"&&(S.type="line");var x=S.label||(S.label={});if(x.show==null&&(x.show=!1),_==="cross"){var w=T.get("label.show");if(x.show=w??!0,!b){var A=S.lineStyle=T.get("crossStyle");A&&e.defaults(x,A.textStyle)}}return p.model.getModel("axisPointer",new t(S,m,y))}function f(p,g){g.eachSeries(function(m){var y=m.coordinateSystem,_=m.get("tooltip.trigger",!0),b=m.get("tooltip.show",!0);!y||_==="none"||_===!1||_==="item"||b===!1||m.get("axisPointer.show",!0)===!1||r(p.coordSysAxesInfo[c(y.model)],function(T){var S=T.axis;y.getAxis(S.dim)===S&&(T.seriesModels.push(m),T.seriesDataCount==null&&(T.seriesDataCount=0),T.seriesDataCount+=m.getData().count())})},this)}function n(p,g){for(var m=g.model,y=g.dim,_=0;_<p.length;_++){var b=p[_]||{};if(h(b[y+"AxisId"],m.id)||h(b[y+"AxisIndex"],m.componentIndex)||h(b[y+"AxisName"],m.name))return _}}function h(p,g){return p==="all"||e.isArray(p)&&e.indexOf(p,g)>=0||p===g}function s(p){var g=u(p);if(g){var m=g.axisPointerModel,y=g.axis.scale,_=m.option,b=m.get("status"),T=m.get("value");T!=null&&(T=y.parse(T));var S=d(m);b==null&&(_.status=S?"show":"hide");var x=y.getExtent().slice();x[0]>x[1]&&x.reverse(),(T==null||T>x[1])&&(T=x[1]),T<x[0]&&(T=x[0]),_.value=T,S&&(_.status=g.axis.scale.isBlank()?"hide":"show")}}function u(p){var g=(p.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return g&&g.axesInfo[c(p)]}function l(p){var g=u(p);return g&&g.axisPointerModel}function d(p){return!!p.get("handle.show")}function c(p){return p.type+"||"+p.id}return ca.collect=i,ca.fixValue=s,ca.getAxisInfo=u,ca.getAxisPointerModel=l,ca.makeKey=c,ca}var Bl,fy;function Ca(){if(fy)return Bl;fy=1;var e=we,t=as(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(f,n,h,s){this.axisPointerClass&&t.fixValue(f),r.superApply(this,"render",arguments),a(this,f,n,h,s,!0)},updateAxisPointer:function(f,n,h,s,u){a(this,f,n,h,s,!1)},remove:function(f,n){var h=this._axisPointer;h&&h.remove(n),r.superApply(this,"remove",arguments)},dispose:function(f,n){i(this,n),r.superApply(this,"dispose",arguments)}});function a(f,n,h,s,u,l){var d=r.getAxisPointerClass(f.axisPointerClass);if(d){var c=t.getAxisPointerModel(n);c?(f._axisPointer||(f._axisPointer=new d)).render(n,c,s,l):i(f,s)}}function i(f,n,h){var s=f._axisPointer;s&&s.dispose(n,h),f._axisPointer=null}var o=[];r.registerAxisPointerClass=function(f,n){o[f]=n},r.getAxisPointerClass=function(f){return f&&o[f]};var v=r;return Bl=v,Bl}var Nl={},dy;function EC(){if(dy)return Nl;dy=1;var e=Z;function t(r,a,i){i=i||{};var o=r.coordinateSystem,v=a.axis,f={},n=v.getAxesOnZeroOf()[0],h=v.position,s=n?"onZero":h,u=v.dim,l=o.getRect(),d=[l.x,l.x+l.width,l.y,l.y+l.height],c={left:0,right:1,top:0,bottom:1,onZero:2},p=a.get("offset")||0,g=u==="x"?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(n){var m=n.toGlobalCoord(n.dataToCoord(0));g[c.onZero]=Math.max(Math.min(m,g[1]),g[0])}f.position=[u==="y"?g[c[s]]:d[0],u==="x"?g[c[s]]:d[3]],f.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};f.labelDirection=f.tickDirection=f.nameDirection=y[h],f.labelOffset=n?g[c[h]]-g[c.onZero]:0,a.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection),e.retrieve(i.labelInside,a.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);var _=a.get("axisLabel.rotate");return f.labelRotate=s==="top"?-_:_,f.z2=1,f}return Nl.layout=t,Nl}var jn={},gy;function kC(){if(gy)return jn;gy=1;var e=Z,t=ye;function r(i,o,v,f){var n=v.axis;if(!n.scale.isBlank()){var h=v.getModel("splitArea"),s=h.getModel("areaStyle"),u=s.get("color"),l=f.coordinateSystem.getRect(),d=n.getTicksCoords({tickModel:h,clamp:!0});if(d.length){var c=u.length,p=i.__splitAreaColors,g=e.createHashMap(),m=0;if(p)for(var y=0;y<d.length;y++){var _=p.get(d[y].tickValue);if(_!=null){m=(_+(c-1)*y)%c;break}}var b=n.toGlobalCoord(d[0].coord),T=s.getAreaStyle();u=e.isArray(u)?u:[u];for(var y=1;y<d.length;y++){var S=n.toGlobalCoord(d[y].coord),x,w,A,C;n.isHorizontal()?(x=b,w=l.y,A=S-x,C=l.height,b=x+A):(x=l.x,w=b,A=l.width,C=S-w,b=w+C);var M=d[y-1].tickValue;M!=null&&g.set(M,m),o.add(new t.Rect({anid:M!=null?"area_"+M:null,shape:{x,y:w,width:A,height:C},style:e.defaults({fill:u[m]},T),silent:!0})),m=(m+1)%c}i.__splitAreaColors=g}}}function a(i){i.__splitAreaColors=null}return jn.rectCoordAxisBuildSplitArea=r,jn.rectCoordAxisHandleRemove=a,jn}var py;function BN(){if(py)return vy;py=1;var e=Z,t=ye,r=ia(),a=Ca(),i=EC(),o=kC(),v=o.rectCoordAxisBuildSplitArea,f=o.rectCoordAxisHandleRemove,n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine","minorSplitLine"],s=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(u,l,d,c){this.group.removeAll();var p=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!u.get("show")){var g=u.getCoordSysModel(),m=i.layout(g,u),y=new r(u,m);e.each(n,y.add,y),this._axisGroup.add(y.getGroup()),e.each(h,function(_){u.get(_+".show")&&this["_"+_](u,g)},this),t.groupTransition(p,this._axisGroup,u),s.superCall(this,"render",u,l,d,c)}},remove:function(){f(this)},_splitLine:function(u,l){var d=u.axis;if(!d.scale.isBlank()){var c=u.getModel("splitLine"),p=c.getModel("lineStyle"),g=p.get("color");g=e.isArray(g)?g:[g];for(var m=l.coordinateSystem.getRect(),y=d.isHorizontal(),_=0,b=d.getTicksCoords({tickModel:c}),T=[],S=[],x=p.getLineStyle(),w=0;w<b.length;w++){var A=d.toGlobalCoord(b[w].coord);y?(T[0]=A,T[1]=m.y,S[0]=A,S[1]=m.y+m.height):(T[0]=m.x,T[1]=A,S[0]=m.x+m.width,S[1]=A);var C=_++%g.length,M=b[w].tickValue;this._axisGroup.add(new t.Line({anid:M!=null?"line_"+b[w].tickValue:null,subPixelOptimize:!0,shape:{x1:T[0],y1:T[1],x2:S[0],y2:S[1]},style:e.defaults({stroke:g[C]},x),silent:!0}))}}},_minorSplitLine:function(u,l){var d=u.axis,c=u.getModel("minorSplitLine"),p=c.getModel("lineStyle"),g=l.coordinateSystem.getRect(),m=d.isHorizontal(),y=d.getMinorTicksCoords();if(y.length)for(var _=[],b=[],T=p.getLineStyle(),S=0;S<y.length;S++)for(var x=0;x<y[S].length;x++){var w=d.toGlobalCoord(y[S][x].coord);m?(_[0]=w,_[1]=g.y,b[0]=w,b[1]=g.y+g.height):(_[0]=g.x,_[1]=w,b[0]=g.x+g.width,b[1]=w),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[S][x].tickValue,subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:b[0],y2:b[1]},style:T,silent:!0}))}},_splitArea:function(u,l){v(this,this._axisGroup,u,l)}});return s.extend({type:"xAxis"}),s.extend({type:"yAxis"}),vy}var my;function NN(){return my||(my=1,RC(),BN()),uy}var yy;function An(){if(yy)return ey;yy=1;var e=we,t=Z,r=ye;return Pd(),NN(),e.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new r.Rect({shape:a.coordinateSystem.getRect(),style:t.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),ey}var _y;function VN(){if(_y)return qm;_y=1;var e=we;LN(),IN();var t=Ta(),r=wn(),a=RN();return An(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a("line")),qm}var xy={},Vl,Sy;function OC(){if(Sy)return Vl;Sy=1;var e=ft,t=Br(),r=e.extend({type:"series.__base_bar__",getInitialData:function(a,i){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var i=this.coordinateSystem;if(i){var o=i.dataToPoint(i.clampData(a)),v=this.getData(),f=v.getLayout("offset"),n=v.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;return o[h]+=f+n/2,o}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return Vl=r,Vl}var Hl,by;function HN(){if(by)return Hl;by=1;var e=OC(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>r&&(r=a),r},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return Hl=t,Hl}var ql={},wy;function zC(){if(wy)return ql;wy=1;var e=ye,t=Ld(),r=t.getDefaultLabel;function a(o,v,f,n,h,s,u){var l=f.getModel("label"),d=f.getModel("emphasis.label");e.setLabelStyle(o,v,l,d,{labelFetcher:h,labelDataIndex:s,defaultText:r(h.getData(),s),isRectText:!0,autoColor:n}),i(o),i(v)}function i(o,v){o.textPosition==="outside"&&(o.textPosition=v)}return ql.setLabel=a,ql}var Gl,Ay;function qN(){if(Ay)return Gl;Ay=1;var e=li,t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(a){var i=t(this,a);if(this.getBorderLineDash){var o=this.getBorderLineDash();o&&(i.lineDash=o)}return i}};return Gl=r,Gl}var Fl,Ty;function GN(){if(Ty)return Fl;Ty=1;var e=ye,t=e.extendShape,r=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(a,i){var o=i.cx,v=i.cy,f=Math.max(i.r0||0,0),n=Math.max(i.r,0),h=(n-f)*.5,s=f+h,u=i.startAngle,l=i.endAngle,d=i.clockwise,c=Math.cos(u),p=Math.sin(u),g=Math.cos(l),m=Math.sin(l),y=d?l-u<Math.PI*2:u-l<Math.PI*2;y&&(a.moveTo(c*f+o,p*f+v),a.arc(c*s+o,p*s+v,h,-Math.PI+u,u,!d)),a.arc(o,v,n,u,l,!d),a.moveTo(g*n+o,m*n+v),a.arc(g*s+o,m*s+v,h,l-Math.PI*2,l-Math.PI,!d),f!==0&&(a.arc(o,v,f,l,u,d),a.moveTo(c*f+o,m*f+v)),a.closePath()}});return Fl=r,Fl}var $l,Cy;function FN(){if(Cy)return $l;Cy=1;var e=we,t=Z,r=ye,a=zC(),i=a.setLabel,o=vt,v=qN(),f=at,n=Sa,h=or,s=h.throttle,u=bn(),l=u.createClipPath,d=GN(),c=["itemStyle","barBorderWidth"],p=[0,0];t.extend(o.prototype,v);function g(V,I){var O=V.getArea&&V.getArea();if(V.type==="cartesian2d"){var E=V.getBaseAxis();if(E.type!=="category"||!E.onBand){var N=I.getLayout("bandWidth");E.isHorizontal()?(O.x-=N,O.width+=N*2):(O.y-=N,O.height+=N*2)}}return O}var m=e.extendChartView({type:"bar",render:function(V,I,O){this._updateDrawMode(V);var E=V.get("coordinateSystem");return(E==="cartesian2d"||E==="polar")&&(this._isLargeDraw?this._renderLarge(V,I,O):this._renderNormal(V,I,O)),this.group},incrementalPrepareRender:function(V,I,O){this._clear(),this._updateDrawMode(V)},incrementalRender:function(V,I,O,E){this._incrementalRenderLarge(V,I)},_updateDrawMode:function(V){var I=V.pipelineContext.large;(this._isLargeDraw==null||I^this._isLargeDraw)&&(this._isLargeDraw=I,this._clear())},_renderNormal:function(V,I,O){var E=this.group,N=V.getData(),q=this._data,H=V.coordinateSystem,F=H.getBaseAxis(),U;H.type==="cartesian2d"?U=F.isHorizontal():H.type==="polar"&&(U=F.dim==="angle");var W=V.isAnimationEnabled()?V:null,Y=V.get("clip",!0),Q=g(H,N);E.removeClipPath();var ee=V.get("roundCap",!0),j=V.get("showBackground",!0),re=V.getModel("backgroundStyle"),ae=[],ne=this._backgroundEls||[];N.diff(q).add(function(se){var Te=N.getItemModel(se),le=w[H.type](N,se,Te);if(j){var ve=G(H,U,le);ve.useStyle(re.getBarItemStyle()),ae[se]=ve}if(N.hasValue(se)){if(Y){var Se=b[H.type](Q,le);if(Se){E.remove(X);return}}var X=T[H.type](se,le,U,W,!1,ee);N.setItemGraphicEl(se,X),E.add(X),C(X,N,se,Te,le,V,U,H.type==="polar")}}).update(function(se,Te){var le=N.getItemModel(se),ve=w[H.type](N,se,le);if(j){var Se=ne[Te];Se.useStyle(re.getBarItemStyle()),ae[se]=Se;var X=B(U,ve,H);r.updateProps(Se,{shape:X},W,se)}var J=q.getItemGraphicEl(Te);if(!N.hasValue(se)){E.remove(J);return}if(Y){var ie=b[H.type](Q,ve);if(ie){E.remove(J);return}}J?r.updateProps(J,{shape:ve},W,se):J=T[H.type](se,ve,U,W,!0,ee),N.setItemGraphicEl(se,J),E.add(J),C(J,N,se,le,ve,V,U,H.type==="polar")}).remove(function(se){var Te=q.getItemGraphicEl(se);H.type==="cartesian2d"?Te&&S(se,W,Te):Te&&x(se,W,Te)}).execute();var de=this._backgroundGroup||(this._backgroundGroup=new n);de.removeAll();for(var te=0;te<ae.length;++te)de.add(ae[te]);E.add(de),this._backgroundEls=ae,this._data=N},_renderLarge:function(V,I,O){this._clear(),L(V,this.group);var E=V.get("clip",!0)?l(V.coordinateSystem,!1,V):null;E?this.group.setClipPath(E):this.group.removeClipPath()},_incrementalRenderLarge:function(V,I){this._removeBackground(),L(I,this.group,!0)},dispose:t.noop,remove:function(V){this._clear(V)},_clear:function(V){var I=this.group,O=this._data;V&&V.get("animation")&&O&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],O.eachItemGraphicEl(function(E){E.type==="sector"?x(E.dataIndex,V,E):S(E.dataIndex,V,E)})):I.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,_=Math.min,b={cartesian2d:function(V,I){var O=I.width<0?-1:1,E=I.height<0?-1:1;O<0&&(I.x+=I.width,I.width=-I.width),E<0&&(I.y+=I.height,I.height=-I.height);var N=y(I.x,V.x),q=_(I.x+I.width,V.x+V.width),H=y(I.y,V.y),F=_(I.y+I.height,V.y+V.height);I.x=N,I.y=H,I.width=q-N,I.height=F-H;var U=I.width<0||I.height<0;return O<0&&(I.x+=I.width,I.width=-I.width),E<0&&(I.y+=I.height,I.height=-I.height),U},polar:function(V){return!1}},T={cartesian2d:function(V,I,O,E,N){var q=new r.Rect({shape:t.extend({},I),z2:1});if(q.name="item",E){var H=q.shape,F=O?"height":"width",U={};H[F]=0,U[F]=I[F],r[N?"updateProps":"initProps"](q,{shape:U},E,V)}return q},polar:function(V,I,O,E,N,q){var H=I.startAngle<I.endAngle,F=!O&&q?d:r.Sector,U=new F({shape:t.defaults({clockwise:H},I),z2:1});if(U.name="item",E){var W=U.shape,Y=O?"r":"endAngle",Q={};W[Y]=O?0:I.startAngle,Q[Y]=I[Y],r[N?"updateProps":"initProps"](U,{shape:Q},E,V)}return U}};function S(V,I,O){O.style.text=null,r.updateProps(O,{shape:{width:0}},I,V,function(){O.parent&&O.parent.remove(O)})}function x(V,I,O){O.style.text=null,r.updateProps(O,{shape:{r:O.shape.r0}},I,V,function(){O.parent&&O.parent.remove(O)})}var w={cartesian2d:function(V,I,O){var E=V.getItemLayout(I),N=M(O,E),q=E.width>0?1:-1,H=E.height>0?1:-1;return{x:E.x+q*N/2,y:E.y+H*N/2,width:E.width-q*N,height:E.height-H*N}},polar:function(V,I,O){var E=V.getItemLayout(I);return{cx:E.cx,cy:E.cy,r0:E.r0,r:E.r,startAngle:E.startAngle,endAngle:E.endAngle}}};function A(V){return V.startAngle!=null&&V.endAngle!=null&&V.startAngle===V.endAngle}function C(V,I,O,E,N,q,H,F){var U=I.getItemVisual(O,"color"),W=I.getItemVisual(O,"opacity"),Y=I.getVisual("borderColor"),Q=E.getModel("itemStyle"),ee=E.getModel("emphasis.itemStyle").getBarItemStyle();F||V.setShape("r",Q.get("barBorderRadius")||0),V.useStyle(t.defaults({stroke:A(N)?"none":Y,fill:A(N)?"none":U,opacity:W},Q.getBarItemStyle()));var j=E.getShallow("cursor");j&&V.attr("cursor",j);var re=H?N.height>0?"bottom":"top":N.width>0?"left":"right";F||i(V.style,ee,E,U,q,O,re),A(N)&&(ee.fill=ee.stroke="none"),r.setHoverStyle(V,ee)}function M(V,I){var O=V.get(c)||0,E=isNaN(I.width)?Number.MAX_VALUE:Math.abs(I.width),N=isNaN(I.height)?Number.MAX_VALUE:Math.abs(I.height);return Math.min(O,E,N)}var D=f.extend({type:"largeBar",shape:{points:[]},buildPath:function(V,I){for(var O=I.points,E=this.__startPoint,N=this.__baseDimIdx,q=0;q<O.length;q+=2)E[N]=O[q+N],V.moveTo(E[0],E[1]),V.lineTo(O[q],O[q+1])}});function L(V,I,O){var E=V.getData(),N=[],q=E.getLayout("valueAxisHorizontal")?1:0;N[1-q]=E.getLayout("valueAxisStart");var H=E.getLayout("largeDataIndices"),F=E.getLayout("barWidth"),U=V.getModel("backgroundStyle"),W=V.get("showBackground",!0);if(W){var Y=E.getLayout("largeBackgroundPoints"),Q=[];Q[1-q]=E.getLayout("backgroundStart");var ee=new D({shape:{points:Y},incremental:!!O,__startPoint:Q,__baseDimIdx:q,__largeDataIndices:H,__barWidth:F,silent:!0,z2:0});z(ee,U,E),I.add(ee)}var j=new D({shape:{points:E.getLayout("largePoints")},incremental:!!O,__startPoint:N,__baseDimIdx:q,__largeDataIndices:H,__barWidth:F});I.add(j),k(j,V,E),j.seriesIndex=V.seriesIndex,V.get("silent")||(j.on("mousedown",P),j.on("mousemove",P))}var P=s(function(V){var I=this,O=R(I,V.offsetX,V.offsetY);I.dataIndex=O>=0?O:null},30,!1);function R(V,I,O){var E=V.__baseDimIdx,N=1-E,q=V.shape.points,H=V.__largeDataIndices,F=Math.abs(V.__barWidth/2),U=V.__startPoint[N];p[0]=I,p[1]=O;for(var W=p[E],Y=p[1-E],Q=W-F,ee=W+F,j=0,re=q.length/2;j<re;j++){var ae=j*2,ne=q[ae+E],de=q[ae+N];if(ne>=Q&&ne<=ee&&(U<=de?Y>=U&&Y<=de:Y>=de&&Y<=U))return H[j]}return-1}function k(V,I,O){var E=O.getVisual("borderColor")||O.getVisual("color"),N=I.getModel("itemStyle").getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=E,V.style.lineWidth=O.getLayout("barWidth")}function z(V,I,O){var E=I.get("borderColor")||I.get("color"),N=I.getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=E,V.style.lineWidth=O.getLayout("barWidth")}function B(V,I,O){var E,N=O.type==="polar";return N?E=O.getArea():E=O.grid.getRect(),N?{cx:E.cx,cy:E.cy,r0:V?E.r0:I.r0,r:V?E.r:I.r,startAngle:V?I.startAngle:0,endAngle:V?I.endAngle:Math.PI*2}:{x:V?I.x:E.x,y:V?E.y:I.y,width:V?I.width:E.width,height:V?E.height:I.height}}function G(V,I,O){var E=V.type==="polar"?r.Sector:r.Rect;return new E({shape:B(I,O,V),silent:!0,z2:0})}return $l=m,$l}var My;function $N(){if(My)return xy;My=1;var e=we,t=Z,r=es(),a=r.layout,i=r.largeLayout;return Pd(),HN(),FN(),An(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(a,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,i),e.registerVisual({seriesType:"bar",reset:function(o){o.getData().setVisual("legendSymbol","roundRect")}}),xy}var Dy={},Ul,Ly;function mi(){if(Ly)return Ul;Ly=1;var e=gi(),t=Wt(),r=Z,a=r.extend,i=r.isArray;function o(v,f,n){f=i(f)&&{coordDimensions:f}||a({},f);var h=v.getSource(),s=e(h,f),u=new t(s,v);return u.initData(h,n),u}return Ul=o,Ul}var Wl,Py;function Id(){if(Py)return Wl;Py=1;var e=Z,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(a,i){return a.set(i.name,i),a},e.createHashMap())},select:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r),o=this.get("selectedMode");o==="single"&&this._selectTargetMap.each(function(v){v.selected=!1}),i&&(i.selected=!0)},unSelect:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);i&&(i.selected=!1)},toggleSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);if(i!=null)return this[i.selected?"unSelect":"select"](r,a),i.selected},isSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);return i&&i.selected}};return Wl=t,Wl}var Zl,Iy;function Tn(){if(Iy)return Zl;Iy=1;function e(r,a){this.getAllNames=function(){var i=a();return i.mapArray(i.getName)},this.containName=function(i){var o=a();return o.indexOfName(i)>=0},this.indexOfName=function(i){var o=r();return o.indexOfName(i)},this.getItemVisual=function(i,o){var v=r();return v.getItemVisual(i,o)}}var t=e;return Zl=t,Zl}var Yl,Ry;function UN(){if(Ry)return Yl;Ry=1;var e=we,t=mi(),r=Z,a=Re,i=Oe(),o=i.getPercentWithPrecision,v=Id(),f=nr,n=f.retrieveRawAttr,h=zr(),s=h.makeSeriesEncodeForNameBased,u=Tn(),l=e.extendSeriesModel({type:"series.pie",init:function(c){l.superApply(this,"init",arguments),this.legendVisualProvider=new u(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(c)},mergeOption:function(c){l.superCall(this,"mergeOption",c),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(c,p){return t(this,{coordDimensions:["value"],encodeDefaulter:r.curry(s,this)})},_createSelectableList:function(){for(var c=this.getRawData(),p=c.mapDimension("value"),g=[],m=0,y=c.count();m<y;m++)g.push({name:c.getName(m),value:c.get(p,m),selected:n(c,m,"selected")});return g},getDataParams:function(c){var p=this.getData(),g=l.superCall(this,"getDataParams",c),m=[];return p.each(p.mapDimension("value"),function(y){m.push(y)}),g.percent=o(m,c,p.hostModel.get("percentPrecision")),g.$vars.push("percent"),g},_defaultLabelLine:function(c){a.defaultEmphasis(c,"labelLine",["show"]);var p=c.labelLine,g=c.emphasis.labelLine;p.show=p.show&&c.label.show,g.show=g.show&&c.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(l,v);var d=l;return Yl=d,Yl}var Xl,Ey;function WN(){if(Ey)return Xl;Ey=1;var e=Z,t=ye,r=wr;function a(h,s,u,l){var d=s.getData(),c=this.dataIndex,p=d.getName(c),g=s.get("selectedOffset");l.dispatchAction({type:"pieToggleSelect",from:h,name:p,seriesId:s.id}),d.each(function(m){i(d.getItemGraphicEl(m),d.getItemLayout(m),s.isSelected(d.getName(m)),g,u)})}function i(h,s,u,l,d){var c=(s.startAngle+s.endAngle)/2,p=Math.cos(c),g=Math.sin(c),m=u?l:0,y=[p*m,g*m];d?h.animate().when(200,{position:y}).start("bounceOut"):h.attr("position",y)}function o(h,s){t.Group.call(this);var u=new t.Sector({z2:2}),l=new t.Polyline,d=new t.Text;this.add(u),this.add(l),this.add(d),this.updateData(h,s,!0)}var v=o.prototype;v.updateData=function(h,s,u){var l=this.childAt(0),d=this.childAt(1),c=this.childAt(2),p=h.hostModel,g=h.getItemModel(s),m=h.getItemLayout(s),y=e.extend({},m);y.label=null;var _=p.getShallow("animationTypeUpdate");if(u){l.setShape(y);var b=p.getShallow("animationType");b==="scale"?(l.shape.r=m.r0,t.initProps(l,{shape:{r:m.r}},p,s)):(l.shape.endAngle=m.startAngle,t.updateProps(l,{shape:{endAngle:m.endAngle}},p,s))}else _==="expansion"?l.setShape(y):t.updateProps(l,{shape:y},p,s);var T=h.getItemVisual(s,"color");l.useStyle(e.defaults({lineJoin:"bevel",fill:T},g.getModel("itemStyle").getItemStyle())),l.hoverStyle=g.getModel("emphasis.itemStyle").getItemStyle();var S=g.getShallow("cursor");S&&l.attr("cursor",S),i(this,h.getItemLayout(s),p.isSelected(h.getName(s)),p.get("selectedOffset"),p.get("animation"));var x=!u&&_==="transition";this._updateLabel(h,s,x),this.highDownOnUpdate=g.get("hoverAnimation")&&p.isAnimationEnabled()?function(w,A){A==="emphasis"?(d.ignore=d.hoverIgnore,c.ignore=c.hoverIgnore,l.stopAnimation(!0),l.animateTo({shape:{r:m.r+p.get("hoverOffset")}},300,"elasticOut")):(d.ignore=d.normalIgnore,c.ignore=c.normalIgnore,l.stopAnimation(!0),l.animateTo({shape:{r:m.r}},300,"elasticOut"))}:null,t.setHoverStyle(this)},v._updateLabel=function(h,s,u){var l=this.childAt(1),d=this.childAt(2),c=h.hostModel,p=h.getItemModel(s),g=h.getItemLayout(s),m=g.label,w=h.getItemVisual(s,"color");if(!m||isNaN(m.x)||isNaN(m.y)){d.ignore=d.normalIgnore=d.hoverIgnore=l.ignore=l.normalIgnore=l.hoverIgnore=!0;return}var y={points:m.linePoints||[[m.x,m.y],[m.x,m.y],[m.x,m.y]]},_={x:m.x,y:m.y};u?(t.updateProps(l,{shape:y},c,s),t.updateProps(d,{style:_},c,s)):(l.attr({shape:y}),d.attr({style:_})),d.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var b=p.getModel("label"),T=p.getModel("emphasis.label"),S=p.getModel("labelLine"),x=p.getModel("emphasis.labelLine"),w=h.getItemVisual(s,"color");t.setLabelStyle(d.style,d.hoverStyle={},b,T,{labelFetcher:h.hostModel,labelDataIndex:s,defaultText:m.text,autoColor:w,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign,opacity:h.getItemVisual(s,"opacity")}),d.ignore=d.normalIgnore=!b.get("show"),d.hoverIgnore=!T.get("show"),l.ignore=l.normalIgnore=!S.get("show"),l.hoverIgnore=!x.get("show"),l.setStyle({stroke:w,opacity:h.getItemVisual(s,"opacity")}),l.setStyle(S.getModel("lineStyle").getLineStyle()),l.hoverStyle=x.getModel("lineStyle").getLineStyle();var A=S.get("smooth");A&&A===!0&&(A=.4),l.setShape({smooth:A})},e.inherits(o,t.Group);var f=r.extend({type:"pie",init:function(){var h=new t.Group;this._sectorGroup=h},render:function(h,s,u,l){if(!(l&&l.from===this.uid)){var d=h.getData(),c=this._data,p=this.group,g=s.get("animation"),m=!c,y=h.get("animationType"),_=h.get("animationTypeUpdate"),b=e.curry(a,this.uid,h,g,u),T=h.get("selectedMode");if(d.diff(c).add(function(C){var M=new o(d,C);m&&y!=="scale"&&M.eachChild(function(D){D.stopAnimation(!0)}),T&&M.on("click",b),d.setItemGraphicEl(C,M),p.add(M)}).update(function(C,M){var D=c.getItemGraphicEl(M);!m&&_!=="transition"&&D.eachChild(function(L){L.stopAnimation(!0)}),D.updateData(d,C),D.off("click"),T&&D.on("click",b),p.add(D),d.setItemGraphicEl(C,D)}).remove(function(C){var M=c.getItemGraphicEl(C);p.remove(M)}).execute(),g&&d.count()>0&&(m?y!=="scale":_!=="transition")){for(var S=d.getItemLayout(0),x=1;isNaN(S.startAngle)&&x<d.count();++x)S=d.getItemLayout(x);var w=Math.max(u.getWidth(),u.getHeight())/2,A=e.bind(p.removeClipPath,p);p.setClipPath(this._createClipPath(S.cx,S.cy,w,S.startAngle,S.clockwise,A,h,m))}else p.removeClipPath();this._data=d}},dispose:function(){},_createClipPath:function(h,s,u,l,d,c,p,g){var m=new t.Sector({shape:{cx:h,cy:s,r0:0,r:u,startAngle:l,endAngle:l,clockwise:d}}),y=g?t.initProps:t.updateProps;return y(m,{shape:{endAngle:l+(d?1:-1)*Math.PI*2}},p,c),m},containPoint:function(h,s){var u=s.getData(),l=u.getItemLayout(0);if(l){var d=h[0]-l.cx,c=h[1]-l.cy,p=Math.sqrt(d*d+c*c);return p<=l.r&&p>=l.r0}}}),n=f;return Xl=n,Xl}var Kl,ky;function BC(){if(ky)return Kl;ky=1;var e=we,t=Z;function r(a,i){t.each(i,function(o){o.update="updateView",e.registerAction(o,function(v,f){var n={};return f.eachComponent({mainType:"series",subType:a,query:v},function(h){h[o.method]&&h[o.method](v.name,v.dataIndex);var s=h.getData();s.each(function(u){var l=s.getName(u);n[l]=h.isSelected(l)||!1})}),{name:v.name,selected:n,seriesId:v.seriesId}})})}return Kl=r,Kl}var Ql,Oy;function is(){if(Oy)return Ql;Oy=1;var e=Z,t=e.createHashMap;function r(a){return{getTargetSeries:function(i){var o={},v=t();return i.eachSeriesByType(a,function(f){f.__paletteScope=o,v.set(f.uid,f)}),v},reset:function(i,o){var v=i.getRawData(),f={},n=i.getData();n.each(function(h){var s=n.getRawIndex(h);f[s]=h}),v.each(function(h){var s=f[h],u=s!=null&&n.getItemVisual(s,"color",!0),l=s!=null&&n.getItemVisual(s,"borderColor",!0),d;if((!u||!l)&&(d=v.getItemModel(h)),!u){var c=d.get("itemStyle.color")||i.getColorFromPalette(v.getName(h)||h+"",i.__paletteScope,v.count());s!=null&&n.setItemVisual(s,"color",c)}if(!l){var p=d.get("itemStyle.borderColor");s!=null&&n.setItemVisual(s,"borderColor",p)}})}}}return Ql=r,Ql}var Jl,zy;function ZN(){if(zy)return Jl;zy=1;var e=$t(),t=Oe(),r=t.parsePercent,a=Math.PI/180;function i(n,h,s,u,l,d,c,p,g,m){n.sort(function(D,L){return D.y-L.y});function y(D,L,P,R){for(var k=D;k<L&&!(n[k].y+P>g+c);k++)if(n[k].y+=P,k>D&&k+1<L&&n[k+1].y>n[k].y+n[k].height){_(k,P/2);return}_(L-1,P/2)}function _(D,L){for(var P=D;P>=0&&!(n[P].y-L<g||(n[P].y-=L,P>0&&n[P].y>n[P-1].y+n[P-1].height));P--);}function b(D,L,P,R,k,z){for(var B=(z>0,L?Number.MAX_VALUE:0),G=0,V=D.length;G<V;G++)if(D[G].labelAlignTo==="none"){var I=Math.abs(D[G].y-R),O=D[G].len,E=D[G].len2,N=I<k+O?Math.sqrt((k+O+E)*(k+O+E)-I*I):Math.abs(D[G].x-P);L&&N>=B&&(N=B-10),!L&&N<=B&&(N=B+10),D[G].x=P+N*z,B=N}}for(var T=0,S,x=n.length,w=[],A=[],C=0;C<x;C++){if(n[C].position==="outer"&&n[C].labelAlignTo==="labelLine"){var M=n[C].x-m;n[C].linePoints[1][0]+=M,n[C].x=m}S=n[C].y-T,S<0&&y(C,x,-S),T=n[C].y+n[C].height}c-T<0&&_(x-1,T-c);for(var C=0;C<x;C++)n[C].y>=s?A.push(n[C]):w.push(n[C]);b(w,!1,h,s,u,l),b(A,!0,h,s,u,l)}function o(n,h,s,u,l,d,c,p){for(var g=[],m=[],y=Number.MAX_VALUE,_=-Number.MAX_VALUE,b=0;b<n.length;b++)v(n[b])||(n[b].x<h?(y=Math.min(y,n[b].x),g.push(n[b])):(_=Math.max(_,n[b].x),m.push(n[b])));i(m,h,s,u,1,l,d,c,p,_),i(g,h,s,u,-1,l,d,c,p,y);for(var b=0;b<n.length;b++){var T=n[b];if(!v(T)){var S=T.linePoints;if(S){var x=T.labelAlignTo==="edge",w=T.textRect.width,A;x?T.x<h?A=S[2][0]-T.labelDistance-c-T.labelMargin:A=c+l-T.labelMargin-S[2][0]-T.labelDistance:T.x<h?A=T.x-c-T.bleedMargin:A=c+l-T.x-T.bleedMargin,A<T.textRect.width&&(T.text=e.truncateText(T.text,A,T.font),T.labelAlignTo==="edge"&&(w=e.getWidth(T.text,T.font)));var C=S[1][0]-S[2][0];x?T.x<h?S[2][0]=c+T.labelMargin+w+T.labelDistance:S[2][0]=c+l-T.labelMargin-w-T.labelDistance:(T.x<h?S[2][0]=T.x+T.labelDistance:S[2][0]=T.x-T.labelDistance,S[1][0]=S[2][0]+C),S[1][1]=S[2][1]=T.y}}}}function v(n){return n.position==="center"}function f(n,h,s,u,l,d){var c=n.getData(),p=[],g,m,y=!1,_=(n.get("minShowLabelAngle")||0)*a;c.each(function(b){var T=c.getItemLayout(b),S=c.getItemModel(b),x=S.getModel("label"),w=x.get("position")||S.get("emphasis.label.position"),A=x.get("distanceToLabelLine"),C=x.get("alignTo"),M=r(x.get("margin"),s),D=x.get("bleedMargin"),L=x.getFont(),P=S.getModel("labelLine"),R=P.get("length");R=r(R,s);var k=P.get("length2");if(k=r(k,s),!(T.angle<_)){var z=(T.startAngle+T.endAngle)/2,B=Math.cos(z),G=Math.sin(z),V,I,O,E;g=T.cx,m=T.cy;var N=n.getFormattedLabel(b,"normal")||c.getName(b),q=e.getBoundingRect(N,L,E,"top"),H=w==="inside"||w==="inner";if(w==="center")V=T.cx,I=T.cy,E="center";else{var F=(H?(T.r+T.r0)/2*B:T.r*B)+g,U=(H?(T.r+T.r0)/2*G:T.r*G)+m;if(V=F+B*3,I=U+G*3,!H){var W=F+B*(R+h-T.r),Y=U+G*(R+h-T.r),Q=W+(B<0?-1:1)*k,ee=Y;C==="edge"?V=B<0?l+M:l+s-M:V=Q+(B<0?-A:A),I=ee,O=[[F,U],[W,Y],[Q,ee]]}E=H?"center":C==="edge"?B>0?"right":"left":B>0?"left":"right"}var j,re=x.get("rotate");typeof re=="number"?j=re*(Math.PI/180):j=re?B<0?-z+Math.PI:-z:0,y=!!j,T.label={x:V,y:I,position:w,height:q.height,len:R,len2:k,linePoints:O,textAlign:E,verticalAlign:"middle",rotation:j,inside:H,labelDistance:A,labelAlignTo:C,labelMargin:M,bleedMargin:D,textRect:q,text:N,font:L},H||p.push(T.label)}}),!y&&n.get("avoidLabelOverlap")&&o(p,g,m,h,s,u,l,d)}return Jl=f,Jl}var jl,By;function YN(){if(By)return jl;By=1;var e=Oe(),t=e.parsePercent,r=e.linearMap,a=Ne,i=ZN(),o=Z,v=Math.PI*2,f=Math.PI/180;function n(s,u){return a.getLayoutRect(s.getBoxLayoutParams(),{width:u.getWidth(),height:u.getHeight()})}function h(s,u,l,d){u.eachSeriesByType(s,function(c){var p=c.getData(),g=p.mapDimension("value"),m=n(c,l),y=c.get("center"),_=c.get("radius");o.isArray(_)||(_=[0,_]),o.isArray(y)||(y=[y,y]);var b=t(m.width,l.getWidth()),T=t(m.height,l.getHeight()),S=Math.min(b,T),x=t(y[0],b)+m.x,w=t(y[1],T)+m.y,A=t(_[0],S/2),C=t(_[1],S/2),M=-c.get("startAngle")*f,D=c.get("minAngle")*f,L=0;p.each(g,function(q){!isNaN(q)&&L++});var P=p.getSum(g),R=Math.PI/(P||L)*2,k=c.get("clockwise"),z=c.get("roseType"),B=c.get("stillShowZeroSum"),G=p.getDataExtent(g);G[0]=0;var V=v,I=0,O=M,E=k?1:-1;if(p.each(g,function(q,H){var F;if(isNaN(q)){p.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:k,cx:x,cy:w,r0:A,r:z?NaN:C,viewRect:m});return}z!=="area"?F=P===0&&B?R:q*R:F=v/L,F<D?(F=D,V-=D):I+=q;var U=O+E*F;p.setItemLayout(H,{angle:F,startAngle:O,endAngle:U,clockwise:k,cx:x,cy:w,r0:A,r:z?r(q,G,[A,C]):C,viewRect:m}),O=U}),V<v&&L)if(V<=.001){var N=v/L;p.each(g,function(q,H){if(!isNaN(q)){var F=p.getItemLayout(H);F.angle=N,F.startAngle=M+E*H*N,F.endAngle=M+E*(H+1)*N}})}else R=V/I,O=M,p.each(g,function(q,H){if(!isNaN(q)){var F=p.getItemLayout(H),U=F.angle===D?D:q*R;F.startAngle=O,F.endAngle=O+E*U,O+=E*U}});i(c,C,m.width,m.height,m.x,m.y)})}return jl=h,jl}var eu,Ny;function Cn(){if(Ny)return eu;Ny=1;function e(t){return{seriesType:t,reset:function(r,a){var i=a.findComponents({mainType:"legend"});if(!(!i||!i.length)){var o=r.getData();o.filterSelf(function(v){for(var f=o.getName(v),n=0;n<i.length;n++)if(!i[n].isSelected(f))return!1;return!0})}}}}return eu=e,eu}var Vy;function XN(){if(Vy)return Dy;Vy=1;var e=we,t=Z;UN(),WN();var r=BC(),a=is(),i=YN(),o=Cn();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(a("pie")),e.registerLayout(t.curry(i,"pie")),e.registerProcessor(o("pie")),Dy}var Hy={},tu,qy;function KN(){if(qy)return tu;qy=1;var e=Br(),t=ft,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return tu=r,tu}var Gy={},ru,Fy;function QN(){if(Fy)return ru;Fy=1;var e=ye,t=Zt(),r=t.createSymbol,a=vd,i=4,o=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(h,s){var u=s.points,l=s.size,d=this.symbolProxy,c=d.shape,p=h.getContext?h.getContext():h,g=p&&l[0]<i;if(!g)for(var m=0;m<u.length;){var y=u[m++],_=u[m++];isNaN(y)||isNaN(_)||this.softClipShape&&!this.softClipShape.contain(y,_)||(c.x=y-l[0]/2,c.y=_-l[1]/2,c.width=l[0],c.height=l[1],d.buildPath(h,c,!0))}},afterBrush:function(h){var s=this.shape,u=s.points,l=s.size,d=l[0]<i;if(d){this.setTransform(h);for(var c=0;c<u.length;){var p=u[c++],g=u[c++];isNaN(p)||isNaN(g)||this.softClipShape&&!this.softClipShape.contain(p,g)||h.fillRect(p-l[0]/2,g-l[1]/2,l[0],l[1])}this.restoreTransform(h)}},findDataIndex:function(h,s){for(var u=this.shape,l=u.points,d=u.size,c=Math.max(d[0],4),p=Math.max(d[1],4),g=l.length/2-1;g>=0;g--){var m=g*2,y=l[m]-c/2,_=l[m+1]-p/2;if(h>=y&&s>=_&&h<=y+c&&s<=_+p)return g}return-1}});function v(){this.group=new e.Group}var f=v.prototype;f.isPersistent=function(){return!this._incremental},f.updateData=function(h,s){this.group.removeAll();var u=new o({rectHover:!0,cursor:"default"});u.setShape({points:h.getLayout("symbolPoints")}),this._setCommon(u,h,!1,s),this.group.add(u),this._incremental=null},f.updateLayout=function(h){if(!this._incremental){var s=h.getLayout("symbolPoints");this.group.eachChild(function(u){if(u.startIndex!=null){var l=(u.endIndex-u.startIndex)*2,d=u.startIndex*4*2;s=new Float32Array(s.buffer,d,l)}u.setShape("points",s)})}},f.incrementalPrepareUpdate=function(h){this.group.removeAll(),this._clearIncremental(),h.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},f.incrementalUpdate=function(h,s,u){var l;this._incremental?(l=new o,this._incremental.addDisplayable(l,!0)):(l=new o({rectHover:!0,cursor:"default",startIndex:h.start,endIndex:h.end}),l.incremental=!0,this.group.add(l)),l.setShape({points:s.getLayout("symbolPoints")}),this._setCommon(l,s,!!this._incremental,u)},f._setCommon=function(h,s,u,l){var d=s.hostModel;l=l||{};var c=s.getVisual("symbolSize");h.setShape("size",c instanceof Array?c:[c,c]),h.softClipShape=l.clipShape||null,h.symbolProxy=r(s.getVisual("symbol"),0,0,0,0),h.setColor=h.symbolProxy.setColor;var p=h.shape.size[0]<i;h.useStyle(d.getModel("itemStyle").getItemStyle(p?["color","shadowBlur","shadowColor"]:["color"]));var g=s.getVisual("color");g&&h.setColor(g),u||(h.seriesIndex=d.seriesIndex,h.on("mousemove",function(m){h.dataIndex=null;var y=h.findDataIndex(m.offsetX,m.offsetY);y>=0&&(h.dataIndex=y+(h.startIndex||0))}))},f.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},f._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()};var n=v;return ru=n,ru}var $y;function JN(){if($y)return Gy;$y=1;var e=we,t=Sn(),r=QN(),a=wn();return e.extendChartView({type:"scatter",render:function(i,o,v){var f=i.getData(),n=this._updateSymbolDraw(f,i);n.updateData(f,{clipShape:this._getClipShape(i)}),this._finished=!0},incrementalPrepareRender:function(i,o,v){var f=i.getData(),n=this._updateSymbolDraw(f,i);n.incrementalPrepareUpdate(f),this._finished=!1},incrementalRender:function(i,o,v){this._symbolDraw.incrementalUpdate(i,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=i.end===o.getData().count()},updateTransform:function(i,o,v){var f=i.getData();if(this.group.dirty(),!this._finished||f.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var n=a().reset(i);n.progress&&n.progress({start:0,end:f.count()},f),this._symbolDraw.updateLayout(f)},_getClipShape:function(i){var o=i.coordinateSystem,v=o&&o.getArea&&o.getArea();return i.get("clip",!0)?v:null},_updateSymbolDraw:function(i,o){var v=this._symbolDraw,f=o.pipelineContext,n=f.large;return(!v||n!==this._isLargeDraw)&&(v&&v.remove(),v=this._symbolDraw=n?new r:new t,this._isLargeDraw=n,this.group.removeAll()),this.group.add(v.group),v},remove:function(i,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Gy}var Uy;function jN(){if(Uy)return Hy;Uy=1;var e=we;KN(),JN();var t=Ta(),r=wn();return An(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),Hy}var Wy={},Zy={},au,Yy;function eV(){if(Yy)return au;Yy=1;var e=Z,t=aa();function r(i,o,v){t.call(this,i,o,v),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var a=r;return au=a,au}var iu,Xy;function tV(){if(Xy)return iu;Xy=1;var e=Z,t=eV(),r=jo(),a=Oe(),i=sr(),o=i.getScaleExtent,v=i.niceScaleExtent,f=br,n=AC();function h(u,l,d){this._model=u,this.dimensions=[],this._indicatorAxes=e.map(u.getIndicatorModels(),function(c,p){var g="indicator_"+p,m=new t(g,c.get("axisType")==="log"?new n:new r);return m.name=c.get("name"),m.model=c,c.axis=m,this.dimensions.push(g),m},this),this.resize(u,d),this.cx,this.cy,this.r,this.r0,this.startAngle}h.prototype.getIndicatorAxes=function(){return this._indicatorAxes},h.prototype.dataToPoint=function(u,l){var d=this._indicatorAxes[l];return this.coordToPoint(d.dataToCoord(u),l)},h.prototype.coordToPoint=function(u,l){var d=this._indicatorAxes[l],c=d.angle,p=this.cx+u*Math.cos(c),g=this.cy-u*Math.sin(c);return[p,g]},h.prototype.pointToData=function(u){var l=u[0]-this.cx,d=u[1]-this.cy,c=Math.sqrt(l*l+d*d);l/=c,d/=c;for(var p=Math.atan2(-d,l),g=1/0,m,y=-1,_=0;_<this._indicatorAxes.length;_++){var b=this._indicatorAxes[_],T=Math.abs(p-b.angle);T<g&&(m=b,y=_,g=T)}return[y,+(m&&m.coordToData(c))]},h.prototype.resize=function(u,l){var d=u.get("center"),c=l.getWidth(),p=l.getHeight(),g=Math.min(c,p)/2;this.cx=a.parsePercent(d[0],c),this.cy=a.parsePercent(d[1],p),this.startAngle=u.get("startAngle")*Math.PI/180;var m=u.get("radius");(typeof m=="string"||typeof m=="number")&&(m=[0,m]),this.r0=a.parsePercent(m[0],g),this.r=a.parsePercent(m[1],g),e.each(this._indicatorAxes,function(y,_){y.setExtent(this.r0,this.r);var b=this.startAngle+_*Math.PI*2/this._indicatorAxes.length;b=Math.atan2(Math.sin(b),Math.cos(b)),y.angle=b},this)},h.prototype.update=function(u,l){var d=this._indicatorAxes,c=this._model;e.each(d,function(m){m.scale.setExtent(1/0,-1/0)}),u.eachSeriesByType("radar",function(m,y){if(!(m.get("coordinateSystem")!=="radar"||u.getComponent("radar",m.get("radarIndex"))!==c)){var _=m.getData();e.each(d,function(b){b.scale.unionExtentFromData(_,_.mapDimension(b.dim))})}},this);var p=c.get("splitNumber");function g(m){var y=Math.pow(10,Math.floor(Math.log(m)/Math.LN10)),_=m/y;return _===2?_=5:_*=2,_*y}e.each(d,function(m,y){var _=o(m.scale,m.model);v(m.scale,m.model);var b=m.model,T=m.scale,S=b.getMin(),x=b.getMax(),w=T.getInterval();if(S!=null&&x!=null)T.setExtent(+S,+x),T.setInterval((x-S)/p);else if(S!=null){var A;do A=S+w*p,T.setExtent(+S,A),T.setInterval(w),w=g(w);while(A<_[1]&&isFinite(A)&&isFinite(_[1]))}else if(x!=null){var C;do C=x-w*p,T.setExtent(C,+x),T.setInterval(w),w=g(w);while(C>_[0]&&isFinite(C)&&isFinite(_[0]))}else{var M=T.getTicks().length-1;M>p&&(w=g(w));var A=Math.ceil(_[1]/w)*w,C=a.round(A-w*p);T.setExtent(C,A),T.setInterval(w)}})},h.dimensions=[],h.create=function(u,l){var d=[];return u.eachComponent("radar",function(c){var p=new h(c,u,l);d.push(p),c.coordinateSystem=p}),u.eachSeriesByType("radar",function(c){c.get("coordinateSystem")==="radar"&&(c.coordinateSystem=d[c.get("radarIndex")||0])}),d},f.register("radar",h);var s=h;return iu=s,iu}var nu,Ky;function rV(){if(Ky)return nu;Ky=1;var e=we,t=Z,r=IC(),a=vt,i=pi(),o=r.valueAxis;function v(h,s){return t.defaults({show:s},h)}var f=e.extendComponentModel({type:"radar",optionUpdated:function(){var h=this.get("boundaryGap"),s=this.get("splitNumber"),u=this.get("scale"),l=this.get("axisLine"),d=this.get("axisTick"),c=this.get("axisType"),p=this.get("axisLabel"),g=this.get("name"),m=this.get("name.show"),y=this.get("name.formatter"),_=this.get("nameGap"),b=this.get("triggerEvent"),T=t.map(this.get("indicator")||[],function(S){S.max!=null&&S.max>0&&!S.min?S.min=0:S.min!=null&&S.min<0&&!S.max&&(S.max=0);var x=g;if(S.color!=null&&(x=t.defaults({color:S.color},g)),S=t.merge(t.clone(S),{boundaryGap:h,splitNumber:s,scale:u,axisLine:l,axisTick:d,axisType:c,axisLabel:p,name:S.text,nameLocation:"end",nameGap:_,nameTextStyle:x,triggerEvent:b},!1),m||(S.name=""),typeof y=="string"){var w=S.name;S.name=y.replace("{value}",w??"")}else typeof y=="function"&&(S.name=y(S.name,S));var A=t.extend(new a(S,null,this.ecModel),i);return A.mainType="radar",A.componentIndex=this.componentIndex,A},this);this.getIndicatorModels=function(){return T}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:v(o.axisLabel,!1),axisTick:v(o.axisTick,!1),axisType:"interval",splitLine:v(o.splitLine,!0),splitArea:v(o.splitArea,!0),indicator:[]}}),n=f;return nu=n,nu}var ou,Qy;function aV(){if(Qy)return ou;Qy=1;var e=we,t=Z,r=ia(),a=ye,i=["axisLine","axisTickLabel","axisName"],o=e.extendComponentView({type:"radar",render:function(v,f,n){var h=this.group;h.removeAll(),this._buildAxes(v),this._buildSplitLineAndArea(v)},_buildAxes:function(v){var f=v.coordinateSystem,n=f.getIndicatorAxes(),h=t.map(n,function(s){var u=new r(s.model,{position:[f.cx,f.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});t.each(h,function(s){t.each(i,s.add,s),this.group.add(s.getGroup())},this)},_buildSplitLineAndArea:function(v){var f=v.coordinateSystem,n=f.getIndicatorAxes();if(!n.length)return;var h=v.get("shape"),s=v.getModel("splitLine"),u=v.getModel("splitArea"),l=s.getModel("lineStyle"),d=u.getModel("areaStyle"),c=s.get("show"),p=u.get("show"),g=l.get("color"),m=d.get("color");g=t.isArray(g)?g:[g],m=t.isArray(m)?m:[m];var y=[],_=[];function b(z,B,G){var V=G%B.length;return z[V]=z[V]||[],V}if(h==="circle")for(var T=n[0].getTicksCoords(),S=f.cx,x=f.cy,w=0;w<T.length;w++){if(c){var A=b(y,g,w);y[A].push(new a.Circle({shape:{cx:S,cy:x,r:T[w].coord}}))}if(p&&w<T.length-1){var A=b(_,m,w);_[A].push(new a.Ring({shape:{cx:S,cy:x,r0:T[w].coord,r:T[w+1].coord}}))}}else for(var C,M=t.map(n,function(z,B){var G=z.getTicksCoords();return C=C==null?G.length-1:Math.min(G.length-1,C),t.map(G,function(V){return f.coordToPoint(V.coord,B)})}),D=[],w=0;w<=C;w++){for(var L=[],P=0;P<n.length;P++)L.push(M[P][w]);if(L[0]&&L.push(L[0].slice()),c){var A=b(y,g,w);y[A].push(new a.Polyline({shape:{points:L}}))}if(p&&D){var A=b(_,m,w-1);_[A].push(new a.Polygon({shape:{points:L.concat(D)}}))}D=L.slice().reverse()}var R=l.getLineStyle(),k=d.getAreaStyle();t.each(_,function(z,B){this.group.add(a.mergePath(z,{style:t.defaults({stroke:"none",fill:m[B%m.length]},k),silent:!0}))},this),t.each(y,function(z,B){this.group.add(a.mergePath(z,{style:t.defaults({fill:"none",stroke:g[B%g.length]},R),silent:!0}))},this)}});return ou=o,ou}var Jy;function iV(){return Jy||(Jy=1,tV(),rV(),aV()),Zy}var su,jy;function nV(){if(jy)return su;jy=1;var e=ft,t=mi(),r=Z,a=Ke(),i=a.encodeHTML,o=Tn(),v=e.extend({type:"series.radar",dependencies:["radar"],init:function(n){v.superApply(this,"init",arguments),this.legendVisualProvider=new o(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(n,h){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(n){var h=this.getData(),s=this.coordinateSystem,u=s.getIndicatorAxes(),l=this.getData().getName(n);return i(l===""?this.name:l)+"<br/>"+r.map(u,function(d,c){var p=h.get(h.mapDimension(d.dim),n);return i(d.name+" : "+p)}).join("<br />")},getTooltipPosition:function(n){if(n!=null){for(var h=this.getData(),s=this.coordinateSystem,u=h.getValues(r.map(s.dimensions,function(p){return h.mapDimension(p)}),n,!0),l=0,d=u.length;l<d;l++)if(!isNaN(u[l])){var c=s.getIndicatorAxes();return s.coordToPoint(c[l].dataToCoord(u[l]),l)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),f=v;return su=f,su}var lu,e0;function oV(){if(e0)return lu;e0=1;var e=we,t=ye,r=Z,a=Zt();function i(v){return r.isArray(v)||(v=[+v,+v]),v}var o=e.extendChartView({type:"radar",render:function(v,f,n){var h=v.coordinateSystem,s=this.group,u=v.getData(),l=this._data;function d(g,m){var y=g.getItemVisual(m,"symbol")||"circle",_=g.getItemVisual(m,"color");if(y!=="none"){var b=i(g.getItemVisual(m,"symbolSize")),T=a.createSymbol(y,-1,-1,2,2,_);return T.attr({style:{strokeNoScale:!0},z2:100,scale:[b[0]/2,b[1]/2]}),T}}function c(g,m,y,_,b,T){y.removeAll();for(var S=0;S<m.length-1;S++){var x=d(_,b);x&&(x.__dimIdx=S,g[S]?(x.attr("position",g[S]),t[T?"initProps":"updateProps"](x,{position:m[S]},v,b)):x.attr("position",m[S]),y.add(x))}}function p(g){return r.map(g,function(m){return[h.cx,h.cy]})}u.diff(l).add(function(g){var m=u.getItemLayout(g);if(m){var y=new t.Polygon,_=new t.Polyline,b={shape:{points:m}};y.shape.points=p(m),_.shape.points=p(m),t.initProps(y,b,v,g),t.initProps(_,b,v,g);var T=new t.Group,S=new t.Group;T.add(_),T.add(y),T.add(S),c(_.shape.points,m,S,u,g,!0),u.setItemGraphicEl(g,T)}}).update(function(g,m){var y=l.getItemGraphicEl(m),_=y.childAt(0),b=y.childAt(1),T=y.childAt(2),S={shape:{points:u.getItemLayout(g)}};S.shape.points&&(c(_.shape.points,S.shape.points,T,u,g,!1),t.updateProps(_,S,v),t.updateProps(b,S,v),u.setItemGraphicEl(g,y))}).remove(function(g){s.remove(l.getItemGraphicEl(g))}).execute(),u.eachItemGraphicEl(function(g,m){var y=u.getItemModel(m),_=g.childAt(0),b=g.childAt(1),T=g.childAt(2),S=u.getItemVisual(m,"color");s.add(g),_.useStyle(r.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),_.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var x=y.getModel("areaStyle"),w=y.getModel("emphasis.areaStyle"),A=x.isEmpty()&&x.parentModel.isEmpty(),C=w.isEmpty()&&w.parentModel.isEmpty();C=C&&A,b.ignore=A,b.useStyle(r.defaults(x.getAreaStyle(),{fill:S,opacity:.7})),b.hoverStyle=w.getAreaStyle();var M=y.getModel("itemStyle").getItemStyle(["color"]),D=y.getModel("emphasis.itemStyle").getItemStyle(),L=y.getModel("label"),P=y.getModel("emphasis.label");T.eachChild(function(R){R.setStyle(M),R.hoverStyle=r.clone(D);var k=u.get(u.dimensions[R.__dimIdx],m);(k==null||isNaN(k))&&(k=""),t.setLabelStyle(R.style,R.hoverStyle,L,P,{labelFetcher:u.hostModel,labelDataIndex:m,labelDimIndex:R.__dimIdx,defaultText:k,autoColor:S,isRectText:!0})}),g.highDownOnUpdate=function(R,k){b.attr("ignore",k==="emphasis"?C:A)},t.setHoverStyle(g)}),this._data=u},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return lu=o,lu}var uu,t0;function sV(){if(t0)return uu;t0=1;var e=Z;function t(i){i.eachSeriesByType("radar",function(o){var v=o.getData(),f=[],n=o.coordinateSystem;if(n){var h=n.getIndicatorAxes();e.each(h,function(s,u){v.each(v.mapDimension(h[u].dim),function(l,d){f[d]=f[d]||[];var c=n.dataToPoint(l,u);f[d][u]=r(c)?c:a(n)})}),v.each(function(s){var u=e.find(f[s],function(l){return r(l)})||a(n);f[s].push(u.slice()),v.setItemLayout(s,f[s])})}})}function r(i){return!isNaN(i[0])&&!isNaN(i[1])}function a(i){return[i.cx,i.cy]}return uu=t,uu}var vu,r0;function lV(){if(r0)return vu;r0=1;var e=Z;function t(r){var a=r.polar;if(a){e.isArray(a)||(a=[a]);var i=[];e.each(a,function(o,v){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(o)):i.push(o)}),r.polar=i}e.each(r.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}return vu=t,vu}var a0;function uV(){if(a0)return Wy;a0=1;var e=we;iV(),nV(),oV();var t=is(),r=Ta(),a=sV(),i=Cn(),o=lV();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(a),e.registerProcessor(i("radar")),e.registerPreprocessor(o),Wy}var i0={},hu,n0;function vV(){if(n0)return hu;n0=1;for(var e=Z,t=CC(),r=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<a.length;i++)for(var o=0;o<a[i].length;o++)a[i][o][0]/=10.5,a[i][o][1]/=-10.5/.75,a[i][o][0]+=r[0],a[i][o][1]+=r[1];function v(f,n){f==="china"&&n.push(new t("南海诸岛",e.map(a,function(h){return{type:"polygon",exterior:h}}),r))}return hu=v,hu}var cu,o0;function hV(){if(o0)return cu;o0=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(r,a){if(r==="china"){var i=e[a.name];if(i){var o=a.center;o[0]+=i[0]/10.5,o[1]+=-i[1]/(10.5/.75)}}}return cu=t,cu}var fu,s0;function cV(){if(s0)return fu;s0=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(r,a){if(r==="world"){var i=e[a.name];if(i){var o=a.center;o[0]=i[0],o[1]=i[1]}}}return fu=t,fu}var du,l0;function fV(){if(l0)return du;l0=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r,a){r==="china"&&a.name==="台湾"&&a.geometries.push({type:"polygon",exterior:e[0]})}return du=t,du}var gu,u0;function dV(){if(u0)return gu;u0=1;var e=Z,t=e.each,r=MC(),a=Re,i=a.makeInner,o=vV(),v=hV(),f=cV(),n=fV(),h=i(),s={load:function(l,d){var c=h(d).parsed;if(c)return c;var p=d.specialAreas||{},g=d.geoJSON,m;try{m=g?r(g):[]}catch(y){throw new Error(`Invalid geoJson format
`+y.message)}return o(l,m),t(m,function(y){var _=y.name;v(l,y),f(l,y),n(l,y);var b=p[_];b&&y.transformTo(b.left,b.top,b.width,b.height)}),h(d).parsed={regions:m,boundingRect:u(m)}}};function u(l){for(var d,c=0;c<l.length;c++){var p=l[c].getBoundingRect();d=d||p.clone(),d.union(p)}return d}return gu=s,gu}var pu,v0;function gV(){if(v0)return pu;v0=1;var e=mn,t=e.parseSVG,r=e.makeViewBoxTransform,a=Sa,i=ld,o=Z,v=o.assert,f=o.createHashMap,n=Xe,h=Re,s=h.makeInner,u=s(),l={load:function(c,p){var g=u(p).originRoot;if(g)return{root:g,boundingRect:u(p).boundingRect};var m=d(p);return u(p).originRoot=m.root,u(p).boundingRect=m.boundingRect,m},makeGraphic:function(c,p,g){var m=u(p),y=m.rootMap||(m.rootMap=f()),_=y.get(g);if(_)return _;var b=m.originRoot,T=m.boundingRect;return m.originRootHostKey?_=d(p,T).root:(m.originRootHostKey=g,_=b),y.set(g,_)},removeGraphic:function(c,p,g){var m=u(p),y=m.rootMap;y&&y.removeKey(g),g===m.originRootHostKey&&(m.originRootHostKey=null)}};function d(c,p){var g=c.svgXML,m,y;try{m=g&&t(g,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=m.root,v(y!=null)}catch(w){throw new Error(`Invalid svg format
`+w.message)}var _=m.width,b=m.height,T=m.viewBoxRect;if(p||(p=_==null||b==null?y.getBoundingRect():new n(0,0,0,0),_!=null&&(p.width=_),b!=null&&(p.height=b)),T){var S=r(T,p.width,p.height),x=y;y=new a,y.add(x),x.scale=S.scale,x.position=S.position}return y.setClipPath(new i({shape:p.plain()})),{root:y,boundingRect:p}}return pu=l,pu}var mu,h0;function ns(){if(h0)return mu;h0=1;var e=Z,t=e.each,r=e.createHashMap,a=Dd,i=dV(),o=gV(),v=Xe,f={geoJSON:i,svg:o},n={load:function(u,l){var d=[],c=r(),p=r(),g,m=s(u);return t(m,function(y){var _=f[y.type].load(u,y);t(_.regions,function(T){var S=T.name;l&&l.hasOwnProperty(S)&&(T=T.cloneShallow(S=l[S])),d.push(T),c.set(S,T),p.set(S,T.center)});var b=_.boundingRect;b&&(g?g.union(b):g=b.clone())}),{regions:d,regionsMap:c,nameCoordMap:p,boundingRect:g||new v(0,0,0,0)}},makeGraphic:h("makeGraphic"),removeGraphic:h("removeGraphic")};function h(u){return function(l,d){var c=s(l),p=[];return t(c,function(g){var m=f[g.type][u];m&&p.push(m(l,g,d))}),p}}function s(u){var l=a.retrieveMap(u)||[];return l}return mu=n,mu}var yu,c0;function pV(){if(c0)return yu;c0=1;var e=Z,t=mi(),r=ft,a=Ke(),i=a.encodeHTML,o=a.addCommas,v=Id(),f=nr,n=f.retrieveRawAttr,h=ns(),s=zr(),u=s.makeSeriesEncodeForNameBased,l=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(c){for(var p=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(u,this)}),g=p.mapDimension("value"),m=e.createHashMap(),y=[],_=[],b=0,T=p.count();b<T;b++){var S=p.getName(b);m.set(S,!0),y.push({name:S,value:p.get(g,b),selected:n(p,b,"selected")})}var x=h.load(this.getMapType(),this.option.nameMap);return e.each(x.regions,function(w){var A=w.name;m.get(A)||(y.push({name:A}),_.push(A))}),this.updateSelectedMap(y),p.appendValues([],_),p},getHostGeoModel:function(){var c=this.option.geoIndex;return c!=null?this.dependentModels.geo[c]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(c){var p=this.getData();return p.get(p.mapDimension("value"),c)},getRegionModel:function(c){var p=this.getData();return p.getItemModel(p.indexOfName(c))},formatTooltip:function(c){for(var p=this.getData(),g=o(this.getRawValue(c)),m=p.getName(c),y=this.seriesGroup,_=[],b=0;b<y.length;b++){var T=y[b].originalData.indexOfName(m),S=p.mapDimension("value");isNaN(y[b].originalData.get(S,T))||_.push(i(y[b].name))}return _.join(", ")+"<br />"+i(m+" : "+g)},getTooltipPosition:function(c){if(c!=null){var p=this.getData().getName(c),g=this.coordinateSystem,m=g.getRegion(p);return m&&g.dataToPoint(m.center)}},setZoom:function(c){this.option.zoom=c},setCenter:function(c){this.option.center=c},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});e.mixin(l,v);var d=l;return yu=d,yu}var zi={},f0;function NC(){if(f0)return zi;f0=1;var e=we,t="\0_ec_interaction_mutex";function r(v,f,n){var h=o(v);h[f]=n}function a(v,f,n){var h=o(v),s=h[f];s===n&&(h[f]=null)}function i(v,f){return!!o(v)[f]}function o(v){return v[t]||(v[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),zi.take=r,zi.release=a,zi.isTaken=i,zi}var _u,d0;function Mn(){if(d0)return _u;d0=1;var e=Z,t=xa,r=ht,a=NC();function i(c){this.pointerChecker,this._zr=c,this._opt={};var p=e.bind,g=p(o,this),m=p(v,this),y=p(f,this),_=p(n,this),b=p(h,this);t.call(this),this.setPointerChecker=function(T){this.pointerChecker=T},this.enable=function(T,S){this.disable(),this._opt=e.defaults(e.clone(S)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),T==null&&(T=!0),(T===!0||T==="move"||T==="pan")&&(c.on("mousedown",g),c.on("mousemove",m),c.on("mouseup",y)),(T===!0||T==="scale"||T==="zoom")&&(c.on("mousewheel",_),c.on("pinch",b))},this.disable=function(){c.off("mousedown",g),c.off("mousemove",m),c.off("mouseup",y),c.off("mousewheel",_),c.off("pinch",b)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(i,t);function o(c){if(!(r.isMiddleOrRightButtonOnMouseUpDown(c)||c.target&&c.target.draggable)){var p=c.offsetX,g=c.offsetY;this.pointerChecker&&this.pointerChecker(c,p,g)&&(this._x=p,this._y=g,this._dragging=!0)}}function v(c){if(!(!this._dragging||!l("moveOnMouseMove",c,this._opt)||c.gestureEvent==="pinch"||a.isTaken(this._zr,"globalPan"))){var p=c.offsetX,g=c.offsetY,m=this._x,y=this._y,_=p-m,b=g-y;this._x=p,this._y=g,this._opt.preventDefaultMouseMove&&r.stop(c.event),u(this,"pan","moveOnMouseMove",c,{dx:_,dy:b,oldX:m,oldY:y,newX:p,newY:g})}}function f(c){r.isMiddleOrRightButtonOnMouseUpDown(c)||(this._dragging=!1)}function n(c){var p=l("zoomOnMouseWheel",c,this._opt),g=l("moveOnMouseWheel",c,this._opt),m=c.wheelDelta,y=Math.abs(m),_=c.offsetX,b=c.offsetY;if(!(m===0||!p&&!g)){if(p){var T=y>3?1.4:y>1?1.2:1.1,S=m>0?T:1/T;s(this,"zoom","zoomOnMouseWheel",c,{scale:S,originX:_,originY:b})}if(g){var x=Math.abs(m),w=(m>0?1:-1)*(x>3?.4:x>1?.15:.05);s(this,"scrollMove","moveOnMouseWheel",c,{scrollDelta:w,originX:_,originY:b})}}}function h(c){if(!a.isTaken(this._zr,"globalPan")){var p=c.pinchScale>1?1.1:1/1.1;s(this,"zoom",null,c,{scale:p,originX:c.pinchX,originY:c.pinchY})}}function s(c,p,g,m,y){c.pointerChecker&&c.pointerChecker(m,y.originX,y.originY)&&(r.stop(m.event),u(c,p,g,m,y))}function u(c,p,g,m,y){y.isAvailableBehavior=e.bind(l,null,g,m),c.trigger(p,y)}function l(c,p,g){var m=g[c];return!c||m&&(!e.isString(m)||p.event[m+"Key"])}var d=i;return _u=d,_u}var eo={},g0;function Rd(){if(g0)return eo;g0=1;function e(r,a,i){var o=r.target,v=o.position;v[0]+=a,v[1]+=i,o.dirty()}function t(r,a,i,o){var v=r.target,f=r.zoomLimit,n=v.position,h=v.scale,s=r.zoom=r.zoom||1;if(s*=a,f){var u=f.min||0,l=f.max||1/0;s=Math.max(Math.min(l,s),u)}var d=s/r.zoom;r.zoom=s,n[0]-=(i-n[0])*(d-1),n[1]-=(o-n[1])*(d-1),h[0]*=d,h[1]*=d,v.dirty()}return eo.updateViewOnPan=e,eo.updateViewOnZoom=t,eo}var xu={},p0;function os(){if(p0)return xu;p0=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,a,i){var o=a.getComponentByElement(r.topTarget),v=o&&o.coordinateSystem;return o&&o!==i&&!e[o.mainType]&&v&&v.model!==i}return xu.onIrrelevantElement=t,xu}var Su,m0;function VC(){if(m0)return Su;m0=1;var e=Z,t=Mn(),r=Rd(),a=os(),i=a.onIrrelevantElement,o=ye,v=ns(),f=ea,n=f.getUID;function h(c){var p=c.getItemStyle(),g=c.get("areaColor");return g!=null&&(p.fill=g),p}function s(c,p,g,m,y){g.off("click"),g.off("mousedown"),p.get("selectedMode")&&(g.on("mousedown",function(){c._mouseDownFlag=!0}),g.on("click",function(_){if(c._mouseDownFlag){c._mouseDownFlag=!1;for(var b=_.target;!b.__regions;)b=b.parent;if(b){var T={type:(p.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(b.__regions,function(S){return{name:S.name,from:y.uid}})};T[p.mainType+"Id"]=p.id,m.dispatchAction(T),u(p,g)}}}))}function u(c,p){p.eachChild(function(g){e.each(g.__regions,function(m){g.trigger(c.isSelected(m.name)?"emphasis":"normal")})})}function l(c,p){var g=new o.Group;this.uid=n("ec_map_draw"),this._controller=new t(c.getZr()),this._controllerHost={target:p?g:null},this.group=g,this._updateGroup=p,this._mouseDownFlag,this._mapName,this._initialized,g.add(this._regionsGroup=new o.Group),g.add(this._backgroundGroup=new o.Group)}l.prototype={constructor:l,draw:function(c,p,g,m,y){var _=c.mainType==="geo",b=c.getData&&c.getData();_&&p.eachComponent({mainType:"series",subType:"map"},function(k){!b&&k.getHostGeoModel()===c&&(b=k.getData())});var T=c.coordinateSystem;this._updateBackground(T);var S=this._regionsGroup,x=this.group,w=T.getTransformInfo();x.transform=w.roamTransform,x.decomposeTransform(),x.dirty();var A=w.rawScale,C=w.rawPosition;S.removeAll();var M=["itemStyle"],D=["emphasis","itemStyle"],L=["label"],P=["emphasis","label"],R=e.createHashMap();e.each(T.regions,function(k){var z=R.get(k.name)||R.set(k.name,new o.Group),B=new o.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});z.add(B);var G=c.getRegionModel(k.name)||c,V=G.getModel(M),I=G.getModel(D),O=h(V),E=h(I),N=G.getModel(L),q=G.getModel(P),H;if(b){H=b.indexOfName(k.name);var F=b.getItemVisual(H,"color",!0);F&&(O.fill=F)}var U=function(de){return[de[0]*A[0]+C[0],de[1]*A[1]+C[1]]};e.each(k.geometries,function(de){if(de.type==="polygon"){for(var te=[],se=0;se<de.exterior.length;++se)te.push(U(de.exterior[se]));B.shape.paths.push(new o.Polygon({segmentIgnoreThreshold:1,shape:{points:te}}));for(var se=0;se<(de.interiors?de.interiors.length:0);++se){for(var Te=de.interiors[se],te=[],le=0;le<Te.length;++le)te.push(U(Te[le]));B.shape.paths.push(new o.Polygon({segmentIgnoreThreshold:1,shape:{points:te}}))}}}),B.setStyle(O),B.style.strokeNoScale=!0,B.culling=!0;var W=N.get("show"),Y=q.get("show"),Q=b&&isNaN(b.get(b.mapDimension("value"),H)),ee=b&&b.getItemLayout(H);if(_||Q&&(W||Y)||ee&&ee.showLabel){var j=_?k.name:H,re;(!b||H>=0)&&(re=c);var ae=new o.Text({position:U(k.center.slice()),scale:[1/x.scale[0],1/x.scale[1]],z2:10,silent:!0});o.setLabelStyle(ae.style,ae.hoverStyle={},N,q,{labelFetcher:re,labelDataIndex:j,defaultText:k.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),z.add(ae)}if(b)b.setItemGraphicEl(H,z);else{var G=c.getRegionModel(k.name);B.eventData={componentType:"geo",componentIndex:c.componentIndex,geoIndex:c.componentIndex,name:k.name,region:G&&G.option||{}}}var ne=z.__regions||(z.__regions=[]);ne.push(k),z.highDownSilentOnTouch=!!c.get("selectedMode"),o.setHoverStyle(z,E),S.add(z)}),this._updateController(c,p,g),s(this,c,S,g,m),u(c,S)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&v.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(c){var p=c.map;this._mapName!==p&&e.each(v.makeGraphic(p,this.uid),function(g){this._backgroundGroup.add(g)},this),this._mapName=p},_updateController:function(c,p,g){var m=c.coordinateSystem,y=this._controller,_=this._controllerHost;_.zoomLimit=c.get("scaleLimit"),_.zoom=m.getZoom(),y.enable(c.get("roam")||!1);var b=c.mainType;function T(){var S={type:"geoRoam",componentType:b};return S[b+"Id"]=c.id,S}y.off("pan").on("pan",function(S){this._mouseDownFlag=!1,r.updateViewOnPan(_,S.dx,S.dy),g.dispatchAction(e.extend(T(),{dx:S.dx,dy:S.dy}))},this),y.off("zoom").on("zoom",function(S){if(this._mouseDownFlag=!1,r.updateViewOnZoom(_,S.scale,S.originX,S.originY),g.dispatchAction(e.extend(T(),{zoom:S.scale,originX:S.originX,originY:S.originY})),this._updateGroup){var x=this.group.scale;this._regionsGroup.traverse(function(w){w.type==="text"&&w.attr("scale",[1/x[0],1/x[1]])})}},this),y.setPointerChecker(function(S,x,w){return m.getViewRectAfterRoam().contain(x,w)&&!i(S,g,c)})}};var d=l;return Su=d,Su}var bu,y0;function mV(){if(y0)return bu;y0=1;var e=we,t=Z,r=ye,a=VC(),i="__seriesMapHighDown",o="__seriesMapCallKey",v=e.extendChartView({type:"map",render:function(h,s,u,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var d=this.group;if(d.removeAll(),!h.getHostGeoModel()){if(l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===h.id){var c=this._mapDraw;c&&d.add(c.group)}else if(h.needsDrawMap){var c=this._mapDraw||new a(u,!0);d.add(c.group),c.draw(h,s,u,this,l),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;h.get("showLegendSymbol")&&s.getComponent("legend")&&this._renderSymbols(h,s,u)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(h,s,u){var l=h.originalData,d=this.group;l.each(l.mapDimension("value"),function(c,p){if(!isNaN(c)){var g=l.getItemLayout(p);if(!(!g||!g.point)){var m=g.point,y=g.offset,_=new r.Circle({style:{fill:h.getData().getVisual("color")},shape:{cx:m[0]+y*9,cy:m[1],r:3},silent:!0,z2:8+(y?0:r.Z2_EMPHASIS_LIFT+1)});if(!y){var b=h.mainSeries.getData(),T=l.getName(p),S=b.indexOfName(T),x=l.getItemModel(p),w=x.getModel("label"),A=x.getModel("emphasis.label"),C=b.getItemGraphicEl(S),M=t.retrieve2(h.getFormattedLabel(S,"normal"),T),D=t.retrieve2(h.getFormattedLabel(S,"emphasis"),M),L=C[i],P=Math.random();if(!L){L=C[i]={};var R=t.curry(f,!0),k=t.curry(f,!1);C.on("mouseover",R).on("mouseout",k).on("emphasis",R).on("normal",k)}C[o]=P,t.extend(L,{recordVersion:P,circle:_,labelModel:w,hoverLabelModel:A,emphasisText:D,normalText:M}),n(L,!1)}d.add(_)}}})}});function f(h){var s=this[i];s&&s.recordVersion===this[o]&&n(s,h)}function n(h,s){var u=h.circle,l=h.labelModel,d=h.hoverLabelModel,c=h.emphasisText,p=h.normalText;s?(u.style.extendFrom(r.setTextStyle({},d,{text:d.get("show")?c:null},{isRectText:!0,useInsideStyle:!1},!0)),u.__mapOriginalZ2=u.z2,u.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(u.style,l,{text:l.get("show")?p:null,textPosition:l.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),u.dirty(!1),u.__mapOriginalZ2!=null&&(u.z2=u.__mapOriginalZ2,u.__mapOriginalZ2=null))}return bu=v,bu}var _0={},wu={},x0;function Ed(){if(x0)return wu;x0=1;function e(t,r,a){var i=t.getZoom(),o=t.getCenter(),v=r.zoom,f=t.dataToPoint(o);if(r.dx!=null&&r.dy!=null){f[0]-=r.dx,f[1]-=r.dy;var o=t.pointToData(f);t.setCenter(o)}if(v!=null){if(a){var n=a.min||0,h=a.max||1/0;v=Math.max(Math.min(i*v,h),n)/i}t.scale[0]*=v,t.scale[1]*=v;var s=t.position,u=(r.originX-s[0])*(v-1),l=(r.originY-s[1])*(v-1);s[0]-=u,s[1]-=l,t.updateTransform();var o=t.pointToData(f);t.setCenter(o),t.setZoom(v*i)}return{center:t.getCenter(),zoom:t.getZoom()}}return wu.updateCenterAndZoom=e,wu}var S0;function HC(){if(S0)return _0;S0=1;var e=we,t=Z,r=Ed(),a=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,o){var v=i.componentType||"series";o.eachComponent({mainType:v,query:i},function(f){var n=f.coordinateSystem;if(n.type==="geo"){var h=a(n,i,f.get("scaleLimit"));f.setCenter&&f.setCenter(h.center),f.setZoom&&f.setZoom(h.zoom),v==="series"&&t.each(f.seriesGroup,function(s){s.setCenter(h.center),s.setZoom(h.zoom)})}})}),_0}var Au,b0;function kd(){if(b0)return Au;b0=1;var e=Z,t=Ye(),r=Pt(),a=Xe,i=Hf,o=t.applyTransform;function v(){i.call(this)}e.mixin(v,i);function f(s){this.name=s,this.zoomLimit,i.call(this),this._roamTransformable=new v,this._rawTransformable=new v,this._center,this._zoom}f.prototype={constructor:f,type:"view",dimensions:["x","y"],setBoundingRect:function(s,u,l,d){return this._rect=new a(s,u,l,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(s,u,l,d){this.transformTo(s,u,l,d),this._viewRect=new a(s,u,l,d)},transformTo:function(s,u,l,d){var c=this.getBoundingRect(),p=this._rawTransformable;p.transform=c.calculateTransform(new a(s,u,l,d)),p.decomposeTransform(),this._updateTransform()},setCenter:function(s){s&&(this._center=s,this._updateCenterAndZoom())},setZoom:function(s){s=s||1;var u=this.zoomLimit;u&&(u.max!=null&&(s=Math.min(u.max,s)),u.min!=null&&(s=Math.max(u.min,s))),this._zoom=s,this._updateCenterAndZoom()},getDefaultCenter:function(){var s=this.getBoundingRect(),u=s.x+s.width/2,l=s.y+s.height/2;return[u,l]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var s=this._rawTransformable.getLocalTransform(),u=this._roamTransformable,l=this.getDefaultCenter(),d=this.getCenter(),c=this.getZoom();d=t.applyTransform([],d,s),l=t.applyTransform([],l,s),u.origin=d,u.position=[l[0]-d[0],l[1]-d[1]],u.scale=[c,c],this._updateTransform()},_updateTransform:function(){var s=this._roamTransformable,u=this._rawTransformable;u.parent=s,s.updateTransform(),u.updateTransform(),r.copy(this.transform||(this.transform=[]),u.transform||r.create()),this._rawTransform=u.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var s=this._roamTransformable.transform,u=this._rawTransformable;return{roamTransform:s?e.slice(s):r.create(),rawScale:e.slice(u.scale),rawPosition:e.slice(u.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var s=this.getBoundingRect().clone();return s.applyTransform(this.transform),s},dataToPoint:function(s,u,l){var d=u?this._rawTransform:this.transform;return l=l||[],d?o(l,s,d):t.copy(l,s)},pointToData:function(s){var u=this.invTransform;return u?o([],s,u):[s[0],s[1]]},convertToPixel:e.curry(n,"dataToPoint"),convertFromPixel:e.curry(n,"pointToData"),containPoint:function(s){return this.getViewRectAfterRoam().contain(s[0],s[1])}},e.mixin(f,i);function n(s,u,l,d){var c=l.seriesModel,p=c?c.coordinateSystem:null;return p===this?p[s](d):null}var h=f;return Au=h,Au}var Tu,w0;function yV(){if(w0)return Tu;w0=1;var e=Z,t=Xe,r=kd(),a=ns();function i(f,n,h,s){r.call(this,f),this.map=n;var u=a.load(n,h);this._nameCoordMap=u.nameCoordMap,this._regionsMap=u.regionsMap,this._invertLongitute=s??!0,this.regions=u.regions,this._rect=u.boundingRect}i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(f){for(var n=this.regions,h=0;h<n.length;h++)if(n[h].contain(f))return!0;return!1},transformTo:function(f,n,h,s){var u=this.getBoundingRect(),l=this._invertLongitute;u=u.clone(),l&&(u.y=-u.y-u.height);var d=this._rawTransformable;if(d.transform=u.calculateTransform(new t(f,n,h,s)),d.decomposeTransform(),l){var c=d.scale;c[1]=-c[1]}d.updateTransform(),this._updateTransform()},getRegion:function(f){return this._regionsMap.get(f)},getRegionByCoord:function(f){for(var n=this.regions,h=0;h<n.length;h++)if(n[h].contain(f))return n[h]},addGeoCoord:function(f,n){this._nameCoordMap.set(f,n)},getGeoCoord:function(f){return this._nameCoordMap.get(f)},getBoundingRect:function(){return this._rect},dataToPoint:function(f,n,h){if(typeof f=="string"&&(f=this.getGeoCoord(f)),f)return r.prototype.dataToPoint.call(this,f,n,h)},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData")},e.mixin(i,r);function o(f,n,h,s){var u=h.geoModel,l=h.seriesModel,d=u?u.coordinateSystem:l?l.coordinateSystem||(l.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return d===this?d[f](s):null}var v=i;return Tu=v,Tu}var Cu,A0;function Od(){if(A0)return Cu;A0=1;var e=we,t=Z,r=yV(),a=Ne,i=Oe(),o=ns(),v=Dd;function f(u,l){var d=u.get("boundingCoords");if(d!=null){var c=d[0],p=d[1];isNaN(c[0])||isNaN(c[1])||isNaN(p[0])||isNaN(p[1])||this.setBoundingRect(c[0],c[1],p[0]-c[0],p[1]-c[1])}var g=this.getBoundingRect(),m,y=u.get("layoutCenter"),_=u.get("layoutSize"),b=l.getWidth(),T=l.getHeight(),S=g.width/g.height*this.aspectScale,x=!1;y&&_&&(y=[i.parsePercent(y[0],b),i.parsePercent(y[1],T)],_=i.parsePercent(_,Math.min(b,T)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(x=!0));var w;if(x){var w={};S>1?(w.width=_,w.height=_/S):(w.height=_,w.width=_*S),w.y=y[1]-w.height/2,w.x=y[0]-w.width/2}else m=u.getBoxLayoutParams(),m.aspect=S,w=a.getLayoutRect(m,{width:b,height:T});this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(u.get("center")),this.setZoom(u.get("zoom"))}function n(u,l){t.each(l.get("geoCoord"),function(d,c){u.addGeoCoord(c,d)})}var h={dimensions:r.prototype.dimensions,create:function(u,l){var d=[];u.eachComponent("geo",function(p,g){var m=p.get("map"),y=p.get("aspectScale"),_=!0,b=v.retrieveMap(m);b&&b[0]&&b[0].type==="svg"?(y==null&&(y=1),_=!1):y==null&&(y=.75);var T=new r(m+g,m,p.get("nameMap"),_);T.aspectScale=y,T.zoomLimit=p.get("scaleLimit"),d.push(T),n(T,p),p.coordinateSystem=T,T.model=p,T.resize=f,T.resize(p,l)}),u.eachSeries(function(p){var g=p.get("coordinateSystem");if(g==="geo"){var m=p.get("geoIndex")||0;p.coordinateSystem=d[m]}});var c={};return u.eachSeriesByType("map",function(p){if(!p.getHostGeoModel()){var g=p.getMapType();c[g]=c[g]||[],c[g].push(p)}}),t.each(c,function(p,g){var m=t.map(p,function(_){return _.get("nameMap")}),y=new r(g,g,t.mergeAll(m));y.zoomLimit=t.retrieve.apply(null,t.map(p,function(_){return _.get("scaleLimit")})),d.push(y),y.resize=f,y.aspectScale=p[0].get("aspectScale"),y.resize(p[0],l),t.each(p,function(_){_.coordinateSystem=y,n(y,_)})}),d},getFilledRegions:function(u,l,d){for(var c=(u||[]).slice(),p=t.createHashMap(),g=0;g<c.length;g++)p.set(c[g].name,c[g]);var m=o.load(l,d);return t.each(m.regions,function(y){var _=y.name;!p.get(_)&&c.push({name:_})}),c}};e.registerCoordinateSystem("geo",h);var s=h;return Cu=s,Cu}var Mu,T0;function _V(){if(T0)return Mu;T0=1;var e=Z;function t(r){var a={};r.eachSeriesByType("map",function(i){var o=i.getMapType();if(!(i.getHostGeoModel()||a[o])){var v={};e.each(i.seriesGroup,function(n){var h=n.coordinateSystem,s=n.originalData;n.get("showLegendSymbol")&&r.getComponent("legend")&&s.each(s.mapDimension("value"),function(u,l){var d=s.getName(l),c=h.getRegion(d);if(!(!c||isNaN(u))){var p=v[d]||0,g=h.dataToPoint(c.center);v[d]=p+1,s.setItemLayout(l,{point:g,offset:p})}})});var f=i.getData();f.each(function(n){var h=f.getName(n),s=f.getItemLayout(n)||{};s.showLabel=!v[h],f.setItemLayout(n,s)}),a[o]=!0}})}return Mu=t,Mu}var Du,C0;function xV(){if(C0)return Du;C0=1;function e(t){t.eachSeriesByType("map",function(r){var a=r.get("color"),i=r.getModel("itemStyle"),o=i.get("areaColor"),v=i.get("color")||a[r.seriesIndex%a.length];r.getData().setVisual({areaColor:o,color:v})})}return Du=e,Du}var Lu,M0;function SV(){if(M0)return Lu;M0=1;var e=Z;function t(a,i){var o={};return e.each(a,function(v){v.each(v.mapDimension("value"),function(f,n){var h="ec-"+v.getName(n);o[h]=o[h]||[],isNaN(f)||o[h].push(f)})}),a[0].map(a[0].mapDimension("value"),function(v,f){for(var n="ec-"+a[0].getName(f),h=0,s=1/0,u=-1/0,l=o[n].length,d=0;d<l;d++)s=Math.min(s,o[n][d]),u=Math.max(u,o[n][d]),h+=o[n][d];var c;return i==="min"?c=s:i==="max"?c=u:i==="average"?c=h/l:c=h,l===0?NaN:c})}function r(a){var i={};a.eachSeriesByType("map",function(o){var v=o.getHostGeoModel(),f=v?"o"+v.id:"i"+o.getMapType();(i[f]=i[f]||[]).push(o)}),e.each(i,function(o,v){for(var f=t(e.map(o,function(h){return h.getData()}),o[0].get("mapValueCalculation")),n=0;n<o.length;n++)o[n].originalData=o[n].getData();for(var n=0;n<o.length;n++)o[n].seriesGroup=o,o[n].needsDrawMap=n===0&&!o[n].getHostGeoModel(),o[n].setData(f.cloneShallow()),o[n].mainSeries=o[0]})}return Lu=r,Lu}var Pu,D0;function bV(){if(D0)return Pu;D0=1;var e=Z;function t(r){e.each(r.series,function(a){a&&a.type==="map"&&(a.map=a.map||a.mapType,e.defaults(a,a.mapLocation))})}return Pu=t,Pu}var L0;function wV(){if(L0)return i0;L0=1;var e=we;pV(),mV(),HC(),Od();var t=_V(),r=xV(),a=SV(),i=bV(),o=BC();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a),e.registerPreprocessor(i),o("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),i0}var P0={},Iu,I0;function qC(){if(I0)return Iu;I0=1;var e=Z,t=e.each,r="\0__link_datas",a="\0__link_mainData";function i(d){var c=d.mainData,p=d.datas;p||(p={main:c},d.datasAttr={main:"data"}),d.datas=d.mainData=null,s(c,p,d),t(p,function(g){t(c.TRANSFERABLE_METHODS,function(m){g.wrapMethod(m,e.curry(o,d))})}),c.wrapMethod("cloneShallow",e.curry(f,d)),t(c.CHANGABLE_METHODS,function(g){c.wrapMethod(g,e.curry(v,d))}),e.assert(p[c.dataType]===c)}function o(d,c){if(h(this)){var p=e.extend({},this[r]);p[this.dataType]=c,s(c,p,d)}else u(c,this.dataType,this[a],d);return c}function v(d,c){return d.struct&&d.struct.update(this),c}function f(d,c){return t(c[r],function(p,g){p!==c&&u(p.cloneShallow(),g,c,d)}),c}function n(d){var c=this[a];return d==null||c==null?c:c[r][d]}function h(d){return d[a]===d}function s(d,c,p){d[r]={},t(c,function(g,m){u(g,m,d,p)})}function u(d,c,p,g){p[r][c]=d,d[a]=p,d.dataType=c,g.struct&&(d[g.structAttr]=g.struct,g.struct[g.datasAttr[c]]=d),d.getLinkedData=n}var l=i;return Iu=l,Iu}var Ru,R0;function zd(){if(R0)return Ru;R0=1;var e=Z,t=vt,r=qC(),a=Wt(),i=gi(),o=function(h,s){this.name=h||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=s};o.prototype={constructor:o,isRemoved:function(){return this.dataIndex<0},eachNode:function(h,s,u){typeof h=="function"&&(u=s,s=h,h=null),h=h||{},e.isString(h)&&(h={order:h});var l=h.order||"preorder",d=this[h.attr||"children"],c;l==="preorder"&&(c=s.call(u,this));for(var p=0;!c&&p<d.length;p++)d[p].eachNode(h,s,u);l==="postorder"&&s.call(u,this)},updateDepthAndHeight:function(h){var s=0;this.depth=h;for(var u=0;u<this.children.length;u++){var l=this.children[u];l.updateDepthAndHeight(h+1),l.height>s&&(s=l.height)}this.height=s+1},getNodeById:function(h){if(this.getId()===h)return this;for(var s=0,u=this.children,l=u.length;s<l;s++){var d=u[s].getNodeById(h);if(d)return d}},contains:function(h){if(h===this)return!0;for(var s=0,u=this.children,l=u.length;s<l;s++){var d=u[s].contains(h);if(d)return d}},getAncestors:function(h){for(var s=[],u=h?this:this.parentNode;u;)s.push(u),u=u.parentNode;return s.reverse(),s},getValue:function(h){var s=this.hostTree.data;return s.get(s.getDimension(h||"value"),this.dataIndex)},setLayout:function(h,s){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,h,s)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(h){if(!(this.dataIndex<0)){var s=this.hostTree,u=s.data.getItemModel(this.dataIndex),l=this.getLevelModel(),d;return!l&&(this.children.length===0||this.children.length!==0&&this.isExpand===!1)&&(d=this.getLeavesModel()),u.getModel(h,(l||d||s.hostModel).getModel(h))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(h,s){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,h,s)},getVisual:function(h,s){return this.hostTree.data.getItemVisual(this.dataIndex,h,s)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(h){for(var s=h.parentNode;s;){if(s===this)return!0;s=s.parentNode}return!1},isDescendantOf:function(h){return h!==this&&h.isAncestorOf(this)}};function v(h,s,u){this.root,this.data,this._nodes=[],this.hostModel=h,this.levelModels=e.map(s||[],function(l){return new t(l,h,h.ecModel)}),this.leavesModel=new t(u||{},h,h.ecModel)}v.prototype={constructor:v,type:"tree",eachNode:function(h,s,u){this.root.eachNode(h,s,u)},getNodeByDataIndex:function(h){var s=this.data.getRawIndex(h);return this._nodes[s]},getNodeByName:function(h){return this.root.getNodeByName(h)},update:function(){for(var h=this.data,s=this._nodes,u=0,l=s.length;u<l;u++)s[u].dataIndex=-1;for(var u=0,l=h.count();u<l;u++)s[h.getRawIndex(u)].dataIndex=u},clearLayouts:function(){this.data.clearItemLayouts()}},v.createTree=function(h,s,u,l){var d=new v(s,u.levels,u.leaves),c=[],p=1;g(h);function g(_,b){var T=_.value;p=Math.max(p,e.isArray(T)?T.length:1),c.push(_);var S=new o(_.name,d);b?f(S,b):d.root=S,d._nodes.push(S);var x=_.children;if(x)for(var w=0;w<x.length;w++)g(x[w],S)}d.root.updateDepthAndHeight(0);var m=i(c,{coordDimensions:["value"],dimensionsCount:p}),y=new a(m,s);return y.initData(c),r({mainData:y,struct:d,structAttr:"tree"}),d.update(),l&&l(y),d};function f(h,s){var u=s.children;h.parentNode!==s&&(u.push(h),h.parentNode=s)}var n=v;return Ru=n,Ru}var Eu,E0;function AV(){if(E0)return Eu;E0=1;var e=ft,t=zd(),r=Ke(),a=r.encodeHTML,i=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(o){var v={name:o.name,children:o.data},f=o.leaves||{},n={};n.leaves=f;var h=t.createTree(v,this,n,s);function s(c){c.wrapMethod("getItemModel",function(p,g){var m=h.getNodeByDataIndex(g),y=m.getLeavesModel();return(!m.children.length||!m.isExpand)&&(p.parentModel=y),p})}var u=0;h.eachNode("preorder",function(c){c.depth>u&&(u=c.depth)});var l=o.expandAndCollapse,d=l&&o.initialTreeDepth>=0?o.initialTreeDepth:u;return h.root.eachNode("preorder",function(c){var p=c.hostTree.data.getRawDataItem(c.dataIndex);c.isExpand=p&&p.collapsed!=null?!p.collapsed:c.depth<=d}),h.data},getOrient:function(){var o=this.get("orient");return o==="horizontal"?o="LR":o==="vertical"&&(o="TB"),o},setZoom:function(o){this.option.zoom=o},setCenter:function(o){this.option.center=o},formatTooltip:function(o){for(var v=this.getData().tree,f=v.root.children[0],n=v.getNodeByDataIndex(o),h=n.getValue(),s=n.name;n&&n!==f;)s=n.parentNode.name+"."+s,n=n.parentNode;return a(s+(isNaN(h)||h==null?"":" : "+h))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return Eu=i,Eu}var $r={},k0;function GC(){if(k0)return $r;k0=1;var e=Ne;function t(c){c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var p=[c],g,m;g=p.pop();)if(m=g.children,g.isExpand&&m.length)for(var y=m.length,_=y-1;_>=0;_--){var b=m[_];b.hierNode={defaultAncestor:null,ancestor:b,prelim:0,modifier:0,change:0,shift:0,i:_,thread:null},p.push(b)}}function r(c,p){var g=c.isExpand?c.children:[],m=c.parentNode.children,y=c.hierNode.i?m[c.hierNode.i-1]:null;if(g.length){f(c);var _=(g[0].hierNode.prelim+g[g.length-1].hierNode.prelim)/2;y?(c.hierNode.prelim=y.hierNode.prelim+p(c,y),c.hierNode.modifier=c.hierNode.prelim-_):c.hierNode.prelim=_}else y&&(c.hierNode.prelim=y.hierNode.prelim+p(c,y));c.parentNode.hierNode.defaultAncestor=n(c,y,c.parentNode.hierNode.defaultAncestor||m[0],p)}function a(c){var p=c.hierNode.prelim+c.parentNode.hierNode.modifier;c.setLayout({x:p},!0),c.hierNode.modifier+=c.parentNode.hierNode.modifier}function i(c){return arguments.length?c:d}function o(c,p){var g={};return c-=Math.PI/2,g.x=p*Math.cos(c),g.y=p*Math.sin(c),g}function v(c,p){return e.getLayoutRect(c.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()})}function f(c){for(var p=c.children,g=p.length,m=0,y=0;--g>=0;){var _=p[g];_.hierNode.prelim+=m,_.hierNode.modifier+=m,y+=_.hierNode.change,m+=_.hierNode.shift+y}}function n(c,p,g,m){if(p){for(var y=c,_=c,b=_.parentNode.children[0],T=p,S=y.hierNode.modifier,x=_.hierNode.modifier,w=b.hierNode.modifier,A=T.hierNode.modifier;T=h(T),_=s(_),T&&_;){y=h(y),b=s(b),y.hierNode.ancestor=c;var C=T.hierNode.prelim+A-_.hierNode.prelim-x+m(T,_);C>0&&(l(u(T,c,g),c,C),x+=C,S+=C),A+=T.hierNode.modifier,x+=_.hierNode.modifier,S+=y.hierNode.modifier,w+=b.hierNode.modifier}T&&!h(y)&&(y.hierNode.thread=T,y.hierNode.modifier+=A-S),_&&!s(b)&&(b.hierNode.thread=_,b.hierNode.modifier+=x-w,g=c)}return g}function h(c){var p=c.children;return p.length&&c.isExpand?p[p.length-1]:c.hierNode.thread}function s(c){var p=c.children;return p.length&&c.isExpand?p[0]:c.hierNode.thread}function u(c,p,g){return c.hierNode.ancestor.parentNode===p.parentNode?c.hierNode.ancestor:g}function l(c,p,g){var m=g/(p.hierNode.i-c.hierNode.i);p.hierNode.change-=m,p.hierNode.shift+=g,p.hierNode.modifier+=g,p.hierNode.prelim+=g,c.hierNode.change+=m}function d(c,p){return c.parentNode===p.parentNode?1:2}return $r.init=t,$r.firstWalk=r,$r.secondWalk=a,$r.separation=i,$r.radialCoordinate=o,$r.getViewRect=v,$r}var ku,O0;function TV(){if(O0)return ku;O0=1;var e=Z,t=ye,r=ts(),a=GC(),i=a.radialCoordinate,o=we,v=qo(),f=kd(),n=Rd(),h=Mn(),s=os(),u=s.onIrrelevantElement,l=Oe(),d=l.parsePercent,c=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(S,x){var w=x.childPoints,A=w.length,C=x.parentPoint,M=w[0],D=w[A-1];if(A===1){S.moveTo(C[0],C[1]),S.lineTo(M[0],M[1]);return}var L=x.orient,P=L==="TB"||L==="BT"?0:1,R=1-P,k=d(x.forkPosition,1),z=[];z[P]=C[P],z[R]=C[R]+(D[R]-C[R])*k,S.moveTo(C[0],C[1]),S.lineTo(z[0],z[1]),S.moveTo(M[0],M[1]),z[P]=M[P],S.lineTo(z[0],z[1]),z[P]=D[P],S.lineTo(z[0],z[1]),S.lineTo(D[0],D[1]);for(var B=1;B<A-1;B++){var G=w[B];S.moveTo(G[0],G[1]),z[P]=G[P],S.lineTo(z[0],z[1])}}}),p=o.extendChartView({type:"tree",init:function(S,x){this._oldTree,this._mainGroup=new t.Group,this._controller=new h(x.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(S,x,w,A){var C=S.getData(),M=S.layoutInfo,D=this._mainGroup,L=S.get("layout");L==="radial"?D.attr("position",[M.x+M.width/2,M.y+M.height/2]):D.attr("position",[M.x,M.y]),this._updateViewCoordSys(S,M,L),this._updateController(S,x,w);var P=this._data,R={expandAndCollapse:S.get("expandAndCollapse"),layout:L,edgeShape:S.get("edgeShape"),edgeForkPosition:S.get("edgeForkPosition"),orient:S.getOrient(),curvature:S.get("lineStyle.curveness"),symbolRotate:S.get("symbolRotate"),symbolOffset:S.get("symbolOffset"),hoverAnimation:S.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};C.diff(P).add(function(k){g(C,k)&&y(C,k,null,D,S,R)}).update(function(k,z){var B=P.getItemGraphicEl(z);if(!g(C,k)){B&&b(P,z,B,D,S,R);return}y(C,k,B,D,S,R)}).remove(function(k){var z=P.getItemGraphicEl(k);z&&b(P,k,z,D,S,R)}).execute(),this._nodeScaleRatio=S.get("nodeScaleRatio"),this._updateNodeAndLinkScale(S),R.expandAndCollapse===!0&&C.eachItemGraphicEl(function(k,z){k.off("click").on("click",function(){w.dispatchAction({type:"treeExpandAndCollapse",seriesId:S.id,dataIndex:z})})}),this._data=C},_updateViewCoordSys:function(S){var x=S.getData(),w=[];x.each(function(P){var R=x.getItemLayout(P);R&&!isNaN(R.x)&&!isNaN(R.y)&&w.push([+R.x,+R.y])});var A=[],C=[];v.fromPoints(w,A,C);var M=this._min,D=this._max;C[0]-A[0]===0&&(A[0]=M?M[0]:A[0]-1,C[0]=D?D[0]:C[0]+1),C[1]-A[1]===0&&(A[1]=M?M[1]:A[1]-1,C[1]=D?D[1]:C[1]+1);var L=S.coordinateSystem=new f;L.zoomLimit=S.get("scaleLimit"),L.setBoundingRect(A[0],A[1],C[0]-A[0],C[1]-A[1]),L.setCenter(S.get("center")),L.setZoom(S.get("zoom")),this.group.attr({position:L.position,scale:L.scale}),this._viewCoordSys=L,this._min=A,this._max=C},_updateController:function(S,x,w){var A=this._controller,C=this._controllerHost,M=this.group;A.setPointerChecker(function(D,L,P){var R=M.getBoundingRect();return R.applyTransform(M.transform),R.contain(L,P)&&!u(D,w,S)}),A.enable(S.get("roam")),C.zoomLimit=S.get("scaleLimit"),C.zoom=S.coordinateSystem.getZoom(),A.off("pan").off("zoom").on("pan",function(D){n.updateViewOnPan(C,D.dx,D.dy),w.dispatchAction({seriesId:S.id,type:"treeRoam",dx:D.dx,dy:D.dy})},this).on("zoom",function(D){n.updateViewOnZoom(C,D.scale,D.originX,D.originY),w.dispatchAction({seriesId:S.id,type:"treeRoam",zoom:D.scale,originX:D.originX,originY:D.originY}),this._updateNodeAndLinkScale(S)},this)},_updateNodeAndLinkScale:function(S){var x=S.getData(),w=this._getNodeGlobalScale(S),A=[w,w];x.eachItemGraphicEl(function(C,M){C.attr("scale",A)})},_getNodeGlobalScale:function(S){var x=S.coordinateSystem;if(x.type!=="view")return 1;var w=this._nodeScaleRatio,A=x.scale,C=A&&A[0]||1,M=x.getZoom(),D=(M-1)*w+1;return D/C},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function g(S,x){var w=S.getItemLayout(x);return w&&!isNaN(w.x)&&!isNaN(w.y)&&S.getItemVisual(x,"symbol")!=="none"}function m(S,x,w){return w.itemModel=x,w.itemStyle=x.getModel("itemStyle").getItemStyle(),w.hoverItemStyle=x.getModel("emphasis.itemStyle").getItemStyle(),w.lineStyle=x.getModel("lineStyle").getLineStyle(),w.labelModel=x.getModel("label"),w.hoverLabelModel=x.getModel("emphasis.label"),S.isExpand===!1&&S.children.length!==0?w.symbolInnerColor=w.itemStyle.fill:w.symbolInnerColor="#fff",w}function y(S,x,w,A,C,R){var D=!w,L=S.tree.getNodeByDataIndex(x),P=L.getModel(),R=m(L,P,R),k=S.tree.root,z=L.parentNode===k?L:L.parentNode||L,B=S.getItemGraphicEl(z.dataIndex),G=z.getLayout(),V=B?{x:B.position[0],y:B.position[1],rawX:B.__radialOldRawX,rawY:B.__radialOldRawY}:G,I=L.getLayout();D?(w=new r(S,x,R),w.attr("position",[V.x,V.y])):w.updateData(S,x,R),w.__radialOldRawX=w.__radialRawX,w.__radialOldRawY=w.__radialRawY,w.__radialRawX=I.rawX,w.__radialRawY=I.rawY,A.add(w),S.setItemGraphicEl(x,w),t.updateProps(w,{position:[I.x,I.y]},C);var O=w.getSymbolPath();if(R.layout==="radial"){var E=k.children[0],N=E.getLayout(),q=E.children.length,H,F;if(I.x===N.x&&L.isExpand===!0){var U={};U.x=(E.children[0].getLayout().x+E.children[q-1].getLayout().x)/2,U.y=(E.children[0].getLayout().y+E.children[q-1].getLayout().y)/2,H=Math.atan2(U.y-N.y,U.x-N.x),H<0&&(H=Math.PI*2+H),F=U.x<N.x,F&&(H=H-Math.PI)}else H=Math.atan2(I.y-N.y,I.x-N.x),H<0&&(H=Math.PI*2+H),L.children.length===0||L.children.length!==0&&L.isExpand===!1?(F=I.x<N.x,F&&(H=H-Math.PI)):(F=I.x>N.x,F||(H=H-Math.PI));var W=F?"left":"right",Y=R.labelModel.get("rotate"),Q=Y*(Math.PI/180);O.setStyle({textPosition:R.labelModel.get("position")||W,textRotation:Y==null?-H:Q,textOrigin:"center",verticalAlign:"middle"})}_(C,L,k,w,V,G,I,A,R)}function _(S,x,w,A,C,M,D,L,P){var R=P.edgeShape,k=A.__edge;if(R==="curve")x.parentNode&&x.parentNode!==w&&(k||(k=A.__edge=new t.BezierCurve({shape:T(P,C,C),style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(k,{shape:T(P,M,D),style:{opacity:1}},S));else if(R==="polyline"&&P.layout==="orthogonal"&&x!==w&&x.children&&x.children.length!==0&&x.isExpand===!0){for(var z=x.children,B=[],G=0;G<z.length;G++){var V=z[G].getLayout();B.push([V.x,V.y])}k||(k=A.__edge=new c({shape:{parentPoint:[D.x,D.y],childPoints:[[D.x,D.y]],orient:P.orient,forkPosition:P.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(k,{shape:{parentPoint:[D.x,D.y],childPoints:B},style:{opacity:1}},S)}L.add(k)}function b(S,x,w,A,C,R){for(var D=S.tree.getNodeByDataIndex(x),L=S.tree.root,P=D.getModel(),R=m(D,P,R),k=D.parentNode===L?D:D.parentNode||D,I=R.edgeShape,z;z=k.getLayout(),z==null;)k=k.parentNode===L?k:k.parentNode||k;t.updateProps(w,{position:[z.x+1,z.y+1]},C,function(){A.remove(w),S.setItemGraphicEl(x,null)}),w.fadeOut(null,{keepLabel:!0});var B=S.getItemGraphicEl(k.dataIndex),G=B.__edge,V=w.__edge||(k.isExpand===!1||k.children.length===1?G:void 0),I=R.edgeShape;V&&(I==="curve"?t.updateProps(V,{shape:T(R,z,z),style:{opacity:0}},C,function(){A.remove(V)}):I==="polyline"&&R.layout==="orthogonal"&&t.updateProps(V,{shape:{parentPoint:[z.x,z.y],childPoints:[[z.x,z.y]]},style:{opacity:0}},C,function(){A.remove(V)}))}function T(S,x,w){var A,C,M,D,L=S.orient,P,R,k,z;if(S.layout==="radial"){P=x.rawX,k=x.rawY,R=w.rawX,z=w.rawY;var B=i(P,k),G=i(P,k+(z-k)*S.curvature),V=i(R,z+(k-z)*S.curvature),I=i(R,z);return{x1:B.x,y1:B.y,x2:I.x,y2:I.y,cpx1:G.x,cpy1:G.y,cpx2:V.x,cpy2:V.y}}else P=x.x,k=x.y,R=w.x,z=w.y,(L==="LR"||L==="RL")&&(A=P+(R-P)*S.curvature,C=k,M=R+(P-R)*S.curvature,D=z),(L==="TB"||L==="BT")&&(A=P,C=k+(z-k)*S.curvature,M=R,D=z+(k-z)*S.curvature);return{x1:P,y1:k,x2:R,y2:z,cpx1:A,cpy1:C,cpx2:M,cpy2:D}}return ku=p,ku}var z0={},B0;function CV(){if(B0)return z0;B0=1;var e=we,t=Ed(),r=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(o){var v=a.dataIndex,f=o.getData().tree,n=f.getNodeByDataIndex(v);n.isExpand=!n.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(o){var v=o.coordinateSystem,f=r(v,a);o.setCenter&&o.setCenter(f.center),o.setZoom&&o.setZoom(f.zoom)})}),z0}var to={},N0;function MV(){if(N0)return to;N0=1;function e(r,a,i){for(var o=[r],v=[],f;f=o.pop();)if(v.push(f),f.isExpand){var n=f.children;if(n.length)for(var h=0;h<n.length;h++)o.push(n[h])}for(;f=v.pop();)a(f,i)}function t(r,a){for(var i=[r],o;o=i.pop();)if(a(o),o.isExpand){var v=o.children;if(v.length)for(var f=v.length-1;f>=0;f--)i.push(v[f])}}return to.eachAfter=e,to.eachBefore=t,to}var Ou,V0;function DV(){if(V0)return Ou;V0=1;var e=MV(),t=e.eachAfter,r=e.eachBefore,a=GC(),i=a.init,o=a.firstWalk,v=a.secondWalk,f=a.separation,n=a.radialCoordinate,h=a.getViewRect;function s(l,d){l.eachSeriesByType("tree",function(c){u(c,d)})}function u(l,d){var c=h(l,d);l.layoutInfo=c;var p=l.get("layout"),g=0,m=0,y=null;p==="radial"?(g=2*Math.PI,m=Math.min(c.height,c.width)/2,y=f(function(R,k){return(R.parentNode===k.parentNode?1:2)/R.depth})):(g=c.width,m=c.height,y=f());var _=l.getData().tree.root,b=_.children[0];if(b){i(_),t(b,o,y),_.hierNode.modifier=-b.hierNode.prelim,r(b,v);var T=b,S=b,x=b;r(b,function(R){var k=R.getLayout().x;k<T.getLayout().x&&(T=R),k>S.getLayout().x&&(S=R),R.depth>x.depth&&(x=R)});var w=T===S?1:y(T,S)/2,A=w-T.getLayout().x,C=0,M=0,D=0,L=0;if(p==="radial")C=g/(S.getLayout().x+w+A),M=m/(x.depth-1||1),r(b,function(R){D=(R.getLayout().x+A)*C,L=(R.depth-1)*M;var k=n(D,L);R.setLayout({x:k.x,y:k.y,rawX:D,rawY:L},!0)});else{var P=l.getOrient();P==="RL"||P==="LR"?(M=m/(S.getLayout().x+w+A),C=g/(x.depth-1||1),r(b,function(R){L=(R.getLayout().x+A)*M,D=P==="LR"?(R.depth-1)*C:g-(R.depth-1)*C,R.setLayout({x:D,y:L},!0)})):(P==="TB"||P==="BT")&&(C=g/(S.getLayout().x+w+A),M=m/(x.depth-1||1),r(b,function(R){D=(R.getLayout().x+A)*C,L=P==="TB"?(R.depth-1)*M:m-(R.depth-1)*M,R.setLayout({x:D,y:L},!0)}))}}}return Ou=s,Ou}var H0;function LV(){if(H0)return P0;H0=1;var e=we;AV(),TV(),CV();var t=Ta(),r=DV();return e.registerVisual(t("tree","circle")),e.registerLayout(r),P0}var q0={},Na={},G0;function Ma(){if(G0)return Na;G0=1;var e=Z;function t(o,v,f){if(o&&e.indexOf(v,o.type)>=0){var n=f.getData().tree.root,h=o.targetNode;if(typeof h=="string"&&(h=n.getNodeById(h)),h&&n.contains(h))return{node:h};var s=o.targetNodeId;if(s!=null&&(h=n.getNodeById(s)))return{node:h}}}function r(o){for(var v=[];o;)o=o.parentNode,o&&v.push(o);return v.reverse()}function a(o,v){var f=r(o);return e.indexOf(f,v)>=0}function i(o,v){for(var f=[];o;){var n=o.dataIndex;f.push({name:o.name,dataIndex:n,value:v.getRawValue(n)}),o=o.parentNode}return f.reverse(),f}return Na.retrieveTargetInfo=t,Na.getPathToRoot=r,Na.aboveViewRoot=a,Na.wrapTreePathInfo=i,Na}var zu,F0;function PV(){if(F0)return zu;F0=1;var e=Z,t=ft,r=zd(),a=vt,i=Ke(),o=i.encodeHTML,v=i.addCommas,f=Ma(),n=f.wrapTreePathInfo,h=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(l,d){var c={name:l.name,children:l.data};s(c);var p=l.levels||[];p=l.levels=u(p,d);var g={};return g.levels=p,r.createTree(c,this,g).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(l){var d=this.getData(),c=this.getRawValue(l),p=e.isArray(c)?v(c[0]):v(c),g=d.getName(l);return o(g+": "+p)},getDataParams:function(l){var d=t.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(l);return d.treePathInfo=n(c,this),d},setLayoutInfo:function(l){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,l)},mapIdToIndex:function(l){var d=this._idIndexMap;d||(d=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var c=d.get(l);return c==null&&d.set(l,c=this._idIndexMapCount++),c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(l){l?this._viewRoot=l:l=this._viewRoot;var d=this.getRawData().tree.root;(!l||l!==d&&!d.contains(l))&&(this._viewRoot=d)}});function s(l){var d=0;e.each(l.children,function(p){s(p);var g=p.value;e.isArray(g)&&(g=g[0]),d+=g});var c=l.value;e.isArray(c)&&(c=c[0]),(c==null||isNaN(c))&&(c=d),c<0&&(c=0),e.isArray(l.value)?l.value[0]=c:l.value=c}function u(l,d){var c=d.get("color");if(c){l=l||[];var p;if(e.each(l,function(m){var y=new a(m),_=y.get("color");(y.get("itemStyle.color")||_&&_!=="none")&&(p=!0)}),!p){var g=l[0]||(l[0]={});g.color=c.slice()}return l}}return zu=h,zu}var Bu,$0;function IV(){if($0)return Bu;$0=1;var e=ye,t=Ne,r=Z,a=Ma(),i=a.wrapTreePathInfo,o=8,v=8,f=5;function n(l){this.group=new e.Group,l.add(this.group)}n.prototype={constructor:n,render:function(l,d,c,p){var g=l.getModel("breadcrumb"),m=this.group;if(m.removeAll(),!(!g.get("show")||!c)){var y=g.getModel("itemStyle"),_=y.getModel("textStyle"),b={pos:{left:g.get("left"),right:g.get("right"),top:g.get("top"),bottom:g.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:g.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(c,b,_),this._renderContent(l,b,y,_,p),t.positionElement(m,b.pos,b.box)}},_prepare:function(l,d,c){for(var p=l;p;p=p.parentNode){var g=p.getModel().get("name"),m=c.getTextRect(g),y=Math.max(m.width+o*2,d.emptyItemWidth);d.totalWidth+=y+v,d.renderList.push({node:p,text:g,width:y})}},_renderContent:function(l,d,c,p,g){for(var m=0,y=d.emptyItemWidth,_=l.get("breadcrumb.height"),b=t.getAvailableSize(d.pos,d.box),T=d.totalWidth,S=d.renderList,x=S.length-1;x>=0;x--){var w=S[x],A=w.node,C=w.width,M=w.text;T>b.width&&(T-=C-y,C=y,M=null);var D=new e.Polygon({shape:{points:h(m,0,C,_,x===S.length-1,x===0)},style:r.defaults(c.getItemStyle(),{lineJoin:"bevel",text:M,textFill:p.getTextColor(),textFont:p.getFont()}),z:10,onclick:r.curry(g,A)});this.group.add(D),s(D,l,A),m+=C+v}},remove:function(){this.group.removeAll()}};function h(l,d,c,p,g,m){var y=[[g?l:l-f,d],[l+c,d],[l+c,d+p],[g?l:l-f,d+p]];return!m&&y.splice(2,0,[l+c+f,d+p/2]),!g&&y.push([l,d+p/2]),y}function s(l,d,c){l.eventData={componentType:"series",componentSubType:"treemap",componentIndex:d.componentIndex,seriesIndex:d.componentIndex,seriesName:d.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:c&&c.dataIndex,name:c&&c.name},treePathInfo:c&&i(c,d)}}var u=n;return Bu=u,Bu}var Nu={},U0;function RV(){if(U0)return Nu;U0=1;var e=Z;function t(){var r=[],a={},i;return{add:function(o,v,f,n,h){return e.isString(n)&&(h=n,n=0),a[o.id]?!1:(a[o.id]=1,r.push({el:o,target:v,time:f,delay:n,easing:h}),!0)},done:function(o){return i=o,this},start:function(){for(var o=r.length,v=0,f=r.length;v<f;v++){var n=r[v];n.el.animateTo(n.target,n.time,n.delay,n.easing,h)}return this;function h(){o--,o||(r.length=0,a={},i&&i())}}}}return Nu.createWrap=t,Nu}var Vu,W0;function EV(){if(W0)return Vu;W0=1;var e=we,t=Z,r=ye,a=Aa(),i=Ma(),o=IV(),v=Mn(),f=Xe,n=Pt(),h=RV(),s=li,u=t.bind,l=r.Group,d=r.Rect,c=t.each,p=3,g=["label"],m=["emphasis","label"],y=["upperLabel"],_=["emphasis","upperLabel"],b=10,T=1,S=2,x=s([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),w=function(L){var P=x(L);return P.stroke=P.fill=P.lineWidth=null,P},A=e.extendChartView({type:"treemap",init:function(L,P){this._containerGroup,this._storage=C(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(L,P,R,k){var z=P.findComponents({mainType:"series",subType:"treemap",query:k});if(!(t.indexOf(z,L)<0)){this.seriesModel=L,this.api=R,this.ecModel=P;var B=["treemapZoomToNode","treemapRootToNode"],G=i.retrieveTargetInfo(k,B,L),V=k&&k.type,I=L.layoutInfo,O=!this._oldTree,E=this._storage,N=V==="treemapRootToNode"&&G&&E?{rootNodeGroup:E.nodeGroup[G.node.getRawIndex()],direction:k.direction}:null,q=this._giveContainerGroup(I),H=this._doRender(q,L,N);!O&&(!V||V==="treemapZoomToNode"||V==="treemapRootToNode")?this._doAnimation(q,H,L,N):H.renderFinally(),this._resetController(R),this._renderBreadcrumb(L,R,G)}},_giveContainerGroup:function(L){var P=this._containerGroup;return P||(P=this._containerGroup=new l,this._initEvents(P),this.group.add(P)),P.attr("position",[L.x,L.y]),P},_doRender:function(L,P,R){var k=P.getData().tree,z=this._oldTree,B=C(),G=C(),V=this._storage,I=[],O=t.curry(M,P,G,V,R,B,I);N(k.root?[k.root]:[],z&&z.root?[z.root]:[],L,k===z||!z,0);var E=q(V);return this._oldTree=k,this._storage=G,{lastsForAnimation:B,willDeleteEls:E,renderFinally:H};function N(F,U,W,Y,Q){Y?(U=F,c(F,function(re,ae){!re.isRemoved()&&j(ae,ae)})):new a(U,F,ee,ee).add(j).update(j).remove(t.curry(j,null)).execute();function ee(re){return re.getId()}function j(re,ae){var ne=re!=null?F[re]:null,de=ae!=null?U[ae]:null,te=O(ne,de,W,Q);te&&N(ne&&ne.viewChildren||[],de&&de.viewChildren||[],te,Y,Q+1)}}function q(F){var U=C();return F&&c(F,function(W,Y){var Q=U[Y];c(W,function(ee){ee&&(Q.push(ee),ee.__tmWillDelete=1)})}),U}function H(){c(E,function(F){c(F,function(U){U.parent&&U.parent.remove(U)})}),c(I,function(F){F.invisible=!0,F.dirty()})}},_doAnimation:function(L,P,R,k){if(R.get("animation")){var z=R.get("animationDurationUpdate"),B=R.get("animationEasing"),G=h.createWrap();c(P.willDeleteEls,function(V,I){c(V,function(O,E){if(!O.invisible){var N=O.parent,q;if(k&&k.direction==="drillDown")q=N===k.rootNodeGroup?{shape:{x:0,y:0,width:N.__tmNodeWidth,height:N.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var H=0,F=0;N.__tmWillDelete||(H=N.__tmNodeWidth/2,F=N.__tmNodeHeight/2),q=I==="nodeGroup"?{position:[H,F],style:{opacity:0}}:{shape:{x:H,y:F,width:0,height:0},style:{opacity:0}}}q&&G.add(O,q,z,B)}})}),c(this._storage,function(V,I){c(V,function(O,E){var N=P.lastsForAnimation[I][E],q={};N&&(I==="nodeGroup"?N.old&&(q.position=O.position.slice(),O.attr("position",N.old)):(N.old&&(q.shape=t.extend({},O.shape),O.setShape(N.old)),N.fadein?(O.setStyle("opacity",0),q.style={opacity:1}):O.style.opacity!==1&&(q.style={opacity:1})),G.add(O,q,z,B))})},this),this._state="animating",G.done(u(function(){this._state="ready",P.renderFinally()},this)).start()}},_resetController:function(L){var P=this._controller;P||(P=this._controller=new v(L.getZr()),P.enable(this.seriesModel.get("roam")),P.on("pan",u(this._onPan,this)),P.on("zoom",u(this._onZoom,this)));var R=new f(0,0,L.getWidth(),L.getHeight());P.setPointerChecker(function(k,z,B){return R.contain(z,B)})},_clearController:function(){var L=this._controller;L&&(L.dispose(),L=null)},_onPan:function(L){if(this._state!=="animating"&&(Math.abs(L.dx)>p||Math.abs(L.dy)>p)){var P=this.seriesModel.getData().tree.root;if(!P)return;var R=P.getLayout();if(!R)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:R.x+L.dx,y:R.y+L.dy,width:R.width,height:R.height}})}},_onZoom:function(L){var P=L.originX,R=L.originY;if(this._state!=="animating"){var k=this.seriesModel.getData().tree.root;if(!k)return;var z=k.getLayout();if(!z)return;var B=new f(z.x,z.y,z.width,z.height),G=this.seriesModel.layoutInfo;P-=G.x,R-=G.y;var V=n.create();n.translate(V,V,[-P,-R]),n.scale(V,V,[L.scale,L.scale]),n.translate(V,V,[P,R]),B.applyTransform(V),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:B.x,y:B.y,width:B.width,height:B.height}})}},_initEvents:function(L){L.on("click",function(P){if(this._state==="ready"){var R=this.seriesModel.get("nodeClick",!0);if(R){var k=this.findTarget(P.offsetX,P.offsetY);if(k){var z=k.node;if(z.getLayout().isLeafRoot)this._rootToNode(k);else if(R==="zoomToNode")this._zoomToNode(k);else if(R==="link"){var B=z.hostTree.data.getItemModel(z.dataIndex),G=B.get("link",!0),V=B.get("target",!0)||"blank";G&&window.open(G,V)}}}}},this)},_renderBreadcrumb:function(L,P,R){R||(R=L.get("leafDepth",!0)!=null?{node:L.getViewRoot()}:this.findTarget(P.getWidth()/2,P.getHeight()/2),R||(R={node:L.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new o(this.group))).render(L,P,R.node,u(k,this));function k(z){this._state!=="animating"&&(i.aboveViewRoot(L.getViewRoot(),z)?this._rootToNode({node:z}):this._zoomToNode({node:z}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=C(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(L){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:L.node})},_rootToNode:function(L){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:L.node})},findTarget:function(L,P){var R,k=this.seriesModel.getViewRoot();return k.eachNode({attr:"viewChildren",order:"preorder"},function(z){var B=this._storage.background[z.getRawIndex()];if(B){var G=B.transformCoordToLocal(L,P),V=B.shape;if(V.x<=G[0]&&G[0]<=V.x+V.width&&V.y<=G[1]&&G[1]<=V.y+V.height)R={node:z,offsetX:G[0],offsetY:G[1]};else return!1}},this),R}});function C(){return{nodeGroup:[],background:[],content:[]}}function M(L,P,R,k,z,B,G,V,I,O){if(!G)return;var E=G.getLayout(),N=L.getData();if(N.setItemGraphicEl(G.dataIndex,null),!E||!E.isInView)return;var q=E.width,H=E.height,F=E.borderWidth,U=E.invisible,W=G.getRawIndex(),Y=V&&V.getRawIndex(),Q=G.viewChildren,ee=E.upperHeight,j=Q&&Q.length,re=G.getModel("itemStyle"),ae=G.getModel("emphasis.itemStyle"),ne=X("nodeGroup",l);if(!ne)return;if(I.add(ne),ne.attr("position",[E.x||0,E.y||0]),ne.__tmNodeWidth=q,ne.__tmNodeHeight=H,E.isAboveViewRoot)return ne;var de=G.getModel(),te=X("background",d,O,T);if(te&&Te(ne,te,j&&E.upperHeight),j)r.isHighDownDispatcher(ne)&&r.setAsHighDownDispatcher(ne,!1),te&&(r.setAsHighDownDispatcher(te,!0),N.setItemGraphicEl(G.dataIndex,te));else{var se=X("content",d,O,S);se&&le(ne,se),te&&r.isHighDownDispatcher(te)&&r.setAsHighDownDispatcher(te,!1),r.setAsHighDownDispatcher(ne,!0),N.setItemGraphicEl(G.dataIndex,ne)}return ne;function Te(ce,ue,fe){if(ue.dataIndex=G.dataIndex,ue.seriesIndex=L.seriesIndex,ue.setShape({x:0,y:0,width:q,height:H}),U)ve(ue);else{ue.invisible=!1;var _e=G.getVisual("borderColor",!0),Ce=ae.get("borderColor"),xe=w(re);xe.fill=_e;var pe=x(ae);if(pe.fill=Ce,fe){var he=q-2*F;Se(xe,pe,_e,he,ee,{x:F,y:0,width:he,height:ee})}else xe.text=pe.text=null;ue.setStyle(xe),r.setElementHoverStyle(ue,pe)}ce.add(ue)}function le(ce,ue){ue.dataIndex=G.dataIndex,ue.seriesIndex=L.seriesIndex;var fe=Math.max(q-2*F,0),_e=Math.max(H-2*F,0);if(ue.culling=!0,ue.setShape({x:F,y:F,width:fe,height:_e}),U)ve(ue);else{ue.invisible=!1;var Ce=G.getVisual("color",!0),xe=w(re);xe.fill=Ce;var pe=x(ae);Se(xe,pe,Ce,fe,_e),ue.setStyle(xe),r.setElementHoverStyle(ue,pe)}ce.add(ue)}function ve(ce){!ce.invisible&&B.push(ce)}function Se(ce,ue,fe,_e,Ce,xe){var pe=t.retrieve(L.getFormattedLabel(G.dataIndex,"normal",null,null,xe?"upperLabel":"label"),de.get("name"));if(!xe&&E.isLeafRoot){var he=L.get("drillDownIcon",!0);pe=he?he+" "+pe:pe}var me=de.getModel(xe?y:g),De=de.getModel(xe?_:m),Ee=me.getShallow("show");r.setLabelStyle(ce,ue,me,De,{defaultText:Ee?pe:null,autoColor:fe,isRectText:!0}),xe&&(ce.textRect=t.clone(xe)),ce.truncate=Ee&&me.get("ellipsis")?{outerWidth:_e,outerHeight:Ce,minChar:2}:null}function X(ce,ue,fe,_e){var Ce=Y!=null&&R[ce][Y],xe=z[ce];return Ce?(R[ce][Y]=null,J(xe,Ce,ce)):U||(Ce=new ue({z:D(fe,_e)}),Ce.__tmDepth=fe,Ce.__tmStorageName=ce,ie(xe,Ce,ce)),P[ce][W]=Ce}function J(ce,ue,fe){var _e=ce[W]={};_e.old=fe==="nodeGroup"?ue.position.slice():t.extend({},ue.shape)}function ie(ce,ue,fe){var _e=ce[W]={},Ce=G.parentNode;if(Ce&&(!k||k.direction==="drillDown")){var xe=0,pe=0,he=z.background[Ce.getRawIndex()];!k&&he&&he.old&&(xe=he.old.width,pe=he.old.height),_e.old=fe==="nodeGroup"?[0,pe]:{x:xe,y:pe,width:0,height:0}}_e.fadein=fe!=="nodeGroup"}}function D(L,P){var R=L*b+P;return(R-1)/R}return Vu=A,Vu}var Z0={},Y0;function kV(){if(Y0)return Z0;Y0=1;for(var e=we,t=Ma(),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<a.length;i++)e.registerAction({type:a[i],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(o,v){v.eachComponent({mainType:"series",subType:"treemap",query:o},f);function f(n,h){var s=["treemapZoomToNode","treemapRootToNode"],u=t.retrieveTargetInfo(o,s,n);if(u){var l=n.getViewRoot();l&&(o.direction=t.aboveViewRoot(l,u.node)?"rollUp":"drillDown"),n.resetViewRoot(u.node)}}}),Z0}var Hu,X0;function Da(){if(X0)return Hu;X0=1;var e=Z,t=lt,r=Oe(),a=r.linearMap,i=e.each,o=e.isObject,v=-1,f=function(x){var w=x.mappingMethod,A=x.type,C=this.option=e.clone(x);this.type=A,this.mappingMethod=w,this._normalizeData=b[w];var M=n[A];this.applyVisual=M.applyVisual,this.getColorMapper=M.getColorMapper,this._doMap=M._doMap[w],w==="piecewise"?(u(C),h(C)):w==="category"?C.categories?s(C):u(C,!0):(e.assert(w!=="linear"||C.dataExtent),u(C))};f.prototype={constructor:f,mapValueToVisual:function(x){var w=this._normalizeData(x);return this._doMap(w,x)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var n=f.visualHandlers={color:{applyVisual:c("color"),getColorMapper:function(){var x=this.option;return e.bind(x.mappingMethod==="category"?function(w,A){return!A&&(w=this._normalizeData(w)),p.call(this,w)}:function(w,A,C){var M=!!C;return!A&&(w=this._normalizeData(w)),C=t.fastLerp(w,x.parsedVisual,C),M?C:t.stringify(C,"rgba")},this)},_doMap:{linear:function(x){return t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")},category:p,piecewise:function(x,w){var A=y.call(this,w);return A==null&&(A=t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")),A},fixed:g}},colorHue:l(function(x,w){return t.modifyHSL(x,w)}),colorSaturation:l(function(x,w){return t.modifyHSL(x,null,w)}),colorLightness:l(function(x,w){return t.modifyHSL(x,null,null,w)}),colorAlpha:l(function(x,w){return t.modifyAlpha(x,w)}),opacity:{applyVisual:c("opacity"),_doMap:m([0,1])},liftZ:{applyVisual:c("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(x,w,A){var C=this.mapValueToVisual(x);if(e.isString(C))A("symbol",C);else if(o(C))for(var M in C)C.hasOwnProperty(M)&&A(M,C[M])},_doMap:{linear:d,category:p,piecewise:function(x,w){var A=y.call(this,w);return A==null&&(A=d.call(this,x)),A},fixed:g}},symbolSize:{applyVisual:c("symbolSize"),_doMap:m([0,1])}};function h(x){var w=x.pieceList;x.hasSpecialVisual=!1,e.each(w,function(A,C){A.originIndex=C,A.visual!=null&&(x.hasSpecialVisual=!0)})}function s(x){var w=x.categories,A=x.visual,C=x.categoryMap={};if(i(w,function(L,P){C[L]=P}),!e.isArray(A)){var M=[];e.isObject(A)?i(A,function(L,P){var R=C[P];M[R??v]=L}):M[v]=A,A=_(x,M)}for(var D=w.length-1;D>=0;D--)A[D]==null&&(delete C[w[D]],w.pop())}function u(x,w){var A=x.visual,C=[];e.isObject(A)?i(A,function(D){C.push(D)}):A!=null&&C.push(A);var M={color:1,symbol:1};!w&&C.length===1&&!M.hasOwnProperty(x.type)&&(C[1]=C[0]),_(x,C)}function l(x){return{applyVisual:function(w,A,C){w=this.mapValueToVisual(w),C("color",x(A("color"),w))},_doMap:m([0,1])}}function d(x){var w=this.option.visual;return w[Math.round(a(x,[0,1],[0,w.length-1],!0))]||{}}function c(x){return function(w,A,C){C(x,this.mapValueToVisual(w))}}function p(x){var w=this.option.visual;return w[this.option.loop&&x!==v?x%w.length:x]}function g(){return this.option.visual[0]}function m(x){return{linear:function(w){return a(w,x,this.option.visual,!0)},category:p,piecewise:function(w,A){var C=y.call(this,A);return C==null&&(C=a(w,x,this.option.visual,!0)),C},fixed:g}}function y(x){var w=this.option,A=w.pieceList;if(w.hasSpecialVisual){var C=f.findPieceIndex(x,A),M=A[C];if(M&&M.visual)return M.visual[this.type]}}function _(x,w){return x.visual=w,x.type==="color"&&(x.parsedVisual=e.map(w,function(A){return t.parse(A)})),w}var b={linear:function(x){return a(x,this.option.dataExtent,[0,1],!0)},piecewise:function(x){var w=this.option.pieceList,A=f.findPieceIndex(x,w,!0);if(A!=null)return a(A,[0,w.length-1],[0,1],!0)},category:function(x){var w=this.option.categories?this.option.categoryMap[x]:x;return w??v},fixed:e.noop};f.listVisualTypes=function(){var x=[];return e.each(n,function(w,A){x.push(A)}),x},f.addVisualHandler=function(x,w){n[x]=w},f.isValidType=function(x){return n.hasOwnProperty(x)},f.eachVisual=function(x,w,A){e.isObject(x)?e.each(x,w,A):w.call(A,x)},f.mapVisual=function(x,w,A){var C,M=e.isArray(x)?[]:e.isObject(x)?{}:(C=!0,null);return f.eachVisual(x,function(D,L){var P=w.call(A,D,L);C?M=P:M[L]=P}),M},f.retrieveVisuals=function(x){var w={},A;return x&&i(n,function(C,M){x.hasOwnProperty(M)&&(w[M]=x[M],A=!0)}),A?w:null},f.prepareVisualTypes=function(x){if(o(x)){var w=[];i(x,function(A,C){w.push(C)}),x=w}else if(e.isArray(x))x=x.slice();else return[];return x.sort(function(A,C){return C==="color"&&A!=="color"&&A.indexOf("color")===0?1:-1}),x},f.dependsOn=function(x,w){return w==="color"?!!(x&&x.indexOf(w)===0):x===w},f.findPieceIndex=function(x,w,A){for(var C,M=1/0,D=0,L=w.length;D<L;D++){var P=w[D].value;if(P!=null){if(P===x||typeof P=="string"&&P===x+"")return D;A&&B(P,D)}}for(var D=0,L=w.length;D<L;D++){var R=w[D],k=R.interval,z=R.close;if(k){if(k[0]===-1/0){if(T(z[1],x,k[1]))return D}else if(k[1]===1/0){if(T(z[0],k[0],x))return D}else if(T(z[0],k[0],x)&&T(z[1],x,k[1]))return D;A&&B(k[0],D),A&&B(k[1],D)}}if(A)return x===1/0?w.length-1:x===-1/0?0:C;function B(G,V){var I=Math.abs(G-x);I<M&&(M=I,C=V)}};function T(x,w,A){return x?w<=A:w<A}var S=f;return Hu=S,Hu}var qu,K0;function OV(){if(K0)return qu;K0=1;var e=Da(),t=lt,r=Z,a=r.isArray,i="itemStyle",o={seriesType:"treemap",reset:function(c,p,g,m){var y=c.getData().tree,_=y.root,b=c.getModel(i);if(!_.isRemoved()){var T=r.map(y.levelModels,function(S){return S?S.get(i):null});v(_,{},T,b,c.getViewRoot().getAncestors(),c)}}};function v(c,p,g,m,y,_){var b=c.getModel(),T=c.getLayout();if(!(!T||T.invisible||!T.isInView)){var S=c.getModel(i),x=g[c.depth],w=f(S,p,x,m),A=S.get("borderColor"),C=S.get("borderColorSaturation"),M;C!=null&&(M=n(w),A=h(C,M)),c.setVisual("borderColor",A);var D=c.viewChildren;if(!D||!D.length)M=n(w),c.setVisual("color",M);else{var L=u(c,b,T,S,w,D);r.each(D,function(P,R){if(P.depth>=y.length||P===y[P.depth]){var k=d(b,w,P,R,L,_);v(P,k,g,m,y,_)}})}}}function f(c,p,g,m){var y=r.extend({},p);return r.each(["color","colorAlpha","colorSaturation"],function(_){var b=c.get(_,!0);b==null&&g&&(b=g[_]),b==null&&(b=p[_]),b==null&&(b=m.get(_)),b!=null&&(y[_]=b)}),y}function n(c){var p=s(c,"color");if(p){var g=s(c,"colorAlpha"),m=s(c,"colorSaturation");return m&&(p=t.modifyHSL(p,null,null,m)),g&&(p=t.modifyAlpha(p,g)),p}}function h(c,p){return p!=null?t.modifyHSL(p,null,null,c):null}function s(c,p){var g=c[p];if(g!=null&&g!=="none")return g}function u(c,p,g,m,y,_){if(!(!_||!_.length)){var b=l(p,"color")||y.color!=null&&y.color!=="none"&&(l(p,"colorAlpha")||l(p,"colorSaturation"));if(b){var T=p.get("visualMin"),S=p.get("visualMax"),x=g.dataExtent.slice();T!=null&&T<x[0]&&(x[0]=T),S!=null&&S>x[1]&&(x[1]=S);var w=p.get("colorMappingBy"),A={type:b.name,dataExtent:x,visual:b.range};A.type==="color"&&(w==="index"||w==="id")?(A.mappingMethod="category",A.loop=!0):A.mappingMethod="linear";var C=new e(A);return C.__drColorMappingBy=w,C}}}function l(c,p){var g=c.get(p);return a(g)&&g.length?{name:p,range:g}:null}function d(c,p,g,m,y,_){var b=r.extend({},p);if(y){var T=y.type,S=T==="color"&&y.__drColorMappingBy,x=S==="index"?m:S==="id"?_.mapIdToIndex(g.getId()):g.getValue(c.get("visualDimension"));b[T]=y.mapValueToVisual(x)}return b}return qu=o,qu}var Gu,Q0;function zV(){if(Q0)return Gu;Q0=1;var e=Z,t=Xe,r=Oe(),a=r.parsePercent,i=r.MAX_SAFE_INTEGER,o=Ne,v=Ma(),f=Math.max,n=Math.min,h=e.retrieve,s=e.each,u=["itemStyle","borderWidth"],l=["itemStyle","gapWidth"],d=["upperLabel","show"],c=["upperLabel","height"],p={seriesType:"treemap",reset:function(M,D,L,P){var R=L.getWidth(),k=L.getHeight(),z=M.option,B=o.getLayoutRect(M.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()}),G=z.size||[],V=a(h(B.width,G[0]),R),I=a(h(B.height,G[1]),k),O=P&&P.type,E=["treemapZoomToNode","treemapRootToNode"],N=v.retrieveTargetInfo(P,E,M),q=O==="treemapRender"||O==="treemapMove"?P.rootRect:null,H=M.getViewRoot(),F=v.getPathToRoot(H);if(O!=="treemapMove"){var U=O==="treemapZoomToNode"?x(M,N,H,V,I):q?[q.width,q.height]:[V,I],W=z.sort;W&&W!=="asc"&&W!=="desc"&&(W="desc");var Y={squareRatio:z.squareRatio,sort:W,leafDepth:z.leafDepth};H.hostTree.clearLayouts();var Q={x:0,y:0,width:U[0],height:U[1],area:U[0]*U[1]};H.setLayout(Q),g(H,Y,!1,0);var Q=H.getLayout();s(F,function(j,re){var ae=(F[re+1]||H).getValue();j.setLayout(e.extend({dataExtent:[ae,ae],borderWidth:0,upperHeight:0},Q))})}var ee=M.getData().tree.root;ee.setLayout(w(B,q,N),!0),M.setLayoutInfo(B),A(ee,new t(-B.x,-B.y,R,k),F,H,0)}};function g(M,D,L,P){var R,k;if(!M.isRemoved()){var z=M.getLayout();R=z.width,k=z.height;var N=M.getModel(),B=N.get(u),G=N.get(l)/2,V=C(N),I=Math.max(B,V),O=B-G,E=I-G,N=M.getModel();M.setLayout({borderWidth:B,upperHeight:I,upperLabelHeight:V},!0),R=f(R-2*O,0),k=f(k-O-E,0);var q=R*k,H=m(M,N,q,D,L,P);if(H.length){var F={x:O,y:E,width:R,height:k},U=n(R,k),W=1/0,Y=[];Y.area=0;for(var Q=0,ee=H.length;Q<ee;){var j=H[Q];Y.push(j),Y.area+=j.getLayout().area;var re=T(Y,U,D.squareRatio);re<=W?(Q++,W=re):(Y.area-=Y.pop().getLayout().area,S(Y,U,F,G,!1),U=n(F.width,F.height),Y.length=Y.area=0,W=1/0)}if(Y.length&&S(Y,U,F,G,!0),!L){var ae=N.get("childrenVisibleMin");ae!=null&&q<ae&&(L=!0)}for(var Q=0,ee=H.length;Q<ee;Q++)g(H[Q],D,L,P+1)}}}function m(M,D,L,P,R,k){var z=M.children||[],B=P.sort;B!=="asc"&&B!=="desc"&&(B=null);var G=P.leafDepth!=null&&P.leafDepth<=k;if(R&&!G)return M.viewChildren=[];z=e.filter(z,function(N){return!N.isRemoved()}),_(z,B);var V=b(D,z,B);if(V.sum===0)return M.viewChildren=[];if(V.sum=y(D,L,V.sum,B,z),V.sum===0)return M.viewChildren=[];for(var I=0,O=z.length;I<O;I++){var E=z[I].getValue()/V.sum*L;z[I].setLayout({area:E})}return G&&(z.length&&M.setLayout({isLeafRoot:!0},!0),z.length=0),M.viewChildren=z,M.setLayout({dataExtent:V.dataExtent},!0),z}function y(M,D,L,P,R){if(!P)return L;for(var k=M.get("visibleMin"),z=R.length,B=z,G=z-1;G>=0;G--){var V=R[P==="asc"?z-G-1:G].getValue();V/L*D<k&&(B=G,L-=V)}return P==="asc"?R.splice(0,z-B):R.splice(B,z-B),L}function _(M,D){return D&&M.sort(function(L,P){var R=D==="asc"?L.getValue()-P.getValue():P.getValue()-L.getValue();return R===0?D==="asc"?L.dataIndex-P.dataIndex:P.dataIndex-L.dataIndex:R}),M}function b(M,D,L){for(var P=0,R=0,k=D.length;R<k;R++)P+=D[R].getValue();var z=M.get("visualDimension"),B;if(!D||!D.length)B=[NaN,NaN];else if(z==="value"&&L)B=[D[D.length-1].getValue(),D[0].getValue()],L==="asc"&&B.reverse();else{var B=[1/0,-1/0];s(D,function(V){var I=V.getValue(z);I<B[0]&&(B[0]=I),I>B[1]&&(B[1]=I)})}return{sum:P,dataExtent:B}}function T(M,D,L){for(var P=0,R=1/0,k=0,z,B=M.length;k<B;k++)z=M[k].getLayout().area,z&&(z<R&&(R=z),z>P&&(P=z));var G=M.area*M.area,V=D*D*L;return G?f(V*P/G,G/(V*R)):1/0}function S(M,D,L,P,R){var k=D===L.width?0:1,z=1-k,B=["x","y"],G=["width","height"],V=L[B[k]],I=D?M.area/D:0;(R||I>L[G[z]])&&(I=L[G[z]]);for(var O=0,E=M.length;O<E;O++){var N=M[O],q={},H=I?N.getLayout().area/I:0,F=q[G[z]]=f(I-2*P,0),U=L[B[k]]+L[G[k]]-V,W=O===E-1||U<H?U:H,Y=q[G[k]]=f(W-2*P,0);q[B[z]]=L[B[z]]+n(P,F/2),q[B[k]]=V+n(P,Y/2),V+=W,N.setLayout(q,!0)}L[B[z]]+=I,L[G[z]]-=I}function x(M,D,L,P,R){var k=(D||{}).node,z=[P,R];if(!k||k===L)return z;for(var B,G=P*R,V=G*M.option.zoomToNodeRatio;B=k.parentNode;){for(var I=0,O=B.children,E=0,N=O.length;E<N;E++)I+=O[E].getValue();var q=k.getValue();if(q===0)return z;V*=I/q;var H=B.getModel(),F=H.get(u),U=Math.max(F,C(H));V+=4*F*F+(3*F+U)*Math.pow(V,.5),V>i&&(V=i),k=B}V<G&&(V=G);var W=Math.pow(V/G,.5);return[P*W,R*W]}function w(M,D,L){if(D)return{x:D.x,y:D.y};var P={x:0,y:0};if(!L)return P;var R=L.node,k=R.getLayout();if(!k)return P;for(var z=[k.width/2,k.height/2],B=R;B;){var G=B.getLayout();z[0]+=G.x,z[1]+=G.y,B=B.parentNode}return{x:M.width/2-z[0],y:M.height/2-z[1]}}function A(M,D,L,P,R){var k=M.getLayout(),z=L[R],B=z&&z===M;if(!(z&&!B||R===L.length&&M!==P)){M.setLayout({isInView:!0,invisible:!B&&!D.intersect(k),isAboveViewRoot:B},!0);var G=new t(D.x-k.x,D.y-k.y,D.width,D.height);s(M.viewChildren||[],function(V){A(V,G,L,P,R+1)})}}function C(M){return M.get(d)?M.get(c):0}return Gu=p,Gu}var J0;function BV(){if(J0)return q0;J0=1;var e=we;PV(),EV(),kV();var t=OV(),r=zV();return e.registerVisual(t),e.registerLayout(r),q0}var j0={},Fu,e_;function NV(){if(e_)return Fu;e_=1;var e=Z,t=Ot,r=t.enableClassCheck;function a(s){return"_EC_"+s}var i=function(s){this._directed=s||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},o=i.prototype;o.type="graph",o.isDirected=function(){return this._directed},o.addNode=function(s,u){s=s==null?""+u:""+s;var l=this._nodesMap;if(!l[a(s)]){var d=new v(s,u);return d.hostGraph=this,this.nodes.push(d),l[a(s)]=d,d}},o.getNodeByIndex=function(s){var u=this.data.getRawIndex(s);return this.nodes[u]},o.getNodeById=function(s){return this._nodesMap[a(s)]},o.addEdge=function(s,u,l){var d=this._nodesMap,c=this._edgesMap;if(typeof s=="number"&&(s=this.nodes[s]),typeof u=="number"&&(u=this.nodes[u]),v.isInstance(s)||(s=d[a(s)]),v.isInstance(u)||(u=d[a(u)]),!(!s||!u)){var p=s.id+"-"+u.id;if(!c[p]){var g=new f(s,u,l);return g.hostGraph=this,this._directed&&(s.outEdges.push(g),u.inEdges.push(g)),s.edges.push(g),s!==u&&u.edges.push(g),this.edges.push(g),c[p]=g,g}}},o.getEdgeByIndex=function(s){var u=this.edgeData.getRawIndex(s);return this.edges[u]},o.getEdge=function(s,u){v.isInstance(s)&&(s=s.id),v.isInstance(u)&&(u=u.id);var l=this._edgesMap;return this._directed?l[s+"-"+u]:l[s+"-"+u]||l[u+"-"+s]},o.eachNode=function(s,u){for(var l=this.nodes,d=l.length,c=0;c<d;c++)l[c].dataIndex>=0&&s.call(u,l[c],c)},o.eachEdge=function(s,u){for(var l=this.edges,d=l.length,c=0;c<d;c++)l[c].dataIndex>=0&&l[c].node1.dataIndex>=0&&l[c].node2.dataIndex>=0&&s.call(u,l[c],c)},o.breadthFirstTraverse=function(s,u,l,d){if(v.isInstance(u)||(u=this._nodesMap[a(u)]),!!u){for(var c=l==="out"?"outEdges":l==="in"?"inEdges":"edges",p=0;p<this.nodes.length;p++)this.nodes[p].__visited=!1;if(!s.call(d,u,null))for(var g=[u];g.length;)for(var m=g.shift(),y=m[c],p=0;p<y.length;p++){var _=y[p],b=_.node1===m?_.node2:_.node1;if(!b.__visited){if(s.call(d,b,m))return;g.push(b),b.__visited=!0}}}},o.update=function(){for(var s=this.data,u=this.edgeData,l=this.nodes,d=this.edges,c=0,p=l.length;c<p;c++)l[c].dataIndex=-1;for(var c=0,p=s.count();c<p;c++)l[s.getRawIndex(c)].dataIndex=c;u.filterSelf(function(g){var m=d[u.getRawIndex(g)];return m.node1.dataIndex>=0&&m.node2.dataIndex>=0});for(var c=0,p=d.length;c<p;c++)d[c].dataIndex=-1;for(var c=0,p=u.count();c<p;c++)d[u.getRawIndex(c)].dataIndex=c},o.clone=function(){for(var s=new i(this._directed),u=this.nodes,l=this.edges,d=0;d<u.length;d++)s.addNode(u[d].id,u[d].dataIndex);for(var d=0;d<l.length;d++){var c=l[d];s.addEdge(c.node1.id,c.node2.id,c.dataIndex)}return s};function v(s,u){this.id=s??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=u??-1}v.prototype={constructor:v,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(s){if(!(this.dataIndex<0)){var u=this.hostGraph,l=u.data.getItemModel(this.dataIndex);return l.getModel(s)}}};function f(s,u,l){this.node1=s,this.node2=u,this.dataIndex=l??-1}f.prototype.getModel=function(s){if(!(this.dataIndex<0)){var u=this.hostGraph,l=u.edgeData.getItemModel(this.dataIndex);return l.getModel(s)}};var n=function(s,u){return{getValue:function(l){var d=this[s][u];return d.get(d.getDimension(l||"value"),this.dataIndex)},setVisual:function(l,d){this.dataIndex>=0&&this[s][u].setItemVisual(this.dataIndex,l,d)},getVisual:function(l,d){return this[s][u].getItemVisual(this.dataIndex,l,d)},setLayout:function(l,d){this.dataIndex>=0&&this[s][u].setItemLayout(this.dataIndex,l,d)},getLayout:function(){return this[s][u].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[s][u].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[s][u].getRawIndex(this.dataIndex)}}};e.mixin(v,n("hostGraph","data")),e.mixin(f,n("hostGraph","edgeData")),i.Node=v,i.Edge=f,r(v),r(f);var h=i;return Fu=h,Fu}var $u,t_;function FC(){if(t_)return $u;t_=1;var e=Z,t=Wt(),r=NV(),a=qC(),i=gi(),o=br,v=Br();function f(n,h,s,u,l){for(var d=new r(u),c=0;c<n.length;c++)d.addNode(e.retrieve(n[c].id,n[c].name,c),c);for(var p=[],g=[],m=0,c=0;c<h.length;c++){var y=h[c],_=y.source,b=y.target;d.addEdge(_,b,m)&&(g.push(y),p.push(e.retrieve(y.id,_+" > "+b)),m++)}var T=s.get("coordinateSystem"),S;if(T==="cartesian2d"||T==="polar")S=v(n,s);else{var x=o.get(T),w=x&&x.type!=="view"?x.dimensions||[]:[];e.indexOf(w,"value")<0&&w.concat(["value"]);var A=i(n,{coordDimensions:w});S=new t(A,s),S.initData(n)}var C=new t(["value"],s);return C.initData(g,p),l&&l(S,C),a({mainData:S,struct:d,structAttr:"graph",datas:{node:S,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}return $u=f,$u}var Uu,r_;function VV(){if(r_)return Uu;r_=1;var e=we,t=Wt(),r=Z,a=Re,i=a.defaultEmphasis,o=vt,v=Ke(),f=v.encodeHTML,n=FC(),h=Tn(),s=e.extendSeriesModel({type:"series.graph",init:function(l){s.superApply(this,"init",arguments);var d=this;function c(){return d._categoriesData}this.legendVisualProvider=new h(c,c),this.fillDataTextStyle(l.edges||l.links),this._updateCategoriesData()},mergeOption:function(l){s.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(l.edges||l.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(l){s.superApply(this,"mergeDefaultAndTheme",arguments),i(l,["edgeLabel"],["show"])},getInitialData:function(l,d){var c=l.edges||l.links||[],p=l.data||l.nodes||[],g=this;if(p&&c)return n(p,c,this,!0,m).data;function m(y,_){y.wrapMethod("getItemModel",function(A){var C=g._categoriesModels,M=A.getShallow("category"),D=C[M];return D&&(D.parentModel=A.parentModel,A.parentModel=D),A});var b=g.getModel("edgeLabel"),T=new o({label:b.option},b.parentModel,d),S=g.getModel("emphasis.edgeLabel"),x=new o({emphasis:{label:S.option}},S.parentModel,d);_.wrapMethod("getItemModel",function(A){return A.customizeGetParent(w),A});function w(A){return A=this.parsePath(A),A&&A[0]==="label"?T:A&&A[0]==="emphasis"&&A[1]==="label"?x:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(l,d,c){if(c==="edge"){var p=this.getData(),g=this.getDataParams(l,c),m=p.graph.getEdgeByIndex(l),y=p.getName(m.node1.dataIndex),_=p.getName(m.node2.dataIndex),b=[];return y!=null&&b.push(y),_!=null&&b.push(_),b=f(b.join(" > ")),g.value&&(b+=" : "+f(g.value)),b}else return s.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var l=r.map(this.option.categories||[],function(c){return c.value!=null?c:r.extend({value:0},c)}),d=new t(["value"],this);d.initData(l),this._categoriesData=d,this._categoriesModels=d.mapArray(function(c){return d.getItemModel(c,!0)})},setZoom:function(l){this.option.zoom=l},setCenter:function(l){this.option.center=l},isAnimationEnabled:function(){return s.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),u=s;return Uu=u,Uu}var Wu,a_;function HV(){if(a_)return Wu;a_=1;var e=ye,t=Ye(),r=e.Line.prototype,a=e.BezierCurve.prototype;function i(v){return isNaN(+v.cpx1)||isNaN(+v.cpy1)}var o=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(v,f){this[i(f)?"_buildPathLine":"_buildPathCurve"](v,f)},_buildPathLine:r.buildPath,_buildPathCurve:a.buildPath,pointAt:function(v){return this[i(this.shape)?"_pointAtLine":"_pointAtCurve"](v)},_pointAtLine:r.pointAt,_pointAtCurve:a.pointAt,tangentAt:function(v){var f=this.shape,n=i(f)?[f.x2-f.x1,f.y2-f.y1]:this._tangentAtCurve(v);return t.normalize(n,n)},_tangentAtCurve:a.tangentAt});return Wu=o,Wu}var Zu,i_;function Bd(){if(i_)return Zu;i_=1;var e=Z,t=Ye(),r=Zt(),a=HV(),i=ye,o=Oe(),v=o.round,f=["fromSymbol","toSymbol"];function n(g){return"_"+g+"Type"}function h(g,m,y){var _=m.getItemVisual(y,"color"),b=m.getItemVisual(y,g),T=m.getItemVisual(y,g+"Size");if(!(!b||b==="none")){e.isArray(T)||(T=[T,T]);var S=r.createSymbol(b,-T[0]/2,-T[1]/2,T[0],T[1],_);return S.name=g,S}}function s(g){var m=new a({name:"line",subPixelOptimize:!0});return u(m.shape,g),m}function u(g,m){g.x1=m[0][0],g.y1=m[0][1],g.x2=m[1][0],g.y2=m[1][1],g.percent=1;var y=m[2];y?(g.cpx1=y[0],g.cpy1=y[1]):(g.cpx1=NaN,g.cpy1=NaN)}function l(){var g=this,m=g.childOfName("fromSymbol"),y=g.childOfName("toSymbol"),_=g.childOfName("label");if(!(!m&&!y&&_.ignore)){for(var b=1,T=this.parent;T;)T.scale&&(b/=T.scale[0]),T=T.parent;var S=g.childOfName("line");if(!(!this.__dirty&&!S.__dirty)){var x=S.shape.percent,w=S.pointAt(0),A=S.pointAt(x),C=t.sub([],A,w);if(t.normalize(C,C),m){m.attr("position",w);var M=S.tangentAt(0);m.attr("rotation",Math.PI/2-Math.atan2(M[1],M[0])),m.attr("scale",[b*x,b*x])}if(y){y.attr("position",A);var M=S.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(M[1],M[0])),y.attr("scale",[b*x,b*x])}if(!_.ignore){_.attr("position",A);var D,L,P,R,k=_.__labelDistance,z=k[0]*b,B=k[1]*b,G=x/2,M=S.tangentAt(G),V=[M[1],-M[0]],I=S.pointAt(G);V[1]>0&&(V[0]=-V[0],V[1]=-V[1]);var O=M[0]<0?-1:1;if(_.__position!=="start"&&_.__position!=="end"){var E=-Math.atan2(M[1],M[0]);A[0]<w[0]&&(E=Math.PI+E),_.attr("rotation",E)}var N;switch(_.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":N=-B,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":N=B,P="top";break;default:N=0,P="middle"}switch(_.__position){case"end":D=[C[0]*z+A[0],C[1]*B+A[1]],L=C[0]>.8?"left":C[0]<-.8?"right":"center",P=C[1]>.8?"top":C[1]<-.8?"bottom":"middle";break;case"start":D=[-C[0]*z+w[0],-C[1]*B+w[1]],L=C[0]>.8?"right":C[0]<-.8?"left":"center",P=C[1]>.8?"bottom":C[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":D=[z*O+w[0],w[1]+N],L=M[0]<0?"right":"left",R=[-z*O,-N];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":D=[I[0],I[1]+N],L="center",R=[0,-N];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":D=[-z*O+A[0],A[1]+N],L=M[0]>=0?"right":"left",R=[z*O,-N];break}_.attr({style:{textVerticalAlign:_.__verticalAlign||P,textAlign:_.__textAlign||L},position:D,scale:[b,b],origin:R})}}}}function d(g,m,y){i.Group.call(this),this._createLine(g,m,y)}var c=d.prototype;c.beforeUpdate=l,c._createLine=function(g,m,y){var _=g.hostModel,b=g.getItemLayout(m),T=s(b);T.shape.percent=0,i.initProps(T,{shape:{percent:1}},_,m),this.add(T);var S=new i.Text({name:"label",lineLabelOriginalOpacity:1});this.add(S),e.each(f,function(x){var w=h(x,g,m);this.add(w),this[n(x)]=g.getItemVisual(m,x)},this),this._updateCommonStl(g,m,y)},c.updateData=function(g,m,y){var _=g.hostModel,b=this.childOfName("line"),T=g.getItemLayout(m),S={shape:{}};u(S.shape,T),i.updateProps(b,S,_,m),e.each(f,function(x){var w=g.getItemVisual(m,x),A=n(x);if(this[A]!==w){this.remove(this.childOfName(x));var C=h(x,g,m);this.add(C)}this[A]=w},this),this._updateCommonStl(g,m,y)},c._updateCommonStl=function(g,m,y){var _=g.hostModel,b=this.childOfName("line"),T=y&&y.lineStyle,S=y&&y.hoverLineStyle,x=y&&y.labelModel,w=y&&y.hoverLabelModel;if(!y||g.hasItemOption){var A=g.getItemModel(m);T=A.getModel("lineStyle").getLineStyle(),S=A.getModel("emphasis.lineStyle").getLineStyle(),x=A.getModel("label"),w=A.getModel("emphasis.label")}var C=g.getItemVisual(m,"color"),M=e.retrieve3(g.getItemVisual(m,"opacity"),T.opacity,1);b.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:C,opacity:M},T)),b.hoverStyle=S,e.each(f,function(O){var E=this.childOfName(O);E&&(E.setColor(C),E.setStyle({opacity:M}))},this);var D=x.getShallow("show"),L=w.getShallow("show"),P=this.childOfName("label"),R,k;if((D||L)&&(R=C||"#000",k=_.getFormattedLabel(m,"normal",g.dataType),k==null)){var z=_.getRawValue(m);k=z==null?g.getName(m):isFinite(z)?v(z):z}var B=D?k:null,G=L?e.retrieve2(_.getFormattedLabel(m,"emphasis",g.dataType),k):null,V=P.style;if(B!=null||G!=null){i.setTextStyle(P.style,x,{text:B},{autoColor:R}),P.__textAlign=V.textAlign,P.__verticalAlign=V.textVerticalAlign,P.__position=x.get("position")||"middle";var I=x.get("distance");e.isArray(I)||(I=[I,I]),P.__labelDistance=I}G!=null?P.hoverStyle={text:G,textFill:w.getTextColor(!0),fontStyle:w.getShallow("fontStyle"),fontWeight:w.getShallow("fontWeight"),fontSize:w.getShallow("fontSize"),fontFamily:w.getShallow("fontFamily")}:P.hoverStyle={text:null},P.ignore=!D&&!L,i.setHoverStyle(this)},c.highlight=function(){this.trigger("emphasis")},c.downplay=function(){this.trigger("normal")},c.updateLayout=function(g,m){this.setLinePoints(g.getItemLayout(m))},c.setLinePoints=function(g){var m=this.childOfName("line");u(m.shape,g),m.dirty()},e.inherits(d,i.Group);var p=d;return Zu=p,Zu}var Yu,n_;function Nd(){if(n_)return Yu;n_=1;var e=ye,t=Bd();function r(s){this._ctor=s||t,this.group=new e.Group}var a=r.prototype;a.isPersistent=function(){return!0},a.updateData=function(s){var u=this,l=u.group,d=u._lineData;u._lineData=s,d||l.removeAll();var c=v(s);s.diff(d).add(function(p){i(u,s,p,c)}).update(function(p,g){o(u,d,s,g,p,c)}).remove(function(p){l.remove(d.getItemGraphicEl(p))}).execute()};function i(s,u,l,d){var c=u.getItemLayout(l);if(n(c)){var p=new s._ctor(u,l,d);u.setItemGraphicEl(l,p),s.group.add(p)}}function o(s,u,l,d,c,p){var g=u.getItemGraphicEl(d);if(!n(l.getItemLayout(c))){s.group.remove(g);return}g?g.updateData(l,c,p):g=new s._ctor(l,c,p),l.setItemGraphicEl(c,g),s.group.add(g)}a.updateLayout=function(){var s=this._lineData;s&&s.eachItemGraphicEl(function(u,l){u.updateLayout(s,l)},this)},a.incrementalPrepareUpdate=function(s){this._seriesScope=v(s),this._lineData=null,this.group.removeAll()},a.incrementalUpdate=function(s,u){function l(g){g.isGroup||(g.incremental=g.useHoverLayer=!0)}for(var d=s.start;d<s.end;d++){var c=u.getItemLayout(d);if(n(c)){var p=new this._ctor(u,d,this._seriesScope);p.traverse(l),this.group.add(p),u.setItemGraphicEl(d,p)}}};function v(s){var u=s.hostModel;return{lineStyle:u.getModel("lineStyle").getLineStyle(),hoverLineStyle:u.getModel("emphasis.lineStyle").getLineStyle(),labelModel:u.getModel("label"),hoverLabelModel:u.getModel("emphasis.label")}}a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var s=this._incremental;s&&s.clearDisplaybles()};function f(s){return isNaN(s[0])||isNaN(s[1])}function n(s){return!f(s[0])&&!f(s[1])}var h=r;return Yu=h,Yu}var ro={},o_;function Vd(){if(o_)return ro;o_=1;function e(r){var a=r.coordinateSystem;if(a.type!=="view")return 1;var i=r.option.nodeScaleRatio,o=a.scale,v=o&&o[0]||1,f=a.getZoom(),n=(f-1)*i+1;return n/v}function t(r){var a=r.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}return ro.getNodeGlobalScale=e,ro.getSymbolSize=t,ro}var Xu,s_;function qV(){if(s_)return Xu;s_=1;var e=ut,t=Ye(),r=Vd(),a=r.getSymbolSize,i=[],o=[],v=[],f=e.quadraticAt,n=t.distSquare,h=Math.abs;function s(l,d,c){for(var p=l[0],g=l[1],m=l[2],y=1/0,_,b=c*c,T=.1,S=.1;S<=.9;S+=.1){i[0]=f(p[0],g[0],m[0],S),i[1]=f(p[1],g[1],m[1],S);var x=h(n(i,d)-b);x<y&&(y=x,_=S)}for(var w=0;w<32;w++){var A=_+T;o[0]=f(p[0],g[0],m[0],_),o[1]=f(p[1],g[1],m[1],_),v[0]=f(p[0],g[0],m[0],A),v[1]=f(p[1],g[1],m[1],A);var x=n(o,d)-b;if(h(x)<.01)break;var C=n(v,d)-b;T/=2,x<0?C>=0?_=_+T:_=_-T:C>=0?_=_-T:_=_+T}return _}function u(l,d){var c=[],p=e.quadraticSubdivide,g=[[],[],[]],m=[[],[]],y=[];d/=2,l.eachEdge(function(_,b){var T=_.getLayout(),S=_.getVisual("fromSymbol"),x=_.getVisual("toSymbol");T.__original||(T.__original=[t.clone(T[0]),t.clone(T[1])],T[2]&&T.__original.push(t.clone(T[2])));var w=T.__original;if(T[2]!=null){if(t.copy(g[0],w[0]),t.copy(g[1],w[2]),t.copy(g[2],w[1]),S&&S!=="none"){var A=a(_.node1),C=s(g,w[0],A*d);p(g[0][0],g[1][0],g[2][0],C,c),g[0][0]=c[3],g[1][0]=c[4],p(g[0][1],g[1][1],g[2][1],C,c),g[0][1]=c[3],g[1][1]=c[4]}if(x&&x!=="none"){var A=a(_.node2),C=s(g,w[1],A*d);p(g[0][0],g[1][0],g[2][0],C,c),g[1][0]=c[1],g[2][0]=c[2],p(g[0][1],g[1][1],g[2][1],C,c),g[1][1]=c[1],g[2][1]=c[2]}t.copy(T[0],g[0]),t.copy(T[1],g[2]),t.copy(T[2],g[1])}else{if(t.copy(m[0],w[0]),t.copy(m[1],w[1]),t.sub(y,m[1],m[0]),t.normalize(y,y),S&&S!=="none"){var A=a(_.node1);t.scaleAndAdd(m[0],m[0],y,A*d)}if(x&&x!=="none"){var A=a(_.node2);t.scaleAndAdd(m[1],m[1],y,-A*d)}t.copy(T[0],m[0]),t.copy(T[1],m[1])}})}return Xu=u,Xu}var Ku,l_;function GV(){if(l_)return Ku;l_=1;var e=we,t=Z,r=Sn(),a=Nd(),i=Mn(),o=Rd(),v=os(),f=v.onIrrelevantElement,n=ye,h=qV(),s=Vd(),u=s.getNodeGlobalScale,l="__focusNodeAdjacency",d="__unfocusNodeAdjacency",c=["itemStyle","opacity"],p=["lineStyle","opacity"];function g(b,T){var S=b.getVisual("opacity");return S??b.getModel().get(T)}function m(b,T,S){var x=b.getGraphicEl(),w=g(b,T);S!=null&&(w==null&&(w=1),w*=S),x.downplay&&x.downplay(),x.traverse(function(A){if(!A.isGroup){var C=A.lineLabelOriginalOpacity;(C==null||S!=null)&&(C=w),A.setStyle("opacity",C)}})}function y(b,T){var S=g(b,T),x=b.getGraphicEl();x.traverse(function(w){!w.isGroup&&w.setStyle("opacity",S)}),x.highlight&&x.highlight()}var _=e.extendChartView({type:"graph",init:function(b,T){var S=new r,x=new a,w=this.group;this._controller=new i(T.getZr()),this._controllerHost={target:w},w.add(S.group),w.add(x.group),this._symbolDraw=S,this._lineDraw=x,this._firstRender=!0},render:function(b,T,S){var x=this,w=b.coordinateSystem;this._model=b;var A=this._symbolDraw,C=this._lineDraw,M=this.group;if(w.type==="view"){var D={position:w.position,scale:w.scale};this._firstRender?M.attr(D):n.updateProps(M,D,b)}h(b.getGraph(),u(b));var L=b.getData();A.updateData(L);var P=b.getEdgeData();C.updateData(P),this._updateNodeAndLinkScale(),this._updateController(b,T,S),clearTimeout(this._layoutTimeout);var R=b.forceLayout,k=b.get("force.layoutAnimation");R&&this._startForceLayoutIteration(R,k),L.eachItemGraphicEl(function(V,I){var O=L.getItemModel(I);V.off("drag").off("dragend");var E=O.get("draggable");E&&V.on("drag",function(){R&&(R.warmUp(),!this._layouting&&this._startForceLayoutIteration(R,k),R.setFixed(I),L.setItemLayout(I,V.position))},this).on("dragend",function(){R&&R.setUnfixed(I)},this),V.setDraggable(E&&R),V[l]&&V.off("mouseover",V[l]),V[d]&&V.off("mouseout",V[d]),O.get("focusNodeAdjacency")&&(V.on("mouseover",V[l]=function(){x._clearTimer(),S.dispatchAction({type:"focusNodeAdjacency",seriesId:b.id,dataIndex:V.dataIndex})}),V.on("mouseout",V[d]=function(){x._dispatchUnfocus(S)}))},this),L.graph.eachEdge(function(V){var I=V.getGraphicEl();I[l]&&I.off("mouseover",I[l]),I[d]&&I.off("mouseout",I[d]),V.getModel().get("focusNodeAdjacency")&&(I.on("mouseover",I[l]=function(){x._clearTimer(),S.dispatchAction({type:"focusNodeAdjacency",seriesId:b.id,edgeDataIndex:V.dataIndex})}),I.on("mouseout",I[d]=function(){x._dispatchUnfocus(S)}))});var z=b.get("layout")==="circular"&&b.get("circular.rotateLabel"),B=L.getLayout("cx"),G=L.getLayout("cy");L.eachItemGraphicEl(function(V,I){var O=L.getItemModel(I),E=O.get("label.rotate")||0,N=V.getSymbolPath();if(z){var q=L.getItemLayout(I),H=Math.atan2(q[1]-G,q[0]-B);H<0&&(H=Math.PI*2+H);var F=q[0]<B;F&&(H=H-Math.PI);var U=F?"left":"right";n.modifyLabelStyle(N,{textRotation:-H,textPosition:U,textOrigin:"center"},{textPosition:U})}else n.modifyLabelStyle(N,{textRotation:E*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(b,T){var S=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){S._unfocusDelayTimer=null,b.dispatchAction({type:"unfocusNodeAdjacency",seriesId:S._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(b,T,S,x){var w=b.getData(),A=w.graph,C=x.dataIndex,M=x.edgeDataIndex,D=A.getNodeByIndex(C),L=A.getEdgeByIndex(M);!D&&!L||(A.eachNode(function(P){m(P,c,.1)}),A.eachEdge(function(P){m(P,p,.1)}),D&&(y(D,c),t.each(D.edges,function(P){P.dataIndex<0||(y(P,p),y(P.node1,c),y(P.node2,c))})),L&&(y(L,p),y(L.node1,c),y(L.node2,c)))},unfocusNodeAdjacency:function(b,T,S,x){var w=b.getData().graph;w.eachNode(function(A){m(A,c)}),w.eachEdge(function(A){m(A,p)})},_startForceLayoutIteration:function(b,T){var S=this;(function x(){b.step(function(w){S.updateLayout(S._model),(S._layouting=!w)&&(T?S._layoutTimeout=setTimeout(x,16):x())})})()},_updateController:function(b,T,S){var x=this._controller,w=this._controllerHost,A=this.group;if(x.setPointerChecker(function(C,M,D){var L=A.getBoundingRect();return L.applyTransform(A.transform),L.contain(M,D)&&!f(C,S,b)}),b.coordinateSystem.type!=="view"){x.disable();return}x.enable(b.get("roam")),w.zoomLimit=b.get("scaleLimit"),w.zoom=b.coordinateSystem.getZoom(),x.off("pan").off("zoom").on("pan",function(C){o.updateViewOnPan(w,C.dx,C.dy),S.dispatchAction({seriesId:b.id,type:"graphRoam",dx:C.dx,dy:C.dy})}).on("zoom",function(C){o.updateViewOnZoom(w,C.scale,C.originX,C.originY),S.dispatchAction({seriesId:b.id,type:"graphRoam",zoom:C.scale,originX:C.originX,originY:C.originY}),this._updateNodeAndLinkScale(),h(b.getGraph(),u(b)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var b=this._model,T=b.getData(),S=u(b),x=[S,S];T.eachItemGraphicEl(function(w,A){w.attr("scale",x)})},updateLayout:function(b){h(b.getGraph(),u(b)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(b,T){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return Ku=_,Ku}var u_={},v_={},h_;function $C(){if(h_)return v_;h_=1;var e=we;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),v_}var c_;function FV(){if(c_)return u_;c_=1;var e=we,t=Ed(),r=t.updateCenterAndZoom;$C();var a={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(a,function(i,o){o.eachComponent({mainType:"series",query:i},function(v){var f=v.coordinateSystem,n=r(f,i);v.setCenter&&v.setCenter(n.center),v.setZoom&&v.setZoom(n.zoom)})}),u_}var Qu,f_;function $V(){if(f_)return Qu;f_=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),o=a.getGraph(),v=o.data,f=i.mapArray(i.getName);v.filterSelf(function(n){var h=v.getItemModel(n),s=h.getShallow("category");if(s!=null){typeof s=="number"&&(s=f[s]);for(var u=0;u<r.length;u++)if(!r[u].isSelected(s))return!1}return!0})},this)}return Qu=e,Qu}var Ju,d_;function UV(){if(d_)return Ju;d_=1;function e(t){var r={};t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),o=a.getData(),v={};i.each(function(f){var n=i.getName(f);v["ec-"+n]=f;var h=i.getItemModel(f),s=h.get("itemStyle.color")||a.getColorFromPalette(n,r);i.setItemVisual(f,"color",s);for(var u=["opacity","symbol","symbolSize","symbolKeepAspect"],l=0;l<u.length;l++){var d=h.getShallow(u[l],!0);d!=null&&i.setItemVisual(f,u[l],d)}}),i.count()&&o.each(function(f){var n=o.getItemModel(f),h=n.getShallow("category");if(h!=null){typeof h=="string"&&(h=v["ec-"+h]);for(var s=["color","opacity","symbol","symbolSize","symbolKeepAspect"],u=0;u<s.length;u++)o.getItemVisual(f,s[u],!0)==null&&o.setItemVisual(f,s[u],i.getItemVisual(h,s[u]))}})})}return Ju=e,Ju}var ju,g_;function WV(){if(g_)return ju;g_=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(a){var i=a.getGraph(),o=a.getEdgeData(),v=e(a.get("edgeSymbol")),f=e(a.get("edgeSymbolSize")),n="lineStyle.color".split("."),h="lineStyle.opacity".split(".");o.setVisual("fromSymbol",v&&v[0]),o.setVisual("toSymbol",v&&v[1]),o.setVisual("fromSymbolSize",f&&f[0]),o.setVisual("toSymbolSize",f&&f[1]),o.setVisual("color",a.get(n)),o.setVisual("opacity",a.get(h)),o.each(function(s){var u=o.getItemModel(s),l=i.getEdgeByIndex(s),d=e(u.getShallow("symbol",!0)),c=e(u.getShallow("symbolSize",!0)),p=u.get(n),g=u.get(h);switch(p){case"source":p=l.node1.getVisual("color");break;case"target":p=l.node2.getVisual("color");break}d[0]&&l.setVisual("fromSymbol",d[0]),d[1]&&l.setVisual("toSymbol",d[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1]),l.setVisual("color",p),l.setVisual("opacity",g)})})}return ju=t,ju}var ao={},p_;function UC(){if(p_)return ao;p_=1;var e=Ye();function t(a){var i=a.coordinateSystem;if(!(i&&i.type!=="view")){var o=a.getGraph();o.eachNode(function(v){var f=v.getModel();v.setLayout([+f.get("x"),+f.get("y")])}),r(o)}}function r(a){a.eachEdge(function(i){var o=i.getModel().get("lineStyle.curveness")||0,v=e.clone(i.node1.getLayout()),f=e.clone(i.node2.getLayout()),n=[v,f];+o&&n.push([(v[0]+f[0])/2-(v[1]-f[1])*o,(v[1]+f[1])/2-(f[0]-v[0])*o]),i.setLayout(n)})}return ao.simpleLayout=t,ao.simpleLayoutEdge=r,ao}var ev,m_;function ZV(){if(m_)return ev;m_=1;var e=Z,t=e.each,r=UC(),a=r.simpleLayout,i=r.simpleLayoutEdge;function o(v,f){v.eachSeriesByType("graph",function(n){var h=n.get("layout"),s=n.coordinateSystem;if(s&&s.type!=="view"){var u=n.getData(),l=[];t(s.dimensions,function(y){l=l.concat(u.mapDimension(y,!0))});for(var d=0;d<u.count();d++){for(var c=[],p=!1,g=0;g<l.length;g++){var m=u.get(l[g],d);isNaN(m)||(p=!0),c.push(m)}p?u.setItemLayout(d,s.dataToPoint(c)):u.setItemLayout(d,[NaN,NaN])}i(u.graph)}else(!h||h==="none")&&a(n)})}return ev=o,ev}var tv={},y_;function WC(){if(y_)return tv;y_=1;var e=Ye(),t=Vd(),r=t.getSymbolSize,a=t.getNodeGlobalScale,i=Math.PI,o=[];function v(n,h){var s=n.coordinateSystem;if(!(s&&s.type!=="view")){var u=s.getBoundingRect(),l=n.getData(),d=l.graph,c=u.width/2+u.x,p=u.height/2+u.y,g=Math.min(u.width,u.height)/2,m=l.count();l.setLayout({cx:c,cy:p}),m&&(f[h](n,s,d,l,g,c,p,m),d.eachEdge(function(y){var _=y.getModel().get("lineStyle.curveness")||0,b=e.clone(y.node1.getLayout()),T=e.clone(y.node2.getLayout()),S,x=(b[0]+T[0])/2,w=(b[1]+T[1])/2;+_&&(_*=3,S=[c*_+x*(1-_),p*_+w*(1-_)]),y.setLayout([b,T,S])}))}}var f={value:function(n,h,s,u,l,d,c,p){var g=0,m=u.getSum("value"),y=Math.PI*2/(m||p);s.eachNode(function(_){var b=_.getValue("value"),T=y*(m?b:1)/2;g+=T,_.setLayout([l*Math.cos(g)+d,l*Math.sin(g)+c]),g+=T})},symbolSize:function(n,h,s,u,l,d,c,p){var g=0;o.length=p;var m=a(n);s.eachNode(function(b){var T=r(b);isNaN(T)&&(T=2),T<0&&(T=0),T*=m;var S=Math.asin(T/2/l);isNaN(S)&&(S=i/2),o[b.dataIndex]=S,g+=S*2});var y=(2*i-g)/p/2,_=0;s.eachNode(function(b){var T=y+o[b.dataIndex];_+=T,b.setLayout([l*Math.cos(_)+d,l*Math.sin(_)+c]),_+=T})}};return tv.circularLayout=v,tv}var rv,__;function YV(){if(__)return rv;__=1;var e=WC(),t=e.circularLayout;function r(a){a.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&t(i,"symbolSize")})}return rv=r,rv}var av={},x_;function XV(){if(x_)return av;x_=1;var e=Ye(),t=e.scaleAndAdd;function r(a,i,o){for(var v=o.rect,f=v.width,n=v.height,h=[v.x+f/2,v.y+n/2],s=o.gravity==null?.1:o.gravity,u=0;u<a.length;u++){var l=a[u];l.p||(l.p=e.create(f*(Math.random()-.5)+h[0],n*(Math.random()-.5)+h[1])),l.pp=e.clone(l.p),l.edges=null}var d=o.friction==null?.6:o.friction,c=d;return{warmUp:function(){c=d*.8},setFixed:function(p){a[p].fixed=!0},setUnfixed:function(p){a[p].fixed=!1},step:function(p){for(var g=[],m=a.length,y=0;y<i.length;y++){var _=i[y];if(!_.ignoreForceLayout){var b=_.n1,T=_.n2;e.sub(g,T.p,b.p);var S=e.len(g)-_.d,x=T.w/(b.w+T.w);isNaN(x)&&(x=0),e.normalize(g,g),!b.fixed&&t(b.p,b.p,g,x*S*c),!T.fixed&&t(T.p,T.p,g,-(1-x)*S*c)}}for(var y=0;y<m;y++){var w=a[y];w.fixed||(e.sub(g,h,w.p),t(w.p,w.p,g,s*c))}for(var y=0;y<m;y++)for(var b=a[y],A=y+1;A<m;A++){var T=a[A];e.sub(g,T.p,b.p);var S=e.len(g);S===0&&(e.set(g,Math.random()-.5,Math.random()-.5),S=1);var C=(b.rep+T.rep)/S/S;!b.fixed&&t(b.pp,b.pp,g,C),!T.fixed&&t(T.pp,T.pp,g,-C)}for(var M=[],y=0;y<m;y++){var w=a[y];w.fixed||(e.sub(M,w.p,w.pp),t(w.p,w.p,M,c),e.copy(w.pp,w.p))}c=c*.992,p&&p(a,i,c<.01)}}}return av.forceLayout=r,av}var iv,S_;function KV(){if(S_)return iv;S_=1;var e=XV(),t=e.forceLayout,r=UC(),a=r.simpleLayout,i=WC(),o=i.circularLayout,v=Oe(),f=v.linearMap,n=Ye(),h=Z;function s(u){u.eachSeriesByType("graph",function(l){var d=l.coordinateSystem;if(!(d&&d.type!=="view"))if(l.get("layout")==="force"){var c=l.preservedPoints||{},p=l.getGraph(),g=p.data,m=p.edgeData,y=l.getModel("force"),_=y.get("initLayout");l.preservedPoints?g.each(function(P){var R=g.getId(P);g.setItemLayout(P,c[R]||[NaN,NaN])}):!_||_==="none"?a(l):_==="circular"&&o(l,"value");var b=g.getDataExtent("value"),T=m.getDataExtent("value"),S=y.get("repulsion"),x=y.get("edgeLength");h.isArray(S)||(S=[S,S]),h.isArray(x)||(x=[x,x]),x=[x[1],x[0]];var w=g.mapArray("value",function(P,R){var k=g.getItemLayout(R),z=f(P,b,S);return isNaN(z)&&(z=(S[0]+S[1])/2),{w:z,rep:z,fixed:g.getItemModel(R).get("fixed"),p:!k||isNaN(k[0])||isNaN(k[1])?null:k}}),A=m.mapArray("value",function(P,R){var k=p.getEdgeByIndex(R),z=f(P,T,x);isNaN(z)&&(z=(x[0]+x[1])/2);var B=k.getModel();return{n1:w[k.node1.dataIndex],n2:w[k.node2.dataIndex],d:z,curveness:B.get("lineStyle.curveness")||0,ignoreForceLayout:B.get("ignoreForceLayout")}}),d=l.coordinateSystem,C=d.getBoundingRect(),M=t(w,A,{rect:C,gravity:y.get("gravity"),friction:y.get("friction")}),D=M.step;M.step=function(P){for(var R=0,k=w.length;R<k;R++)w[R].fixed&&n.copy(w[R].p,p.getNodeByIndex(R).getLayout());D(function(z,B,G){for(var V=0,I=z.length;V<I;V++)z[V].fixed||p.getNodeByIndex(V).setLayout(z[V].p),c[g.getId(V)]=z[V].p;for(var V=0,I=B.length;V<I;V++){var O=B[V],E=p.getEdgeByIndex(V),N=O.n1.p,q=O.n2.p,H=E.getLayout();H=H?H.slice():[],H[0]=H[0]||[],H[1]=H[1]||[],n.copy(H[0],N),n.copy(H[1],q),+O.curveness&&(H[2]=[(N[0]+q[0])/2-(N[1]-q[1])*O.curveness,(N[1]+q[1])/2-(q[0]-N[0])*O.curveness]),E.setLayout(H)}P&&P(G)})},l.forceLayout=M,l.preservedPoints=c,M.step()}else l.forceLayout=null})}return iv=s,iv}var nv,b_;function QV(){if(b_)return nv;b_=1;var e=kd(),t=Ne,r=t.getLayoutRect,a=qo();function i(v,f,n){var h=v.getBoxLayoutParams();return h.aspect=n,r(h,{width:f.getWidth(),height:f.getHeight()})}function o(v,f){var n=[];return v.eachSeriesByType("graph",function(h){var s=h.get("coordinateSystem");if(!s||s==="view"){var u=h.getData(),l=u.mapArray(function(S){var x=u.getItemModel(S);return[+x.get("x"),+x.get("y")]}),d=[],c=[];a.fromPoints(l,d,c),c[0]-d[0]===0&&(c[0]+=1,d[0]-=1),c[1]-d[1]===0&&(c[1]+=1,d[1]-=1);var p=(c[0]-d[0])/(c[1]-d[1]),g=i(h,f,p);isNaN(p)&&(d=[g.x,g.y],c=[g.x+g.width,g.y+g.height]);var m=c[0]-d[0],y=c[1]-d[1],_=g.width,b=g.height,T=h.coordinateSystem=new e;T.zoomLimit=h.get("scaleLimit"),T.setBoundingRect(d[0],d[1],m,y),T.setViewRect(g.x,g.y,_,b),T.setCenter(h.get("center")),T.setZoom(h.get("zoom")),n.push(T)}}),n}return nv=o,nv}var w_;function JV(){if(w_)return j0;w_=1;var e=we;VV(),GV(),FV();var t=$V(),r=Ta(),a=UV(),i=WV(),o=ZV(),v=YV(),f=KV(),n=QV();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(a),e.registerVisual(i),e.registerLayout(o),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,v),e.registerLayout(f),e.registerCoordinateSystem("graphView",{create:n}),j0}var A_={},ov,T_;function jV(){if(T_)return ov;T_=1;var e=mi(),t=ft,r=t.extend({type:"series.gauge",getInitialData:function(i,o){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),a=r;return ov=a,ov}var sv,C_;function e5(){if(C_)return sv;C_=1;var e=at,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,a){var i=Math.cos,o=Math.sin,v=a.r,f=a.width,n=a.angle,h=a.x-i(n)*f*(f>=v/3?1:2),s=a.y-o(n)*f*(f>=v/3?1:2);n=a.angle-Math.PI/2,r.moveTo(h,s),r.lineTo(a.x+i(n)*f,a.y+o(n)*f),r.lineTo(a.x+i(a.angle)*v,a.y+o(a.angle)*v),r.lineTo(a.x-i(n)*f,a.y-o(n)*f),r.lineTo(h,s)}});return sv=t,sv}var lv,M_;function t5(){if(M_)return lv;M_=1;var e=e5(),t=ye,r=wr,a=Oe(),i=a.parsePercent,o=a.round,v=a.linearMap;function f(l,d){var c=l.get("center"),p=d.getWidth(),g=d.getHeight(),m=Math.min(p,g),y=i(c[0],d.getWidth()),_=i(c[1],d.getHeight()),b=i(l.get("radius"),m/2);return{cx:y,cy:_,r:b}}function n(l,d){return d&&(typeof d=="string"?l=d.replace("{value}",l??""):typeof d=="function"&&(l=d(l))),l}var h=Math.PI*2,s=r.extend({type:"gauge",render:function(l,d,c){this.group.removeAll();var p=l.get("axisLine.lineStyle.color"),g=f(l,c);this._renderMain(l,d,c,p,g)},dispose:function(){},_renderMain:function(l,d,c,p,g){for(var m=this.group,y=l.getModel("axisLine"),_=y.getModel("lineStyle"),b=l.get("clockwise"),T=-l.get("startAngle")/180*Math.PI,S=-l.get("endAngle")/180*Math.PI,x=(S-T)%h,w=T,A=_.get("width"),C=y.get("show"),M=0;C&&M<p.length;M++){var D=Math.min(Math.max(p[M][0],0),1),S=T+x*D,L=new t.Sector({shape:{startAngle:w,endAngle:S,cx:g.cx,cy:g.cy,clockwise:b,r0:g.r-A,r:g.r},silent:!0});L.setStyle({fill:p[M][1]}),L.setStyle(_.getLineStyle(["color","borderWidth","borderColor"])),m.add(L),w=S}var P=function(k){if(k<=0)return p[0][1];for(var z=0;z<p.length;z++)if(p[z][0]>=k&&(z===0?0:p[z-1][0])<k)return p[z][1];return p[z-1][1]};if(!b){var R=T;T=S,S=R}this._renderTicks(l,d,c,P,g,T,S,b),this._renderPointer(l,d,c,P,g,T,S,b),this._renderTitle(l,d,c,P,g),this._renderDetail(l,d,c,P,g)},_renderTicks:function(l,d,c,p,g,m,y,_){for(var b=this.group,T=g.cx,S=g.cy,x=g.r,w=+l.get("min"),A=+l.get("max"),C=l.getModel("splitLine"),M=l.getModel("axisTick"),D=l.getModel("axisLabel"),L=l.get("splitNumber"),P=M.get("splitNumber"),R=i(C.get("length"),x),k=i(M.get("length"),x),z=m,B=(y-m)/L,G=B/P,V=C.getModel("lineStyle").getLineStyle(),I=M.getModel("lineStyle").getLineStyle(),O=0;O<=L;O++){var E=Math.cos(z),N=Math.sin(z);if(C.get("show")){var q=new t.Line({shape:{x1:E*x+T,y1:N*x+S,x2:E*(x-R)+T,y2:N*(x-R)+S},style:V,silent:!0});V.stroke==="auto"&&q.setStyle({stroke:p(O/L)}),b.add(q)}if(D.get("show")){var H=n(o(O/L*(A-w)+w),D.get("formatter")),F=D.get("distance"),U=p(O/L);b.add(new t.Text({style:t.setTextStyle({},D,{text:H,x:E*(x-R-F)+T,y:N*(x-R-F)+S,textVerticalAlign:N<-.4?"top":N>.4?"bottom":"middle",textAlign:E<-.4?"left":E>.4?"right":"center"},{autoColor:U}),silent:!0}))}if(M.get("show")&&O!==L){for(var W=0;W<=P;W++){var E=Math.cos(z),N=Math.sin(z),Y=new t.Line({shape:{x1:E*x+T,y1:N*x+S,x2:E*(x-k)+T,y2:N*(x-k)+S},silent:!0,style:I});I.stroke==="auto"&&Y.setStyle({stroke:p((O+W/P)/L)}),b.add(Y),z+=G}z-=G}else z+=B}},_renderPointer:function(l,d,c,p,g,m,y,_){var b=this.group,T=this._data;if(!l.get("pointer.show")){T&&T.eachItemGraphicEl(function(C){b.remove(C)});return}var S=[+l.get("min"),+l.get("max")],x=[m,y],w=l.getData(),A=w.mapDimension("value");w.diff(T).add(function(C){var M=new e({shape:{angle:m}});t.initProps(M,{shape:{angle:v(w.get(A,C),S,x,!0)}},l),b.add(M),w.setItemGraphicEl(C,M)}).update(function(C,M){var D=T.getItemGraphicEl(M);t.updateProps(D,{shape:{angle:v(w.get(A,C),S,x,!0)}},l),b.add(D),w.setItemGraphicEl(C,D)}).remove(function(C){var M=T.getItemGraphicEl(C);b.remove(M)}).execute(),w.eachItemGraphicEl(function(C,M){var D=w.getItemModel(M),L=D.getModel("pointer");C.setShape({x:g.cx,y:g.cy,width:i(L.get("width"),g.r),r:i(L.get("length"),g.r)}),C.useStyle(D.getModel("itemStyle").getItemStyle()),C.style.fill==="auto"&&C.setStyle("fill",p(v(w.get(A,M),S,[0,1],!0))),t.setHoverStyle(C,D.getModel("emphasis.itemStyle").getItemStyle())}),this._data=w},_renderTitle:function(l,d,c,p,g){var m=l.getData(),y=m.mapDimension("value"),_=l.getModel("title");if(_.get("show")){var b=_.get("offsetCenter"),T=g.cx+i(b[0],g.r),S=g.cy+i(b[1],g.r),x=+l.get("min"),w=+l.get("max"),A=l.getData().get(y,0),C=p(v(A,[x,w],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},_,{x:T,y:S,text:m.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:C,forceRich:!0})}))}},_renderDetail:function(l,d,c,p,g){var m=l.getModel("detail"),y=+l.get("min"),_=+l.get("max");if(m.get("show")){var b=m.get("offsetCenter"),T=g.cx+i(b[0],g.r),S=g.cy+i(b[1],g.r),x=i(m.get("width"),g.r),w=i(m.get("height"),g.r),A=l.getData(),C=A.get(A.mapDimension("value"),0),M=p(v(C,[y,_],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},m,{x:T,y:S,text:n(C,m.get("formatter")),textWidth:isNaN(x)?null:x,textHeight:isNaN(w)?null:w,textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}}}),u=s;return lv=u,lv}var D_;function r5(){return D_||(D_=1,jV(),t5()),A_}var L_={},uv,P_;function a5(){if(P_)return uv;P_=1;var e=we,t=Z,r=mi(),a=Re,i=a.defaultEmphasis,o=zr(),v=o.makeSeriesEncodeForNameBased,f=Tn(),n=e.extendSeriesModel({type:"series.funnel",init:function(s){n.superApply(this,"init",arguments),this.legendVisualProvider=new f(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(s)},getInitialData:function(s,u){return r(this,{coordDimensions:["value"],encodeDefaulter:t.curry(v,this)})},_defaultLabelLine:function(s){i(s,"labelLine",["show"]);var u=s.labelLine,l=s.emphasis.labelLine;u.show=u.show&&s.label.show,l.show=l.show&&s.emphasis.label.show},getDataParams:function(s){var u=this.getData(),l=n.superCall(this,"getDataParams",s),d=u.mapDimension("value"),c=u.getSum(d);return l.percent=c?+(u.get(d,s)/c*100).toFixed(2):0,l.$vars.push("percent"),l},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),h=n;return uv=h,uv}var vv,I_;function i5(){if(I_)return vv;I_=1;var e=ye,t=Z,r=wr;function a(n,h){e.Group.call(this);var s=new e.Polygon,u=new e.Polyline,l=new e.Text;this.add(s),this.add(u),this.add(l),this.highDownOnUpdate=function(d,c){c==="emphasis"?(u.ignore=u.hoverIgnore,l.ignore=l.hoverIgnore):(u.ignore=u.normalIgnore,l.ignore=l.normalIgnore)},this.updateData(n,h,!0)}var i=a.prototype,o=["itemStyle","opacity"];i.updateData=function(n,h,s){var u=this.childAt(0),l=n.hostModel,d=n.getItemModel(h),c=n.getItemLayout(h),p=n.getItemModel(h).get(o);p=p??1,u.useStyle({}),s?(u.setShape({points:c.points}),u.setStyle({opacity:0}),e.initProps(u,{style:{opacity:p}},l,h)):e.updateProps(u,{style:{opacity:p},shape:{points:c.points}},l,h);var g=d.getModel("itemStyle"),m=n.getItemVisual(h,"color");u.setStyle(t.defaults({lineJoin:"round",fill:m},g.getItemStyle(["opacity"]))),u.hoverStyle=g.getModel("emphasis").getItemStyle(),this._updateLabel(n,h),e.setHoverStyle(this)},i._updateLabel=function(n,h){var s=this.childAt(1),u=this.childAt(2),l=n.hostModel,d=n.getItemModel(h),c=n.getItemLayout(h),p=c.label,b=n.getItemVisual(h,"color");e.updateProps(s,{shape:{points:p.linePoints||p.linePoints}},l,h),e.updateProps(u,{style:{x:p.x,y:p.y}},l,h),u.attr({rotation:p.rotation,origin:[p.x,p.y],z2:10});var g=d.getModel("label"),m=d.getModel("emphasis.label"),y=d.getModel("labelLine"),_=d.getModel("emphasis.labelLine"),b=n.getItemVisual(h,"color");e.setLabelStyle(u.style,u.hoverStyle={},g,m,{labelFetcher:n.hostModel,labelDataIndex:h,defaultText:n.getName(h),autoColor:b,useInsideStyle:!!p.inside},{textAlign:p.textAlign,textVerticalAlign:p.verticalAlign}),u.ignore=u.normalIgnore=!g.get("show"),u.hoverIgnore=!m.get("show"),s.ignore=s.normalIgnore=!y.get("show"),s.hoverIgnore=!_.get("show"),s.setStyle({stroke:b}),s.setStyle(y.getModel("lineStyle").getLineStyle()),s.hoverStyle=_.getModel("lineStyle").getLineStyle()},t.inherits(a,e.Group);var v=r.extend({type:"funnel",render:function(n,h,s){var u=n.getData(),l=this._data,d=this.group;u.diff(l).add(function(c){var p=new a(u,c);u.setItemGraphicEl(c,p),d.add(p)}).update(function(c,p){var g=l.getItemGraphicEl(p);g.updateData(u,c),d.add(g),u.setItemGraphicEl(c,g)}).remove(function(c){var p=l.getItemGraphicEl(c);d.remove(p)}).execute(),this._data=u},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),f=v;return vv=f,vv}var hv,R_;function n5(){if(R_)return hv;R_=1;var e=Ne,t=Oe(),r=t.parsePercent,a=t.linearMap;function i(n,h){return e.getLayoutRect(n.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})}function o(n,h){for(var s=n.mapDimension("value"),u=n.mapArray(s,function(g){return g}),l=[],d=h==="ascending",c=0,p=n.count();c<p;c++)l[c]=c;return typeof h=="function"?l.sort(h):h!=="none"&&l.sort(function(g,m){return d?u[g]-u[m]:u[m]-u[g]}),l}function v(n){n.each(function(h){var s=n.getItemModel(h),u=s.getModel("label"),l=u.get("position"),d=s.getModel("labelLine"),c=n.getItemLayout(h),p=c.points,g=l==="inner"||l==="inside"||l==="center"||l==="insideLeft"||l==="insideRight",m,y,_,b;if(g)l==="insideLeft"?(y=(p[0][0]+p[3][0])/2+5,_=(p[0][1]+p[3][1])/2,m="left"):l==="insideRight"?(y=(p[1][0]+p[2][0])/2-5,_=(p[1][1]+p[2][1])/2,m="right"):(y=(p[0][0]+p[1][0]+p[2][0]+p[3][0])/4,_=(p[0][1]+p[1][1]+p[2][1]+p[3][1])/4,m="center"),b=[[y,_],[y,_]];else{var T,S,x,w=d.get("length");l==="left"?(T=(p[3][0]+p[0][0])/2,S=(p[3][1]+p[0][1])/2,x=T-w,y=x-5,m="right"):l==="right"?(T=(p[1][0]+p[2][0])/2,S=(p[1][1]+p[2][1])/2,x=T+w,y=x+5,m="left"):l==="rightTop"?(T=p[1][0],S=p[1][1],x=T+w,y=x+5,m="top"):l==="rightBottom"?(T=p[2][0],S=p[2][1],x=T+w,y=x+5,m="bottom"):l==="leftTop"?(T=p[0][0],S=p[1][1],x=T-w,y=x-5,m="right"):l==="leftBottom"?(T=p[3][0],S=p[2][1],x=T-w,y=x-5,m="right"):(T=(p[1][0]+p[2][0])/2,S=(p[1][1]+p[2][1])/2,x=T+w,y=x+5,m="left");var A=S;b=[[T,S],[x,A]],_=A}c.label={linePoints:b,x:y,y:_,verticalAlign:"middle",textAlign:m,inside:g}})}function f(n,h,s){n.eachSeriesByType("funnel",function(u){var l=u.getData(),d=l.mapDimension("value"),c=u.get("sort"),p=i(u,h),g=o(l,c),m=[r(u.get("minSize"),p.width),r(u.get("maxSize"),p.width)],y=l.getDataExtent(d),_=u.get("min"),b=u.get("max");_==null&&(_=Math.min(y[0],0)),b==null&&(b=y[1]);var T=u.get("funnelAlign"),S=u.get("gap"),x=(p.height-S*(l.count()-1))/l.count(),w=p.y,A=function(z,B){var G=l.get(d,z)||0,V=a(G,[_,b],m,!0),I;switch(T){case"left":I=p.x;break;case"center":I=p.x+(p.width-V)/2;break;case"right":I=p.x+p.width-V;break}return[[I,B],[I+V,B]]};c==="ascending"&&(x=-x,S=-S,w+=p.height,g=g.reverse());for(var C=0;C<g.length;C++){var M=g[C],D=g[C+1],L=l.getItemModel(M),P=L.get("itemStyle.height");P==null?P=x:(P=r(P,p.height),c==="ascending"&&(P=-P));var R=A(M,w),k=A(D,w+P);w+=P+S,l.setItemLayout(M,{points:R.concat(k.slice().reverse())})}v(l)})}return hv=f,hv}var E_;function o5(){if(E_)return L_;E_=1;var e=we;a5(),i5();var t=is(),r=n5(),a=Cn();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(a("funnel")),L_}var k_={},O_={},cv,z_;function s5(){if(z_)return cv;z_=1;var e=Z,t=Re;function r(o){a(o),i(o)}function a(o){if(!o.parallel){var v=!1;e.each(o.series,function(f){f&&f.type==="parallel"&&(v=!0)}),v&&(o.parallel=[{}])}}function i(o){var v=t.normalizeToArray(o.parallelAxis);e.each(v,function(f){if(e.isObject(f)){var n=f.parallelIndex||0,h=t.normalizeToArray(o.parallel)[n];h&&h.parallelAxisDefault&&e.merge(f,h.parallelAxisDefault,!1)}})}return cv=r,cv}var B_={},fv,N_;function l5(){if(N_)return fv;N_=1;var e=Z,t=aa(),r=function(i,o,v,f,n){t.call(this,i,o,v),this.type=f||"value",this.axisIndex=n};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var a=r;return fv=a,fv}var dv,V_;function yi(){if(V_)return dv;V_=1;function e(a,i,o,v,f,n){a=a||0;var h=o[1]-o[0];if(f!=null&&(f=r(f,[0,h])),n!=null&&(n=Math.max(n,f??0)),v==="all"){var s=Math.abs(i[1]-i[0]);s=r(s,[0,h]),f=n=r(s,[f,n]),v=0}i[0]=r(i[0],o),i[1]=r(i[1],o);var u=t(i,v);i[v]+=a;var l=f||0,d=o.slice();u.sign<0?d[0]+=l:d[1]-=l,i[v]=r(i[v],d);var c=t(i,v);f!=null&&(c.sign!==u.sign||c.span<f)&&(i[1-v]=i[v]+u.sign*f);var c=t(i,v);return n!=null&&c.span>n&&(i[1-v]=i[v]+c.sign*n),i}function t(a,i){var o=a[i]-a[1-i];return{span:Math.abs(o),sign:o>0?-1:o<0?1:i?-1:1}}function r(a,i){return Math.min(i[1]!=null?i[1]:1/0,Math.max(i[0]!=null?i[0]:-1/0,a))}return dv=e,dv}var gv,H_;function u5(){if(H_)return gv;H_=1;var e=Z,t=Pt(),r=Ne,a=sr(),i=l5(),o=ye,v=Oe(),f=yi(),n=e.each,h=Math.min,s=Math.max,u=Math.floor,l=Math.ceil,d=v.round,c=Math.PI;function p(b,T,S){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=b.dimensions,this._rect,this._model=b,this._init(b,T,S)}p.prototype={type:"parallel",constructor:p,_init:function(b,T,S){var x=b.dimensions,w=b.parallelAxisIndex;n(x,function(A,C){var M=w[C],D=T.getComponent("parallelAxis",M),L=this._axesMap.set(A,new i(A,a.createScaleByModel(D),[0,0],D.get("type"),M)),P=L.type==="category";L.onBand=P&&D.get("boundaryGap"),L.inverse=D.get("inverse"),D.axis=L,L.model=D,L.coordinateSystem=D.coordinateSystem=this},this)},update:function(b,T){this._updateAxesFromSeries(this._model,b)},containPoint:function(b){var T=this._makeLayoutInfo(),S=T.axisBase,x=T.layoutBase,w=T.pixelDimIndex,A=b[1-w],C=b[w];return A>=S&&A<=S+T.axisLength&&C>=x&&C<=x+T.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(b,T){T.eachSeries(function(S){if(b.contains(S,T)){var x=S.getData();n(this.dimensions,function(w){var A=this._axesMap.get(w);A.scale.unionExtentFromData(x,x.mapDimension(w)),a.niceScaleExtent(A.scale,A.model)},this)}},this)},resize:function(b,T){this._rect=r.getLayoutRect(b.getBoxLayoutParams(),{width:T.getWidth(),height:T.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var b=this._model,T=this._rect,S=["x","y"],x=["width","height"],w=b.get("layout"),A=w==="horizontal"?0:1,C=T[x[A]],M=[0,C],D=this.dimensions.length,L=g(b.get("axisExpandWidth"),M),P=g(b.get("axisExpandCount")||0,[0,D]),R=b.get("axisExpandable")&&D>3&&D>P&&P>1&&L>0&&C>0,k=b.get("axisExpandWindow"),z;if(k)z=g(k[1]-k[0],M),k[1]=k[0]+z;else{z=g(L*(P-1),M);var B=b.get("axisExpandCenter")||u(D/2);k=[L*B-z/2],k[1]=k[0]+z}var G=(C-z)/(D-P);G<3&&(G=0);var V=[u(d(k[0]/L,1))+1,l(d(k[1]/L,1))-1],I=G/L*k[0];return{layout:w,pixelDimIndex:A,layoutBase:T[S[A]],layoutLength:C,axisBase:T[S[1-A]],axisLength:T[x[1-A]],axisExpandable:R,axisExpandWidth:L,axisCollapseWidth:G,axisExpandWindow:k,axisCount:D,winInnerIndices:V,axisExpandWindow0Pos:I}},_layoutAxes:function(){var b=this._rect,T=this._axesMap,S=this.dimensions,x=this._makeLayoutInfo(),w=x.layout;T.each(function(A){var C=[0,x.axisLength],M=A.inverse?1:0;A.setExtent(C[M],C[1-M])}),n(S,function(A,C){var M=(x.axisExpandable?y:m)(C,x),D={horizontal:{x:M.position,y:x.axisLength},vertical:{x:0,y:M.position}},L={horizontal:c/2,vertical:0},P=[D[w].x+b.x,D[w].y+b.y],R=L[w],k=t.create();t.rotate(k,k,R),t.translate(k,k,P),this._axesLayout[A]={position:P,rotation:R,transform:k,axisNameAvailableWidth:M.axisNameAvailableWidth,axisLabelShow:M.axisLabelShow,nameTruncateMaxWidth:M.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(b){return this._axesMap.get(b)},dataToPoint:function(b,T){return this.axisCoordToPoint(this._axesMap.get(T).dataToCoord(b),T)},eachActiveState:function(b,T,S,x){S==null&&(S=0),x==null&&(x=b.count());var w=this._axesMap,A=this.dimensions,C=[],M=[];e.each(A,function(G){C.push(b.mapDimension(G)),M.push(w.get(G).model)});for(var D=this.hasAxisBrushed(),L=S;L<x;L++){var P;if(!D)P="normal";else{P="active";for(var R=b.getValues(C,L),k=0,z=A.length;k<z;k++){var B=M[k].getActiveState(R[k]);if(B==="inactive"){P="inactive";break}}}T(P,L)}},hasAxisBrushed:function(){for(var b=this.dimensions,T=this._axesMap,S=!1,x=0,w=b.length;x<w;x++)T.get(b[x]).model.getActiveState()!=="normal"&&(S=!0);return S},axisCoordToPoint:function(b,T){var S=this._axesLayout[T];return o.applyTransform([b,0],S.transform)},getAxisLayout:function(b){return e.clone(this._axesLayout[b])},getSlidedAxisExpandWindow:function(b){var T=this._makeLayoutInfo(),S=T.pixelDimIndex,x=T.axisExpandWindow.slice(),w=x[1]-x[0],A=[0,T.axisExpandWidth*(T.axisCount-1)];if(!this.containPoint(b))return{behavior:"none",axisExpandWindow:x};var C=b[S]-T.layoutBase-T.axisExpandWindow0Pos,M,D="slide",L=T.axisCollapseWidth,P=this._model.get("axisExpandSlideTriggerArea"),R=P[0]!=null;if(L)R&&L&&C<w*P[0]?(D="jump",M=C-w*P[2]):R&&L&&C>w*(1-P[0])?(D="jump",M=C-w*(1-P[2])):(M=C-w*P[1])>=0&&(M=C-w*(1-P[1]))<=0&&(M=0),M*=T.axisExpandWidth/L,M?f(M,x,A,"all"):D="none";else{var w=x[1]-x[0],k=A[1]*C/w;x=[s(0,k-w/2)],x[1]=h(A[1],x[0]+w),x[0]=x[1]-w}return{axisExpandWindow:x,behavior:D}}};function g(b,T){return h(s(b,T[0]),T[1])}function m(b,T){var S=T.layoutLength/(T.axisCount-1);return{position:S*b,axisNameAvailableWidth:S,axisLabelShow:!0}}function y(b,T){var S=T.layoutLength,x=T.axisExpandWidth,w=T.axisCount,A=T.axisCollapseWidth,C=T.winInnerIndices,M,D=A,L=!1,P;return b<C[0]?(M=b*A,P=A):b<=C[1]?(M=T.axisExpandWindow0Pos+b*x-T.axisExpandWindow[0],D=x,L=!0):(M=S-(w-1-b)*A,P=A),{position:M,axisNameAvailableWidth:D,axisLabelShow:L,nameTruncateMaxWidth:P}}var _=p;return gv=_,gv}var q_;function ZC(){if(q_)return B_;q_=1;var e=u5(),t=br;function r(a,i){var o=[];return a.eachComponent("parallel",function(v,f){var n=new e(v,a,i);n.name="parallel_"+f,n.resize(v,i),v.coordinateSystem=n,n.model=v,o.push(n)}),a.eachSeries(function(v){if(v.get("coordinateSystem")==="parallel"){var f=a.queryComponents({mainType:"parallel",index:v.get("parallelIndex"),id:v.get("parallelId")})[0];v.coordinateSystem=f.coordinateSystem}}),o}return t.register("parallel",{create:r}),B_}var pv,G_;function v5(){if(G_)return pv;G_=1;var e=Z,t=ct,r=li,a=rs(),i=Oe(),o=pi(),v=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(s){var u=this.activeIntervals=e.clone(s);if(u)for(var l=u.length-1;l>=0;l--)i.asc(u[l])},getActiveState:function(s){var u=this.activeIntervals;if(!u.length)return"normal";if(s==null||isNaN(s))return"inactive";if(u.length===1){var l=u[0];if(l[0]<=s&&s<=l[1])return"active"}else for(var d=0,c=u.length;d<c;d++)if(u[d][0]<=s&&s<=u[d][1])return"active";return"inactive"}}),f={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(v.prototype,o);function n(s,u){return u.type||(u.data?"category":"value")}a("parallel",v,n,f);var h=v;return pv=h,pv}var mv,F_;function h5(){if(F_)return mv;F_=1;var e=Z,t=ct;v5();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var i=this.option;a&&e.merge(i,a,!0),this._initDimensions()},contains:function(a,i){var o=a.get("parallelIndex");return o!=null&&i.getComponent("parallel",o)===this},setAxisExpand:function(a){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){a.hasOwnProperty(i)&&(this.option[i]=a[i])},this)},_initDimensions:function(){var a=this.dimensions=[],i=this.parallelAxisIndex=[],o=e.filter(this.dependentModels.parallelAxis,function(v){return(v.get("parallelIndex")||0)===this.componentIndex},this);e.each(o,function(v){a.push("dim"+v.get("dim")),i.push(v.componentIndex)})}});return mv=r,mv}var $_={},U_={},W_;function c5(){if(W_)return U_;W_=1;var e=we,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"parallelAxis",query:r},function(i){i.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,a){a.eachComponent({mainType:"parallel",query:r},function(i){i.setAxisExpand(r)})}),U_}var yv,Z_;function Hd(){if(Z_)return yv;Z_=1;var e=Z,t=xa,r=ye,a=NC(),i=Aa(),o=e.curry,v=e.each,f=e.map,n=Math.min,h=Math.max,s=Math.pow,u=1e4,l=6,d=6,c="globalPan",p={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},g={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},m={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function _(X){t.call(this),this._zr=X,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},v(te,function(J,ie){this._handlers[ie]=e.bind(J,this)},this)}_.prototype={constructor:_,enableBrush:function(X){return this._brushType&&T(this),X.brushType&&b(this,X),this},setPanels:function(X){if(X&&X.length){var J=this._panels={};e.each(X,function(ie){J[ie.panelId]=e.clone(ie)})}else this._panels=null;return this},mount:function(X){X=X||{},this._enableGlobalPan=X.enableGlobalPan;var J=this.group;return this._zr.add(J),J.attr({position:X.position||[0,0],rotation:X.rotation||0,scale:X.scale||[1,1]}),this._transform=J.getLocalTransform(),this},eachCover:function(X,J){v(this._covers,X,J)},updateCovers:function(X){X=e.map(X,function(he){return e.merge(e.clone(m),he,!0)});var J="\0-brush-index-",ie=this._covers,ce=this._covers=[],ue=this,fe=this._creatingCover;return new i(ie,X,Ce,_e).add(xe).update(xe).remove(pe).execute(),this;function _e(he,me){return(he.id!=null?he.id:J+me)+"-"+he.brushType}function Ce(he,me){return _e(he.__brushOption,me)}function xe(he,me){var De=X[he];if(me!=null&&ie[me]===fe)ce[he]=ie[me];else{var Ee=ce[he]=me!=null?(ie[me].__brushOption=De,ie[me]):A(ue,w(ue,De));D(ue,Ee)}}function pe(he){ie[he]!==fe&&ue.group.remove(ie[he])}},unmount:function(){return this.enableBrush(!1),k(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(_,t);function b(X,J){var ie=X._zr;X._enableGlobalPan||a.take(ie,c,X._uid),S(ie,X._handlers),X._brushType=J.brushType,X._brushOption=e.merge(e.clone(m),J,!0)}function T(X){var J=X._zr;a.release(J,c,X._uid),x(J,X._handlers),X._brushType=X._brushOption=null}function S(X,J){v(J,function(ie,ce){X.on(ce,ie)})}function x(X,J){v(J,function(ie,ce){X.off(ce,ie)})}function w(X,J){var ie=le[J.brushType].createCover(X,J);return ie.__brushOption=J,M(ie,J),X.group.add(ie),ie}function A(X,J){var ie=L(J);return ie.endCreating&&(ie.endCreating(X,J),M(J,J.__brushOption)),J}function C(X,J){var ie=J.__brushOption;L(J).updateCoverShape(X,J,ie.range,ie)}function M(X,J){var ie=J.z;ie==null&&(ie=u),X.traverse(function(ce){ce.z=ie,ce.z2=ie})}function D(X,J){L(J).updateCommon(X,J),C(X,J)}function L(X){return le[X.__brushOption.brushType]}function P(X,J,ie){var ce=X._panels;if(!ce)return!0;var ue,fe=X._transform;return v(ce,function(_e){_e.isTargetByCursor(J,ie,fe)&&(ue=_e)}),ue}function R(X,J){var ie=X._panels;if(!ie)return!0;var ce=J.__brushOption.panelId;return ce!=null?ie[ce]:!0}function k(X){var J=X._covers,ie=J.length;return v(J,function(ce){X.group.remove(ce)},X),J.length=0,!!ie}function z(X,J){var ie=f(X._covers,function(ce){var ue=ce.__brushOption,fe=e.clone(ue.range);return{brushType:ue.brushType,panelId:ue.panelId,range:fe}});X.trigger("brush",ie,{isEnd:!!J.isEnd,removeOnClick:!!J.removeOnClick})}function B(X){var J=X._track;if(!J.length)return!1;var ie=J[J.length-1],ce=J[0],ue=ie[0]-ce[0],fe=ie[1]-ce[1],_e=s(ue*ue+fe*fe,.5);return _e>l}function G(X){var J=X.length-1;return J<0&&(J=0),[X[0],X[J]]}function V(X,J,ie,ce){var ue=new r.Group;return ue.add(new r.Rect({name:"main",style:N(ie),silent:!0,draggable:!0,cursor:"move",drift:o(X,J,ue,"nswe"),ondragend:o(z,J,{isEnd:!0})})),v(ce,function(fe){ue.add(new r.Rect({name:fe,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:o(X,J,ue,fe),ondragend:o(z,J,{isEnd:!0})}))}),ue}function I(X,J,ie,ce){var ue=ce.brushStyle.lineWidth||0,fe=h(ue,d),_e=ie[0][0],Ce=ie[1][0],xe=_e-ue/2,pe=Ce-ue/2,he=ie[0][1],me=ie[1][1],De=he-fe+ue/2,Ee=me-fe+ue/2,$e=he-_e,He=me-Ce,Ge=$e+ue,Qe=He+ue;E(X,J,"main",_e,Ce,$e,He),ce.transformable&&(E(X,J,"w",xe,pe,fe,Qe),E(X,J,"e",De,pe,fe,Qe),E(X,J,"n",xe,pe,Ge,fe),E(X,J,"s",xe,Ee,Ge,fe),E(X,J,"nw",xe,pe,fe,fe),E(X,J,"ne",De,pe,fe,fe),E(X,J,"sw",xe,Ee,fe,fe),E(X,J,"se",De,Ee,fe,fe))}function O(X,J){var ie=J.__brushOption,ce=ie.transformable,ue=J.childAt(0);ue.useStyle(N(ie)),ue.attr({silent:!ce,cursor:ce?"move":"default"}),v(["w","e","n","s","se","sw","ne","nw"],function(fe){var _e=J.childOfName(fe),Ce=F(X,fe);_e&&_e.attr({silent:!ce,invisible:!ce,cursor:ce?g[Ce]+"-resize":null})})}function E(X,J,ie,ce,ue,fe,_e){var Ce=J.childOfName(ie);Ce&&Ce.setShape(ee(Q(X,J,[[ce,ue],[ce+fe,ue+_e]])))}function N(X){return e.defaults({strokeNoScale:!0},X.brushStyle)}function q(X,J,ie,ce){var ue=[n(X,ie),n(J,ce)],fe=[h(X,ie),h(J,ce)];return[[ue[0],fe[0]],[ue[1],fe[1]]]}function H(X){return r.getTransform(X.group)}function F(X,J){if(J.length>1){J=J.split("");var ie=[F(X,J[0]),F(X,J[1])];return(ie[0]==="e"||ie[0]==="w")&&ie.reverse(),ie.join("")}else{var ce={w:"left",e:"right",n:"top",s:"bottom"},ue={left:"w",right:"e",top:"n",bottom:"s"},ie=r.transformDirection(ce[J],H(X));return ue[ie]}}function U(X,J,ie,ce,ue,fe,_e,Ce){var xe=ce.__brushOption,pe=X(xe.range),he=Y(ie,fe,_e);v(ue.split(""),function(me){var De=p[me];pe[De[0]][De[1]]+=he[De[0]]}),xe.range=J(q(pe[0][0],pe[1][0],pe[0][1],pe[1][1])),D(ie,ce),z(ie,{isEnd:!1})}function W(X,J,ie,ce,ue){var fe=J.__brushOption.range,_e=Y(X,ie,ce);v(fe,function(Ce){Ce[0]+=_e[0],Ce[1]+=_e[1]}),D(X,J),z(X,{isEnd:!1})}function Y(X,J,ie){var ce=X.group,ue=ce.transformCoordToLocal(J,ie),fe=ce.transformCoordToLocal(0,0);return[ue[0]-fe[0],ue[1]-fe[1]]}function Q(X,J,ie){var ce=R(X,J);return ce&&ce!==!0?ce.clipPath(ie,X._transform):e.clone(ie)}function ee(X){var J=n(X[0][0],X[1][0]),ie=n(X[0][1],X[1][1]),ce=h(X[0][0],X[1][0]),ue=h(X[0][1],X[1][1]);return{x:J,y:ie,width:ce-J,height:ue-ie}}function j(X,J,ie){if(!(!X._brushType||Te(X,J))){var ce=X._zr,ue=X._covers,fe=P(X,J,ie);if(!X._dragging)for(var _e=0;_e<ue.length;_e++){var Ce=ue[_e].__brushOption;if(fe&&(fe===!0||Ce.panelId===fe.panelId)&&le[Ce.brushType].contain(ue[_e],ie[0],ie[1]))return}fe&&ce.setCursorStyle("crosshair")}}function re(X){var J=X.event;J.preventDefault&&J.preventDefault()}function ae(X,J,ie){return X.childOfName("main").contain(J,ie)}function ne(X,J,ie,ce){var ue=X._creatingCover,fe=X._creatingPanel,_e=X._brushOption,Ce;if(X._track.push(ie.slice()),B(X)||ue){if(fe&&!ue){_e.brushMode==="single"&&k(X);var xe=e.clone(_e);xe.brushType=de(xe.brushType,fe),xe.panelId=fe===!0?null:fe.panelId,ue=X._creatingCover=w(X,xe),X._covers.push(ue)}if(ue){var pe=le[de(X._brushType,fe)],he=ue.__brushOption;he.range=pe.getCreatingRange(Q(X,ue,X._track)),ce&&(A(X,ue),pe.updateCommon(X,ue)),C(X,ue),Ce={isEnd:ce}}}else ce&&_e.brushMode==="single"&&_e.removeOnClick&&P(X,J,ie)&&k(X)&&(Ce={isEnd:ce,removeOnClick:!0});return Ce}function de(X,J){return X==="auto"?J.defaultBrushType:X}var te={mousedown:function(X){if(this._dragging)se(this,X);else if(!X.target||!X.target.draggable){re(X);var J=this.group.transformCoordToLocal(X.offsetX,X.offsetY);this._creatingCover=null;var ie=this._creatingPanel=P(this,X,J);ie&&(this._dragging=!0,this._track=[J.slice()])}},mousemove:function(X){var J=X.offsetX,ie=X.offsetY,ce=this.group.transformCoordToLocal(J,ie);if(j(this,X,ce),this._dragging){re(X);var ue=ne(this,X,ce,!1);ue&&z(this,ue)}},mouseup:function(X){se(this,X)}};function se(X,J){if(X._dragging){re(J);var ie=J.offsetX,ce=J.offsetY,ue=X.group.transformCoordToLocal(ie,ce),fe=ne(X,J,ue,!0);X._dragging=!1,X._track=[],X._creatingCover=null,fe&&z(X,fe)}}function Te(X,J,ie){var ce=X._zr;return J<0||J>ce.getWidth()||ie<0||ie>ce.getHeight()}var le={lineX:ve(0),lineY:ve(1),rect:{createCover:function(X,J){return V(o(U,function(ie){return ie},function(ie){return ie}),X,J,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(X){var J=G(X);return q(J[1][0],J[1][1],J[0][0],J[0][1])},updateCoverShape:function(X,J,ie,ce){I(X,J,ie,ce)},updateCommon:O,contain:ae},polygon:{createCover:function(X,J){var ie=new r.Group;return ie.add(new r.Polyline({name:"main",style:N(J),silent:!0})),ie},getCreatingRange:function(X){return X},endCreating:function(X,J){J.remove(J.childAt(0)),J.add(new r.Polygon({name:"main",draggable:!0,drift:o(W,X,J),ondragend:o(z,X,{isEnd:!0})}))},updateCoverShape:function(X,J,ie,ce){J.childAt(0).setShape({points:Q(X,J,ie)})},updateCommon:O,contain:ae}};function ve(X){return{createCover:function(J,ie){return V(o(U,function(ce){var ue=[ce,[0,100]];return X&&ue.reverse(),ue},function(ce){return ce[X]}),J,ie,[["w","e"],["n","s"]][X])},getCreatingRange:function(J){var ie=G(J),ce=n(ie[0][X],ie[1][X]),ue=h(ie[0][X],ie[1][X]);return[ce,ue]},updateCoverShape:function(J,ie,ce,ue){var fe,_e=R(J,ie);if(_e!==!0&&_e.getLinearBrushOtherExtent)fe=_e.getLinearBrushOtherExtent(X,J._transform);else{var Ce=J._zr;fe=[0,[Ce.getWidth(),Ce.getHeight()][1-X]]}var xe=[ce,fe];X&&xe.reverse(),I(J,ie,xe,ue)},updateCommon:O,contain:ae}}var Se=_;return yv=Se,yv}var Bi={},Y_;function YC(){if(Y_)return Bi;Y_=1;var e=Xe,t=os(),r=t.onIrrelevantElement,a=ye;function i(n){return n=f(n),function(h,s){return a.clipPointsByRect(h,n)}}function o(n,h){return n=f(n),function(s){var u=h??s,l=u?n.width:n.height,d=u?n.x:n.y;return[d,d+(l||0)]}}function v(n,h,s){return n=f(n),function(u,l,d){return n.contain(l[0],l[1])&&!r(u,h,s)}}function f(n){return e.create(n)}return Bi.makeRectPanelClipPath=i,Bi.makeLinearBrushOtherExtent=o,Bi.makeRectIsTargetByCursor=v,Bi}var _v,X_;function f5(){if(X_)return _v;X_=1;var e=we,t=Z,r=ia(),a=Hd(),i=YC(),o=ye,v=["axisLine","axisTickLabel","axisName"],f=e.extendComponentView({type:"parallelAxis",init:function(l,d){f.superApply(this,"init",arguments),(this._brushController=new a(d.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(l,d,c,p){if(!n(l,d,p)){this.axisModel=l,this.api=c,this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),!!l.get("show")){var m=s(l,d),y=m.coordinateSystem,_=l.getAreaSelectStyle(),b=_.width,T=l.axis.dim,S=y.getAxisLayout(T),x=t.extend({strokeContainThreshold:b},S),w=new r(l,x);t.each(v,w.add,w),this._axisGroup.add(w.getGroup()),this._refreshBrushController(x,_,l,m,b,c);var A=p&&p.animation===!1?null:l;o.groupTransition(g,this._axisGroup,A)}}},_refreshBrushController:function(l,d,c,p,g,m){var y=c.axis.getExtent(),_=y[1]-y[0],b=Math.min(30,Math.abs(_)*.1),T=o.BoundingRect.create({x:y[0],y:-g/2,width:_,height:g});T.x-=b,T.width+=2*b,this._brushController.mount({enableGlobalPan:!0,rotation:l.rotation,position:l.position}).setPanels([{panelId:"pl",clipPath:i.makeRectPanelClipPath(T),isTargetByCursor:i.makeRectIsTargetByCursor(T,m,p),getLinearBrushOtherExtent:i.makeLinearBrushOtherExtent(T,0)}]).enableBrush({brushType:"lineX",brushStyle:d,removeOnClick:!0}).updateCovers(h(c))},_onBrush:function(l,d){var c=this.axisModel,p=c.axis,g=t.map(l,function(m){return[p.coordToData(m.range[0],!0),p.coordToData(m.range[1],!0)]});(!c.option.realtime===d.isEnd||d.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:g})},dispose:function(){this._brushController.dispose()}});function n(l,d,c){return c&&c.type==="axisAreaSelect"&&d.findComponents({mainType:"parallelAxis",query:c})[0]===l}function h(l){var d=l.axis;return t.map(l.activeIntervals,function(c){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(c[0],!0),d.dataToCoord(c[1],!0)]}})}function s(l,d){return d.getComponent("parallel",l.get("parallelIndex"))}var u=f;return _v=u,_v}var K_;function d5(){return K_||(K_=1,ZC(),c5(),f5()),$_}var Q_;function XC(){if(Q_)return O_;Q_=1;var e=we,t=Z,r=or,a=s5();ZC(),h5(),d5();var i=5;e.extendComponentView({type:"parallel",render:function(f,n,h){this._model=f,this._api=h,this._handlers||(this._handlers={},t.each(o,function(s,u){h.getZr().on(u,this._handlers[u]=t.bind(s,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",f.get("axisExpandRate"),"fixRate")},dispose:function(f,n){t.each(this._handlers,function(h,s){n.getZr().off(s,h)}),this._handlers=null},_throttledDispatchExpand:function(f){this._dispatchExpand(f)},_dispatchExpand:function(f){f&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},f))}});var o={mousedown:function(f){v(this,"click")&&(this._mouseDownPoint=[f.offsetX,f.offsetY])},mouseup:function(f){var n=this._mouseDownPoint;if(v(this,"click")&&n){var h=[f.offsetX,f.offsetY],s=Math.pow(n[0]-h[0],2)+Math.pow(n[1]-h[1],2);if(s>i)return;var u=this._model.coordinateSystem.getSlidedAxisExpandWindow([f.offsetX,f.offsetY]);u.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:u.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(f){if(!(this._mouseDownPoint||!v(this,"mousemove"))){var n=this._model,h=n.coordinateSystem.getSlidedAxisExpandWindow([f.offsetX,f.offsetY]),s=h.behavior;s==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(s==="none"?null:{axisExpandWindow:h.axisExpandWindow,animation:s==="jump"?null:!1})}}};function v(f,n){var h=f._model;return h.get("axisExpandable")&&h.get("axisExpandTriggerOn")===n}return e.registerPreprocessor(a),O_}var xv,J_;function g5(){if(J_)return xv;J_=1;var e=Z,t=e.each,r=e.createHashMap,a=ft,i=Br(),o=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(n,h){var s=this.getSource();return v(s,this),i(s,this)},getRawIndicesByActiveState:function(n){var h=this.coordinateSystem,s=this.getData(),u=[];return h.eachActiveState(s,function(l,d){n===l&&u.push(s.getRawIndex(d))}),u},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function v(n,h){if(!n.encodeDefine){var s=h.ecModel.getComponent("parallel",h.get("parallelIndex"));if(s){var u=n.encodeDefine=r();t(s.dimensions,function(l){var d=f(l);u.set(l,d)})}}}function f(n){return+n.replace("dim","")}return xv=o,xv}var Sv,j_;function p5(){if(j_)return Sv;j_=1;var e=ye,t=wr,r=.3,a=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(u,l,d,c){var p=this._dataGroup,g=u.getData(),m=this._data,y=u.coordinateSystem,_=y.dimensions,b=f(u);g.diff(m).add(T).update(S).remove(x).execute();function T(A){var C=v(g,p,A,_,y);n(C,g,A,b)}function S(A,C){var M=m.getItemGraphicEl(C),D=o(g,A,_,y);g.setItemGraphicEl(A,M);var L=c&&c.animation===!1?null:u;e.updateProps(M,{shape:{points:D}},L,A),n(M,g,A,b)}function x(A){var C=m.getItemGraphicEl(A);p.remove(C)}if(!this._initialized){this._initialized=!0;var w=i(y,u,function(){setTimeout(function(){p.removeClipPath()})});p.setClipPath(w)}this._data=g},incrementalPrepareRender:function(u,l,d){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(u,l,d){for(var c=l.getData(),p=l.coordinateSystem,g=p.dimensions,m=f(l),y=u.start;y<u.end;y++){var _=v(c,this._dataGroup,y,g,p);_.incremental=!0,n(_,c,y,m)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function i(u,l,d){var c=u.model,p=u.getRect(),g=new e.Rect({shape:{x:p.x,y:p.y,width:p.width,height:p.height}}),m=c.get("layout")==="horizontal"?"width":"height";return g.setShape(m,0),e.initProps(g,{shape:{width:p.width,height:p.height}},l,d),g}function o(u,l,d,c){for(var p=[],g=0;g<d.length;g++){var m=d[g],y=u.get(u.mapDimension(m),l);h(y,c.getAxis(m).type)||p.push(c.dataToPoint(y,m))}return p}function v(u,l,d,c,p){var g=o(u,d,c,p),m=new e.Polyline({shape:{points:g},silent:!0,z2:10});return l.add(m),u.setItemGraphicEl(d,m),m}function f(u){var l=u.get("smooth",!0);return l===!0&&(l=r),{lineStyle:u.getModel("lineStyle").getLineStyle(),smooth:l??r}}function n(u,l,d,c){var p=c.lineStyle;if(l.hasItemOption){var g=l.getItemModel(d).getModel("lineStyle");p=g.getLineStyle()}u.useStyle(p);var m=u.style;m.fill=null,m.stroke=l.getItemVisual(d,"color"),m.opacity=l.getItemVisual(d,"opacity"),c.smooth&&(u.shape.smooth=c.smooth)}function h(u,l){return l==="category"?u==null:u==null||isNaN(u)}var s=a;return Sv=s,Sv}var bv,e1;function m5(){if(e1)return bv;e1=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,a,i){var o=r.getModel("itemStyle"),v=r.getModel("lineStyle"),f=a.get("color"),n=v.get("color")||o.get("color")||f[r.seriesIndex%f.length],h=r.get("inactiveOpacity"),s=r.get("activeOpacity"),u=r.getModel("lineStyle").getLineStyle(),l=r.coordinateSystem,d=r.getData(),c={normal:u.opacity,active:s,inactive:h};d.setVisual("color",n);function p(g,m){l.eachActiveState(m,function(y,_){var b=c[y];if(y==="normal"&&m.hasItemOption){var T=m.getItemModel(_).get(e,!0);T!=null&&(b=T)}m.setItemVisual(_,"opacity",b)},g.start,g.end)}return{progress:p}}};return bv=t,bv}var t1;function y5(){if(t1)return k_;t1=1;var e=we;XC(),g5(),p5();var t=m5();return e.registerVisual(t),k_}var r1={},wv,a1;function _5(){if(a1)return wv;a1=1;var e=ft,t=FC(),r=Ke(),a=r.encodeHTML,i=vt,o=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(f,n){for(var h=f.edges||f.links,s=f.data||f.nodes,u=f.levels,l=this.levelModels={},d=0;d<u.length;d++)u[d].depth!=null&&u[d].depth>=0&&(l[u[d].depth]=new i(u[d],this,n));if(s&&h){var c=t(s,h,this,!0,p);return c.data}function p(g,m){g.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(b){var T=this.parentModel,S=T.getData().getItemLayout(_).depth,x=T.levelModels[S];return x||this.parentModel}),y}),m.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(b){var T=this.parentModel,S=T.getGraph().getEdgeByIndex(_),x=S.node1.getLayout().depth,w=T.levelModels[x];return w||this.parentModel}),y})}},setNodePosition:function(f,n){var h=this.option.data[f];h.localX=n[0],h.localY=n[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(f,n,h){if(h==="edge"){var s=this.getDataParams(f,h),u=s.data,l=u.source+" -- "+u.target;return s.value&&(l+=" : "+s.value),a(l)}else if(h==="node"){var d=this.getGraph().getNodeByIndex(f),c=d.getLayout().value,p=this.getDataParams(f,h).data.name;if(c)var l=p+" : "+c;return a(l)}return o.superCall(this,"formatTooltip",f,n)},optionUpdated:function(){var f=this.option;f.focusNodeAdjacency===!0&&(f.focusNodeAdjacency="allEdges")},getDataParams:function(f,n){var h=o.superCall(this,"getDataParams",f,n);if(h.value==null&&n==="node"){var s=this.getGraph().getNodeByIndex(f),u=s.getLayout().value;h.value=u}return h},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),v=o;return wv=v,wv}var Av,i1;function x5(){if(i1)return Av;i1=1;var e=ye,t=we,r=Z,a=["itemStyle","opacity"],i=["emphasis","itemStyle","opacity"],o=["lineStyle","opacity"],v=["emphasis","lineStyle","opacity"];function f(d,c){return d.getVisual("opacity")||d.getModel().get(c)}function n(d,c,p){var g=d.getGraphicEl(),m=f(d,c);p!=null&&(m==null&&(m=1),m*=p),g.downplay&&g.downplay(),g.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",m)})}function h(d,c){var p=f(d,c),g=d.getGraphicEl();g.traverse(function(m){m.type!=="group"&&m.setStyle("opacity",p)}),g.highlight&&g.highlight()}var s=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(d,c){var p=c.extent;d.moveTo(c.x1,c.y1),d.bezierCurveTo(c.cpx1,c.cpy1,c.cpx2,c.cpy2,c.x2,c.y2),c.orient==="vertical"?(d.lineTo(c.x2+p,c.y2),d.bezierCurveTo(c.cpx2+p,c.cpy2,c.cpx1+p,c.cpy1,c.x1+p,c.y1)):(d.lineTo(c.x2,c.y2+p),d.bezierCurveTo(c.cpx2,c.cpy2+p,c.cpx1,c.cpy1+p,c.x1,c.y1+p)),d.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),u=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(d,c,p){var g=this,m=d.getGraph(),y=this.group,_=d.layoutInfo,b=_.width,T=_.height,S=d.getData(),x=d.getData("edge"),w=d.get("orient");this._model=d,y.removeAll(),y.attr("position",[_.x,_.y]),m.eachEdge(function(A){var C=new s;C.dataIndex=A.dataIndex,C.seriesIndex=d.seriesIndex,C.dataType="edge";var M=A.getModel("lineStyle"),D=M.get("curveness"),L=A.node1.getLayout(),P=A.node1.getModel(),R=P.get("localX"),k=P.get("localY"),z=A.node2.getLayout(),B=A.node2.getModel(),G=B.get("localX"),V=B.get("localY"),I=A.getLayout(),O,E,N,q,H,F,U,W;switch(C.shape.extent=Math.max(1,I.dy),C.shape.orient=w,w==="vertical"?(O=(R!=null?R*b:L.x)+I.sy,E=(k!=null?k*T:L.y)+L.dy,N=(G!=null?G*b:z.x)+I.ty,q=V!=null?V*T:z.y,H=O,F=E*(1-D)+q*D,U=N,W=E*D+q*(1-D)):(O=(R!=null?R*b:L.x)+L.dx,E=(k!=null?k*T:L.y)+I.sy,N=G!=null?G*b:z.x,q=(V!=null?V*T:z.y)+I.ty,H=O*(1-D)+N*D,F=E,U=O*D+N*(1-D),W=q),C.setShape({x1:O,y1:E,x2:N,y2:q,cpx1:H,cpy1:F,cpx2:U,cpy2:W}),C.setStyle(M.getItemStyle()),C.style.fill){case"source":C.style.fill=A.node1.getVisual("color");break;case"target":C.style.fill=A.node2.getVisual("color");break}e.setHoverStyle(C,A.getModel("emphasis.lineStyle").getItemStyle()),y.add(C),x.setItemGraphicEl(A.dataIndex,C)}),m.eachNode(function(A){var C=A.getLayout(),M=A.getModel(),D=M.get("localX"),L=M.get("localY"),P=M.getModel("label"),R=M.getModel("emphasis.label"),k=new e.Rect({shape:{x:D!=null?D*b:C.x,y:L!=null?L*T:C.y,width:C.dx,height:C.dy},style:M.getModel("itemStyle").getItemStyle()}),z=A.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(k.style,z,P,R,{labelFetcher:d,labelDataIndex:A.dataIndex,defaultText:A.id,isRectText:!0}),k.setStyle("fill",A.getVisual("color")),e.setHoverStyle(k,z),y.add(k),S.setItemGraphicEl(A.dataIndex,k),k.dataType="node"}),S.eachItemGraphicEl(function(A,C){var M=S.getItemModel(C);M.get("draggable")&&(A.drift=function(D,L){g._focusAdjacencyDisabled=!0,this.shape.x+=D,this.shape.y+=L,this.dirty(),p.dispatchAction({type:"dragNode",seriesId:d.id,dataIndex:S.getRawIndex(C),localX:this.shape.x/b,localY:this.shape.y/T})},A.ondragend=function(){g._focusAdjacencyDisabled=!1},A.draggable=!0,A.cursor="move"),A.highlight=function(){this.trigger("emphasis")},A.downplay=function(){this.trigger("normal")},A.focusNodeAdjHandler&&A.off("mouseover",A.focusNodeAdjHandler),A.unfocusNodeAdjHandler&&A.off("mouseout",A.unfocusNodeAdjHandler),M.get("focusNodeAdjacency")&&(A.on("mouseover",A.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),p.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,dataIndex:A.dataIndex}))}),A.on("mouseout",A.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(p)}))}),x.eachItemGraphicEl(function(A,C){var M=x.getItemModel(C);A.focusNodeAdjHandler&&A.off("mouseover",A.focusNodeAdjHandler),A.unfocusNodeAdjHandler&&A.off("mouseout",A.unfocusNodeAdjHandler),M.get("focusNodeAdjacency")&&(A.on("mouseover",A.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),p.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,edgeDataIndex:A.dataIndex}))}),A.on("mouseout",A.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(p)}))}),!this._data&&d.get("animation")&&y.setClipPath(l(y.getBoundingRect(),d,function(){y.removeClipPath()})),this._data=d.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(d){var c=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){c._unfocusDelayTimer=null,d.dispatchAction({type:"unfocusNodeAdjacency",seriesId:c._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(d,c,p,g){var m=d.getData(),y=m.graph,_=g.dataIndex,b=m.getItemModel(_),T=g.edgeDataIndex;if(!(_==null&&T==null)){var S=y.getNodeByIndex(_),x=y.getEdgeByIndex(T);if(y.eachNode(function(A){n(A,a,.1)}),y.eachEdge(function(A){n(A,o,.1)}),S){h(S,i);var w=b.get("focusNodeAdjacency");w==="outEdges"?r.each(S.outEdges,function(A){A.dataIndex<0||(h(A,v),h(A.node2,i))}):w==="inEdges"?r.each(S.inEdges,function(A){A.dataIndex<0||(h(A,v),h(A.node1,i))}):w==="allEdges"&&r.each(S.edges,function(A){A.dataIndex<0||(h(A,v),A.node1!==S&&h(A.node1,i),A.node2!==S&&h(A.node2,i))})}x&&(h(x,v),h(x.node1,i),h(x.node2,i))}},unfocusNodeAdjacency:function(d,c,p,g){var m=d.getGraph();m.eachNode(function(y){n(y,a)}),m.eachEdge(function(y){n(y,o)})}});function l(d,c,p){var g=new e.Rect({shape:{x:d.x-10,y:d.y-10,width:0,height:d.height+20}});return e.initProps(g,{shape:{width:d.width+20}},c,p),g}return Av=u,Av}var n1={},o1;function S5(){if(o1)return n1;o1=1;var e=we;return $C(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),n1}var Tv,s1;function b5(){if(s1)return Tv;s1=1;var e=Ne,t=Z,r=Re,a=r.groupData;function i(A,C,M){A.eachSeriesByType("sankey",function(D){var L=D.get("nodeWidth"),P=D.get("nodeGap"),R=o(D,C);D.layoutInfo=R;var k=R.width,z=R.height,B=D.getGraph(),G=B.nodes,V=B.edges;f(G);var I=t.filter(G,function(q){return q.getLayout().value===0}),O=I.length!==0?0:D.get("layoutIterations"),E=D.get("orient"),N=D.get("nodeAlign");v(G,V,L,P,k,z,O,E,N)})}function o(A,C){return e.getLayoutRect(A.getBoxLayoutParams(),{width:C.getWidth(),height:C.getHeight()})}function v(A,C,M,D,L,P,R,k,z){n(A,C,M,L,P,k,z),d(A,C,P,L,D,R,k),w(A,k)}function f(A){t.each(A,function(C){var M=S(C.outEdges,T),D=S(C.inEdges,T),L=C.getValue()||0,P=Math.max(M,D,L);C.setLayout({value:P},!0)})}function n(A,C,M,D,L,P,R){for(var k=[],z=[],B=[],G=[],V=0,j=0,I=0;I<C.length;I++)k[I]=1;for(I=0;I<A.length;I++)z[I]=A[I].inEdges.length,z[I]===0&&B.push(A[I]);for(var O=-1;B.length;){for(var E=0;E<B.length;E++){var N=B[E],q=N.hostGraph.data.getRawDataItem(N.dataIndex),H=q.depth!=null&&q.depth>=0;H&&q.depth>O&&(O=q.depth),N.setLayout({depth:H?q.depth:V},!0),P==="vertical"?N.setLayout({dy:M},!0):N.setLayout({dx:M},!0);for(var F=0;F<N.outEdges.length;F++){var U=N.outEdges[F],W=C.indexOf(U);k[W]=0;var Y=U.node2,Q=A.indexOf(Y);--z[Q]===0&&G.indexOf(Y)<0&&G.push(Y)}}++V,B=G,G=[]}for(I=0;I<k.length;I++)if(k[I]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var ee=O>V-1?O:V-1;R&&R!=="left"&&s(A,R,P,ee);var j=P==="vertical"?(L-M)/ee:(D-M)/ee;l(A,j,P)}function h(A){var C=A.hostGraph.data.getRawDataItem(A.dataIndex);return C.depth!=null&&C.depth>=0}function s(A,C,M,D){if(C==="right"){for(var L=[],P=A,R=0;P.length;){for(var k=0;k<P.length;k++){var z=P[k];z.setLayout({skNodeHeight:R},!0);for(var B=0;B<z.inEdges.length;B++){var G=z.inEdges[B];L.indexOf(G.node1)<0&&L.push(G.node1)}}P=L,L=[],++R}t.each(A,function(V){h(V)||V.setLayout({depth:Math.max(0,D-V.getLayout().skNodeHeight)},!0)})}else C==="justify"&&u(A,D)}function u(A,C){t.each(A,function(M){!h(M)&&!M.outEdges.length&&M.setLayout({depth:C},!0)})}function l(A,C,M){t.each(A,function(D){var L=D.getLayout().depth*C;M==="vertical"?D.setLayout({y:L},!0):D.setLayout({x:L},!0)})}function d(A,C,M,D,L,P,R){var k=c(A,R);p(k,C,M,D,L,R),g(k,L,M,D,R);for(var z=1;P>0;P--)z*=.99,m(k,z,R),g(k,L,M,D,R),x(k,z,R),g(k,L,M,D,R)}function c(A,C){var M=[],D=C==="vertical"?"y":"x",L=a(A,function(P){return P.getLayout()[D]});return L.keys.sort(function(P,R){return P-R}),t.each(L.keys,function(P){M.push(L.buckets.get(P))}),M}function p(A,C,M,D,L,P){var R=1/0;t.each(A,function(k){var z=k.length,B=0;t.each(k,function(V){B+=V.getLayout().value});var G=P==="vertical"?(D-(z-1)*L)/B:(M-(z-1)*L)/B;G<R&&(R=G)}),t.each(A,function(k){t.each(k,function(z,B){var G=z.getLayout().value*R;P==="vertical"?(z.setLayout({x:B},!0),z.setLayout({dx:G},!0)):(z.setLayout({y:B},!0),z.setLayout({dy:G},!0))})}),t.each(C,function(k){var z=+k.getValue()*R;k.setLayout({dy:z},!0)})}function g(A,C,M,D,L){var P=L==="vertical"?"x":"y";t.each(A,function(R){R.sort(function(N,q){return N.getLayout()[P]-q.getLayout()[P]});for(var k,z,B,G=0,V=R.length,I=L==="vertical"?"dx":"dy",O=0;O<V;O++)z=R[O],B=G-z.getLayout()[P],B>0&&(k=z.getLayout()[P]+B,L==="vertical"?z.setLayout({x:k},!0):z.setLayout({y:k},!0)),G=z.getLayout()[P]+z.getLayout()[I]+C;var E=L==="vertical"?D:M;if(B=G-C-E,B>0)for(k=z.getLayout()[P]-B,L==="vertical"?z.setLayout({x:k},!0):z.setLayout({y:k},!0),G=k,O=V-2;O>=0;--O)z=R[O],B=z.getLayout()[P]+z.getLayout()[I]+C-G,B>0&&(k=z.getLayout()[P]-B,L==="vertical"?z.setLayout({x:k},!0):z.setLayout({y:k},!0)),G=z.getLayout()[P]})}function m(A,C,M){t.each(A.slice().reverse(),function(D){t.each(D,function(L){if(L.outEdges.length){var P=S(L.outEdges,y,M)/S(L.outEdges,T,M);if(M==="vertical"){var R=L.getLayout().x+(P-b(L,M))*C;L.setLayout({x:R},!0)}else{var k=L.getLayout().y+(P-b(L,M))*C;L.setLayout({y:k},!0)}}})})}function y(A,C){return b(A.node2,C)*A.getValue()}function _(A,C){return b(A.node1,C)*A.getValue()}function b(A,C){return C==="vertical"?A.getLayout().x+A.getLayout().dx/2:A.getLayout().y+A.getLayout().dy/2}function T(A){return A.getValue()}function S(A,C,M){for(var D=0,L=A.length,P=-1;++P<L;){var R=+C.call(A,A[P],M);isNaN(R)||(D+=R)}return D}function x(A,C,M){t.each(A,function(D){t.each(D,function(L){if(L.inEdges.length){var P=S(L.inEdges,_,M)/S(L.inEdges,T,M);if(M==="vertical"){var R=L.getLayout().x+(P-b(L,M))*C;L.setLayout({x:R},!0)}else{var k=L.getLayout().y+(P-b(L,M))*C;L.setLayout({y:k},!0)}}})})}function w(A,C){var M=C==="vertical"?"x":"y";t.each(A,function(D){D.outEdges.sort(function(L,P){return L.node2.getLayout()[M]-P.node2.getLayout()[M]}),D.inEdges.sort(function(L,P){return L.node1.getLayout()[M]-P.node1.getLayout()[M]})}),t.each(A,function(D){var L=0,P=0;t.each(D.outEdges,function(R){R.setLayout({sy:L},!0),L+=R.getLayout().dy}),t.each(D.inEdges,function(R){R.setLayout({ty:P},!0),P+=R.getLayout().dy})})}return Tv=i,Tv}var Cv,l1;function w5(){if(l1)return Cv;l1=1;var e=Da(),t=Z;function r(a,i){a.eachSeriesByType("sankey",function(o){var v=o.getGraph(),f=v.nodes;if(f.length){var n=1/0,h=-1/0;t.each(f,function(s){var u=s.getLayout().value;u<n&&(n=u),u>h&&(h=u)}),t.each(f,function(s){var u=new e({type:"color",mappingMethod:"linear",dataExtent:[n,h],visual:o.get("color")}),l=u.mapValueToVisual(s.getLayout().value),d=s.getModel().get("itemStyle.color");d!=null?s.setVisual("color",d):s.setVisual("color",l)})}})}return Cv=r,Cv}var u1;function A5(){if(u1)return r1;u1=1;var e=we;_5(),x5(),S5();var t=b5(),r=w5();return e.registerLayout(t),e.registerVisual(r),r1}var v1={},Mv={},h1;function KC(){if(h1)return Mv;h1=1;var e=mi(),t=Z,r=xn(),a=r.getDimensionTypeByAxis,i=zr(),o=i.makeSeriesEncodeForAxisCoordSys,v={_baseAxisDim:null,getInitialData:function(f,n){var h,s=n.getComponent("xAxis",this.get("xAxisIndex")),u=n.getComponent("yAxis",this.get("yAxisIndex")),l=s.get("type"),d=u.get("type"),c;l==="category"?(f.layout="horizontal",h=s.getOrdinalMeta(),c=!0):d==="category"?(f.layout="vertical",h=u.getOrdinalMeta(),c=!0):f.layout=f.layout||"horizontal";var p=["x","y"],g=f.layout==="horizontal"?0:1,m=this._baseAxisDim=p[g],y=p[1-g],_=[s,u],b=_[g].get("type"),T=_[1-g].get("type"),S=f.data;if(S&&c){var x=[];t.each(S,function(C,M){var D;C.value&&t.isArray(C.value)?(D=C.value.slice(),C.value.unshift(M)):t.isArray(C)?(D=C.slice(),C.unshift(M)):D=C,x.push(D)}),f.data=x}var w=this.defaultValueDimensions,A=[{name:m,type:a(b),ordinalMeta:h,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:a(T),dimsDef:w.slice()}];return e(this,{coordDimensions:A,dimensionsCount:w.length+1,encodeDefaulter:t.curry(o,A,this)})},getBaseAxis:function(){var f=this._baseAxisDim;return this.ecModel.getComponent(f+"Axis",this.get(f+"AxisIndex")).axis}};return Mv.seriesModelMixin=v,Mv}var Dv,c1;function T5(){if(c1)return Dv;c1=1;var e=Z,t=ft,r=KC(),a=r.seriesModelMixin,i=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(i,a,!0);var o=i;return Dv=o,Dv}var Lv,f1;function C5(){if(f1)return Lv;f1=1;var e=Z,t=wr,r=ye,a=at,i=["itemStyle"],o=["emphasis","itemStyle"],v=t.extend({type:"boxplot",render:function(l,d,c){var p=l.getData(),g=this.group,m=this._data;this._data||g.removeAll();var y=l.get("layout")==="horizontal"?1:0;p.diff(m).add(function(_){if(p.hasValue(_)){var b=p.getItemLayout(_),T=n(b,p,_,y,!0);p.setItemGraphicEl(_,T),g.add(T)}}).update(function(_,b){var T=m.getItemGraphicEl(b);if(!p.hasValue(_)){g.remove(T);return}var S=p.getItemLayout(_);T?h(S,T,p,_):T=n(S,p,_,y),g.add(T),p.setItemGraphicEl(_,T)}).remove(function(_){var b=m.getItemGraphicEl(_);b&&g.remove(b)}).execute(),this._data=p},remove:function(l){var d=this.group,c=this._data;this._data=null,c&&c.eachItemGraphicEl(function(p){p&&d.remove(p)})},dispose:e.noop}),f=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(l,d){var c=d.points,p=0;for(l.moveTo(c[p][0],c[p][1]),p++;p<4;p++)l.lineTo(c[p][0],c[p][1]);for(l.closePath();p<c.length;p++)l.moveTo(c[p][0],c[p][1]),p++,l.lineTo(c[p][0],c[p][1])}});function n(l,d,c,p,g){var m=l.ends,y=new f({shape:{points:g?s(m,p,l):m}});return h(l,y,d,c,g),y}function h(l,d,c,p,g){var m=c.hostModel,y=r[g?"initProps":"updateProps"];y(d,{shape:{points:l.ends}},m,p);var _=c.getItemModel(p),b=_.getModel(i),T=c.getItemVisual(p,"color"),S=b.getItemStyle(["borderColor"]);S.stroke=T,S.strokeNoScale=!0,d.useStyle(S),d.z2=100;var x=_.getModel(o).getItemStyle();r.setHoverStyle(d,x)}function s(l,d,c){return e.map(l,function(p){return p=p.slice(),p[d]=c.initBaseline,p})}var u=v;return Lv=u,Lv}var Pv,d1;function M5(){if(d1)return Pv;d1=1;var e=["itemStyle","borderColor"];function t(r,a){var i=r.get("color");r.eachRawSeriesByType("boxplot",function(o){var v=i[o.seriesIndex%i.length],f=o.getData();f.setVisual({legendSymbol:"roundRect",color:o.get(e)||v}),r.isSeriesFiltered(o)||f.each(function(n){var h=f.getItemModel(n);f.setItemVisual(n,{color:h.get(e,!0)})})})}return Pv=t,Pv}var Iv,g1;function D5(){if(g1)return Iv;g1=1;var e=Z,t=Oe(),r=t.parsePercent,a=e.each;function i(n){var h=o(n);a(h,function(s){var u=s.seriesModels;u.length&&(v(s),a(u,function(l,d){f(l,s.boxOffsetList[d],s.boxWidthList[d])}))})}function o(n){var h=[],s=[];return n.eachSeriesByType("boxplot",function(u){var l=u.getBaseAxis(),d=e.indexOf(s,l);d<0&&(d=s.length,s[d]=l,h[d]={axis:l,seriesModels:[]}),h[d].seriesModels.push(u)}),h}function v(n){var h,s=n.axis,u=n.seriesModels,l=u.length,d=n.boxWidthList=[],c=n.boxOffsetList=[],p=[],g;if(s.type==="category")g=s.getBandWidth();else{var m=0;a(u,function(S){m=Math.max(m,S.getData().count())}),h=s.getExtent(),Math.abs(h[1]-h[0])/m}a(u,function(S){var x=S.get("boxWidth");e.isArray(x)||(x=[x,x]),p.push([r(x[0],g)||0,r(x[1],g)||0])});var y=g*.8-2,_=y/l*.3,b=(y-_*(l-1))/l,T=b/2-y/2;a(u,function(S,x){c.push(T),T+=_+b,d.push(Math.min(Math.max(b,p[x][0]),p[x][1]))})}function f(n,h,s){var u=n.coordinateSystem,l=n.getData(),d=s/2,c=n.get("layout")==="horizontal"?0:1,p=1-c,g=["x","y"],m=l.mapDimension(g[c]),y=l.mapDimension(g[p],!0);if(m==null||y.length<5)return;for(var _=0;_<l.count();_++){var b=l.get(m,_),T=M(b,y[2],_),S=M(b,y[0],_),x=M(b,y[1],_),w=M(b,y[3],_),A=M(b,y[4],_),C=[];D(C,x,0),D(C,w,1),C.push(S,x,A,w),L(C,S),L(C,A),L(C,T),l.setItemLayout(_,{initBaseline:T[p],ends:C})}function M(P,R,k){var z=l.get(R,k),B=[];B[c]=P,B[p]=z;var G;return isNaN(P)||isNaN(z)?G=[NaN,NaN]:(G=u.dataToPoint(B),G[c]+=h),G}function D(P,R,k){var z=R.slice(),B=R.slice();z[c]+=d,B[c]-=d,k?P.push(z,B):P.push(B,z)}function L(P,R){var k=R.slice(),z=R.slice();k[c]-=d,z[c]+=d,P.push(k,z)}}return Iv=i,Iv}var p1;function L5(){if(p1)return v1;p1=1;var e=we;T5(),C5();var t=M5(),r=D5();return e.registerVisual(t),e.registerLayout(r),v1}var m1={},Rv,y1;function P5(){if(y1)return Rv;y1=1;var e=Z,t=ft,r=KC(),a=r.seriesModelMixin,i=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(v,f,n){var h=f.getItemLayout(v);return h&&n.rect(h.brushRect)}});e.mixin(i,a,!0);var o=i;return Rv=o,Rv}var Ev,_1;function I5(){if(_1)return Ev;_1=1;var e=Z,t=wr,r=ye,a=at,i=bn(),o=i.createClipPath,v=["itemStyle"],f=["emphasis","itemStyle"],n=["color","color0","borderColor","borderColor0"],h=t.extend({type:"candlestick",render:function(_,b,T){this.group.removeClipPath(),this._updateDrawMode(_),this._isLargeDraw?this._renderLarge(_):this._renderNormal(_)},incrementalPrepareRender:function(_,b,T){this._clear(),this._updateDrawMode(_)},incrementalRender:function(_,b,T,S){this._isLargeDraw?this._incrementalRenderLarge(_,b):this._incrementalRenderNormal(_,b)},_updateDrawMode:function(_){var b=_.pipelineContext.large;(this._isLargeDraw==null||b^this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},_renderNormal:function(_){var b=_.getData(),T=this._data,S=this.group,x=b.getLayout("isSimpleBox"),w=_.get("clip",!0),A=_.coordinateSystem,C=A.getArea&&A.getArea();this._data||S.removeAll(),b.diff(T).add(function(M){if(b.hasValue(M)){var D,L=b.getItemLayout(M);if(w&&l(C,L))return;D=u(L,M,!0),r.initProps(D,{shape:{points:L.ends}},_,M),d(D,b,M,x),S.add(D),b.setItemGraphicEl(M,D)}}).update(function(M,D){var L=T.getItemGraphicEl(D);if(!b.hasValue(M)){S.remove(L);return}var P=b.getItemLayout(M);if(w&&l(C,P)){S.remove(L);return}L?r.updateProps(L,{shape:{points:P.ends}},_,M):L=u(P),d(L,b,M,x),S.add(L),b.setItemGraphicEl(M,L)}).remove(function(M){var D=T.getItemGraphicEl(M);D&&S.remove(D)}).execute(),this._data=b},_renderLarge:function(_){this._clear(),g(_,this.group);var b=_.get("clip",!0)?o(_.coordinateSystem,!1,_):null;b?this.group.setClipPath(b):this.group.removeClipPath()},_incrementalRenderNormal:function(_,b){for(var T=b.getData(),S=T.getLayout("isSimpleBox"),x;(x=_.next())!=null;){var w,A=T.getItemLayout(x);w=u(A),d(w,T,x,S),w.incremental=!0,this.group.add(w)}},_incrementalRenderLarge:function(_,b){g(b,this.group,!0)},remove:function(_){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),s=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(_,b){var T=b.points;this.__simpleBox?(_.moveTo(T[4][0],T[4][1]),_.lineTo(T[6][0],T[6][1])):(_.moveTo(T[0][0],T[0][1]),_.lineTo(T[1][0],T[1][1]),_.lineTo(T[2][0],T[2][1]),_.lineTo(T[3][0],T[3][1]),_.closePath(),_.moveTo(T[4][0],T[4][1]),_.lineTo(T[5][0],T[5][1]),_.moveTo(T[6][0],T[6][1]),_.lineTo(T[7][0],T[7][1]))}});function u(_,b,T){var S=_.ends;return new s({shape:{points:T?c(S,_):S},z2:100})}function l(_,b){for(var T=!0,S=0;S<b.ends.length;S++)if(_.contain(b.ends[S][0],b.ends[S][1])){T=!1;break}return T}function d(_,b,T,S){var x=b.getItemModel(T),w=x.getModel(v),A=b.getItemVisual(T,"color"),C=b.getItemVisual(T,"borderColor")||A,M=w.getItemStyle(n);_.useStyle(M),_.style.strokeNoScale=!0,_.style.fill=A,_.style.stroke=C,_.__simpleBox=S;var D=x.getModel(f).getItemStyle();r.setHoverStyle(_,D)}function c(_,b){return e.map(_,function(T){return T=T.slice(),T[1]=b.initBaseline,T})}var p=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(_,b){for(var T=b.points,S=0;S<T.length;)if(this.__sign===T[S++]){var x=T[S++];_.moveTo(x,T[S++]),_.lineTo(x,T[S++])}else S+=3}});function g(_,b,T){var S=_.getData(),x=S.getLayout("largePoints"),w=new p({shape:{points:x},__sign:1});b.add(w);var A=new p({shape:{points:x},__sign:-1});b.add(A),m(1,w,_,S),m(-1,A,_,S),T&&(w.incremental=!0,A.incremental=!0)}function m(_,b,T,S){var x=_>0?"P":"N",w=S.getVisual("borderColor"+x)||S.getVisual("color"+x),A=T.getModel(v).getItemStyle(n);b.useStyle(A),b.style.fill=null,b.style.stroke=w}var y=h;return Ev=y,Ev}var kv,x1;function R5(){if(x1)return kv;x1=1;var e=Z;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(a){e.isObject(a)&&a.type==="k"&&(a.type="candlestick")})}return kv=t,kv}var Ov,S1;function E5(){if(S1)return Ov;S1=1;var e=fi,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],a=["itemStyle","color"],i=["itemStyle","color0"],o={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(v,f){var n=v.getData();if(n.setVisual({legendSymbol:"roundRect",colorP:u(1,v),colorN:u(-1,v),borderColorP:l(1,v),borderColorN:l(-1,v)}),f.isSeriesFiltered(v))return;var h=v.pipelineContext.large;return!h&&{progress:s};function s(d,c){for(var p;(p=d.next())!=null;){var g=c.getItemModel(p),m=c.getItemLayout(p).sign;c.setItemVisual(p,{color:u(m,g),borderColor:l(m,g)})}}function u(d,c){return c.get(d>0?a:i)}function l(d,c){return c.get(d>0?t:r)}}};return Ov=o,Ov}var zv,b1;function k5(){if(b1)return zv;b1=1;var e=ye,t=e.subPixelOptimize,r=fi,a=Oe(),i=a.parsePercent,o=Z,v=o.retrieve2,f=typeof Float32Array<"u"?Float32Array:Array,n={seriesType:"candlestick",plan:r(),reset:function(u){var l=u.coordinateSystem,d=u.getData(),c=s(u,d),p=0,g=1,m=["x","y"],y=d.mapDimension(m[p]),_=d.mapDimension(m[g],!0),b=_[0],T=_[1],S=_[2],x=_[3];if(d.setLayout({candleWidth:c,isSimpleBox:c<=1.3}),y==null||_.length<4)return;return{progress:u.pipelineContext.large?A:w};function w(C,M){for(var D;(D=C.next())!=null;){var L=M.get(y,D),P=M.get(b,D),R=M.get(T,D),k=M.get(S,D),z=M.get(x,D),B=Math.min(P,R),G=Math.max(P,R),V=q(B,L),I=q(G,L),O=q(k,L),E=q(z,L),N=[];H(N,I,0),H(N,V,1),N.push(U(E),U(I),U(O),U(V)),M.setItemLayout(D,{sign:h(M,D,P,R,T),initBaseline:P>R?I[g]:V[g],ends:N,brushRect:F(k,z,L)})}function q(W,Y){var Q=[];return Q[p]=Y,Q[g]=W,isNaN(Y)||isNaN(W)?[NaN,NaN]:l.dataToPoint(Q)}function H(W,Y,Q){var ee=Y.slice(),j=Y.slice();ee[p]=t(ee[p]+c/2,1,!1),j[p]=t(j[p]-c/2,1,!0),Q?W.push(ee,j):W.push(j,ee)}function F(W,Y,Q){var ee=q(W,Q),j=q(Y,Q);return ee[p]-=c/2,j[p]-=c/2,{x:ee[0],y:ee[1],width:c,height:j[1]-ee[1]}}function U(W){return W[p]=t(W[p],1),W}}function A(C,M){for(var D=new f(C.count*4),L=0,P,R=[],k=[],z;(z=C.next())!=null;){var B=M.get(y,z),G=M.get(b,z),V=M.get(T,z),I=M.get(S,z),O=M.get(x,z);if(isNaN(B)||isNaN(I)||isNaN(O)){D[L++]=NaN,L+=3;continue}D[L++]=h(M,z,G,V,T),R[p]=B,R[g]=I,P=l.dataToPoint(R,null,k),D[L++]=P?P[0]:NaN,D[L++]=P?P[1]:NaN,R[g]=O,P=l.dataToPoint(R,null,k),D[L++]=P?P[1]:NaN}M.setLayout("largePoints",D)}}};function h(u,l,d,c,p){var g;return d>c?g=-1:d<c?g=1:g=l>0?u.get(p,l-1)<=c?1:-1:1,g}function s(u,l){var d=u.getBaseAxis(),c,p=d.type==="category"?d.getBandWidth():(c=d.getExtent(),Math.abs(c[1]-c[0])/l.count()),g=i(v(u.get("barMaxWidth"),p),p),m=i(v(u.get("barMinWidth"),1),p),y=u.get("barWidth");return y!=null?i(y,p):Math.max(Math.min(p/2,g),m)}return zv=n,zv}var w1;function O5(){if(w1)return m1;w1=1;var e=we;P5(),I5();var t=R5(),r=E5(),a=k5();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(a),m1}var A1={},Bv,T1;function z5(){if(T1)return Bv;T1=1;var e=Br(),t=ft,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return Bv=r,Bv}var Nv,C1;function B5(){if(C1)return Nv;C1=1;var e=Z,t=Zt(),r=t.createSymbol,a=ye,i=a.Group,o=Oe(),v=o.parsePercent,f=ts(),n=3;function h(c){return e.isArray(c)||(c=[+c,+c]),c}function s(c,p){var g=p.rippleEffectColor||p.color;c.eachChild(function(m){m.attr({z:p.z,zlevel:p.zlevel,style:{stroke:p.brushType==="stroke"?g:null,fill:p.brushType==="fill"?g:null}})})}function u(c,p){i.call(this);var g=new f(c,p),m=new i;this.add(g),this.add(m),m.beforeUpdate=function(){this.attr(g.getScale())},this.updateData(c,p)}var l=u.prototype;l.stopEffectAnimation=function(){this.childAt(1).removeAll()},l.startEffectAnimation=function(c){for(var p=c.symbolType,g=c.color,m=this.childAt(1),y=0;y<n;y++){var _=r(p,-1,-1,2,2,g);_.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var b=-y/n*c.period+c.effectOffset;_.animate("",!0).when(c.period,{scale:[c.rippleScale/2,c.rippleScale/2]}).delay(b).start(),_.animateStyle(!0).when(c.period,{opacity:0}).delay(b).start(),m.add(_)}s(m,c)},l.updateEffectAnimation=function(c){for(var p=this._effectCfg,g=this.childAt(1),m=["symbolType","period","rippleScale"],y=0;y<m.length;y++){var _=m[y];if(p[_]!==c[_]){this.stopEffectAnimation(),this.startEffectAnimation(c);return}}s(g,c)},l.highlight=function(){this.trigger("emphasis")},l.downplay=function(){this.trigger("normal")},l.updateData=function(c,p){var g=c.hostModel;this.childAt(0).updateData(c,p);var m=this.childAt(1),y=c.getItemModel(p),_=c.getItemVisual(p,"symbol"),b=h(c.getItemVisual(p,"symbolSize")),T=c.getItemVisual(p,"color");m.attr("scale",b),m.traverse(function(D){D.attr({fill:T})});var S=y.getShallow("symbolOffset");if(S){var x=m.position;x[0]=v(S[0],b[0]),x[1]=v(S[1],b[1])}m.rotation=(y.getShallow("symbolRotate")||0)*Math.PI/180||0;var w={};if(w.showEffectOn=g.get("showEffectOn"),w.rippleScale=y.get("rippleEffect.scale"),w.brushType=y.get("rippleEffect.brushType"),w.period=y.get("rippleEffect.period")*1e3,w.effectOffset=p/c.count(),w.z=y.getShallow("z")||0,w.zlevel=y.getShallow("zlevel")||0,w.symbolType=_,w.color=T,w.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),w.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(w):this.startEffectAnimation(w),this._effectCfg=w;else{this._effectCfg=null,this.stopEffectAnimation();var A=this.childAt(0),C=function(){A.highlight(),w.showEffectOn!=="render"&&this.startEffectAnimation(w)},M=function(){A.downplay(),w.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",C,this).on("mouseout",M,this).on("emphasis",C,this).on("normal",M,this)}this._effectCfg=w},l.fadeOut=function(c){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),c&&c()},e.inherits(u,i);var d=u;return Nv=d,Nv}var Vv,M1;function N5(){if(M1)return Vv;M1=1;var e=we,t=Sn(),r=B5(),a=Pt(),i=wn(),o=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(v,f,n){var h=v.getData(),s=this._symbolDraw;s.updateData(h),this.group.add(s.group)},updateTransform:function(v,f,n){var h=v.getData();this.group.dirty();var s=i().reset(v);s.progress&&s.progress({start:0,end:h.count()},h),this._symbolDraw.updateLayout(h)},_updateGroupTransform:function(v){var f=v.coordinateSystem;f&&f.getRoamTransform&&(this.group.transform=a.clone(f.getRoamTransform()),this.group.decomposeTransform())},remove:function(v,f){this._symbolDraw&&this._symbolDraw.remove(f)},dispose:function(){}});return Vv=o,Vv}var D1;function V5(){if(D1)return A1;D1=1;var e=we;z5(),N5();var t=Ta(),r=wn();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),A1}var L1={},Hv,P1;function H5(){if(P1)return Hv;P1=1;var e=ft,t=Wt(),r=Z,a=r.concatArray,i=r.mergeAll,o=r.map,v=Ke(),f=v.encodeHTML,n=typeof Uint32Array>"u"?Array:Uint32Array,h=typeof Float64Array>"u"?Array:Float64Array;function s(d){var c=d.data;c&&c[0]&&c[0][0]&&c[0][0].coord&&(d.data=o(c,function(p){var g=[p[0].coord,p[1].coord],m={coords:g};return p[0].name&&(m.fromName=p[0].name),p[1].name&&(m.toName=p[1].name),i([m,p[0],p[1]])}))}var u=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(d){d.data=d.data||[],s(d);var c=this._processFlatCoordsArray(d.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(d.data=new Float32Array(c.count)),u.superApply(this,"init",arguments)},mergeOption:function(d){if(d.data=d.data||[],s(d),d.data){var c=this._processFlatCoordsArray(d.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(d.data=new Float32Array(c.count))}u.superApply(this,"mergeOption",arguments)},appendData:function(d){var c=this._processFlatCoordsArray(d.data);c.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,c.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,c.flatCoordsOffset)):(this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset),d.data=new Float32Array(c.count)),this.getRawData().appendData(d.data)},_getCoordsFromItemModel:function(d){var c=this.getData().getItemModel(d),p=c.option instanceof Array?c.option:c.getShallow("coords");return p},getLineCoordsCount:function(d){return this._flatCoordsOffset?this._flatCoordsOffset[d*2+1]:this._getCoordsFromItemModel(d).length},getLineCoords:function(d,c){if(this._flatCoordsOffset){for(var p=this._flatCoordsOffset[d*2],g=this._flatCoordsOffset[d*2+1],m=0;m<g;m++)c[m]=c[m]||[],c[m][0]=this._flatCoords[p+m*2],c[m][1]=this._flatCoords[p+m*2+1];return g}else{for(var y=this._getCoordsFromItemModel(d),m=0;m<y.length;m++)c[m]=c[m]||[],c[m][0]=y[m][0],c[m][1]=y[m][1];return y.length}},_processFlatCoordsArray:function(d){var c=0;if(this._flatCoords&&(c=this._flatCoords.length),typeof d[0]=="number"){for(var p=d.length,g=new n(p),m=new h(p),y=0,_=0,b=0,T=0;T<p;){b++;var S=d[T++];g[_++]=y+c,g[_++]=S;for(var x=0;x<S;x++){var w=d[T++],A=d[T++];m[y++]=w,m[y++]=A}}return{flatCoordsOffset:new Uint32Array(g.buffer,0,_),flatCoords:m,count:b}}return{flatCoordsOffset:null,flatCoords:null,count:d.length}},getInitialData:function(d,c){var p=new t(["value"],this);return p.hasItemOption=!1,p.initData(d.data,[],function(g,m,y,_){if(g instanceof Array)return NaN;p.hasItemOption=!0;var b=g.value;if(b!=null)return b instanceof Array?b[_]:b}),p},formatTooltip:function(d){var c=this.getData(),p=c.getItemModel(d),g=p.get("name");if(g)return g;var m=p.get("fromName"),y=p.get("toName"),_=[];return m!=null&&_.push(m),y!=null&&_.push(y),f(_.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var d=this.option.progressive;return d??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var d=this.option.progressiveThreshold;return d??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),l=u;return Hv=l,Hv}var qv,I1;function QC(){if(I1)return qv;I1=1;var e=ye,t=Bd(),r=Z,a=Zt(),i=a.createSymbol,o=Ye(),v=ut;function f(s,u,l){e.Group.call(this),this.add(this.createLine(s,u,l)),this._updateEffectSymbol(s,u)}var n=f.prototype;n.createLine=function(s,u,l){return new t(s,u,l)},n._updateEffectSymbol=function(s,u){var l=s.getItemModel(u),d=l.getModel("effect"),c=d.get("symbolSize"),p=d.get("symbol");r.isArray(c)||(c=[c,c]);var g=d.get("color")||s.getItemVisual(u,"color"),m=this.childAt(1);this._symbolType!==p&&(this.remove(m),m=i(p,-.5,-.5,1,1,g),m.z2=100,m.culling=!0,this.add(m)),m&&(m.setStyle("shadowColor",g),m.setStyle(d.getItemStyle(["color"])),m.attr("scale",c),m.setColor(g),m.attr("scale",c),this._symbolType=p,this._symbolScale=c,this._updateEffectAnimation(s,d,u))},n._updateEffectAnimation=function(s,u,l){var d=this.childAt(1);if(d){var c=this,p=s.getItemLayout(l),g=u.get("period")*1e3,m=u.get("loop"),y=u.get("constantSpeed"),_=r.retrieve(u.get("delay"),function(x){return x/s.count()*g/3}),b=typeof _=="function";if(d.ignore=!0,this.updateAnimationPoints(d,p),y>0&&(g=this.getLineLength(d)/y*1e3),g!==this._period||m!==this._loop){d.stopAnimation();var T=_;b&&(T=_(l)),d.__t>0&&(T=-g*d.__t),d.__t=0;var S=d.animate("",m).when(g,{__t:1}).delay(T).during(function(){c.updateSymbolPosition(d)});m||S.done(function(){c.remove(d)}),S.start()}this._period=g,this._loop=m}},n.getLineLength=function(s){return o.dist(s.__p1,s.__cp1)+o.dist(s.__cp1,s.__p2)},n.updateAnimationPoints=function(s,u){s.__p1=u[0],s.__p2=u[1],s.__cp1=u[2]||[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]},n.updateData=function(s,u,l){this.childAt(0).updateData(s,u,l),this._updateEffectSymbol(s,u)},n.updateSymbolPosition=function(s){var u=s.__p1,l=s.__p2,d=s.__cp1,c=s.__t,p=s.position,g=[p[0],p[1]],m=v.quadraticAt,y=v.quadraticDerivativeAt;p[0]=m(u[0],d[0],l[0],c),p[1]=m(u[1],d[1],l[1],c);var _=y(u[0],d[0],l[0],c),b=y(u[1],d[1],l[1],c);if(s.rotation=-Math.atan2(b,_)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(s.__lastT!==void 0&&s.__lastT<s.__t){var T=o.dist(g,p)*1.05;s.attr("scale",[s.scale[0],T]),c===1&&(p[0]=g[0]+(p[0]-g[0])/2,p[1]=g[1]+(p[1]-g[1])/2)}else if(s.__lastT===1){var T=2*o.dist(u,p);s.attr("scale",[s.scale[0],T])}else s.attr("scale",this._symbolScale);s.__lastT=s.__t,s.ignore=!1},n.updateLayout=function(s,u){this.childAt(0).updateLayout(s,u);var l=s.getItemModel(u).getModel("effect");this._updateEffectAnimation(s,l,u)},r.inherits(f,e.Group);var h=f;return qv=h,qv}var Gv,R1;function JC(){if(R1)return Gv;R1=1;var e=ye,t=Z;function r(o,v,f){e.Group.call(this),this._createPolyline(o,v,f)}var a=r.prototype;a._createPolyline=function(o,v,f){var n=o.getItemLayout(v),h=new e.Polyline({shape:{points:n}});this.add(h),this._updateCommonStl(o,v,f)},a.updateData=function(o,v,f){var n=o.hostModel,h=this.childAt(0),s={shape:{points:o.getItemLayout(v)}};e.updateProps(h,s,n,v),this._updateCommonStl(o,v,f)},a._updateCommonStl=function(o,v,f){var n=this.childAt(0),h=o.getItemModel(v),s=o.getItemVisual(v,"color"),u=f&&f.lineStyle,l=f&&f.hoverLineStyle;(!f||o.hasItemOption)&&(u=h.getModel("lineStyle").getLineStyle(),l=h.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:s},u)),n.hoverStyle=l,e.setHoverStyle(this)},a.updateLayout=function(o,v){var f=this.childAt(0);f.setShape("points",o.getItemLayout(v))},t.inherits(r,e.Group);var i=r;return Gv=i,Gv}var Fv,E1;function q5(){if(E1)return Fv;E1=1;var e=JC(),t=Z,r=QC(),a=Ye();function i(f,n,h){r.call(this,f,n,h),this._lastFrame=0,this._lastFramePercent=0}var o=i.prototype;o.createLine=function(f,n,h){return new e(f,n,h)},o.updateAnimationPoints=function(f,n){this._points=n;for(var h=[0],s=0,u=1;u<n.length;u++){var l=n[u-1],d=n[u];s+=a.dist(l,d),h.push(s)}if(s!==0){for(var u=0;u<h.length;u++)h[u]/=s;this._offsets=h,this._length=s}},o.getLineLength=function(f){return this._length},o.updateSymbolPosition=function(f){var n=f.__t,h=this._points,s=this._offsets,u=h.length;if(s){var l=this._lastFrame,d;if(n<this._lastFramePercent){var c=Math.min(l+1,u-1);for(d=c;d>=0&&!(s[d]<=n);d--);d=Math.min(d,u-2)}else{for(var d=l;d<u&&!(s[d]>n);d++);d=Math.min(d-1,u-2)}a.lerp(f.position,h[d],h[d+1],(n-s[d])/(s[d+1]-s[d]));var p=h[d+1][0]-h[d][0],g=h[d+1][1]-h[d][1];f.rotation=-Math.atan2(g,p)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=n,f.ignore=!1}},t.inherits(i,r);var v=i;return Fv=v,Fv}var $v,k1;function G5(){if(k1)return $v;k1=1;var e=ye,t=vd,r=td,a=rd,i=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(n,h){var s=h.segs,u=h.curveness;if(h.polyline)for(var l=0;l<s.length;){var d=s[l++];if(d>0){n.moveTo(s[l++],s[l++]);for(var c=1;c<d;c++)n.lineTo(s[l++],s[l++])}}else for(var l=0;l<s.length;){var p=s[l++],g=s[l++],m=s[l++],y=s[l++];if(n.moveTo(p,g),u>0){var _=(p+m)/2-(g-y)*u,b=(g+y)/2-(m-p)*u;n.quadraticCurveTo(_,b,m,y)}else n.lineTo(m,y)}},findDataIndex:function(n,h){var s=this.shape,u=s.segs,l=s.curveness;if(s.polyline)for(var d=0,c=0;c<u.length;){var p=u[c++];if(p>0)for(var g=u[c++],m=u[c++],y=1;y<p;y++){var _=u[c++],b=u[c++];if(r.containStroke(g,m,_,b))return d}d++}else for(var d=0,c=0;c<u.length;){var g=u[c++],m=u[c++],_=u[c++],b=u[c++];if(l>0){var T=(g+_)/2-(m-b)*l,S=(m+b)/2-(_-g)*l;if(a.containStroke(g,m,T,S,_,b))return d}else if(r.containStroke(g,m,_,b))return d;d++}return-1}});function o(){this.group=new e.Group}var v=o.prototype;v.isPersistent=function(){return!this._incremental},v.updateData=function(n){this.group.removeAll();var h=new i({rectHover:!0,cursor:"default"});h.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(h,n),this.group.add(h),this._incremental=null},v.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clearIncremental(),n.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},v.incrementalUpdate=function(n,h){var s=new i;s.setShape({segs:h.getLayout("linesPoints")}),this._setCommon(s,h,!!this._incremental),this._incremental?this._incremental.addDisplayable(s,!0):(s.rectHover=!0,s.cursor="default",s.__startIndex=n.start,this.group.add(s))},v.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},v._setCommon=function(n,h,s){var u=h.hostModel;n.setShape({polyline:u.get("polyline"),curveness:u.get("lineStyle.curveness")}),n.useStyle(u.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var l=h.getVisual("color");l&&n.setStyle("stroke",l),n.setStyle("fill"),s||(n.seriesIndex=u.seriesIndex,n.on("mousemove",function(d){n.dataIndex=null;var c=n.findDataIndex(d.offsetX,d.offsetY);c>0&&(n.dataIndex=c+n.__startIndex)}))},v._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};var f=o;return $v=f,$v}var Uv,O1;function jC(){if(O1)return Uv;O1=1;var e=fi,t={seriesType:"lines",plan:e(),reset:function(r){var a=r.coordinateSystem,i=r.get("polyline"),o=r.pipelineContext.large;function v(f,n){var h=[];if(o){var s,u=f.end-f.start;if(i){for(var l=0,d=f.start;d<f.end;d++)l+=r.getLineCoordsCount(d);s=new Float32Array(u+l*2)}else s=new Float32Array(u*4);for(var c=0,p=[],d=f.start;d<f.end;d++){var g=r.getLineCoords(d,h);i&&(s[c++]=g);for(var m=0;m<g;m++)p=a.dataToPoint(h[m],!1,p),s[c++]=p[0],s[c++]=p[1]}n.setLayout("linesPoints",s)}else for(var d=f.start;d<f.end;d++){var y=n.getItemModel(d),g=r.getLineCoords(d,h),_=[];if(i)for(var b=0;b<g;b++)_.push(a.dataToPoint(h[b]));else{_[0]=a.dataToPoint(h[0]),_[1]=a.dataToPoint(h[1]);var T=y.get("lineStyle.curveness");+T&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*T,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*T])}n.setItemLayout(d,_)}}return{progress:v}}};return Uv=t,Uv}var Wv,z1;function F5(){if(z1)return Wv;z1=1;var e=we,t=Nd(),r=QC(),a=Bd(),i=JC(),o=q5(),v=G5(),f=jC(),n=bn(),h=n.createClipPath,s=e.extendChartView({type:"lines",init:function(){},render:function(u,l,d){var c=u.getData(),p=this._updateLineDraw(c,u),g=u.get("zlevel"),m=u.get("effect.trailLength"),y=d.getZr(),_=y.painter.getType()==="svg";_||y.painter.getLayer(g).clear(!0),this._lastZlevel!=null&&!_&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(u)&&m&&(_||y.configLayer(g,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(m/10+.9,1),0)})),p.updateData(c);var b=u.get("clip",!0)&&h(u.coordinateSystem,!1,u);b?this.group.setClipPath(b):this.group.removeClipPath(),this._lastZlevel=g,this._finished=!0},incrementalPrepareRender:function(u,l,d){var c=u.getData(),p=this._updateLineDraw(c,u);p.incrementalPrepareUpdate(c),this._clearLayer(d),this._finished=!1},incrementalRender:function(u,l,d){this._lineDraw.incrementalUpdate(u,l.getData()),this._finished=u.end===l.getData().count()},updateTransform:function(u,l,d){var c=u.getData(),p=u.pipelineContext;if(!this._finished||p.large||p.progressiveRender)return{update:!0};var g=f.reset(u);g.progress&&g.progress({start:0,end:c.count()},c),this._lineDraw.updateLayout(),this._clearLayer(d)},_updateLineDraw:function(u,l){var d=this._lineDraw,c=this._showEffect(l),p=!!l.get("polyline"),g=l.pipelineContext,m=g.large;return(!d||c!==this._hasEffet||p!==this._isPolyline||m!==this._isLargeDraw)&&(d&&d.remove(),d=this._lineDraw=m?new v:new t(p?c?o:i:c?r:a),this._hasEffet=c,this._isPolyline=p,this._isLargeDraw=m,this.group.removeAll()),this.group.add(d.group),d},_showEffect:function(u){return!!u.get("effect.show")},_clearLayer:function(u){var l=u.getZr(),d=l.painter.getType()==="svg";!d&&this._lastZlevel!=null&&l.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(u,l){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(l)},dispose:function(){}});return Wv=s,Wv}var Zv,B1;function $5(){if(B1)return Zv;B1=1;function e(a){return a instanceof Array||(a=[a,a]),a}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(a,i,o){var v=e(a.get("symbol")),f=e(a.get("symbolSize")),n=a.getData();n.setVisual("fromSymbol",v&&v[0]),n.setVisual("toSymbol",v&&v[1]),n.setVisual("fromSymbolSize",f&&f[0]),n.setVisual("toSymbolSize",f&&f[1]),n.setVisual("opacity",a.get(t));function h(s,u){var l=s.getItemModel(u),d=e(l.getShallow("symbol",!0)),c=e(l.getShallow("symbolSize",!0)),p=l.get(t);d[0]&&s.setItemVisual(u,"fromSymbol",d[0]),d[1]&&s.setItemVisual(u,"toSymbol",d[1]),c[0]&&s.setItemVisual(u,"fromSymbolSize",c[0]),c[1]&&s.setItemVisual(u,"toSymbolSize",c[1]),s.setItemVisual(u,"opacity",p)}return{dataEach:n.hasItemOption?h:null}}};return Zv=r,Zv}var N1;function U5(){if(N1)return L1;N1=1;var e=we;H5(),F5();var t=jC(),r=$5();return e.registerLayout(t),e.registerVisual(r),L1}var V1={},Yv,H1;function W5(){if(H1)return Yv;H1=1;var e=ft,t=Br(),r=br,a=e.extend({type:"series.heatmap",getInitialData:function(i,o){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var i=r.get(this.get("coordinateSystem"));if(i&&i.dimensions)return i.dimensions[0]==="lng"&&i.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return Yv=a,Yv}var Xv,q1;function Z5(){if(q1)return Xv;q1=1;var e=Z,t=256;function r(){var i=e.createCanvas();this.canvas=i,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(i,o,v,f,n,h){var s=this._getBrush(),u=this._getGradient(i,n,"inRange"),l=this._getGradient(i,n,"outOfRange"),d=this.pointSize+this.blurSize,c=this.canvas,p=c.getContext("2d"),g=i.length;c.width=o,c.height=v;for(var m=0;m<g;++m){var y=i[m],_=y[0],b=y[1],T=y[2],S=f(T);p.globalAlpha=S,p.drawImage(s,_-d,b-d)}if(!c.width||!c.height)return c;for(var x=p.getImageData(0,0,c.width,c.height),w=x.data,A=0,C=w.length,M=this.minOpacity,D=this.maxOpacity,L=D-M;A<C;){var S=w[A+3]/256,P=Math.floor(S*(t-1))*4;if(S>0){var R=h(S)?u:l;S>0&&(S=S*L+M),w[A++]=R[P],w[A++]=R[P+1],w[A++]=R[P+2],w[A++]=R[P+3]*S*256}else A+=4}return p.putImageData(x,0,0),c},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=e.createCanvas()),o=this.pointSize+this.blurSize,v=o*2;i.width=v,i.height=v;var f=i.getContext("2d");return f.clearRect(0,0,v,v),f.shadowOffsetX=v,f.shadowBlur=this.blurSize,f.shadowColor="#000",f.beginPath(),f.arc(-o,o,this.pointSize,0,Math.PI*2,!0),f.closePath(),f.fill(),i},_getGradient:function(i,o,v){for(var f=this._gradientPixels,n=f[v]||(f[v]=new Uint8ClampedArray(256*4)),h=[0,0,0,0],s=0,u=0;u<256;u++)o[v](u/255,!0,h),n[s++]=h[0],n[s++]=h[1],n[s++]=h[2],n[s++]=h[3];return n}};var a=r;return Xv=a,Xv}var Kv,G1;function Y5(){if(G1)return Kv;G1=1;var e=we,t=ye,r=Z5(),a=Z;function i(n,h,s){var u=n[1]-n[0];h=a.map(h,function(c){return{interval:[(c.interval[0]-n[0])/u,(c.interval[1]-n[0])/u]}});var l=h.length,d=0;return function(c){for(var p=d;p<l;p++){var g=h[p].interval;if(g[0]<=c&&c<=g[1]){d=p;break}}if(p===l)for(var p=d-1;p>=0;p--){var g=h[p].interval;if(g[0]<=c&&c<=g[1]){d=p;break}}return p>=0&&p<l&&s[p]}}function o(n,h){var s=n[1]-n[0];return h=[(h[0]-n[0])/s,(h[1]-n[0])/s],function(u){return u>=h[0]&&u<=h[1]}}function v(n){var h=n.dimensions;return h[0]==="lng"&&h[1]==="lat"}var f=e.extendChartView({type:"heatmap",render:function(n,h,s){var u;h.eachComponent("visualMap",function(d){d.eachTargetSeries(function(c){c===n&&(u=d)})}),this.group.removeAll(),this._incrementalDisplayable=null;var l=n.coordinateSystem;l.type==="cartesian2d"||l.type==="calendar"?this._renderOnCartesianAndCalendar(n,s,0,n.getData().count()):v(l)&&this._renderOnGeo(l,n,u,s)},incrementalPrepareRender:function(n,h,s){this.group.removeAll()},incrementalRender:function(n,h,s,u){var l=h.coordinateSystem;l&&this._renderOnCartesianAndCalendar(h,u,n.start,n.end,!0)},_renderOnCartesianAndCalendar:function(n,h,s,u,l){var d=n.coordinateSystem,c,p;if(d.type==="cartesian2d"){var g=d.getAxis("x"),m=d.getAxis("y");c=g.getBandWidth(),p=m.getBandWidth()}for(var y=this.group,_=n.getData(),b="itemStyle",T="emphasis.itemStyle",S="label",x="emphasis.label",w=n.getModel(b).getItemStyle(["color"]),A=n.getModel(T).getItemStyle(),C=n.getModel(S),M=n.getModel(x),D=d.type,L=D==="cartesian2d"?[_.mapDimension("x"),_.mapDimension("y"),_.mapDimension("value")]:[_.mapDimension("time"),_.mapDimension("value")],P=s;P<u;P++){var R;if(D==="cartesian2d"){if(isNaN(_.get(L[2],P)))continue;var k=d.dataToPoint([_.get(L[0],P),_.get(L[1],P)]);R=new t.Rect({shape:{x:Math.floor(k[0]-c/2),y:Math.floor(k[1]-p/2),width:Math.ceil(c),height:Math.ceil(p)},style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}else{if(isNaN(_.get(L[1],P)))continue;R=new t.Rect({z2:1,shape:d.dataToRect([_.get(L[0],P)]).contentShape,style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}var z=_.getItemModel(P);_.hasItemOption&&(w=z.getModel(b).getItemStyle(["color"]),A=z.getModel(T).getItemStyle(),C=z.getModel(S),M=z.getModel(x));var B=n.getRawValue(P),G="-";B&&B[2]!=null&&(G=B[2]),t.setLabelStyle(w,A,C,M,{labelFetcher:n,labelDataIndex:P,defaultText:G,isRectText:!0}),R.setStyle(w),t.setHoverStyle(R,_.hasItemOption?A:a.extend({},A)),R.incremental=l,l&&(R.useHoverLayer=!0),y.add(R),_.setItemGraphicEl(P,R)}},_renderOnGeo:function(n,h,s,u){var l=s.targetVisuals.inRange,d=s.targetVisuals.outOfRange,c=h.getData(),p=this._hmLayer||this._hmLayer||new r;p.blurSize=h.get("blurSize"),p.pointSize=h.get("pointSize"),p.minOpacity=h.get("minOpacity"),p.maxOpacity=h.get("maxOpacity");var g=n.getViewRect().clone(),m=n.getRoamTransform();g.applyTransform(m);var y=Math.max(g.x,0),_=Math.max(g.y,0),b=Math.min(g.width+g.x,u.getWidth()),T=Math.min(g.height+g.y,u.getHeight()),S=b-y,x=T-_,w=[c.mapDimension("lng"),c.mapDimension("lat"),c.mapDimension("value")],A=c.mapArray(w,function(L,P,R){var k=n.dataToPoint([L,P]);return k[0]-=y,k[1]-=_,k.push(R),k}),C=s.getExtent(),M=s.type==="visualMap.continuous"?o(C,s.option.range):i(C,s.getPieceList(),s.option.selected);p.update(A,S,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:d.color.getColorMapper()},M);var D=new t.Image({style:{width:S,height:x,x:y,y:_,image:p.canvas},silent:!0});this.group.add(D)},dispose:function(){}});return Kv=f,Kv}var F1;function X5(){return F1||(F1=1,W5(),Y5()),V1}var $1={},Qv,U1;function K5(){if(U1)return Qv;U1=1;var e=OC(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return Qv=r,Qv}var Jv,W1;function Q5(){if(W1)return Jv;W1=1;var e=we,t=Z,r=ye,a=Zt(),i=a.createSymbol,o=Oe(),v=o.parsePercent,f=o.isNumeric,n=zC(),h=n.setLabel,s=["itemStyle","borderWidth"],u=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],l=new r.Circle,d=e.extendChartView({type:"pictorialBar",render:function(O,E,N){var q=this.group,H=O.getData(),F=this._data,U=O.coordinateSystem,W=U.getBaseAxis(),Y=!!W.isHorizontal(),Q=U.grid.getRect(),ee={ecSize:{width:N.getWidth(),height:N.getHeight()},seriesModel:O,coordSys:U,coordSysExtent:[[Q.x,Q.x+Q.width],[Q.y,Q.y+Q.height]],isHorizontal:Y,valueDim:u[+Y],categoryDim:u[1-Y]};return H.diff(F).add(function(j){if(H.hasValue(j)){var re=A(H,j),ae=c(H,j,re,ee),ne=L(H,ee,ae);H.setItemGraphicEl(j,ne),q.add(ne),G(ne,ee,ae)}}).update(function(j,re){var ae=F.getItemGraphicEl(re);if(!H.hasValue(j)){q.remove(ae);return}var ne=A(H,j),de=c(H,j,ne,ee),te=k(H,de);ae&&te!==ae.__pictorialShapeStr&&(q.remove(ae),H.setItemGraphicEl(j,null),ae=null),ae?P(ae,ee,de):ae=L(H,ee,de,!0),H.setItemGraphicEl(j,ae),ae.__pictorialSymbolMeta=de,q.add(ae),G(ae,ee,de)}).remove(function(j){var re=F.getItemGraphicEl(j);re&&R(F,j,re.__pictorialSymbolMeta.animationModel,re)}).execute(),this._data=H,this.group},dispose:t.noop,remove:function(O,E){var N=this.group,q=this._data;O.get("animation")?q&&q.eachItemGraphicEl(function(H){R(q,H.dataIndex,O,H)}):N.removeAll()}});function c(O,E,N,q){var H=O.getItemLayout(E),F=N.get("symbolRepeat"),U=N.get("symbolClip"),W=N.get("symbolPosition")||"start",Y=N.get("symbolRotate"),Q=(Y||0)*Math.PI/180||0,ee=N.get("symbolPatternSize")||2,j=N.isAnimationEnabled(),re={dataIndex:E,layout:H,itemModel:N,symbolType:O.getItemVisual(E,"symbol")||"circle",color:O.getItemVisual(E,"color"),symbolClip:U,symbolRepeat:F,symbolRepeatDirection:N.get("symbolRepeatDirection"),symbolPatternSize:ee,rotation:Q,animationModel:j?N:null,hoverAnimation:j&&N.get("hoverAnimation"),z2:N.getShallow("z",!0)||0};p(N,F,H,q,re),m(O,E,H,F,U,re.boundingLength,re.pxSign,ee,q,re),y(N,re.symbolScale,Q,q,re);var ae=re.symbolSize,ne=N.get("symbolOffset");return t.isArray(ne)&&(ne=[v(ne[0],ae[0]),v(ne[1],ae[1])]),_(N,ae,H,F,U,ne,W,re.valueLineWidth,re.boundingLength,re.repeatCutLength,q,re),re}function p(O,E,N,q,H){var F=q.valueDim,U=O.get("symbolBoundingData"),W=q.coordSys.getOtherAxis(q.coordSys.getBaseAxis()),Y=W.toGlobalCoord(W.dataToCoord(0)),Q=1-+(N[F.wh]<=0),ee;if(t.isArray(U)){var j=[g(W,U[0])-Y,g(W,U[1])-Y];j[1]<j[0]&&j.reverse(),ee=j[Q]}else U!=null?ee=g(W,U)-Y:E?ee=q.coordSysExtent[F.index][Q]-Y:ee=N[F.wh];H.boundingLength=ee,E&&(H.repeatCutLength=N[F.wh]),H.pxSign=ee>0?1:ee<0?-1:0}function g(O,E){return O.toGlobalCoord(O.dataToCoord(O.scale.parse(E)))}function m(O,E,N,q,H,F,U,W,Y,Q){var ee=Y.valueDim,j=Y.categoryDim,re=Math.abs(N[j.wh]),ae=O.getItemVisual(E,"symbolSize");t.isArray(ae)?ae=ae.slice():(ae==null&&(ae="100%"),ae=[ae,ae]),ae[j.index]=v(ae[j.index],re),ae[ee.index]=v(ae[ee.index],q?re:Math.abs(F)),Q.symbolSize=ae;var ne=Q.symbolScale=[ae[0]/W,ae[1]/W];ne[ee.index]*=(Y.isHorizontal?-1:1)*U}function y(O,E,N,q,H){var F=O.get(s)||0;F&&(l.attr({scale:E.slice(),rotation:N}),l.updateTransform(),F/=l.getLineScale(),F*=E[q.valueDim.index]),H.valueLineWidth=F}function _(O,E,N,q,H,F,U,W,Y,Q,ee,j){var re=ee.categoryDim,ae=ee.valueDim,ne=j.pxSign,de=Math.max(E[ae.index]+W,0),te=de;if(q){var se=Math.abs(Y),Te=t.retrieve(O.get("symbolMargin"),"15%")+"",le=!1;Te.lastIndexOf("!")===Te.length-1&&(le=!0,Te=Te.slice(0,Te.length-1)),Te=v(Te,E[ae.index]);var ve=Math.max(de+Te*2,0),Se=le?0:Te*2,X=f(q),J=X?q:V((se+Se)/ve),ie=se-J*de;Te=ie/2/(le?J:J-1),ve=de+Te*2,Se=le?0:Te*2,!X&&q!=="fixed"&&(J=Q?V((Math.abs(Q)+Se)/ve):0),te=J*ve-Se,j.repeatTimes=J,j.symbolMargin=Te}var ce=ne*(te/2),ue=j.pathPosition=[];ue[re.index]=N[re.wh]/2,ue[ae.index]=U==="start"?ce:U==="end"?Y-ce:Y/2,F&&(ue[0]+=F[0],ue[1]+=F[1]);var fe=j.bundlePosition=[];fe[re.index]=N[re.xy],fe[ae.index]=N[ae.xy];var _e=j.barRectShape=t.extend({},N);_e[ae.wh]=ne*Math.max(Math.abs(N[ae.wh]),Math.abs(ue[ae.index]+ce)),_e[re.wh]=N[re.wh];var Ce=j.clipShape={};Ce[re.xy]=-N[re.xy],Ce[re.wh]=ee.ecSize[re.wh],Ce[ae.xy]=0,Ce[ae.wh]=N[ae.wh]}function b(O){var E=O.symbolPatternSize,N=i(O.symbolType,-E/2,-E/2,E,E,O.color);return N.attr({culling:!0}),N.type!=="image"&&N.setStyle({strokeNoScale:!0}),N}function T(O,E,N,q){var H=O.__pictorialBundle,F=N.symbolSize,U=N.valueLineWidth,W=N.pathPosition,Y=E.valueDim,Q=N.repeatTimes||0,ee=0,j=F[E.valueDim.index]+U+N.symbolMargin*2;for(z(O,function(se){se.__pictorialAnimationIndex=ee,se.__pictorialRepeatTimes=Q,ee<Q?B(se,null,ne(ee),N,q):B(se,null,{scale:[0,0]},N,q,function(){H.remove(se)}),D(se,N),ee++});ee<Q;ee++){var re=b(N);re.__pictorialAnimationIndex=ee,re.__pictorialRepeatTimes=Q,H.add(re);var ae=ne(ee);B(re,{position:ae.position,scale:[0,0]},{scale:ae.scale,rotation:ae.rotation},N,q),re.on("mouseover",de).on("mouseout",te),D(re,N)}function ne(se){var Te=W.slice(),le=N.pxSign,ve=se;return(N.symbolRepeatDirection==="start"?le>0:le<0)&&(ve=Q-1-se),Te[Y.index]=j*(ve-Q/2+.5)+W[Y.index],{position:Te,scale:N.symbolScale.slice(),rotation:N.rotation}}function de(){z(O,function(se){se.trigger("emphasis")})}function te(){z(O,function(se){se.trigger("normal")})}}function S(O,E,N,q){var H=O.__pictorialBundle,F=O.__pictorialMainPath;F?B(F,null,{position:N.pathPosition.slice(),scale:N.symbolScale.slice(),rotation:N.rotation},N,q):(F=O.__pictorialMainPath=b(N),H.add(F),B(F,{position:N.pathPosition.slice(),scale:[0,0],rotation:N.rotation},{scale:N.symbolScale.slice()},N,q),F.on("mouseover",U).on("mouseout",W)),D(F,N);function U(){this.trigger("emphasis")}function W(){this.trigger("normal")}}function x(O,E,N){var q=t.extend({},E.barRectShape),H=O.__pictorialBarRect;H?B(H,null,{shape:q},E,N):(H=O.__pictorialBarRect=new r.Rect({z2:2,shape:q,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),O.add(H))}function w(O,E,N,q){if(N.symbolClip){var H=O.__pictorialClipPath,F=t.extend({},N.clipShape),U=E.valueDim,W=N.animationModel,Y=N.dataIndex;if(H)r.updateProps(H,{shape:F},W,Y);else{F[U.wh]=0,H=new r.Rect({shape:F}),O.__pictorialBundle.setClipPath(H),O.__pictorialClipPath=H;var Q={};Q[U.wh]=N.clipShape[U.wh],r[q?"updateProps":"initProps"](H,{shape:Q},W,Y)}}}function A(O,E){var N=O.getItemModel(E);return N.getAnimationDelayParams=C,N.isAnimationEnabled=M,N}function C(O){return{index:O.__pictorialAnimationIndex,count:O.__pictorialRepeatTimes}}function M(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function D(O,E){O.off("emphasis").off("normal");var N=E.symbolScale.slice();E.hoverAnimation&&O.on("emphasis",function(){this.animateTo({scale:[N[0]*1.1,N[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:N.slice()},400,"elasticOut")})}function L(O,E,N,q){var H=new r.Group,F=new r.Group;return H.add(F),H.__pictorialBundle=F,F.attr("position",N.bundlePosition.slice()),N.symbolRepeat?T(H,E,N):S(H,E,N),x(H,N,q),w(H,E,N,q),H.__pictorialShapeStr=k(O,N),H.__pictorialSymbolMeta=N,H}function P(O,E,N){var q=N.animationModel,H=N.dataIndex,F=O.__pictorialBundle;r.updateProps(F,{position:N.bundlePosition.slice()},q,H),N.symbolRepeat?T(O,E,N,!0):S(O,E,N,!0),x(O,N,!0),w(O,E,N,!0)}function R(O,E,N,q){var H=q.__pictorialBarRect;H&&(H.style.text=null);var F=[];z(q,function(U){F.push(U)}),q.__pictorialMainPath&&F.push(q.__pictorialMainPath),q.__pictorialClipPath&&(N=null),t.each(F,function(U){r.updateProps(U,{scale:[0,0]},N,E,function(){q.parent&&q.parent.remove(q)})}),O.setItemGraphicEl(E,null)}function k(O,E){return[O.getItemVisual(E.dataIndex,"symbol")||"none",!!E.symbolRepeat,!!E.symbolClip].join(":")}function z(O,E,N){t.each(O.__pictorialBundle.children(),function(q){q!==O.__pictorialBarRect&&E.call(N,q)})}function B(O,E,N,q,H,F){E&&O.attr(E),q.symbolClip&&!H?N&&O.attr(N):N&&r[H?"updateProps":"initProps"](O,N,q.animationModel,q.dataIndex,F)}function G(O,E,N){var q=N.color,H=N.dataIndex,F=N.itemModel,U=F.getModel("itemStyle").getItemStyle(["color"]),W=F.getModel("emphasis.itemStyle").getItemStyle(),Y=F.getShallow("cursor");z(O,function(re){re.setColor(q),re.setStyle(t.defaults({fill:q,opacity:N.opacity},U)),r.setHoverStyle(re,W),Y&&(re.cursor=Y),re.z2=N.z2});var Q={},ee=E.valueDim.posDesc[+(N.boundingLength>0)],j=O.__pictorialBarRect;h(j.style,Q,F,q,E.seriesModel,H,ee),r.setHoverStyle(j,Q)}function V(O){var E=Math.round(O);return Math.abs(O-E)<1e-4?E:Math.ceil(O)}var I=d;return Jv=I,Jv}var Z1;function J5(){if(Z1)return $1;Z1=1;var e=we,t=Z;Pd(),K5(),Q5();var r=es(),a=r.layout,i=Ta();return An(),e.registerLayout(t.curry(a,"pictorialBar")),e.registerVisual(i("pictorialBar","roundRect")),$1}var Y1={},X1={},K1={},jv,Q1;function j5(){if(Q1)return jv;Q1=1;var e=Z,t=aa(),r=function(i,o,v,f,n){t.call(this,i,o,v),this.type=f||"value",this.position=n||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},pointToData:function(i,o){return this.coordinateSystem.pointToData(i,o)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var a=r;return jv=a,jv}var eh,J1;function e3(){if(J1)return eh;J1=1;var e=j5(),t=sr(),r=Ne,a=r.getLayoutRect,i=Z,o=i.each;function v(n,h,s){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(n,h,s),this.model=n}v.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:v,_init:function(n,h,s){var u=this.dimension,l=new e(u,t.createScaleByModel(n),[0,0],n.get("type"),n.get("position")),d=l.type==="category";l.onBand=d&&n.get("boundaryGap"),l.inverse=n.get("inverse"),l.orient=n.get("orient"),n.axis=l,l.model=n,l.coordinateSystem=this,this._axis=l},update:function(n,h){n.eachSeries(function(s){if(s.coordinateSystem===this){var u=s.getData();o(u.mapDimension(this.dimension,!0),function(l){this._axis.scale.unionExtentFromData(u,l)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(n,h){this._rect=a({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:h.getWidth(),height:h.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var n=this._rect,h=this._axis,s=h.isHorizontal(),u=s?[0,n.width]:[0,n.height],l=h.reverse?1:0;h.setExtent(u[l],u[1-l]),this._updateAxisTransform(h,s?n.x:n.y)},_updateAxisTransform:function(n,h){var s=n.getExtent(),u=s[0]+s[1],l=n.isHorizontal();n.toGlobalCoord=l?function(d){return d+h}:function(d){return u-d+h},n.toLocalCoord=l?function(d){return d-h}:function(d){return u-d+h}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(n){var h=this.getRect(),s=this.getAxis(),u=s.orient;return u==="horizontal"?s.contain(s.toLocalCoord(n[0]))&&n[1]>=h.y&&n[1]<=h.y+h.height:s.contain(s.toLocalCoord(n[1]))&&n[0]>=h.y&&n[0]<=h.y+h.height},pointToData:function(n){var h=this.getAxis();return[h.coordToData(h.toLocalCoord(n[h.orient==="horizontal"?0:1]))]},dataToPoint:function(n){var h=this.getAxis(),s=this.getRect(),u=[],l=h.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),u[l]=h.toGlobalCoord(h.dataToCoord(+n)),u[1-l]=l===0?s.y+s.height/2:s.x+s.width/2,u}};var f=v;return eh=f,eh}var j1;function t3(){if(j1)return K1;j1=1;var e=e3(),t=br;function r(a,i){var o=[];return a.eachComponent("singleAxis",function(v,f){var n=new e(v,a,i);n.name="single_"+f,n.resize(v,i),v.coordinateSystem=n,o.push(n)}),a.eachSeries(function(v){if(v.get("coordinateSystem")==="singleAxis"){var f=a.queryComponents({mainType:"singleAxis",index:v.get("singleAxisIndex"),id:v.get("singleAxisId")})[0];v.coordinateSystem=f&&f.coordinateSystem}}),o}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),K1}var th={},ex;function eM(){if(ex)return th;ex=1;var e=Z;function t(r,a){a=a||{};var i=r.coordinateSystem,o=r.axis,v={},f=o.position,n=o.orient,h=i.getRect(),s=[h.x,h.x+h.width,h.y,h.y+h.height],u={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};v.position=[n==="vertical"?u.vertical[f]:s[0],n==="horizontal"?u.horizontal[f]:s[3]];var l={horizontal:0,vertical:1};v.rotation=Math.PI/2*l[n];var d={top:-1,bottom:1,right:1,left:-1};v.labelDirection=v.tickDirection=v.nameDirection=d[f],r.get("axisTick.inside")&&(v.tickDirection=-v.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(v.labelDirection=-v.labelDirection);var c=a.rotate;return c==null&&(c=r.get("axisLabel.rotate")),v.labelRotation=f==="top"?-c:c,v.z2=1,v}return th.layout=t,th}var rh,tx;function r3(){if(tx)return rh;tx=1;var e=Z,t=ia(),r=ye,a=eM(),i=Ca(),o=kC(),v=o.rectCoordAxisBuildSplitArea,f=o.rectCoordAxisHandleRemove,n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],s=i.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(l,d,c,p){var g=this.group;g.removeAll();var m=this._axisGroup;this._axisGroup=new r.Group;var y=a.layout(l),_=new t(l,y);e.each(n,_.add,_),g.add(this._axisGroup),g.add(_.getGroup()),e.each(h,function(b){l.get(b+".show")&&this["_"+b](l)},this),r.groupTransition(m,this._axisGroup,l),s.superCall(this,"render",l,d,c,p)},remove:function(){f(this)},_splitLine:function(l){var d=l.axis;if(!d.scale.isBlank()){var c=l.getModel("splitLine"),p=c.getModel("lineStyle"),g=p.get("width"),m=p.get("color");m=m instanceof Array?m:[m];for(var y=l.coordinateSystem.getRect(),_=d.isHorizontal(),b=[],T=0,S=d.getTicksCoords({tickModel:c}),x=[],w=[],A=0;A<S.length;++A){var C=d.toGlobalCoord(S[A].coord);_?(x[0]=C,x[1]=y.y,w[0]=C,w[1]=y.y+y.height):(x[0]=y.x,x[1]=C,w[0]=y.x+y.width,w[1]=C);var M=T++%m.length;b[M]=b[M]||[],b[M].push(new r.Line({subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:w[0],y2:w[1]},style:{lineWidth:g},silent:!0}))}for(var A=0;A<b.length;++A)this.group.add(r.mergePath(b[A],{style:{stroke:m[A%m.length],lineDash:p.getLineDash(g),lineWidth:g},silent:!0}))}},_splitArea:function(l){v(this,this._axisGroup,l,l)}}),u=s;return rh=u,rh}var ah,rx;function a3(){if(rx)return ah;rx=1;var e=Z,t=ct,r=rs(),a=pi(),i=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),o={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function v(n,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a),r("single",i,v,o);var f=i;return ah=f,ah}var ax={},ih,ix;function tM(){if(ix)return ih;ix=1;var e=Z,t=Re;function r(a,i){var o=[],v=a.seriesIndex,f;if(v==null||!(f=i.getSeriesByIndex(v)))return{point:[]};var n=f.getData(),h=t.queryDataIndex(n,a);if(h==null||h<0||e.isArray(h))return{point:[]};var s=n.getItemGraphicEl(h),u=f.coordinateSystem;if(f.getTooltipPosition)o=f.getTooltipPosition(h)||[];else if(u&&u.dataToPoint)o=u.dataToPoint(n.getValues(e.map(u.dimensions,function(d){return n.mapDimension(d)}),h,!0))||[];else if(s){var l=s.getBoundingRect().clone();l.applyTransform(s.transform),o=[l.x+l.width/2,l.y+l.height/2]}return{point:o,el:s}}return ih=r,ih}var nh,nx;function i3(){if(nx)return nh;nx=1;var e=Z,t=Re,r=t.makeInner,a=as(),i=tM(),o=e.each,v=e.curry,f=r();function n(_,b,T){var S=_.currTrigger,x=[_.x,_.y],w=_,A=_.dispatchAction||e.bind(T.dispatchAction,T),C=b.getComponent("axisPointer").coordSysAxesInfo;if(C){y(x)&&(x=i({seriesIndex:w.seriesIndex,dataIndex:w.dataIndex},b).point);var M=y(x),D=w.axesInfo,L=C.axesInfo,P=S==="leave"||y(x),R={},k={},z={list:[],map:{}},B={showPointer:v(u,k),showTooltip:v(l,z)};o(C.coordSysMap,function(V,I){var O=M||V.containPoint(x);o(C.coordSysAxesInfo[I],function(E,N){var q=E.axis,H=g(D,E);if(!P&&O&&(!D||H)){var F=H&&H.value;F==null&&!M&&(F=q.pointToData(x)),F!=null&&h(E,F,B,!1,R)}})});var G={};return o(L,function(V,I){var O=V.linkGroup;O&&!k[I]&&o(O.axesInfo,function(E,N){var q=k[N];if(E!==V&&q){var H=q.value;O.mapper&&(H=V.axis.scale.parse(O.mapper(H,m(E),m(V)))),G[V.key]=H}})}),o(G,function(V,I){h(L[I],V,B,!0,R)}),d(k,L,R),c(z,x,_,A),p(L,A,T),R}}function h(_,b,T,S,x){var w=_.axis;if(!(w.scale.isBlank()||!w.containData(b))){if(!_.involveSeries){T.showPointer(_,b);return}var A=s(b,_),C=A.payloadBatch,M=A.snapToValue;C[0]&&x.seriesIndex==null&&e.extend(x,C[0]),!S&&_.snap&&w.containData(M)&&M!=null&&(b=M),T.showPointer(_,b,C,x),T.showTooltip(_,A,M)}}function s(_,b){var T=b.axis,S=T.dim,x=_,w=[],A=Number.MAX_VALUE,C=-1;return o(b.seriesModels,function(M,D){var L=M.getData().mapDimension(S,!0),P,R;if(M.getAxisTooltipData){var k=M.getAxisTooltipData(L,_,T);R=k.dataIndices,P=k.nestestValue}else{if(R=M.getData().indicesOfNearest(L[0],_,T.type==="category"?.5:null),!R.length)return;P=M.getData().get(L[0],R[0])}if(!(P==null||!isFinite(P))){var z=_-P,B=Math.abs(z);B<=A&&((B<A||z>=0&&C<0)&&(A=B,C=z,x=P,w.length=0),o(R,function(G){w.push({seriesIndex:M.seriesIndex,dataIndexInside:G,dataIndex:M.getData().getRawIndex(G)})}))}}),{payloadBatch:w,snapToValue:x}}function u(_,b,T,S){_[b.key]={value:T,payloadBatch:S}}function l(_,b,T,S){var x=T.payloadBatch,w=b.axis,A=w.model,C=b.axisPointerModel;if(!(!b.triggerTooltip||!x.length)){var M=b.coordSys.model,D=a.makeKey(M),L=_.map[D];L||(L=_.map[D]={coordSysId:M.id,coordSysIndex:M.componentIndex,coordSysType:M.type,coordSysMainType:M.mainType,dataByAxis:[]},_.list.push(L)),L.dataByAxis.push({axisDim:w.dim,axisIndex:A.componentIndex,axisType:A.type,axisId:A.id,value:S,valueLabelOpt:{precision:C.get("label.precision"),formatter:C.get("label.formatter")},seriesDataIndices:x.slice()})}}function d(_,b,T){var S=T.axesInfo=[];o(b,function(x,w){var A=x.axisPointerModel.option,C=_[w];C?(!x.useHandle&&(A.status="show"),A.value=C.value,A.seriesDataIndices=(C.payloadBatch||[]).slice()):!x.useHandle&&(A.status="hide"),A.status==="show"&&S.push({axisDim:x.axis.dim,axisIndex:x.axis.model.componentIndex,value:A.value})})}function c(_,b,T,S){if(y(b)||!_.list.length){S({type:"hideTip"});return}var x=((_.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};S({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:T.tooltipOption,position:T.position,dataIndexInside:x.dataIndexInside,dataIndex:x.dataIndex,seriesIndex:x.seriesIndex,dataByCoordSys:_.list})}function p(_,b,T){var S=T.getZr(),x="axisPointerLastHighlights",w=f(S)[x]||{},A=f(S)[x]={};o(_,function(D,L){var P=D.axisPointerModel.option;P.status==="show"&&o(P.seriesDataIndices,function(R){var k=R.seriesIndex+" | "+R.dataIndex;A[k]=R})});var C=[],M=[];e.each(w,function(D,L){!A[L]&&M.push(D)}),e.each(A,function(D,L){!w[L]&&C.push(D)}),M.length&&T.dispatchAction({type:"downplay",escapeConnect:!0,batch:M}),C.length&&T.dispatchAction({type:"highlight",escapeConnect:!0,batch:C})}function g(_,b){for(var T=0;T<(_||[]).length;T++){var S=_[T];if(b.axis.dim===S.axisDim&&b.axis.model.componentIndex===S.axisIndex)return S}}function m(_){var b=_.axis.model,T={},S=T.axisDim=_.axis.dim;return T.axisIndex=T[S+"AxisIndex"]=b.componentIndex,T.axisName=T[S+"AxisName"]=b.name,T.axisId=T[S+"AxisId"]=b.id,T}function y(_){return!_||_[0]==null||isNaN(_[0])||_[1]==null||isNaN(_[1])}return nh=n,nh}var oh,ox;function n3(){if(ox)return oh;ox=1;var e=we,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return oh=r,oh}var io={},sx;function rM(){if(sx)return io;sx=1;var e=Z,t=nt,r=Re,a=r.makeInner,i=a(),o=e.each;function v(d,c,p){if(!t.node){var g=c.getZr();i(g).records||(i(g).records={}),f(g,c);var m=i(g).records[d]||(i(g).records[d]={});m.handler=p}}function f(d,c){if(i(d).initialized)return;i(d).initialized=!0,p("click",e.curry(s,"click")),p("mousemove",e.curry(s,"mousemove")),p("globalout",h);function p(g,m){d.on(g,function(y){var _=u(c);o(i(d).records,function(b){b&&m(b,y,_.dispatchAction)}),n(_.pendings,c)})}}function n(d,c){var p=d.showTip.length,g=d.hideTip.length,m;p?m=d.showTip[p-1]:g&&(m=d.hideTip[g-1]),m&&(m.dispatchAction=null,c.dispatchAction(m))}function h(d,c,p){d.handler("leave",null,p)}function s(d,c,p,g){c.handler(d,p,g)}function u(d){var c={showTip:[],hideTip:[]},p=function(g){var m=c[g.type];m?m.push(g):(g.dispatchAction=p,d.dispatchAction(g))};return{dispatchAction:p,pendings:c}}function l(d,c){if(!t.node){var p=c.getZr(),g=(i(p).records||{})[d];g&&(i(p).records[d]=null)}}return io.register=v,io.unregister=l,io}var sh,lx;function o3(){if(lx)return sh;lx=1;var e=we,t=rM(),r=e.extendComponentView({type:"axisPointer",render:function(i,o,v){var f=o.getComponent("tooltip"),n=i.get("triggerOn")||f&&f.get("triggerOn")||"mousemove|click";t.register("axisPointer",v,function(h,s,u){n!=="none"&&(h==="leave"||n.indexOf(h)>=0)&&u({type:"updateAxisPointer",currTrigger:h,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(i,o){t.unregister(o.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(i,o){t.unregister("axisPointer",o),r.superApply(this._model,"dispose",arguments)}}),a=r;return sh=a,sh}var lh,ux;function qd(){if(ux)return lh;ux=1;var e=Z,t=Ot,r=ye,a=as(),i=ht,o=or,v=Re,f=v.makeInner,n=f(),h=e.clone,s=e.bind;function u(){}u.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,_,b,T){var S=_.get("value"),x=_.get("status");if(this._axisModel=y,this._axisPointerModel=_,this._api=b,!(!T&&this._lastValue===S&&this._lastStatus===x)){this._lastValue=S,this._lastStatus=x;var w=this._group,A=this._handle;if(!x||x==="hide"){w&&w.hide(),A&&A.hide();return}w&&w.show(),A&&A.show();var C={};this.makeElOption(C,S,y,_,b);var M=C.graphicKey;M!==this._lastGraphicKey&&this.clear(b),this._lastGraphicKey=M;var D=this._moveAnimation=this.determineAnimation(y,_);if(!w)w=this._group=new r.Group,this.createPointerEl(w,C,y,_),this.createLabelEl(w,C,y,_),b.getZr().add(w);else{var L=e.curry(l,_,D);this.updatePointerEl(w,C,L,_),this.updateLabelEl(w,C,L,_)}g(w,_,!0),this._renderHandle(S)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,_){var b=_.get("animation"),T=y.axis,S=T.type==="category",x=_.get("snap");if(!x&&!S)return!1;if(b==="auto"||b==null){var w=this.animationThreshold;if(S&&T.getBandWidth()>w)return!0;if(x){var A=a.getAxisInfo(y).seriesDataCount,C=T.getExtent();return Math.abs(C[0]-C[1])/A>w}return!1}return b===!0},makeElOption:function(y,_,b,T,S){},createPointerEl:function(y,_,b,T){var S=_.pointer;if(S){var x=n(y).pointerEl=new r[S.type](h(_.pointer));y.add(x)}},createLabelEl:function(y,_,b,T){if(_.label){var S=n(y).labelEl=new r.Rect(h(_.label));y.add(S),c(S,T)}},updatePointerEl:function(y,_,b){var T=n(y).pointerEl;T&&_.pointer&&(T.setStyle(_.pointer.style),b(T,{shape:_.pointer.shape}))},updateLabelEl:function(y,_,b,T){var S=n(y).labelEl;S&&(S.setStyle(_.label.style),b(S,{shape:_.label.shape,position:_.label.position}),c(S,T))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var _=this._axisPointerModel,b=this._api.getZr(),T=this._handle,S=_.getModel("handle"),x=_.get("status");if(!S.get("show")||!x||x==="hide"){T&&b.remove(T),this._handle=null;return}var w;this._handle||(w=!0,T=this._handle=r.createIcon(S.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(M){i.stop(M.event)},onmousedown:s(this._onHandleDragMove,this,0,0),drift:s(this._onHandleDragMove,this),ondragend:s(this._onHandleDragEnd,this)}),b.add(T)),g(T,_,!1);var A=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];T.setStyle(S.getItemStyle(null,A));var C=S.get("size");e.isArray(C)||(C=[C,C]),T.attr("scale",[C[0]/2,C[1]/2]),o.createOrUpdate(this,"_doDispatchAxisPointer",S.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,w)}},_moveHandleToValue:function(y,_){l(this._axisPointerModel,!_&&this._moveAnimation,this._handle,p(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,_){var b=this._handle;if(b){this._dragging=!0;var T=this.updateHandleTransform(p(b),[y,_],this._axisModel,this._axisPointerModel);this._payloadInfo=T,b.stopAnimation(),b.attr(p(T)),n(b).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var _=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:_.cursorPoint[0],y:_.cursorPoint[1],tooltipOption:_.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var _=this._handle;if(_){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var _=y.getZr(),b=this._group,T=this._handle;_&&b&&(this._lastGraphicKey=null,b&&_.remove(b),T&&_.remove(T),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,_,b){return b=b||0,{x:y[b],y:y[1-b],width:_[b],height:_[1-b]}}},u.prototype.constructor=u;function l(y,_,b,T){d(n(b).lastProp,T)||(n(b).lastProp=T,_?r.updateProps(b,T,y):(b.stopAnimation(),b.attr(T)))}function d(y,_){if(e.isObject(y)&&e.isObject(_)){var b=!0;return e.each(_,function(T,S){b=b&&d(y[S],T)}),!!b}else return y===_}function c(y,_){y[_.get("label.show")?"show":"hide"]()}function p(y){return{position:y.position.slice(),rotation:y.rotation||0}}function g(y,_,b){var T=_.get("z"),S=_.get("zlevel");y&&y.traverse(function(x){x.type!=="group"&&(T!=null&&(x.z=T),S!=null&&(x.zlevel=S),x.silent=b)})}t.enableClassExtend(u);var m=u;return lh=m,lh}var gr={},vx;function ss(){if(vx)return gr;vx=1;var e=Z,t=ye,r=$t(),a=Ke(),i=Pt(),o=sr(),v=ia();function f(g){var m=g.get("type"),y=g.getModel(m+"Style"),_;return m==="line"?(_=y.getLineStyle(),_.fill=null):m==="shadow"&&(_=y.getAreaStyle(),_.stroke=null),_}function n(g,m,y,_,b){var T=y.get("value"),S=s(T,m.axis,m.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),x=y.getModel("label"),w=a.normalizeCssArray(x.get("padding")||0),A=x.getFont(),C=r.getBoundingRect(S,A),M=b.position,D=C.width+w[1]+w[3],L=C.height+w[0]+w[2],P=b.align;P==="right"&&(M[0]-=D),P==="center"&&(M[0]-=D/2);var R=b.verticalAlign;R==="bottom"&&(M[1]-=L),R==="middle"&&(M[1]-=L/2),h(M,D,L,_);var k=x.get("backgroundColor");(!k||k==="auto")&&(k=m.get("axisLine.lineStyle.color")),g.label={shape:{x:0,y:0,width:D,height:L,r:x.get("borderRadius")},position:M.slice(),style:{text:S,textFont:A,textFill:x.getTextColor(),textPosition:"inside",textPadding:w,fill:k,stroke:x.get("borderColor")||"transparent",lineWidth:x.get("borderWidth")||0,shadowBlur:x.get("shadowBlur"),shadowColor:x.get("shadowColor"),shadowOffsetX:x.get("shadowOffsetX"),shadowOffsetY:x.get("shadowOffsetY")},z2:10}}function h(g,m,y,_){var b=_.getWidth(),T=_.getHeight();g[0]=Math.min(g[0]+m,b)-m,g[1]=Math.min(g[1]+y,T)-y,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function s(g,m,y,_,b){g=m.scale.parse(g);var T=m.scale.getLabel(g,{precision:b.precision}),S=b.formatter;if(S){var x={value:o.getAxisRawValue(m,g),axisDimension:m.dim,axisIndex:m.index,seriesData:[]};e.each(_,function(w){var A=y.getSeriesByIndex(w.seriesIndex),C=w.dataIndexInside,M=A&&A.getDataParams(C);M&&x.seriesData.push(M)}),e.isString(S)?T=S.replace("{value}",T):e.isFunction(S)&&(T=S(x))}return T}function u(g,m,y){var _=i.create();return i.rotate(_,_,y.rotation),i.translate(_,_,y.position),t.applyTransform([g.dataToCoord(m),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],_)}function l(g,m,y,_,b,T){var S=v.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=b.get("label.margin"),n(m,_,b,T,{position:u(_.axis,g,y),align:S.textAlign,verticalAlign:S.textVerticalAlign})}function d(g,m,y){return y=y||0,{x1:g[y],y1:g[1-y],x2:m[y],y2:m[1-y]}}function c(g,m,y){return y=y||0,{x:g[y],y:g[1-y],width:m[y],height:m[1-y]}}function p(g,m,y,_,b,T){return{cx:g,cy:m,r0:y,r:_,startAngle:b,endAngle:T,clockwise:!0}}return gr.buildElStyle=f,gr.buildLabelElOption=n,gr.getValueLabel=s,gr.getTransformedPosition=u,gr.buildCartesianSingleLabelElOption=l,gr.makeLineShape=d,gr.makeRectShape=c,gr.makeSectorShape=p,gr}var uh,hx;function aM(){if(hx)return uh;hx=1;var e=qd(),t=ss(),r=EC(),a=Ca(),i=e.extend({makeElOption:function(h,s,u,l,d){var c=u.axis,p=c.grid,g=l.get("type"),m=o(p,c).getOtherAxis(c).getGlobalExtent(),y=c.toGlobalCoord(c.dataToCoord(s,!0));if(g&&g!=="none"){var _=t.buildElStyle(l),b=v[g](c,y,m);b.style=_,h.graphicKey=b.type,h.pointer=b}var T=r.layout(p.model,u);t.buildCartesianSingleLabelElOption(s,h,T,u,l,d)},getHandleTransform:function(h,s,u){var l=r.layout(s.axis.grid.model,s,{labelInside:!1});return l.labelMargin=u.get("handle.margin"),{position:t.getTransformedPosition(s.axis,h,l),rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,s,u,l){var d=u.axis,c=d.grid,p=d.getGlobalExtent(!0),g=o(c,d).getOtherAxis(d).getGlobalExtent(),m=d.dim==="x"?0:1,y=h.position;y[m]+=s[m],y[m]=Math.min(p[1],y[m]),y[m]=Math.max(p[0],y[m]);var _=(g[1]+g[0])/2,b=[_,_];b[m]=y[m];var T=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:h.rotation,cursorPoint:b,tooltipOption:T[m]}}});function o(h,s){var u={};return u[s.dim+"AxisIndex"]=s.index,h.getCartesian(u)}var v={line:function(h,s,u){var l=t.makeLineShape([s,u[0]],[s,u[1]],f(h));return{type:"Line",subPixelOptimize:!0,shape:l}},shadow:function(h,s,u){var l=Math.max(1,h.getBandWidth()),d=u[1]-u[0];return{type:"Rect",shape:t.makeRectShape([s-l/2,u[0]],[l,d],f(h))}}};function f(h){return h.dim==="x"?0:1}a.registerAxisPointerClass("CartesianAxisPointer",i);var n=i;return uh=n,uh}var cx;function Dn(){if(cx)return ax;cx=1;var e=we,t=Z,r=as(),a=i3();return n3(),o3(),aM(),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var o=i.axisPointer.link;o&&!t.isArray(o)&&(i.axisPointer.link=[o])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,o){i.getComponent("axisPointer").coordSysAxesInfo=r.collect(i,o)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a),ax}var vh,fx;function s3(){if(fx)return vh;fx=1;var e=qd(),t=ss(),r=eM(),a=Ca(),i=["x","y"],o=["width","height"],v=e.extend({makeElOption:function(u,l,d,c,p){var g=d.axis,m=g.coordinateSystem,y=h(m,1-n(g)),_=m.dataToPoint(l)[0],b=c.get("type");if(b&&b!=="none"){var T=t.buildElStyle(c),S=f[b](g,_,y);S.style=T,u.graphicKey=S.type,u.pointer=S}var x=r.layout(d);t.buildCartesianSingleLabelElOption(l,u,x,d,c,p)},getHandleTransform:function(u,l,d){var c=r.layout(l,{labelInside:!1});return c.labelMargin=d.get("handle.margin"),{position:t.getTransformedPosition(l.axis,u,c),rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(u,l,d,c){var p=d.axis,g=p.coordinateSystem,m=n(p),y=h(g,m),_=u.position;_[m]+=l[m],_[m]=Math.min(y[1],_[m]),_[m]=Math.max(y[0],_[m]);var b=h(g,1-m),T=(b[1]+b[0])/2,S=[T,T];return S[m]=_[m],{position:_,rotation:u.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}}}),f={line:function(u,l,d){var c=t.makeLineShape([l,d[0]],[l,d[1]],n(u));return{type:"Line",subPixelOptimize:!0,shape:c}},shadow:function(u,l,d){var c=u.getBandWidth(),p=d[1]-d[0];return{type:"Rect",shape:t.makeRectShape([l-c/2,d[0]],[c,p],n(u))}}};function n(u){return u.isHorizontal()?0:1}function h(u,l){var d=u.getRect();return[d[i[l]],d[i[l]]+d[o[l]]]}a.registerAxisPointerClass("SingleAxisPointer",v);var s=v;return vh=s,vh}var dx;function iM(){if(dx)return X1;dx=1;var e=we;return t3(),r3(),a3(),Dn(),s3(),e.extendComponentView({type:"single"}),X1}var hh,gx;function l3(){if(gx)return hh;gx=1;var e=ft,t=gi(),r=xn(),a=r.getDimensionTypeByAxis,i=Wt(),o=Z,v=Re,f=v.groupData,n=Ke(),h=n.encodeHTML,s=Tn(),u=2,l=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(c){l.superApply(this,"init",arguments),this.legendVisualProvider=new s(o.bind(this.getData,this),o.bind(this.getRawData,this))},fixData:function(c){var p=c.length,g=f(c,function(R){return R[2]}),m=[];g.buckets.each(function(R,k){m.push({name:k,dataList:R})});for(var y=m.length,_=-1,b=-1,T=0;T<y;++T){var S=m[T].dataList.length;S>_&&(_=S,b=T)}for(var x=0;x<y;++x)if(x!==b)for(var w=m[x].name,A=0;A<_;++A){for(var C=m[b].dataList[A][0],M=m[x].dataList.length,D=-1,L=0;L<M;++L){var P=m[x].dataList[L][0];if(P===C){D=L;break}}D===-1&&(c[p]=[],c[p][0]=C,c[p][1]=0,c[p][2]=w,p++)}return c},getInitialData:function(c,p){for(var g=p.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],m=g.get("type"),y=o.filter(c.data,function(C){return C[2]!==void 0}),_=this.fixData(y||[]),b=[],T=this.nameMap=o.createHashMap(),S=0,x=0;x<_.length;++x)b.push(_[x][u]),T.get(_[x][u])||(T.set(_[x][u],S),S++);var w=t(_,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a(m)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),A=new i(w,this);return A.initData(_),A},getLayerSeries:function(){for(var c=this.getData(),p=c.count(),g=[],m=0;m<p;++m)g[m]=m;var y=c.mapDimension("single"),_=f(g,function(T){return c.get("name",T)}),b=[];return _.buckets.each(function(T,S){T.sort(function(x,w){return c.get(y,x)-c.get(y,w)}),b.push({name:S,indices:T})}),b},getAxisTooltipData:function(c,p,g){o.isArray(c)||(c=c?[c]:[]);for(var m=this.getData(),y=this.getLayerSeries(),_=[],b=y.length,T,S=0;S<b;++S){for(var x=Number.MAX_VALUE,w=-1,A=y[S].indices.length,C=0;C<A;++C){var M=m.get(c[0],y[S].indices[C]),D=Math.abs(M-p);D<=x&&(T=M,x=D,w=y[S].indices[C])}_.push(w)}return{dataIndices:_,nestestValue:T}},formatTooltip:function(c){var p=this.getData(),g=p.getName(c),m=p.get(p.mapDimension("value"),c);return(isNaN(m)||m==null)&&(m="-"),h(g+" : "+m)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),d=l;return hh=d,hh}var ch,px;function u3(){if(px)return ch;px=1;var e=we,t=PC(),r=t.Polygon,a=ye,i=Z,o=i.bind,v=i.extend,f=Aa(),n=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(s,u,l){var d=s.getData(),c=this.group,p=s.getLayerSeries(),g=d.getLayout("layoutInfo"),m=g.rect,y=g.boundaryGap;c.attr("position",[0,m.y+y[0]]);function _(x){return x.name}var b=new f(this._layersSeries||[],p,_,_),T={};b.add(o(S,this,"add")).update(o(S,this,"update")).remove(o(S,this,"remove")).execute();function S(x,w,A){var C=this._layers;if(x==="remove"){c.remove(C[w]);return}for(var M=[],D=[],L,P=p[w].indices,R=0;R<P.length;R++){var k=d.getItemLayout(P[R]),z=k.x,B=k.y0,G=k.y;M.push([z,B]),D.push([z,B+G]),L=d.getItemVisual(P[R],"color")}var V,I,O=d.getItemLayout(P[0]),E=d.getItemModel(P[R-1]),N=E.getModel("label"),q=N.get("margin");if(x==="add"){var H=T[w]=new a.Group;V=new r({shape:{points:M,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),I=new a.Text({style:{x:O.x-q,y:O.y0+O.y/2}}),H.add(V),H.add(I),c.add(H),V.setClipPath(h(V.getBoundingRect(),s,function(){V.removeClipPath()}))}else{var H=C[A];V=H.childAt(0),I=H.childAt(1),c.add(H),T[w]=H,a.updateProps(V,{shape:{points:M,stackedOnPoints:D}},s),a.updateProps(I,{style:{x:O.x-q,y:O.y0+O.y/2}},s)}var F=E.getModel("emphasis.itemStyle"),U=E.getModel("itemStyle");a.setTextStyle(I.style,N,{text:N.get("show")?s.getFormattedLabel(P[R-1],"normal")||d.getName(P[R-1]):null,textVerticalAlign:"middle"}),V.setStyle(v({fill:L},U.getItemStyle(["color"]))),a.setHoverStyle(V,F.getItemStyle())}this._layersSeries=p,this._layers=T},dispose:function(){}});function h(s,u,l){var d=new a.Rect({shape:{x:s.x-10,y:s.y-10,width:0,height:s.height+20}});return a.initProps(d,{shape:{width:s.width+20,height:s.height+20}},u,l),d}return ch=n,ch}var fh,mx;function v3(){if(mx)return fh;mx=1;var e=Z,t=Oe();function r(o,v){o.eachSeriesByType("themeRiver",function(f){var n=f.getData(),h=f.coordinateSystem,s={},u=h.getRect();s.rect=u;var l=f.get("boundaryGap"),d=h.getAxis();if(s.boundaryGap=l,d.orient==="horizontal"){l[0]=t.parsePercent(l[0],u.height),l[1]=t.parsePercent(l[1],u.height);var c=u.height-l[0]-l[1];a(n,f,c)}else{l[0]=t.parsePercent(l[0],u.width),l[1]=t.parsePercent(l[1],u.width);var p=u.width-l[0]-l[1];a(n,f,p)}n.setLayout("layoutInfo",s)})}function a(o,v,f){if(o.count())for(var n=v.coordinateSystem,h=v.getLayerSeries(),s=o.mapDimension("single"),u=o.mapDimension("value"),l=e.map(h,function(T){return e.map(T.indices,function(S){var x=n.dataToPoint(o.get(s,S));return x[1]=o.get(u,S),x})}),d=i(l),c=d.y0,p=f/d.max,g=h.length,m=h[0].indices.length,y,_=0;_<m;++_){y=c[_]*p,o.setItemLayout(h[0].indices[_],{layerIndex:0,x:l[0][_][0],y0:y,y:l[0][_][1]*p});for(var b=1;b<g;++b)y+=l[b-1][_][1]*p,o.setItemLayout(h[b].indices[_],{layerIndex:b,x:l[b][_][0],y0:y,y:l[b][_][1]*p})}}function i(o){for(var v=o.length,f=o[0].length,n=[],h=[],s=0,u,l={},d=0;d<f;++d){for(var c=0,u=0;c<v;++c)u+=o[c][d][1];u>s&&(s=u),n.push(u)}for(var p=0;p<f;++p)h[p]=(s-n[p])/2;s=0;for(var g=0;g<f;++g){var m=n[g]+h[g];m>s&&(s=m)}return l.y0=h,l.max=s,l}return fh=r,fh}var dh,yx;function h3(){if(yx)return dh;yx=1;var e=Z,t=e.createHashMap;function r(a){a.eachSeriesByType("themeRiver",function(i){var o=i.getData(),v=i.getRawData(),f=i.get("color"),n=t();o.each(function(h){n.set(o.getRawIndex(h),h)}),v.each(function(h){var s=v.getName(h),u=f[(i.nameMap.get(s)-1)%f.length];v.setItemVisual(h,"color",u);var l=n.get(h);l!=null&&o.setItemVisual(l,"color",u)})})}return dh=r,dh}var _x;function c3(){if(_x)return Y1;_x=1;var e=we;iM(),l3(),u3();var t=v3(),r=h3(),a=Cn();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(a("themeRiver")),Y1}var xx={},gh,Sx;function f3(){if(Sx)return gh;Sx=1;var e=Z,t=ft,r=zd(),a=Ma(),i=a.wrapTreePathInfo,o=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(f,n){var h={name:f.name,children:f.data};v(h);var s=f.levels||[],u={};return u.levels=s,r.createTree(h,this,u).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(f){var n=t.prototype.getDataParams.apply(this,arguments),h=this.getData().tree.getNodeByDataIndex(f);return n.treePathInfo=i(h,this),n},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(f){f?this._viewRoot=f:f=this._viewRoot;var n=this.getRawData().tree.root;(!f||f!==n&&!n.contains(f))&&(this._viewRoot=n)}});function v(f){var n=0;e.each(f.children,function(s){v(s);var u=s.value;e.isArray(u)&&(u=u[0]),n+=u});var h=f.value;e.isArray(h)&&(h=h[0]),(h==null||isNaN(h))&&(h=n),h<0&&(h=0),e.isArray(f.value)?f.value[0]=h:f.value=h}return gh=o,gh}var ph,bx;function d3(){if(bx)return ph;bx=1;var e=Z,t=ye,r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},a=2,i=4;function o(l,d,c){t.Group.call(this);var p=new t.Sector({z2:a});p.seriesIndex=d.seriesIndex;var g=new t.Text({z2:i,silent:l.getModel("label").get("silent")});this.add(p),this.add(g),this.updateData(!0,l,"normal",d,c);function m(){g.ignore=g.hoverIgnore}function y(){g.ignore=g.normalIgnore}this.on("emphasis",m).on("normal",y).on("mouseover",m).on("mouseout",y)}var v=o.prototype;v.updateData=function(l,d,c,p,g){this.node=d,d.piece=this,p=p||this._seriesModel,g=g||this._ecModel;var m=this.childAt(0);m.dataIndex=d.dataIndex;var y=d.getModel(),_=d.getLayout(),b=e.extend({},_);b.label=null;var T=n(d,p,g);u(d,p,T);var S=y.getModel("itemStyle").getItemStyle(),x;if(c==="normal")x=S;else{var w=y.getModel(c+".itemStyle").getItemStyle();x=e.merge(w,S)}x=e.defaults({lineJoin:"bevel",fill:x.fill||T},x),l?(m.setShape(b),m.shape.r=_.r0,t.updateProps(m,{shape:{r:_.r}},p,d.dataIndex),m.useStyle(x)):typeof x.fill=="object"&&x.fill.type||typeof m.style.fill=="object"&&m.style.fill.type?(t.updateProps(m,{shape:b},p),m.useStyle(x)):t.updateProps(m,{shape:b,style:x},p),this._updateLabel(p,T,c);var A=y.getShallow("cursor");if(A&&m.attr("cursor",A),l){var C=p.getShallow("highlightPolicy");this._initEvents(m,d,p,C)}this._seriesModel=p||this._seriesModel,this._ecModel=g||this._ecModel},v.onEmphasis=function(l){var d=this;this.node.hostTree.root.eachNode(function(c){c.piece&&(d.node===c?c.piece.updateData(!1,c,"emphasis"):s(c,d.node,l)?c.piece.childAt(0).trigger("highlight"):l!==r.NONE&&c.piece.childAt(0).trigger("downplay"))})},v.onNormal=function(){this.node.hostTree.root.eachNode(function(l){l.piece&&l.piece.updateData(!1,l,"normal")})},v.onHighlight=function(){this.updateData(!1,this.node,"highlight")},v.onDownplay=function(){this.updateData(!1,this.node,"downplay")},v._updateLabel=function(l,d,c){var p=this.node.getModel(),g=p.getModel("label"),m=c==="normal"||c==="emphasis"?g:p.getModel(c+".label"),y=p.getModel("emphasis.label"),_=e.retrieve(l.getFormattedLabel(this.node.dataIndex,c,null,null,"label"),this.node.name);G("show")===!1&&(_="");var b=this.node.getLayout(),T=m.get("minAngle");T==null&&(T=g.get("minAngle")),T=T/180*Math.PI;var S=b.endAngle-b.startAngle;T!=null&&Math.abs(S)<T&&(_="");var x=this.childAt(1);t.setLabelStyle(x.style,x.hoverStyle||{},g,y,{defaultText:m.getShallow("show")?_:null,autoColor:d,useInsideStyle:!0});var w=(b.startAngle+b.endAngle)/2,A=Math.cos(w),C=Math.sin(w),M,D=G("position"),L=G("distance")||0,P=G("align");D==="outside"?(M=b.r+L,P=w>Math.PI/2?"right":"left"):!P||P==="center"?(M=(b.r+b.r0)/2,P="center"):P==="left"?(M=b.r0+L,w>Math.PI/2&&(P="right")):P==="right"&&(M=b.r-L,w>Math.PI/2&&(P="left")),x.attr("style",{text:_,textAlign:P,textVerticalAlign:G("verticalAlign")||"middle",opacity:G("opacity")});var R=M*A+b.cx,k=M*C+b.cy;x.attr("position",[R,k]);var z=G("rotate"),B=0;z==="radial"?(B=-w,B<-Math.PI/2&&(B+=Math.PI)):z==="tangential"?(B=Math.PI/2-w,B>Math.PI/2?B-=Math.PI:B<-Math.PI/2&&(B+=Math.PI)):typeof z=="number"&&(B=z*Math.PI/180),x.attr("rotation",B);function G(V){var I=m.get(V);return I??g.get(V)}},v._initEvents=function(l,d,c,p){l.off("mouseover").off("mouseout").off("emphasis").off("normal");var g=this,m=function(){g.onEmphasis(p)},y=function(){g.onNormal()},_=function(){g.onDownplay()},b=function(){g.onHighlight()};c.isAnimationEnabled()&&l.on("mouseover",m).on("mouseout",y).on("emphasis",m).on("normal",y).on("downplay",_).on("highlight",b)},e.inherits(o,t.Group);var f=o;function n(l,d,c){var p=l.getVisual("color"),g=l.getVisual("visualMeta");(!g||g.length===0)&&(p=null);var m=l.getModel("itemStyle").get("color");if(m)return m;if(p)return p;if(l.depth===0)return c.option.color[0];var y=c.option.color.length;return m=c.option.color[h(l)%y],m}function h(l){for(var d=l;d.depth>1;)d=d.parentNode;var c=l.getAncestors()[0];return e.indexOf(c.children,d)}function s(l,d,c){return c===r.NONE?!1:c===r.SELF?l===d:c===r.ANCESTOR?l===d||l.isAncestorOf(d):l===d||l.isDescendantOf(d)}function u(l,d,c){var p=d.getData();p.setItemVisual(l.dataIndex,"color",c)}return ph=f,ph}var mh,Ax;function g3(){if(Ax)return mh;Ax=1;var e=Z,t=wr,r=d3(),a=Aa(),i="sunburstRootToNode",o=t.extend({type:"sunburst",init:function(){},render:function(f,n,h,s){var u=this;this.seriesModel=f,this.api=h,this.ecModel=n;var l=f.getData(),d=l.tree.root,c=f.getViewRoot(),p=this.group,g=f.get("renderLabelForZeroData"),m=[];c.eachNode(function(A){m.push(A)});var y=this._oldChildren||[];if(T(m,y),w(d,c),s&&s.highlight&&s.highlight.piece){var _=f.getShallow("highlightPolicy");s.highlight.piece.onEmphasis(_)}else if(s&&s.unhighlight){var b=this.virtualPiece;!b&&d.children.length&&(b=d.children[0].piece),b&&b.onNormal()}this._initEvents(),this._oldChildren=m;function T(A,C){if(A.length===0&&C.length===0)return;new a(C,A,M,M).add(D).update(D).remove(e.curry(D,null)).execute();function M(L){return L.getId()}function D(L,P){var R=L==null?null:A[L],k=P==null?null:C[P];S(R,k)}}function S(A,C){if(!g&&A&&!A.getValue()&&(A=null),A!==d&&C!==d){if(C&&C.piece)A?(C.piece.updateData(!1,A,"normal",f,n),l.setItemGraphicEl(A.dataIndex,C.piece)):x(C);else if(A){var M=new r(A,f,n);p.add(M),l.setItemGraphicEl(A.dataIndex,M)}}}function x(A){A&&A.piece&&(p.remove(A.piece),A.piece=null)}function w(A,C){if(C.depth>0){u.virtualPiece?u.virtualPiece.updateData(!1,A,"normal",f,n):(u.virtualPiece=new r(A,f,n),p.add(u.virtualPiece)),C.piece._onclickEvent&&C.piece.off("click",C.piece._onclickEvent);var M=function(D){u._rootToNode(C.parentNode)};C.piece._onclickEvent=M,u.virtualPiece.on("click",M)}else u.virtualPiece&&(p.remove(u.virtualPiece),u.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var f=this,n=function(h){var s=!1,u=f.seriesModel.getViewRoot();u.eachNode(function(l){if(!s&&l.piece&&l.piece.childAt(0)===h.target){var d=l.getModel().get("nodeClick");if(d==="rootToNode")f._rootToNode(l);else if(d==="link"){var c=l.getModel(),p=c.get("link");if(p){var g=c.get("target",!0)||"_blank";window.open(p,g)}}s=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",n),this.group._onclickEvent=n},_rootToNode:function(f){f!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:i,from:this.uid,seriesId:this.seriesModel.id,targetNode:f})},containPoint:function(f,n){var h=n.getData(),s=h.getItemLayout(0);if(s){var u=f[0]-s.cx,l=f[1]-s.cy,d=Math.sqrt(u*u+l*l);return d<=s.r&&d>=s.r0}}}),v=o;return mh=v,mh}var Tx={},Cx;function p3(){if(Cx)return Tx;Cx=1;var e=we,t=Ma(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(o,v){v.eachComponent({mainType:"series",subType:"sunburst",query:o},f);function f(n,h){var s=t.retrieveTargetInfo(o,[r],n);if(s){var u=n.getViewRoot();u&&(o.direction=t.aboveViewRoot(u,s.node)?"rollUp":"drillDown"),n.resetViewRoot(s.node)}}});var a="sunburstHighlight";e.registerAction({type:a,update:"updateView"},function(o,v){v.eachComponent({mainType:"series",subType:"sunburst",query:o},f);function f(n,h){var s=t.retrieveTargetInfo(o,[a],n);s&&(o.highlight=s.node)}});var i="sunburstUnhighlight";return e.registerAction({type:i,update:"updateView"},function(o,v){v.eachComponent({mainType:"series",subType:"sunburst",query:o},f);function f(n,h){o.unhighlight=!0}}),Tx}var yh,Mx;function m3(){if(Mx)return yh;Mx=1;var e=Oe(),t=e.parsePercent,r=Z,a=Math.PI/180;function i(f,n,h,s){n.eachSeriesByType(f,function(u){var l=u.get("center"),d=u.get("radius");r.isArray(d)||(d=[0,d]),r.isArray(l)||(l=[l,l]);var c=h.getWidth(),p=h.getHeight(),g=Math.min(c,p),m=t(l[0],c),y=t(l[1],p),_=t(d[0],g/2),b=t(d[1],g/2),T=-u.get("startAngle")*a,S=u.get("minAngle")*a,x=u.getData().tree.root,w=u.getViewRoot(),A=w.depth,C=u.get("sort");C!=null&&o(w,C);var M=0;r.each(w.children,function(N){!isNaN(N.getValue())&&M++});var D=w.getValue(),L=Math.PI/(D||M)*2,P=w.depth>0,R=w.height-(P?-1:1),k=(b-_)/(R||1),z=u.get("clockwise"),B=u.get("stillShowZeroSum"),G=z?1:-1,V=function(N,q){if(N){var H=q;if(N!==x){var F=N.getValue(),U=D===0&&B?L:F*L;U<S&&(U=S),H=q+G*U;var W=N.depth-A-(P?-1:1),Y=_+k*W,Q=_+k*(W+1),ee=N.getModel();ee.get("r0")!=null&&(Y=t(ee.get("r0"),g/2)),ee.get("r")!=null&&(Q=t(ee.get("r"),g/2)),N.setLayout({angle:U,startAngle:q,endAngle:H,clockwise:z,cx:m,cy:y,r0:Y,r:Q})}if(N.children&&N.children.length){var j=0;r.each(N.children,function(re){j+=V(re,q+j)})}return H-q}};if(P){var I=_,O=_+k,E=Math.PI*2;x.setLayout({angle:E,startAngle:T,endAngle:T+E,clockwise:z,cx:m,cy:y,r0:I,r:O})}V(w,T)})}function o(f,n){var h=f.children||[];f.children=v(h,n),h.length&&r.each(f.children,function(s){o(s,n)})}function v(f,n){if(typeof n=="function")return f.sort(n);var h=n==="asc";return f.sort(function(s,u){var l=(s.getValue()-u.getValue())*(h?1:-1);return l===0?(s.dataIndex-u.dataIndex)*(h?-1:1):l})}return yh=i,yh}var Dx;function y3(){if(Dx)return xx;Dx=1;var e=we,t=Z;f3(),g3(),p3();var r=is(),a=m3(),i=Cn();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(a,"sunburst")),e.registerProcessor(t.curry(i,"sunburst")),xx}var Lx={},_h,Px;function _3(){if(Px)return _h;Px=1;var e=Z;function t(a,i){return i=i||[0,0],e.map(["x","y"],function(o,v){var f=this.getAxis(o),n=i[v],h=a[v]/2;return f.type==="category"?f.getBandWidth():Math.abs(f.dataToCoord(n-h)-f.dataToCoord(n+h))},this)}function r(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return _h=r,_h}var xh,Ix;function x3(){if(Ix)return xh;Ix=1;var e=Z;function t(a,i){return i=i||[0,0],e.map([0,1],function(o){var v=i[o],f=a[o]/2,n=[],h=[];return n[o]=v-f,h[o]=v+f,n[1-o]=h[1-o]=i[1-o],Math.abs(this.dataToPoint(n)[o]-this.dataToPoint(h)[o])},this)}function r(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:a.getZoom()},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return xh=r,xh}var Sh,Rx;function S3(){if(Rx)return Sh;Rx=1;var e=Z;function t(a,i){var o=this.getAxis(),v=i instanceof Array?i[0]:i,f=(a instanceof Array?a[0]:a)/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(v-f)-o.dataToCoord(v+f))}function r(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return Sh=r,Sh}var bh,Ex;function b3(){if(Ex)return bh;Ex=1;var e=Z;function t(a,i){return e.map(["Radius","Angle"],function(o,v){var f=this["get"+o+"Axis"](),n=i[v],h=a[v]/2,s="dataTo"+o,u=f.type==="category"?f.getBandWidth():Math.abs(f[s](n-h)-f[s](n+h));return o==="Angle"&&(u=u*Math.PI/180),u},this)}function r(a){var i=a.getRadiusAxis(),o=a.getAngleAxis(),v=i.getExtent();return v[0]>v[1]&&v.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:v[1],r0:v[0]},api:{coord:e.bind(function(f){var n=i.dataToRadius(f[0]),h=o.dataToAngle(f[1]),s=a.coordToPoint([n,h]);return s.push(n,h*Math.PI/180),s}),size:e.bind(t,a)}}}return bh=r,bh}var wh,kx;function w3(){if(kx)return wh;kx=1;function e(t){var r=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(i,o){return t.dataToPoint(i,o)}}}}return wh=e,wh}var Ox;function A3(){if(Ox)return Lx;Ox=1;var e=Z,t=ye,r=Ld(),a=r.getDefaultLabel,i=Br(),o=es(),v=o.getLayoutOnAxis,f=Aa(),n=ft,h=vt,s=wr,u=bn(),l=u.createClipPath,d=_3(),c=x3(),p=S3(),g=b3(),m=w3(),y=t.CACHED_LABEL_STYLE_PROPERTIES,_=["itemStyle"],b=["emphasis","itemStyle"],T=["label"],S=["emphasis","label"],x="e\0\0",w={cartesian2d:d,geo:c,singleAxis:p,polar:g,calendar:m};n.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(H,F){return i(this.getSource(),this)},getDataParams:function(H,F,U){var W=n.prototype.getDataParams.apply(this,arguments);return U&&(W.info=U.info),W}}),s.extend({type:"custom",_data:null,render:function(H,F,U,W){var Y=this._data,Q=H.getData(),ee=this.group,j=D(H,Q,F,U);Q.diff(Y).add(function(ae){P(null,ae,j(ae,W),H,ee,Q)}).update(function(ae,ne){var de=Y.getItemGraphicEl(ne);P(de,ae,j(ae,W),H,ee,Q)}).remove(function(ae){var ne=Y.getItemGraphicEl(ae);ne&&ee.remove(ne)}).execute();var re=H.get("clip",!0)?l(H.coordinateSystem,!1,H):null;re?ee.setClipPath(re):ee.removeClipPath(),this._data=Q},incrementalPrepareRender:function(H,F,U){this.group.removeAll(),this._data=null},incrementalRender:function(H,F,U,W,Y){var Q=F.getData(),ee=D(F,Q,U,W);function j(ne){ne.isGroup||(ne.incremental=!0,ne.useHoverLayer=!0)}for(var re=H.start;re<H.end;re++){var ae=P(null,re,ee(re,Y),F,this.group,Q);ae.traverse(j)}},dispose:e.noop,filterForExposedEvent:function(H,F,U,W){var Y=F.element;if(Y==null||U.name===Y)return!0;for(;(U=U.parent)&&U!==this.group;)if(U.name===Y)return!0;return!1}});function A(H){var F=H.type,U;if(F==="path"){var W=H.shape,Y=W.width!=null&&W.height!=null?{x:W.x||0,y:W.y||0,width:W.width,height:W.height}:null,Q=E(W);U=t.makePath(Q,null,Y,W.layout||"center"),U.__customPathData=Q}else if(F==="image")U=new t.Image({}),U.__customImagePath=H.style.image;else if(F==="text")U=new t.Text({}),U.__customText=H.style.text;else if(F==="group")U=new t.Group;else{if(F==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var ee=t.getShapeClass(F);U=new ee}return U.__customGraphicType=F,U.name=H.name,U}function C(H,F,U,W,Y,Q,ee){var j={},re=U.style||{};if(U.shape&&(j.shape=e.clone(U.shape)),U.position&&(j.position=U.position.slice()),U.scale&&(j.scale=U.scale.slice()),U.origin&&(j.origin=U.origin.slice()),U.rotation&&(j.rotation=U.rotation),H.type==="image"&&U.style){var ae=j.style={};e.each(["x","y","width","height"],function(te){M(te,ae,re,H.style,Q)})}if(H.type==="text"&&U.style){var ae=j.style={};e.each(["x","y"],function(se){M(se,ae,re,H.style,Q)}),!re.hasOwnProperty("textFill")&&re.fill&&(re.textFill=re.fill),!re.hasOwnProperty("textStroke")&&re.stroke&&(re.textStroke=re.stroke)}if(H.type!=="group"&&(H.useStyle(re),Q)){H.style.opacity=0;var ne=re.opacity;ne==null&&(ne=1),t.initProps(H,{style:{opacity:ne}},W,F)}Q?H.attr(j):t.updateProps(H,j,W,F),U.hasOwnProperty("z2")&&H.attr("z2",U.z2||0),U.hasOwnProperty("silent")&&H.attr("silent",U.silent),U.hasOwnProperty("invisible")&&H.attr("invisible",U.invisible),U.hasOwnProperty("ignore")&&H.attr("ignore",U.ignore),U.hasOwnProperty("info")&&H.attr("info",U.info);var de=U.styleEmphasis;t.setElementHoverStyle(H,de),ee&&t.setAsHighDownDispatcher(H,de!==!1)}function M(H,F,U,W,Y){U[H]!=null&&!Y&&(F[H]=U[H],U[H]=W[H])}function D(H,F,U,W){var Y=H.get("renderItem"),Q=H.coordinateSystem,ee={};Q&&(ee=Q.prepareCustoms?Q.prepareCustoms():w[Q.type](Q));var j=e.defaults({getWidth:W.getWidth,getHeight:W.getHeight,getZr:W.getZr,getDevicePixelRatio:W.getDevicePixelRatio,value:ve,style:Se,styleEmphasis:X,visual:J,barLayout:ie,currentSeriesIndices:ce,font:ue},ee.api||{}),re={context:{},seriesId:H.id,seriesName:H.name,seriesIndex:H.seriesIndex,coordSys:ee.coordSys,dataInsideLength:F.count(),encode:L(H.getData())},ae,ne=!0,de,te,se,Te;return function(fe,_e){return ae=fe,ne=!0,Y&&Y(e.defaults({dataIndexInside:fe,dataIndex:F.getRawIndex(fe),actionType:_e?_e.type:null},re),j)};function le(fe){fe==null&&(fe=ae),ne&&(de=F.getItemModel(fe),te=de.getModel(T),se=de.getModel(S),Te=F.getItemVisual(fe,"color"),ne=!1)}function ve(fe,_e){return _e==null&&(_e=ae),F.get(F.getDimension(fe||0),_e)}function Se(fe,_e){_e==null&&(_e=ae),le(_e);var Ce=de.getModel(_).getItemStyle();Te!=null&&(Ce.fill=Te);var xe=F.getItemVisual(_e,"opacity");xe!=null&&(Ce.opacity=xe);var pe=fe?V(fe,te):te;return t.setTextStyle(Ce,pe,null,{autoColor:Te,isRectText:!0}),Ce.text=pe.getShallow("show")?e.retrieve2(H.getFormattedLabel(_e,"normal"),a(F,_e)):null,fe&&I(Ce,fe),Ce}function X(fe,_e){_e==null&&(_e=ae),le(_e);var Ce=de.getModel(b).getItemStyle(),xe=fe?V(fe,se):se;return t.setTextStyle(Ce,xe,null,{isRectText:!0},!0),Ce.text=xe.getShallow("show")?e.retrieve3(H.getFormattedLabel(_e,"emphasis"),H.getFormattedLabel(_e,"normal"),a(F,_e)):null,fe&&I(Ce,fe),Ce}function J(fe,_e){return _e==null&&(_e=ae),F.getItemVisual(_e,fe)}function ie(fe){if(Q.getBaseAxis){var _e=Q.getBaseAxis();return v(e.defaults({axis:_e},fe),W)}}function ce(){return U.getCurrentSeriesIndices()}function ue(fe){return t.getFont(fe,U)}}function L(H){var F={};return e.each(H.dimensions,function(U,W){var Y=H.getDimensionInfo(U);if(!Y.isExtraCoord){var Q=Y.coordDim,ee=F[Q]=F[Q]||[];ee[Y.coordDimIndex]=W}}),F}function P(H,F,U,W,Y,Q){return H=R(H,F,U,W,Y,Q,!0),H&&Q.setItemGraphicEl(F,H),H}function R(H,F,U,W,Y,Q,ee){var j=!U;U=U||{};var re=U.type,ae=U.shape,ne=U.style;if(H&&(j||re!=null&&re!==H.__customGraphicType||re==="path"&&N(ae)&&E(ae)!==H.__customPathData||re==="image"&&q(ne,"image")&&ne.image!==H.__customImagePath||re==="text"&&q(ae,"text")&&ne.text!==H.__customText)&&(Y.remove(H),H=null),!j){var de=!H;return!H&&(H=A(U)),C(H,F,U,W,Q,de,ee),re==="group"&&k(H,F,U,W,Q),Y.add(H),H}}function k(H,F,U,W,Y){var Q=U.children,ee=Q?Q.length:0,j=U.$mergeChildren,re=j==="byName"||U.diffChildrenByName,ae=j===!1;if(!(!ee&&!re&&!ae)){if(re){z({oldChildren:H.children()||[],newChildren:Q||[],dataIndex:F,animatableModel:W,group:H,data:Y});return}ae&&H.removeAll();for(var ne=0;ne<ee;ne++)Q[ne]&&R(H.childAt(ne),F,Q[ne],W,H,Y)}}function z(H){new f(H.oldChildren,H.newChildren,B,B,H).add(G).update(G).remove(O).execute()}function B(H,F){var U=H&&H.name;return U??x+F}function G(H,F){var U=this.context,W=H!=null?U.newChildren[H]:null,Y=F!=null?U.oldChildren[F]:null;R(Y,U.dataIndex,W,U.animatableModel,U.group,U.data)}function V(H,F){var U=new h({},F);return e.each(y,function(W,Y){H.hasOwnProperty(W)&&(U.option[Y]=H[W])}),U}function I(H,F){for(var U in F)(F.hasOwnProperty(U)||!y.hasOwnProperty(U))&&(H[U]=F[U])}function O(H){var F=this.context,U=F.oldChildren[H];U&&F.group.remove(U)}function E(H){return H&&(H.pathData||H.d)}function N(H){return H&&(H.hasOwnProperty("pathData")||H.hasOwnProperty("d"))}function q(H,F){return H&&H.hasOwnProperty(F)}return Lx}var zx={},Bx;function T3(){return Bx||(Bx=1,An(),aM(),Dn()),zx}var Nx={},Ah,Vx;function C3(){if(Vx)return Ah;Vx=1;var e=Z,t=Oe(),r=t.parsePercent,a=Ar(),i=a.isDimensionStacked;function o(s){return s.get("stack")||"__ec_stack_"+s.seriesIndex}function v(s,u){return u.dim+s.model.componentIndex}function f(s,u,l){var d={},c=n(e.filter(u.getSeriesByType(s),function(p){return!u.isSeriesFiltered(p)&&p.coordinateSystem&&p.coordinateSystem.type==="polar"}));u.eachSeriesByType(s,function(p){if(p.coordinateSystem.type==="polar"){var g=p.getData(),m=p.coordinateSystem,y=m.getBaseAxis(),_=v(m,y),b=o(p),T=c[_][b],S=T.offset,x=T.width,w=m.getOtherAxis(y),A=p.coordinateSystem.cx,C=p.coordinateSystem.cy,M=p.get("barMinHeight")||0,D=p.get("barMinAngle")||0;d[b]=d[b]||[];for(var L=g.mapDimension(w.dim),P=g.mapDimension(y.dim),R=i(g,L),k=y.dim!=="radius"||!p.get("roundCap",!0),z=w.getExtent()[0],B=0,G=g.count();B<G;B++){var V=g.get(L,B),I=g.get(P,B),O=V>=0?"p":"n",E=z;R&&(d[b][I]||(d[b][I]={p:z,n:z}),E=d[b][I][O]);var N,q,H,F;if(w.dim==="radius"){var U=w.dataToRadius(V)-z,W=y.dataToAngle(I);Math.abs(U)<M&&(U=(U<0?-1:1)*M),N=E,q=E+U,H=W-S,F=H-x,R&&(d[b][I][O]=q)}else{var Y=w.dataToAngle(V,k)-z,Q=y.dataToRadius(I);Math.abs(Y)<D&&(Y=(Y<0?-1:1)*D),N=Q+S,q=N+x,H=E,F=E+Y,R&&(d[b][I][O]=F)}g.setItemLayout(B,{cx:A,cy:C,r0:N,r:q,startAngle:-H*Math.PI/180,endAngle:-F*Math.PI/180})}}},this)}function n(s,u){var l={};e.each(s,function(c,p){var g=c.getData(),m=c.coordinateSystem,y=m.getBaseAxis(),_=v(m,y),b=y.getExtent(),T=y.type==="category"?y.getBandWidth():Math.abs(b[1]-b[0])/g.count(),S=l[_]||{bandWidth:T,remainedWidth:T,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},x=S.stacks;l[_]=S;var w=o(c);x[w]||S.autoWidthCount++,x[w]=x[w]||{width:0,maxWidth:0};var A=r(c.get("barWidth"),T),C=r(c.get("barMaxWidth"),T),M=c.get("barGap"),D=c.get("barCategoryGap");A&&!x[w].width&&(A=Math.min(S.remainedWidth,A),x[w].width=A,S.remainedWidth-=A),C&&(x[w].maxWidth=C),M!=null&&(S.gap=M),D!=null&&(S.categoryGap=D)});var d={};return e.each(l,function(c,p){d[p]={};var g=c.stacks,m=c.bandWidth,y=r(c.categoryGap,m),_=r(c.gap,1),b=c.remainedWidth,T=c.autoWidthCount,S=(b-y)/(T+(T-1)*_);S=Math.max(S,0),e.each(g,function(C,M){var D=C.maxWidth;D&&D<S&&(D=Math.min(D,b),C.width&&(D=Math.min(D,C.width)),b-=D,C.width=D,T--)}),S=(b-y)/(T+(T-1)*_),S=Math.max(S,0);var x=0,w;e.each(g,function(C,M){C.width||(C.width=S),w=C,x+=C.width*(1+_)}),w&&(x-=w.width*_);var A=-x/2;e.each(g,function(C,M){d[p][M]=d[p][M]||{offset:A,width:C.width},A+=C.width*(1+_)})}),d}var h=f;return Ah=h,Ah}var Hx={},Th,qx;function M3(){if(qx)return Th;qx=1;var e=Z,t=aa();function r(i,o){t.call(this,"radius",i,o),this.type="category"}r.prototype={constructor:r,pointToData:function(i,o){return this.polar.pointToData(i,o)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return Th=a,Th}var Ch,Gx;function D3(){if(Gx)return Ch;Gx=1;var e=Z,t=$t(),r=aa(),a=Re,i=a.makeInner,o=i();function v(n,h){h=h||[0,360],r.call(this,"angle",n,h),this.type="category"}v.prototype={constructor:v,pointToData:function(n,h){return this.polar.pointToData(n,h)[this.dim==="radius"?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var n=this,h=n.getLabelModel(),s=n.scale,u=s.getExtent(),l=s.count();if(u[1]-u[0]<1)return 0;var d=u[0],c=n.dataToCoord(d+1)-n.dataToCoord(d),p=Math.abs(c),g=t.getBoundingRect(d,h.getFont(),"center","top"),m=Math.max(g.height,7),y=m/p;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),b=o(n.model),T=b.lastAutoInterval,S=b.lastTickCount;return T!=null&&S!=null&&Math.abs(T-_)<=1&&Math.abs(S-l)<=1&&T>_?_=T:(b.lastTickCount=l,b.lastAutoInterval=_),_}},e.inherits(v,r);var f=v;return Ch=f,Ch}var Mh,Fx;function L3(){if(Fx)return Mh;Fx=1;var e=M3(),t=D3(),r=function(i){this.name=i||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(i){var o=this.pointToCoord(i);return this._radiusAxis.contain(o[0])&&this._angleAxis.contain(o[1])},containData:function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},getAxis:function(i){return this["_"+i+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(i){var o=[],v=this._angleAxis,f=this._radiusAxis;return v.scale.type===i&&o.push(v),f.scale.type===i&&o.push(f),o},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var o=this._angleAxis;return i===o?this._radiusAxis:o},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var o=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[o],otherAxes:[this.getOtherAxis(o)]}},dataToPoint:function(i,o){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],o),this._angleAxis.dataToAngle(i[1],o)])},pointToData:function(i,o){var v=this.pointToCoord(i);return[this._radiusAxis.radiusToData(v[0],o),this._angleAxis.angleToData(v[1],o)]},pointToCoord:function(i){var o=i[0]-this.cx,v=i[1]-this.cy,f=this.getAngleAxis(),n=f.getExtent(),h=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);f.inverse?h=s-360:s=h+360;var u=Math.sqrt(o*o+v*v);o/=u,v/=u;for(var l=Math.atan2(-v,o)/Math.PI*180,d=l<h?1:-1;l<h||l>s;)l+=d*360;return[u,l]},coordToPoint:function(i){var o=i[0],v=i[1]/180*Math.PI,f=Math.cos(v)*o+this.cx,n=-Math.sin(v)*o+this.cy;return[f,n]},getArea:function(){var i=this.getAngleAxis(),o=this.getRadiusAxis(),v=o.getExtent().slice();v[0]>v[1]&&v.reverse();var f=i.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:v[0],r:v[1],startAngle:-f[0]*n,endAngle:-f[1]*n,clockwise:i.inverse,contain:function(h,s){var u=h-this.cx,l=s-this.cy,d=u*u+l*l,c=this.r,p=this.r0;return d<=c*c&&d>=p*p}}}};var a=r;return Mh=a,Mh}var $x={},Ux;function P3(){if(Ux)return $x;Ux=1;var e=Z,t=ct,r=rs(),a=pi(),i=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(i.prototype,a);var o={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function v(f,n){return n.type||(n.data?"category":"value")}return r("angle",i,v,o.angle),r("radius",i,v,o.radius),$x}var Dh,Wx;function I3(){if(Wx)return Dh;Wx=1;var e=we;P3();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var a,i=this.ecModel;return i.eachComponent(r,function(o){o.getCoordSysModel()===this&&(a=o)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return Dh=t,Dh}var Zx;function Gd(){if(Zx)return Hx;Zx=1;var e=Z,t=L3(),r=Oe(),a=r.parsePercent,i=sr(),o=i.createScaleByModel,v=i.niceScaleExtent,f=br,n=Ar(),h=n.getStackedDimension;I3();function s(c,p,g){var m=p.get("center"),y=g.getWidth(),_=g.getHeight();c.cx=a(m[0],y),c.cy=a(m[1],_);var b=c.getRadiusAxis(),T=Math.min(y,_)/2,S=p.get("radius");S==null?S=[0,"100%"]:e.isArray(S)||(S=[0,S]),S=[a(S[0],T),a(S[1],T)],b.inverse?b.setExtent(S[1],S[0]):b.setExtent(S[0],S[1])}function u(c,p){var g=this,m=g.getAngleAxis(),y=g.getRadiusAxis();if(m.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),c.eachSeries(function(T){if(T.coordinateSystem===g){var S=T.getData();e.each(S.mapDimension("radius",!0),function(x){y.scale.unionExtentFromData(S,h(S,x))}),e.each(S.mapDimension("angle",!0),function(x){m.scale.unionExtentFromData(S,h(S,x))})}}),v(m.scale,m.model),v(y.scale,y.model),m.type==="category"&&!m.onBand){var _=m.getExtent(),b=360/m.scale.count();m.inverse?_[1]+=b:_[1]-=b,m.setExtent(_[0],_[1])}}function l(c,p){if(c.type=p.get("type"),c.scale=o(p),c.onBand=p.get("boundaryGap")&&c.type==="category",c.inverse=p.get("inverse"),p.mainType==="angleAxis"){c.inverse^=p.get("clockwise");var g=p.get("startAngle");c.setExtent(g,g+(c.inverse?-360:360))}p.axis=c,c.model=p}var d={dimensions:t.prototype.dimensions,create:function(c,p){var g=[];return c.eachComponent("polar",function(m,y){var _=new t(y);_.update=u;var b=_.getRadiusAxis(),T=_.getAngleAxis(),S=m.findAxisModel("radiusAxis"),x=m.findAxisModel("angleAxis");l(b,S),l(T,x),s(_,m,p),g.push(_),m.coordinateSystem=_,_.model=m}),c.eachSeries(function(m){if(m.get("coordinateSystem")==="polar"){var y=c.queryComponents({mainType:"polar",index:m.get("polarIndex"),id:m.get("polarId")})[0];m.coordinateSystem=y.coordinateSystem}}),g}};return f.register("polar",d),Hx}var Yx={},Lh,Xx;function R3(){if(Xx)return Lh;Xx=1;var e=Z,t=ye,r=vt,a=Ca(),i=ia(),o=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function v(s,u,l){u[1]>u[0]&&(u=u.slice().reverse());var d=s.coordToPoint([u[0],l]),c=s.coordToPoint([u[1],l]);return{x1:d[0],y1:d[1],x2:c[0],y2:c[1]}}function f(s){var u=s.getRadiusAxis();return u.inverse?0:1}function n(s){var u=s[0],l=s[s.length-1];u&&l&&Math.abs(Math.abs(u.coord-l.coord)-360)<1e-4&&s.pop()}var h=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(s,u){if(this.group.removeAll(),!!s.get("show")){var l=s.axis,d=l.polar,c=d.getRadiusAxis().getExtent(),p=l.getTicksCoords(),g=l.getMinorTicksCoords(),m=e.map(l.getViewLabels(),function(_){var _=e.clone(_);return _.coord=l.dataToCoord(_.tickValue),_});n(m),n(p),e.each(o,function(y){s.get(y+".show")&&(!l.scale.isBlank()||y==="axisLine")&&this["_"+y](s,d,p,g,c,m)},this)}},_axisLine:function(s,u,l,d,c){var p=s.getModel("axisLine.lineStyle"),g=f(u),m=g?0:1,y;c[m]===0?y=new t.Circle({shape:{cx:u.cx,cy:u.cy,r:c[g]},style:p.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:u.cx,cy:u.cy,r:c[g],r0:c[m]},style:p.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(s,u,l,d,c){var p=s.getModel("axisTick"),g=(p.get("inside")?-1:1)*p.get("length"),m=c[f(u)],y=e.map(l,function(_){return new t.Line({shape:v(u,[m,m+g],_.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(p.getModel("lineStyle").getLineStyle(),{stroke:s.get("axisLine.lineStyle.color")})}))},_minorTick:function(s,u,l,d,c){if(d.length){for(var p=s.getModel("axisTick"),g=s.getModel("minorTick"),m=(p.get("inside")?-1:1)*g.get("length"),y=c[f(u)],_=[],b=0;b<d.length;b++)for(var T=0;T<d[b].length;T++)_.push(new t.Line({shape:v(u,[y,y+m],d[b][T].coord)}));this.group.add(t.mergePath(_,{style:e.defaults(g.getModel("lineStyle").getLineStyle(),e.defaults(p.getLineStyle(),{stroke:s.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(s,u,l,d,c,p){var g=s.getCategories(!0),m=s.getModel("axisLabel"),y=m.get("margin"),_=s.get("triggerEvent");e.each(p,function(b,T){var S=m,x=b.tickValue,w=c[f(u)],A=u.coordToPoint([w+y,b.coord]),C=u.cx,M=u.cy,D=Math.abs(A[0]-C)/w<.3?"center":A[0]>C?"left":"right",L=Math.abs(A[1]-M)/w<.3?"middle":A[1]>M?"top":"bottom";g&&g[x]&&g[x].textStyle&&(S=new r(g[x].textStyle,m,m.ecModel));var P=new t.Text({silent:i.isLabelSilent(s)});this.group.add(P),t.setTextStyle(P.style,S,{x:A[0],y:A[1],textFill:S.getTextColor()||s.get("axisLine.lineStyle.color"),text:b.formattedLabel,textAlign:D,textVerticalAlign:L}),_&&(P.eventData=i.makeAxisEventDataBase(s),P.eventData.targetType="axisLabel",P.eventData.value=b.rawLabel)},this)},_splitLine:function(s,u,l,d,c){var p=s.getModel("splitLine"),g=p.getModel("lineStyle"),m=g.get("color"),y=0;m=m instanceof Array?m:[m];for(var _=[],b=0;b<l.length;b++){var T=y++%m.length;_[T]=_[T]||[],_[T].push(new t.Line({shape:v(u,c,l[b].coord)}))}for(var b=0;b<_.length;b++)this.group.add(t.mergePath(_[b],{style:e.defaults({stroke:m[b%m.length]},g.getLineStyle()),silent:!0,z:s.get("z")}))},_minorSplitLine:function(s,u,l,d,c){if(d.length){for(var p=s.getModel("minorSplitLine"),g=p.getModel("lineStyle"),m=[],y=0;y<d.length;y++)for(var _=0;_<d[y].length;_++)m.push(new t.Line({shape:v(u,c,d[y][_].coord)}));this.group.add(t.mergePath(m,{style:g.getLineStyle(),silent:!0,z:s.get("z")}))}},_splitArea:function(s,u,l,d,c){if(l.length){var p=s.getModel("splitArea"),g=p.getModel("areaStyle"),m=g.get("color"),y=0;m=m instanceof Array?m:[m];for(var _=[],b=Math.PI/180,T=-l[0].coord*b,S=Math.min(c[0],c[1]),x=Math.max(c[0],c[1]),w=s.get("clockwise"),A=1;A<l.length;A++){var C=y++%m.length;_[C]=_[C]||[],_[C].push(new t.Sector({shape:{cx:u.cx,cy:u.cy,r0:S,r:x,startAngle:T,endAngle:-l[A].coord*b,clockwise:w},silent:!0})),T=-l[A].coord*b}for(var A=0;A<_.length;A++)this.group.add(t.mergePath(_[A],{style:e.defaults({fill:m[A%m.length]},g.getAreaStyle()),silent:!0}))}}});return Lh=h,Lh}var Kx;function E3(){return Kx||(Kx=1,Gd(),R3()),Yx}var Qx={},Ph,Jx;function k3(){if(Jx)return Ph;Jx=1;var e=Z,t=ye,r=ia(),a=Ca(),i=["axisLine","axisTickLabel","axisName"],o=["splitLine","splitArea","minorSplitLine"],v=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(n,h){if(this.group.removeAll(),!!n.get("show")){var s=n.axis,u=s.polar,l=u.getAngleAxis(),d=s.getTicksCoords(),c=s.getMinorTicksCoords(),p=l.getExtent()[0],g=s.getExtent(),m=f(u,n,p),y=new r(n,m);e.each(i,y.add,y),this.group.add(y.getGroup()),e.each(o,function(_){n.get(_+".show")&&!s.scale.isBlank()&&this["_"+_](n,u,p,g,d,c)},this)}},_splitLine:function(n,h,s,u,l){var d=n.getModel("splitLine"),c=d.getModel("lineStyle"),p=c.get("color"),g=0;p=p instanceof Array?p:[p];for(var m=[],y=0;y<l.length;y++){var _=g++%p.length;m[_]=m[_]||[],m[_].push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:l[y].coord}}))}for(var y=0;y<m.length;y++)this.group.add(t.mergePath(m[y],{style:e.defaults({stroke:p[y%p.length],fill:null},c.getLineStyle()),silent:!0}))},_minorSplitLine:function(n,h,s,u,l,d){if(d.length){for(var c=n.getModel("minorSplitLine"),p=c.getModel("lineStyle"),g=[],m=0;m<d.length;m++)for(var y=0;y<d[m].length;y++)g.push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:d[m][y].coord}}));this.group.add(t.mergePath(g,{style:e.defaults({fill:null},p.getLineStyle()),silent:!0}))}},_splitArea:function(n,h,s,u,l){if(l.length){var d=n.getModel("splitArea"),c=d.getModel("areaStyle"),p=c.get("color"),g=0;p=p instanceof Array?p:[p];for(var m=[],y=l[0].coord,_=1;_<l.length;_++){var b=g++%p.length;m[b]=m[b]||[],m[b].push(new t.Sector({shape:{cx:h.cx,cy:h.cy,r0:y,r:l[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[_].coord}for(var _=0;_<m.length;_++)this.group.add(t.mergePath(m[_],{style:e.defaults({fill:p[_%p.length]},c.getAreaStyle()),silent:!0}))}}});function f(n,h,s){return{position:[n.cx,n.cy],rotation:s/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:h.getModel("axisLabel").get("rotate"),z2:1}}return Ph=v,Ph}var jx;function O3(){return jx||(jx=1,Gd(),k3()),Qx}var Ih,eS;function z3(){if(eS)return Ih;eS=1;var e=Ke(),t=qd(),r=ye,a=ss(),i=Pt(),o=ia(),v=Ca(),f=t.extend({makeElOption:function(u,l,d,c,p){var g=d.axis;g.dim==="angle"&&(this.animationThreshold=Math.PI/18);var m=g.polar,y=m.getOtherAxis(g),_=y.getExtent(),b;b=g["dataTo"+e.capitalFirst(g.dim)](l);var T=c.get("type");if(T&&T!=="none"){var S=a.buildElStyle(c),x=h[T](g,m,b,_,S);x.style=S,u.graphicKey=x.type,u.pointer=x}var w=c.get("label.margin"),A=n(l,d,c,m,w);a.buildLabelElOption(u,d,c,p,A)}});function n(u,l,d,c,p){var g=l.axis,m=g.dataToCoord(u),y=c.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var _=c.getRadiusAxis().getExtent(),b,T,S;if(g.dim==="radius"){var x=i.create();i.rotate(x,x,y),i.translate(x,x,[c.cx,c.cy]),b=r.applyTransform([m,-p],x);var w=l.getModel("axisLabel").get("rotate")||0,A=o.innerTextLayout(y,w*Math.PI/180,-1);T=A.textAlign,S=A.textVerticalAlign}else{var C=_[1];b=c.coordToPoint([C+p,m]);var M=c.cx,D=c.cy;T=Math.abs(b[0]-M)/C<.3?"center":b[0]>M?"left":"right",S=Math.abs(b[1]-D)/C<.3?"middle":b[1]>D?"top":"bottom"}return{position:b,align:T,verticalAlign:S}}var h={line:function(u,l,d,c,p){return u.dim==="angle"?{type:"Line",shape:a.makeLineShape(l.coordToPoint([c[0],d]),l.coordToPoint([c[1],d]))}:{type:"Circle",shape:{cx:l.cx,cy:l.cy,r:d}}},shadow:function(u,l,d,c,p){var g=Math.max(1,u.getBandWidth()),m=Math.PI/180;return u.dim==="angle"?{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,c[0],c[1],(-d-g/2)*m,(-d+g/2)*m)}:{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,d-g/2,d+g/2,0,Math.PI*2)}}};v.registerAxisPointerClass("PolarAxisPointer",f);var s=f;return Ih=s,Ih}var tS;function B3(){if(tS)return Nx;tS=1;var e=we,t=Z,r=C3();return Gd(),E3(),O3(),Dn(),z3(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),Nx}var rS={},Rh,aS;function N3(){if(aS)return Rh;aS=1;var e=Z,t=Re,r=ct,a=vt,i=Id(),o=Od(),v=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(n){r.prototype.init.apply(this,arguments),t.defaultEmphasis(n,"label",["show"])},optionUpdated:function(){var n=this.option,h=this;n.regions=o.getFilledRegions(n.regions,n.map,n.nameMap),this._optionModelMap=e.reduce(n.regions||[],function(s,u){return u.name&&s.set(u.name,new a(u,h)),s},e.createHashMap()),this.updateSelectedMap(n.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(n){return this._optionModelMap.get(n)||new a(null,this,this.ecModel)},getFormattedLabel:function(n,h){var s=this.getRegionModel(n),u=s.get("label"+(h==="normal"?".":h+".")+"formatter"),l={name:n};if(typeof u=="function")return l.status=h,u(l);if(typeof u=="string")return u.replace("{a}",n??"")},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n}});e.mixin(v,i);var f=v;return Rh=f,Rh}var Eh,iS;function V3(){if(iS)return Eh;iS=1;var e=VC(),t=we,r=t.extendComponentView({type:"geo",init:function(a,i){var o=new e(i,!0);this._mapDraw=o,this.group.add(o.group)},render:function(a,i,o,v){if(!(v&&v.type==="geoToggleSelect"&&v.from===this.uid)){var f=this._mapDraw;a.get("show")?f.draw(a,i,o,this,v):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return Eh=r,Eh}var nS;function H3(){if(nS)return rS;nS=1;var e=we,t=Z;N3(),Od(),V3(),HC();function r(a,i){i.update="updateView",e.registerAction(i,function(o,v){var f={};return v.eachComponent({mainType:"geo",query:o},function(n){n[a](o.name);var h=n.coordinateSystem;t.each(h.regions,function(s){f[s.name]=n.isSelected(s.name)||!1})}),{selected:f,name:o.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),rS}var oS={},kh,sS;function q3(){if(sS)return kh;sS=1;var e=Z,t=Ne,r=Oe(),a=br,i=864e5;function o(n,h,s){this._model=n}o.prototype={constructor:o,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(n){n=r.parseDate(n);var h=n.getFullYear(),s=n.getMonth()+1;s=s<10?"0"+s:s;var u=n.getDate();u=u<10?"0"+u:u;var l=n.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:h,m:s,d:u,day:l,time:n.getTime(),formatedDate:h+"-"+s+"-"+u,date:n}},getNextNDay:function(n,h){return h=h||0,h===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+h),this.getDateInfo(n))},update:function(n,h){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var s=this._rangeInfo.weeks||1,u=["width","height"],l=this._model.get("cellSize").slice(),d=this._model.getBoxLayoutParams(),c=this._orient==="horizontal"?[s,7]:[7,s];e.each([0,1],function(y){m(l,y)&&(d[u[y]]=l[y]*c[y])});var p={width:h.getWidth(),height:h.getHeight()},g=this._rect=t.getLayoutRect(d,p);e.each([0,1],function(y){m(l,y)||(l[y]=g[u[y]]/c[y])});function m(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=l[0],this._sh=l[1]},dataToPoint:function(n,h){e.isArray(n)&&(n=n[0]),h==null&&(h=!0);var s=this.getDateInfo(n),u=this._rangeInfo,l=s.formatedDate;if(h&&!(s.time>=u.start.time&&s.time<u.end.time+i))return[NaN,NaN];var d=s.day,c=this._getRangeInfo([u.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+d*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]},pointToData:function(n){var h=this.pointToDate(n);return h&&h.time},dataToRect:function(n,h){var s=this.dataToPoint(n,h);return{contentShape:{x:s[0]-(this._sw-this._lineWidth)/2,y:s[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:s,tl:[s[0]-this._sw/2,s[1]-this._sh/2],tr:[s[0]+this._sw/2,s[1]-this._sh/2],br:[s[0]+this._sw/2,s[1]+this._sh/2],bl:[s[0]-this._sw/2,s[1]+this._sh/2]}},pointToDate:function(n){var h=Math.floor((n[0]-this._rect.x)/this._sw)+1,s=Math.floor((n[1]-this._rect.y)/this._sh)+1,u=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(s,h-1,u):this._getDateByWeeksAndDay(h,s-1,u)},convertToPixel:e.curry(v,"dataToPoint"),convertFromPixel:e.curry(v,"pointToData"),_initRangeOption:function(){var n=this._model.get("range"),h=n;if(e.isArray(h)&&h.length===1&&(h=h[0]),/^\d{4}$/.test(h)&&(n=[h+"-01-01",h+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(h)){var s=this.getDateInfo(h),u=s.date;u.setMonth(u.getMonth()+1);var l=this.getNextNDay(u,-1);n=[s.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(h)&&(n=[h,h]);var d=this._getRangeInfo(n);return d.start.time>d.end.time&&n.reverse(),n},_getRangeInfo:function(n){n=[this.getDateInfo(n[0]),this.getDateInfo(n[1])];var h;n[0].time>n[1].time&&(h=!0,n.reverse());var s=Math.floor(n[1].time/i)-Math.floor(n[0].time/i)+1,u=new Date(n[0].time),l=u.getDate(),d=n[1].date.getDate();if(u.setDate(l+s-1),u.getDate()!==d)for(var c=u.getTime()-n[1].time>0?1:-1;u.getDate()!==d&&(u.getTime()-n[1].time)*c>0;)s-=c,u.setDate(l+s-1);var p=Math.floor((s+n[0].day+6)/7),g=h?-p+1:p-1;return h&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:s,weeks:p,nthWeek:g,fweek:n[0].day,lweek:n[1].day}},_getDateByWeeksAndDay:function(n,h,s){var u=this._getRangeInfo(s);if(n>u.weeks||n===0&&h<u.fweek||n===u.weeks&&h>u.lweek)return!1;var l=(n-1)*7-u.fweek+h,d=new Date(u.start.time);return d.setDate(u.start.d+l),this.getDateInfo(d)}},o.dimensions=o.prototype.dimensions,o.getDimensionsInfo=o.prototype.getDimensionsInfo,o.create=function(n,h){var s=[];return n.eachComponent("calendar",function(u){var l=new o(u);s.push(l),u.coordinateSystem=l}),n.eachSeries(function(u){u.get("coordinateSystem")==="calendar"&&(u.coordinateSystem=s[u.get("calendarIndex")||0])}),s};function v(n,h,s,u){var l=s.calendarModel,d=s.seriesModel,c=l?l.coordinateSystem:d?d.coordinateSystem:null;return c===this?c[n](u):null}a.register("calendar",o);var f=o;return kh=f,kh}var Oh,lS;function G3(){if(lS)return Oh;lS=1;var e=Z,t=ct,r=Ne,a=r.getLayoutParams,i=r.sizeCalculable,o=r.mergeLayoutParam,v=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(h,s,u,l){var d=a(h);v.superApply(this,"init",arguments),f(h,d)},mergeOption:function(h,s){v.superApply(this,"mergeOption",arguments),f(this.option,h)}});function f(h,s){var u=h.cellSize;e.isArray(u)?u.length===1&&(u[1]=u[0]):u=h.cellSize=[u,u];var l=e.map([0,1],function(d){return i(s,d)&&(u[d]="auto"),u[d]!=null&&u[d]!=="auto"});o(h,s,{type:"box",ignoreSize:l})}var n=v;return Oh=n,Oh}var zh,uS;function F3(){if(uS)return zh;uS=1;var e=we,t=Z,r=ye,a=Ke(),i=Oe(),o={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},v={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},f=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(n,h,s){var u=this.group;u.removeAll();var l=n.coordinateSystem,d=l.getRangeInfo(),c=l.getOrient();this._renderDayRect(n,d,u),this._renderLines(n,d,c,u),this._renderYearText(n,d,c,u),this._renderMonthText(n,c,u),this._renderWeekText(n,d,c,u)},_renderDayRect:function(n,h,s){for(var u=n.coordinateSystem,l=n.getModel("itemStyle").getItemStyle(),d=u.getCellWidth(),c=u.getCellHeight(),p=h.start.time;p<=h.end.time;p=u.getNextNDay(p,1).time){var g=u.dataToRect([p],!1).tl,m=new r.Rect({shape:{x:g[0],y:g[1],width:d,height:c},cursor:"default",style:l});s.add(m)}},_renderLines:function(n,h,s,u){var l=this,d=n.coordinateSystem,c=n.getModel("splitLine.lineStyle").getLineStyle(),p=n.get("splitLine.show"),g=c.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=h.start,y=0;m.time<=h.end.time;y++){b(m.formatedDate),y===0&&(m=d.getDateInfo(h.start.y+"-"+h.start.m));var _=m.date;_.setMonth(_.getMonth()+1),m=d.getDateInfo(_)}b(d.getNextNDay(h.end.time,1).formatedDate);function b(T){l._firstDayOfMonth.push(d.getDateInfo(T)),l._firstDayPoints.push(d.dataToRect([T],!1).tl);var S=l._getLinePointsOfOneWeek(n,T,s);l._tlpoints.push(S[0]),l._blpoints.push(S[S.length-1]),p&&l._drawSplitline(S,c,u)}p&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,g,s),c,u),p&&this._drawSplitline(l._getEdgesPoints(l._blpoints,g,s),c,u)},_getEdgesPoints:function(n,h,s){var u=[n[0].slice(),n[n.length-1].slice()],l=s==="horizontal"?0:1;return u[0][l]=u[0][l]-h/2,u[1][l]=u[1][l]+h/2,u},_drawSplitline:function(n,h,s){var u=new r.Polyline({z2:20,shape:{points:n},style:h});s.add(u)},_getLinePointsOfOneWeek:function(n,h,s){var u=n.coordinateSystem;h=u.getDateInfo(h);for(var l=[],d=0;d<7;d++){var c=u.getNextNDay(h.time,d),p=u.dataToRect([c.time],!1);l[2*c.day]=p.tl,l[2*c.day+1]=p[s==="horizontal"?"bl":"tr"]}return l},_formatterLabel:function(n,h){return typeof n=="string"&&n?a.formatTplSimple(n,h):typeof n=="function"?n(h):h.nameMap},_yearTextPositionControl:function(n,h,s,u,l){h=h.slice();var d=["center","bottom"];u==="bottom"?(h[1]+=l,d=["center","top"]):u==="left"?h[0]-=l:u==="right"?(h[0]+=l,d=["center","top"]):h[1]-=l;var c=0;return(u==="left"||u==="right")&&(c=Math.PI/2),{rotation:c,position:h,style:{textAlign:d[0],textVerticalAlign:d[1]}}},_renderYearText:function(n,h,s,u){var l=n.getModel("yearLabel");if(l.get("show")){var d=l.get("margin"),c=l.get("position");c||(c=s!=="horizontal"?"top":"left");var p=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(p[0][0]+p[1][0])/2,m=(p[0][1]+p[1][1])/2,y=s==="horizontal"?0:1,_={top:[g,p[y][1]],bottom:[g,p[1-y][1]],left:[p[1-y][0],m],right:[p[y][0],m]},b=h.start.y;+h.end.y>+h.start.y&&(b=b+"-"+h.end.y);var T=l.get("formatter"),S={start:h.start.y,end:h.end.y,nameMap:b},x=this._formatterLabel(T,S),w=new r.Text({z2:30});r.setTextStyle(w.style,l,{text:x}),w.attr(this._yearTextPositionControl(w,_[c],s,c,d)),u.add(w)}},_monthTextPositionControl:function(n,h,s,u,l){var d="left",c="top",p=n[0],g=n[1];return s==="horizontal"?(g=g+l,h&&(d="center"),u==="start"&&(c="bottom")):(p=p+l,h&&(c="middle"),u==="start"&&(d="right")),{x:p,y:g,textAlign:d,textVerticalAlign:c}},_renderMonthText:function(n,h,s){var u=n.getModel("monthLabel");if(u.get("show")){var l=u.get("nameMap"),d=u.get("margin"),c=u.get("position"),p=u.get("align"),g=[this._tlpoints,this._blpoints];t.isString(l)&&(l=o[l.toUpperCase()]||[]);var m=c==="start"?0:1,y=h==="horizontal"?0:1;d=c==="start"?-d:d;for(var _=p==="center",b=0;b<g[m].length-1;b++){var T=g[m][b].slice(),S=this._firstDayOfMonth[b];if(_){var x=this._firstDayPoints[b];T[y]=(x[y]+g[0][b+1][y])/2}var w=u.get("formatter"),A=l[+S.m-1],C={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:A},M=this._formatterLabel(w,C),D=new r.Text({z2:30});t.extend(r.setTextStyle(D.style,u,{text:M}),this._monthTextPositionControl(T,_,h,c,d)),s.add(D)}}},_weekTextPositionControl:function(n,h,s,u,l){var d="center",c="middle",p=n[0],g=n[1],m=s==="start";return h==="horizontal"?(p=p+u+(m?1:-1)*l[0]/2,d=m?"right":"left"):(g=g+u+(m?1:-1)*l[1]/2,c=m?"bottom":"top"),{x:p,y:g,textAlign:d,textVerticalAlign:c}},_renderWeekText:function(n,h,s,u){var l=n.getModel("dayLabel");if(l.get("show")){var d=n.coordinateSystem,c=l.get("position"),p=l.get("nameMap"),g=l.get("margin"),m=d.getFirstDayOfWeek();t.isString(p)&&(p=v[p.toUpperCase()]||[]);var y=d.getNextNDay(h.end.time,7-h.lweek).time,_=[d.getCellWidth(),d.getCellHeight()];g=i.parsePercent(g,_[s==="horizontal"?0:1]),c==="start"&&(y=d.getNextNDay(h.start.time,-(7+h.fweek)).time,g=-g);for(var b=0;b<7;b++){var T=d.getNextNDay(y,b),S=d.dataToRect([T.time],!1).center,x=b;x=Math.abs((b+m)%7);var w=new r.Text({z2:30});t.extend(r.setTextStyle(w.style,l,{text:p[x]}),this._weekTextPositionControl(S,s,c,g,_)),u.add(w)}}}});return zh=f,zh}var vS;function $3(){return vS||(vS=1,q3(),G3(),F3()),oS}var hS={},cS;function U3(){if(cS)return hS;cS=1;var e=we,t=Z,r=Re,a=ye,i=Ne,o=Oe(),v=o.parsePercent,f={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};e.registerPreprocessor(function(m){var y=m.graphic;t.isArray(y)?!y[0]||!y[0].elements?m.graphic=[{elements:y}]:m.graphic=[m.graphic[0]]:y&&!y.elements&&(m.graphic=[{elements:[y]}])});var n=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(m){var y=this.option.elements;this.option.elements=null,n.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(m,y){var _=this.option,b=(y?_:m).elements,T=_.elements=y?[]:_.elements,S=[];this._flatten(b,S);var x=r.mappingToExists(T,S);r.makeIdAndName(x);var w=this._elOptionsToUpdate=[];t.each(x,function(C,M){var D=C.option;D&&(w.push(D),d(C,D),c(T,M,D),p(T[M],D))},this);for(var A=T.length-1;A>=0;A--)T[A]==null?T.splice(A,1):delete T[A].$action},_flatten:function(m,y,_){t.each(m,function(b){if(b){_&&(b.parentOption=_),y.push(b);var T=b.children;b.type==="group"&&T&&this._flatten(T,y,b),delete b.children}},this)},useElOptionsToUpdate:function(){var m=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,m}});e.extendComponentView({type:"graphic",init:function(m,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(m,y,_){m!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=m,this._updateElements(m),this._relocate(m,_)},_updateElements:function(m){var y=m.useElOptionsToUpdate();if(y){var _=this._elMap,b=this.group;t.each(y,function(T){var S=T.$action,x=T.id,w=_.get(x),A=T.parentId,C=A!=null?_.get(A):b,M=T.style;T.type==="text"&&M&&(T.hv&&T.hv[1]&&(M.textVerticalAlign=M.textBaseline=null),!M.hasOwnProperty("textFill")&&M.fill&&(M.textFill=M.fill),!M.hasOwnProperty("textStroke")&&M.stroke&&(M.textStroke=M.stroke));var D=u(T);!S||S==="merge"?w?w.attr(D):h(x,C,D,_):S==="replace"?(s(w,_),h(x,C,D,_)):S==="remove"&&s(w,_);var L=_.get(x);L&&(L.__ecGraphicWidthOption=T.width,L.__ecGraphicHeightOption=T.height,g(L,m))})}},_relocate:function(m,y){for(var _=m.option.elements,b=this.group,T=this._elMap,S=y.getWidth(),x=y.getHeight(),w=0;w<_.length;w++){var A=_[w],C=T.get(A.id);if(!(!C||!C.isGroup)){var M=C.parent,D=M===b;C.__ecGraphicWidth=v(C.__ecGraphicWidthOption,D?S:M.__ecGraphicWidth)||0,C.__ecGraphicHeight=v(C.__ecGraphicHeightOption,D?x:M.__ecGraphicHeight)||0}}for(var w=_.length-1;w>=0;w--){var A=_[w],C=T.get(A.id);if(C){var M=C.parent,L=M===b?{width:S,height:x}:{width:M.__ecGraphicWidth,height:M.__ecGraphicHeight};i.positionElement(C,A,L,null,{hv:A.hv,boundingMode:A.bounding})}}},_clear:function(){var m=this._elMap;m.each(function(y){s(y,m)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function h(m,y,_,b){var T=_.type,S=f.hasOwnProperty(T)?f[T]:a.getShapeClass(T),x=new S(_);y.add(x),b.set(m,x),x.__ecGraphicId=m}function s(m,y){var _=m&&m.parent;_&&(m.type==="group"&&m.traverse(function(b){s(b,y)}),y.removeKey(m.__ecGraphicId),_.remove(m))}function u(m){return m=t.extend({},m),t.each(["id","parentId","$action","hv","bounding"].concat(i.LOCATION_PARAMS),function(y){delete m[y]}),m}function l(m,y){var _;return t.each(y,function(b){m[b]!=null&&m[b]!=="auto"&&(_=!0)}),_}function d(m,y){var _=m.exist;if(y.id=m.keyInfo.id,!y.type&&_&&(y.type=_.type),y.parentId==null){var b=y.parentOption;b?y.parentId=b.id:_&&(y.parentId=_.parentId)}y.parentOption=null}function c(m,y,_){var b=t.extend({},_),T=m[y],S=_.$action||"merge";S==="merge"?T?(t.merge(T,b,!0),i.mergeLayoutParam(T,b,{ignoreSize:!0}),i.copyLayoutParams(_,T)):m[y]=b:S==="replace"?m[y]=b:S==="remove"&&T&&(m[y]=null)}function p(m,y){m&&(m.hv=y.hv=[l(y,["left","right"]),l(y,["top","bottom"])],m.type==="group"&&(m.width==null&&(m.width=y.width=0),m.height==null&&(m.height=y.height=0)))}function g(m,y,_){var b=m.eventData;!m.silent&&!m.ignore&&!b&&(b=m.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:m.name}),b&&(b.info=m.info)}return hS}var fS={},no={},dS;function na(){if(dS)return no;dS=1;var e={};function t(a,i){e[a]=i}function r(a){return e[a]}return no.register=t,no.get=r,no}var Bh,gS;function W3(){if(gS)return Bh;gS=1;var e=we,t=Z,r=na(),a=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(o,v){var f=r.get(v);f&&t.merge(o,f.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),i=a;return Bh=i,Bh}var oo={},pS;function nM(){if(pS)return oo;pS=1;var e=Ne,t=e.getLayoutRect,r=e.box,a=e.positionElement,i=Ke(),o=ye;function v(n,h,s){var u=h.getBoxLayoutParams(),l=h.get("padding"),d={width:s.getWidth(),height:s.getHeight()},c=t(u,d,l);r(h.get("orient"),n,h.get("itemGap"),c.width,c.height),a(n,u,d,l)}function f(l,h){var s=i.normalizeCssArray(h.get("padding")),u=h.getItemStyle(["color","opacity"]);u.fill=h.get("backgroundColor");var l=new o.Rect({shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[1]+s[3],height:l.height+s[0]+s[2],r:h.get("borderRadius")},style:u,silent:!0,z2:-1});return l}return oo.layout=v,oo.makeBackground=f,oo}var Nh,mS;function Z3(){if(mS)return Nh;mS=1;var e=we,t=Z,r=$t(),a=na(),i=ye,o=vt,v=Aa(),f=nM(),n=e.extendComponentView({type:"toolbox",render:function(s,u,l,d){var c=this.group;if(c.removeAll(),!s.get("show"))return;var p=+s.get("itemSize"),g=s.get("feature")||{},m=this._features||(this._features={}),y=[];t.each(g,function(T,S){y.push(S)}),new v(this._featureNames||[],y).add(_).update(_).remove(t.curry(_,null)).execute(),this._featureNames=y;function _(T,S){var x=y[T],w=y[S],A=g[x],C=new o(A,s,s.ecModel),M;if(d&&d.newTitle!=null&&(A.title=d.newTitle),x&&!w){if(h(x))M={model:C,onclick:C.option.onclick,featureName:x};else{var D=a.get(x);if(!D)return;M=new D(C,u,l)}m[x]=M}else{if(M=m[w],!M)return;M.model=C,M.ecModel=u,M.api=l}if(!x&&w){M.dispose&&M.dispose(u,l);return}if(!C.get("show")||M.unusable){M.remove&&M.remove(u,l);return}b(C,M,x),C.setIconStatus=function(L,P){var R=this.option,k=this.iconPaths;R.iconStatus=R.iconStatus||{},R.iconStatus[L]=P,k[L]&&k[L].trigger(P)},M.render&&M.render(C,u,l,d)}function b(T,S,x){var w=T.getModel("iconStyle"),A=T.getModel("emphasis.iconStyle"),C=S.getIcons?S.getIcons():T.get("icon"),M=T.get("title")||{};if(typeof C=="string"){var D=C,L=M;C={},M={},C[x]=D,M[x]=L}var P=T.iconPaths={};t.each(C,function(R,k){var z=i.createIcon(R,{},{x:-p/2,y:-p/2,width:p,height:p});z.setStyle(w.getItemStyle()),z.hoverStyle=A.getItemStyle(),z.setStyle({text:M[k],textAlign:A.get("textAlign"),textBorderRadius:A.get("textBorderRadius"),textPadding:A.get("textPadding"),textFill:null});var B=s.getModel("tooltip");B&&B.get("show")&&z.attr("tooltip",t.extend({content:M[k],formatter:B.get("formatter",!0)||function(){return M[k]},formatterParams:{componentType:"toolbox",name:k,title:M[k],$vars:["name","title"]},position:B.get("position",!0)||"bottom"},B.option)),i.setHoverStyle(z),s.get("showTitle")&&(z.__title=M[k],z.on("mouseover",function(){var G=A.getItemStyle(),V=s.get("orient")==="vertical"?s.get("right")==null?"right":"left":s.get("bottom")==null?"bottom":"top";z.setStyle({textFill:A.get("textFill")||G.fill||G.stroke||"#000",textBackgroundColor:A.get("textBackgroundColor"),textPosition:A.get("textPosition")||V})}).on("mouseout",function(){z.setStyle({textFill:null,textBackgroundColor:null})})),z.trigger(T.get("iconStatus."+k)||"normal"),c.add(z),z.on("click",t.bind(S.onclick,S,u,l,k)),P[k]=z})}f.layout(c,s,l),c.add(f.makeBackground(c.getBoundingRect(),s)),c.eachChild(function(T){var S=T.__title,x=T.hoverStyle;if(x&&S){var w=r.getBoundingRect(S,r.makeFont(x)),A=T.position[0]+c.position[0],C=T.position[1]+c.position[1]+p,M=!1;C+w.height>l.getHeight()&&(x.textPosition="top",M=!0);var D=M?-5-w.height:p+8;A+w.width/2>l.getWidth()?(x.textPosition=["100%",D],x.textAlign="right"):A-w.width/2<0&&(x.textPosition=[0,D],x.textAlign="left")}})},updateView:function(s,u,l,d){t.each(this._features,function(c){c.updateView&&c.updateView(c.model,u,l,d)})},remove:function(s,u){t.each(this._features,function(l){l.remove&&l.remove(s,u)}),this.group.removeAll()},dispose:function(s,u){t.each(this._features,function(l){l.dispose&&l.dispose(s,u)})}});function h(s){return s.indexOf("my")===0}return Nh=n,Nh}var Vh,yS;function Y3(){if(yS)return Vh;yS=1;var e=nt,t=ra,r=na(),a=t.toolbox.saveAsImage;function i(f){this.model=f}i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},i.prototype.unusable=!e.canvasSupported;var o=i.prototype;o.onclick=function(f,n){var h=this.model,s=h.get("name")||f.get("title.0.text")||"echarts",u=h.get("type",!0)||"png",l=n.getConnectedDataURL({type:u,backgroundColor:h.get("backgroundColor",!0)||f.get("backgroundColor")||"#fff",connectedBackgroundColor:h.get("connectedBackgroundColor"),excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var d=document.createElement("a");d.download=s+"."+u,d.target="_blank",d.href=l;var c=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});d.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob){for(var p=atob(l.split(",")[1]),g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,s+"."+u)}else{var _=h.get("lang"),b='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',T=window.open();T.document.write(b)}},r.register("saveAsImage",i);var v=i;return Vh=v,Vh}var Hh,_S;function X3(){if(_S)return Hh;_S=1;var e=we,t=Z,r=ra,a=na(),i=r.toolbox.magicType,o="__ec_magicType_stack__";function v(u){this.model=u}v.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(i.title),option:{},seriesIndex:{}};var f=v.prototype;f.getIcons=function(){var u=this.model,l=u.get("icon"),d={};return t.each(u.get("type"),function(c){l[c]&&(d[c]=l[c])}),d};var n={line:function(u,l,d,c){if(u==="bar")return t.merge({id:l,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},c.get("option.line")||{},!0)},bar:function(u,l,d,c){if(u==="line")return t.merge({id:l,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},c.get("option.bar")||{},!0)},stack:function(u,l,d,c){var p=d.get("stack")===o;if(u==="line"||u==="bar")return c.setIconStatus("stack",p?"normal":"emphasis"),t.merge({id:l,stack:p?"":o},c.get("option.stack")||{},!0)}},h=[["line","bar"],["stack"]];f.onclick=function(u,l,d){var c=this.model,p=c.get("seriesIndex."+d);if(n[d]){var g={series:[]},m=function(b){var T=b.subType,S=b.id,x=n[d](T,S,b,c);x&&(t.defaults(x,b.option),g.series.push(x));var w=b.coordinateSystem;if(w&&w.type==="cartesian2d"&&(d==="line"||d==="bar")){var A=w.getAxesByScale("ordinal")[0];if(A){var C=A.dim,M=C+"Axis",D=u.queryComponents({mainType:M,index:b.get(name+"Index"),id:b.get(name+"Id")})[0],L=D.componentIndex;g[M]=g[M]||[];for(var P=0;P<=L;P++)g[M][L]=g[M][L]||{};g[M][L].boundaryGap=d==="bar"}}};t.each(h,function(b){t.indexOf(b,d)>=0&&t.each(b,function(T){c.setIconStatus(T,"normal")})}),c.setIconStatus(d,"emphasis"),u.eachComponent({mainType:"series",query:p==null?null:{seriesIndex:p}},m);var y;if(d==="stack"){var _=g.series&&g.series[0]&&g.series[0].stack===o;y=_?t.merge({stack:i.title.tiled},i.title):t.clone(i.title)}l.dispatchAction({type:"changeMagicType",currentType:d,newOption:g,newTitle:y})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(u,l){l.mergeOption(u.newOption)}),a.register("magicType",v);var s=v;return Hh=s,Hh}var qh,xS;function K3(){if(xS)return qh;xS=1;var e=we,t=Z,r=ht,a=ra,i=na(),o=a.toolbox.dataView,v=new Array(60).join("-"),f="	";function n(T){var S={},x=[],w=[];return T.eachRawSeries(function(A){var C=A.coordinateSystem;if(C&&(C.type==="cartesian2d"||C.type==="polar")){var M=C.getBaseAxis();if(M.type==="category"){var D=M.dim+"_"+M.index;S[D]||(S[D]={categoryAxis:M,valueAxis:C.getOtherAxis(M),series:[]},w.push({axisDim:M.dim,axisIndex:M.index})),S[D].series.push(A)}else x.push(A)}else x.push(A)}),{seriesGroupByCategoryAxis:S,other:x,meta:w}}function h(T){var S=[];return t.each(T,function(x,w){var A=x.categoryAxis,C=x.valueAxis,M=C.dim,D=[" "].concat(t.map(x.series,function(B){return B.name})),L=[A.model.getCategories()];t.each(x.series,function(B){L.push(B.getRawData().mapArray(M,function(G){return G}))});for(var P=[D.join(f)],R=0;R<L[0].length;R++){for(var k=[],z=0;z<L.length;z++)k.push(L[z][R]);P.push(k.join(f))}S.push(P.join(`
`))}),S.join(`

`+v+`

`)}function s(T){return t.map(T,function(S){var x=S.getRawData(),w=[S.name],A=[];return x.each(x.dimensions,function(){for(var C=arguments.length,M=arguments[C-1],D=x.getName(M),L=0;L<C-1;L++)A[L]=arguments[L];w.push((D?D+f:"")+A.join(f))}),w.join(`
`)}).join(`

`+v+`

`)}function u(T){var S=n(T);return{value:t.filter([h(S.seriesGroupByCategoryAxis),s(S.other)],function(x){return x.replace(/[\n\t\s]/g,"")}).join(`

`+v+`

`),meta:S.meta}}function l(T){return T.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(T){var S=T.slice(0,T.indexOf(`
`));if(S.indexOf(f)>=0)return!0}var c=new RegExp("["+f+"]+","g");function p(T){for(var S=T.split(/\n+/g),x=l(S.shift()).split(c),w=[],A=t.map(x,function(L){return{name:L,data:[]}}),C=0;C<S.length;C++){var M=l(S[C]).split(c);w.push(M.shift());for(var D=0;D<M.length;D++)A[D]&&(A[D].data[C]=M[D])}return{series:A,categories:w}}function g(T){for(var S=T.split(/\n+/g),x=l(S.shift()),w=[],A=0;A<S.length;A++){var C=l(S[A]).split(c),M="",D,L=!1;isNaN(C[0])?(L=!0,M=C[0],C=C.slice(1),w[A]={name:M,value:[]},D=w[A].value):D=w[A]=[];for(var P=0;P<C.length;P++)D.push(+C[P]);D.length===1&&(L?w[A].value=D[0]:w[A]=D[0])}return{name:x,data:w}}function m(T,S){var x=T.split(new RegExp(`
*`+v+`
*`,"g")),w={series:[]};return t.each(x,function(A,C){if(d(A)){var M=p(A),D=S[C],L=D.axisDim+"Axis";D&&(w[L]=w[L]||[],w[L][D.axisIndex]={data:M.categories},w.series=w.series.concat(M.series))}else{var M=g(A);w.series.push(M)}}),w}function y(T){this._dom=null,this.model=T}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(o.title),lang:t.clone(o.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(T,S){var x=S.getDom(),w=this.model;this._dom&&x.removeChild(this._dom);var A=document.createElement("div");A.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",A.style.backgroundColor=w.get("backgroundColor")||"#fff";var C=document.createElement("h4"),M=w.get("lang")||[];C.innerHTML=M[0]||w.get("title"),C.style.cssText="margin: 10px 20px;",C.style.color=w.get("textColor");var D=document.createElement("div"),L=document.createElement("textarea");D.style.cssText="display:block;width:100%;overflow:auto;";var P=w.get("optionToContent"),R=w.get("contentToOption"),k=u(T);if(typeof P=="function"){var z=P(S.getOption());typeof z=="string"?D.innerHTML=z:t.isDom(z)&&D.appendChild(z)}else D.appendChild(L),L.readOnly=w.get("readOnly"),L.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",L.style.color=w.get("textColor"),L.style.borderColor=w.get("textareaBorderColor"),L.style.backgroundColor=w.get("textareaColor"),L.value=k.value;var B=k.meta,G=document.createElement("div");G.style.cssText="position:absolute;bottom:0;left:0;right:0;";var V="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",I=document.createElement("div"),O=document.createElement("div");V+=";background-color:"+w.get("buttonColor"),V+=";color:"+w.get("buttonTextColor");var E=this;function N(){x.removeChild(A),E._dom=null}r.addEventListener(I,"click",N),r.addEventListener(O,"click",function(){var q;try{typeof R=="function"?q=R(D,S.getOption()):q=m(L.value,B)}catch(H){throw N(),new Error("Data view format error "+H)}q&&S.dispatchAction({type:"changeDataView",newOption:q}),N()}),I.innerHTML=M[1],O.innerHTML=M[2],O.style.cssText=V,I.style.cssText=V,!w.get("readOnly")&&G.appendChild(O),G.appendChild(I),A.appendChild(C),A.appendChild(D),A.appendChild(G),D.style.height=x.clientHeight-80+"px",x.appendChild(A),this._dom=A},y.prototype.remove=function(T,S){this._dom&&S.getDom().removeChild(this._dom)},y.prototype.dispose=function(T,S){this.remove(T,S)};function _(T,S){return t.map(T,function(x,w){var A=S&&S[w];return t.isObject(A)&&!t.isArray(A)?(t.isObject(x)&&!t.isArray(x)&&(x=x.value),t.defaults({value:x},A)):x})}i.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(T,S){var x=[];t.each(T.newOption.series,function(w){var A=S.getSeriesByName(w.name)[0];if(!A)x.push(t.extend({type:"scatter"},w));else{var C=A.get("data");x.push({name:w.name,data:_(w.data,C)})}}),S.mergeOption(t.defaults({series:x},T.newOption))});var b=y;return qh=b,qh}var Gh,SS;function oM(){if(SS)return Gh;SS=1;var e=Z,t=ye,r=Re,a=YC(),i=e.each,o=e.indexOf,v=e.curry,f=["dataToPoint","pointToData"],n=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function h(x,w,A){var C=this._targetInfoList=[],M={},D=l(w,x);i(d,function(L,P){(!A||!A.include||o(A.include,P)>=0)&&L(D,C,M)})}var s=h.prototype;s.setOutputRanges=function(x,w){this.matchOutputRanges(x,w,function(A,C,M){if((A.coordRanges||(A.coordRanges=[])).push(C),!A.coordRange){A.coordRange=C;var D=g[A.brushType](0,M,C);A.__rangeOffset={offset:y[A.brushType](D.values,A.range,[1,1]),xyMinMax:D.xyMinMax}}})},s.matchOutputRanges=function(x,w,A){i(x,function(C){var M=this.findTargetInfo(C,w);M&&M!==!0&&e.each(M.coordSyses,function(D){var L=g[C.brushType](1,D,C.range);A(C,L.values,D,w)})},this)},s.setInputRanges=function(x,w){i(x,function(A){var C=this.findTargetInfo(A,w);if(A.range=A.range||[],C&&C!==!0){A.panelId=C.panelId;var M=g[A.brushType](0,C.coordSys,A.coordRange),D=A.__rangeOffset;A.range=D?y[A.brushType](M.values,D.offset,b(M.xyMinMax,D.xyMinMax)):M.values}},this)},s.makePanelOpts=function(x,w){return e.map(this._targetInfoList,function(A){var C=A.getPanelRect();return{panelId:A.panelId,defaultBrushType:w&&w(A),clipPath:a.makeRectPanelClipPath(C),isTargetByCursor:a.makeRectIsTargetByCursor(C,x,A.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(C)}})},s.controlSeries=function(x,w,A){var C=this.findTargetInfo(x,A);return C===!0||C&&o(C.coordSyses,w.coordinateSystem)>=0},s.findTargetInfo=function(x,w){for(var A=this._targetInfoList,C=l(w,x),M=0;M<A.length;M++){var D=A[M],L=x.panelId;if(L){if(D.panelId===L)return D}else for(var M=0;M<c.length;M++)if(c[M](C,D))return D}return!0};function u(x){return x[0]>x[1]&&x.reverse(),x}function l(x,w){return r.parseFinder(x,w,{includeMainTypes:n})}var d={grid:function(x,w){var A=x.xAxisModels,C=x.yAxisModels,M=x.gridModels,D=e.createHashMap(),L={},P={};!A&&!C&&!M||(i(A,function(R){var k=R.axis.grid.model;D.set(k.id,k),L[k.id]=!0}),i(C,function(R){var k=R.axis.grid.model;D.set(k.id,k),P[k.id]=!0}),i(M,function(R){D.set(R.id,R),L[R.id]=!0,P[R.id]=!0}),D.each(function(R){var k=R.coordinateSystem,z=[];i(k.getCartesians(),function(B,G){(o(A,B.getAxis("x").model)>=0||o(C,B.getAxis("y").model)>=0)&&z.push(B)}),w.push({panelId:"grid--"+R.id,gridModel:R,coordSysModel:R,coordSys:z[0],coordSyses:z,getPanelRect:p.grid,xAxisDeclared:L[R.id],yAxisDeclared:P[R.id]})}))},geo:function(x,w){i(x.geoModels,function(A){var C=A.coordinateSystem;w.push({panelId:"geo--"+A.id,geoModel:A,coordSysModel:A,coordSys:C,coordSyses:[C],getPanelRect:p.geo})})}},c=[function(x,w){var A=x.xAxisModel,C=x.yAxisModel,M=x.gridModel;return!M&&A&&(M=A.axis.grid.model),!M&&C&&(M=C.axis.grid.model),M&&M===w.gridModel},function(x,w){var A=x.geoModel;return A&&A===w.geoModel}],p={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var x=this.coordSys,w=x.getBoundingRect().clone();return w.applyTransform(t.getTransform(x)),w}},g={lineX:v(m,0),lineY:v(m,1),rect:function(x,w,A){var C=w[f[x]]([A[0][0],A[1][0]]),M=w[f[x]]([A[0][1],A[1][1]]),D=[u([C[0],M[0]]),u([C[1],M[1]])];return{values:D,xyMinMax:D}},polygon:function(x,w,A){var C=[[1/0,-1/0],[1/0,-1/0]],M=e.map(A,function(D){var L=w[f[x]](D);return C[0][0]=Math.min(C[0][0],L[0]),C[1][0]=Math.min(C[1][0],L[1]),C[0][1]=Math.max(C[0][1],L[0]),C[1][1]=Math.max(C[1][1],L[1]),L});return{values:M,xyMinMax:C}}};function m(x,w,A,C){var M=A.getAxis(["x","y"][x]),D=u(e.map([0,1],function(P){return w?M.coordToData(M.toLocalCoord(C[P])):M.toGlobalCoord(M.dataToCoord(C[P]))})),L=[];return L[x]=D,L[1-x]=[NaN,NaN],{values:D,xyMinMax:L}}var y={lineX:v(_,0),lineY:v(_,1),rect:function(x,w,A){return[[x[0][0]-A[0]*w[0][0],x[0][1]-A[0]*w[0][1]],[x[1][0]-A[1]*w[1][0],x[1][1]-A[1]*w[1][1]]]},polygon:function(x,w,A){return e.map(x,function(C,M){return[C[0]-A[0]*w[M][0],C[1]-A[1]*w[M][1]]})}};function _(x,w,A,C){return[w[0]-C[x]*A[0],w[1]-C[x]*A[1]]}function b(x,w){var A=T(x),C=T(w),M=[A[0]/C[0],A[1]/C[1]];return isNaN(M[0])&&(M[0]=1),isNaN(M[1])&&(M[1]=1),M}function T(x){return x?[x[0][1]-x[0][0],x[1][1]-x[1][0]]:[NaN,NaN]}var S=h;return Gh=S,Gh}var Va={},bS;function sM(){if(bS)return Va;bS=1;var e=Z,t=e.each,r="\0_ec_hist_store";function a(n,h){var s=f(n);t(h,function(u,l){for(var d=s.length-1;d>=0;d--){var c=s[d];if(c[l])break}if(d<0){var p=n.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(p){var g=p.getPercentRange();s[0][l]={dataZoomId:l,start:g[0],end:g[1]}}}}),s.push(h)}function i(n){var h=f(n),s=h[h.length-1];h.length>1&&h.pop();var u={};return t(s,function(l,d){for(var c=h.length-1;c>=0;c--){var l=h[c][d];if(l){u[d]=l;break}}}),u}function o(n){n[r]=null}function v(n){return f(n).length}function f(n){var h=n[r];return h||(h=n[r]=[{}]),h}return Va.push=a,Va.pop=i,Va.clear=o,Va.count=v,Va}var wS={},AS={},TS;function Fd(){if(TS)return AS;TS=1;var e=ct;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),AS}var Ha={},CS;function $d(){if(CS)return Ha;CS=1;var e=Z,t=Ke(),r=["x","y","z","radius","angle","single"],a=["cartesian2d","polar","singleAxis"];function i(n){return e.indexOf(a,n)>=0}function o(n,h){n=n.slice();var s=e.map(n,t.capitalFirst);h=(h||[]).slice();var u=e.map(h,t.capitalFirst);return function(l,d){e.each(n,function(c,p){for(var g={name:c,capital:s[p]},m=0;m<h.length;m++)g[h[m]]=c+u[m];l.call(d,g)})}}var v=o(r,["axisIndex","axis","index","id"]);function f(n,h,s){return function(c){var p={nodes:[],records:{}};if(h(function(y){p.records[y.name]={}}),!c)return p;d(c,p);var g;do g=!1,n(m);while(g);function m(y){!u(y,p)&&l(y,p)&&(d(y,p),g=!0)}return p};function u(c,p){return e.indexOf(p.nodes,c)>=0}function l(c,p){var g=!1;return h(function(m){e.each(s(c,m)||[],function(y){p.records[m.name][y]&&(g=!0)})}),g}function d(c,p){p.nodes.push(c),h(function(g){e.each(s(c,g)||[],function(m){p.records[g.name][m]=!0})})}}return Ha.isCoordSupported=i,Ha.createNameEach=o,Ha.eachAxisDim=v,Ha.createLinkedNodesFinder=f,Ha}var Fh,MS;function Q3(){if(MS)return Fh;MS=1;var e=Z,t=Oe(),r=$d(),a=yi(),i=e.each,o=t.asc,v=function(l,d,c,p){this._dimName=l,this._axisIndex=d,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=p,this._dataZoomModel=c};v.prototype={constructor:v,hostedBy:function(l){return this._dataZoomModel===l},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var l=[],d=this.ecModel;return d.eachSeries(function(c){if(r.isCoordSupported(c.get("coordinateSystem"))){var p=this._dimName,g=d.queryComponents({mainType:p+"Axis",index:c.get(p+"AxisIndex"),id:c.get(p+"AxisId")})[0];this._axisIndex===(g&&g.componentIndex)&&l.push(c)}},this),l},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var l=this._dimName,d=this.ecModel,c=this.getAxisModel(),p=l==="x"||l==="y",g,m;p?(m="gridIndex",g=l==="x"?"y":"x"):(m="polarIndex",g=l==="angle"?"radius":"angle");var y;return d.eachComponent(g+"Axis",function(_){(_.get(m)||0)===(c.get(m)||0)&&(y=_)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(l){var d=this._dataExtent,c=this.getAxisModel(),p=c.axis.scale,g=this._dataZoomModel.getRangePropMode(),m=[0,100],y=[],_=[],b;i(["start","end"],function(x,w){var A=l[x],C=l[x+"Value"];g[w]==="percent"?(A==null&&(A=m[w]),C=p.parse(t.linearMap(A,m,d))):(b=!0,C=C==null?d[w]:p.parse(C),A=t.linearMap(C,d,m)),_[w]=C,y[w]=A}),o(_),o(y);var T=this._minMaxSpan;b?S(_,y,d,m,!1):S(y,_,m,d,!0);function S(x,w,A,C,M){var D=M?"Span":"ValueSpan";a(0,x,A,"all",T["min"+D],T["max"+D]);for(var L=0;L<2;L++)w[L]=t.linearMap(x[L],A,C,!0),M&&(w[L]=p.parse(w[L]))}return{valueWindow:_,percentWindow:y}},reset:function(l){if(l===this._dataZoomModel){var d=this.getTargetSeriesModels();this._dataExtent=f(this,this._dimName,d),s(this);var c=this.calculateDataWindow(l.settledOption);this._valueWindow=c.valueWindow,this._percentWindow=c.percentWindow,h(this)}},restore:function(l){l===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(l,d){if(l!==this._dataZoomModel)return;var c=this._dimName,p=this.getTargetSeriesModels(),g=l.get("filterMode"),m=this._valueWindow;if(g==="none")return;i(p,function(_){var b=_.getData(),T=b.mapDimension(c,!0);T.length&&(g==="weakFilter"?b.filterSelf(function(S){for(var x,w,A,C=0;C<T.length;C++){var M=b.get(T[C],S),D=!isNaN(M),L=M<m[0],P=M>m[1];if(D&&!L&&!P)return!0;D&&(A=!0),L&&(x=!0),P&&(w=!0)}return A&&x&&w}):i(T,function(S){if(g==="empty")_.setData(b=b.map(S,function(w){return y(w)?w:NaN}));else{var x={};x[S]=m,b.selectRange(x)}}),i(T,function(S){b.setApproximateExtent(m,S)}))});function y(_){return _>=m[0]&&_<=m[1]}}};function f(l,d,c){var p=[1/0,-1/0];return i(c,function(g){var m=g.getData();m&&i(m.mapDimension(d,!0),function(y){var _=m.getApproximateExtent(y);_[0]<p[0]&&(p[0]=_[0]),_[1]>p[1]&&(p[1]=_[1])})}),p[1]<p[0]&&(p=[NaN,NaN]),n(l,p),p}function n(l,d){var c=l.getAxisModel(),p=c.getMin(!0),g=c.get("type")==="category",m=g&&c.getCategories().length;p!=null&&p!=="dataMin"&&typeof p!="function"?d[0]=p:g&&(d[0]=m>0?0:NaN);var y=c.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?d[1]=y:g&&(d[1]=m>0?m-1:NaN),c.get("scale",!0)||(d[0]>0&&(d[0]=0),d[1]<0&&(d[1]=0)),d}function h(l,d){var c=l.getAxisModel(),p=l._percentWindow,g=l._valueWindow;if(p){var m=t.getPixelPrecision(g,[0,500]);m=Math.min(m,20);var y=d||p[0]===0&&p[1]===100;c.setRange(y?null:+g[0].toFixed(m),y?null:+g[1].toFixed(m))}}function s(l){var d=l._minMaxSpan={},c=l._dataZoomModel,p=l._dataExtent;i(["min","max"],function(g){var m=c.get(g+"Span"),y=c.get(g+"ValueSpan");y!=null&&(y=l.getAxisModel().axis.scale.parse(y)),y!=null?m=t.linearMap(p[0]+y,p,[0,100],!0):m!=null&&(y=t.linearMap(m,[0,100],p,!0)-p[0]),d[g+"Span"]=m,d[g+"ValueSpan"]=y})}var u=v;return Fh=u,Fh}var $h,DS;function _i(){if(DS)return $h;DS=1;var e=we,t=Z,r=nt,a=Re,i=$d(),o=Q3(),v=t.each,f=i.eachAxisDim,n=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(l,d,c){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var p=h(l);this.settledOption=p,this.mergeDefaultAndTheme(l,c),this.doInit(p)},mergeOption:function(l){var d=h(l);t.merge(this.option,l,!0),t.merge(this.settledOption,d,!0),this.doInit(d)},doInit:function(l){var d=this.option;r.canvasSupported||(d.realtime=!1),this._setDefaultThrottle(l),s(this,l);var c=this.settledOption;v([["start","startValue"],["end","endValue"]],function(p,g){this._rangePropMode[g]==="value"&&(d[p[0]]=c[p[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var l=this._axisProxies;this.eachTargetAxis(function(d,c,p,g){var m=this.dependentModels[d.axis][c],y=m.__dzAxisProxy||(m.__dzAxisProxy=new o(d.name,c,this,g));l[d.name+"_"+c]=y},this)},_resetTarget:function(){var l=this.option,d=this._judgeAutoMode();f(function(c){var p=c.axisIndex;l[p]=a.normalizeToArray(l[p])},this),d==="axisIndex"?this._autoSetAxisIndex():d==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var l=this.option,d=!1;f(function(p){l[p.axisIndex]!=null&&(d=!0)},this);var c=l.orient;if(c==null&&d)return"orient";if(!d)return c==null&&(l.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var l=!0,d=this.get("orient",!0),c=this.option,p=this.dependentModels;if(l){var g=d==="vertical"?"y":"x";p[g+"Axis"].length?(c[g+"AxisIndex"]=[0],l=!1):v(p.singleAxis,function(m){l&&m.get("orient",!0)===d&&(c.singleAxisIndex=[m.componentIndex],l=!1)})}l&&f(function(m){if(l){var y=[],_=this.dependentModels[m.axis];if(_.length&&!y.length)for(var b=0,T=_.length;b<T;b++)_[b].get("type")==="category"&&y.push(b);c[m.axisIndex]=y,y.length&&(l=!1)}},this),l&&this.ecModel.eachSeries(function(m){this._isSeriesHasAllAxesTypeOf(m,"value")&&f(function(y){var _=c[y.axisIndex],b=m.get(y.axisIndex),T=m.get(y.axisId),S=m.ecModel.queryComponents({mainType:y.axis,index:b,id:T})[0];b=S.componentIndex,t.indexOf(_,b)<0&&_.push(b)})},this)},_autoSetOrient:function(){var l;this.eachTargetAxis(function(d){!l&&(l=d.name)},this),this.option.orient=l==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(l,d){var c=!0;return f(function(p){var g=l.get(p.axisIndex),m=this.dependentModels[p.axis][g];(!m||m.get("type")!==d)&&(c=!1)},this),c},_setDefaultThrottle:function(l){if(l.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var d=this.ecModel.option;this.option.throttle=d.animation&&d.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var l;return f(function(d){if(l==null){var c=this.get(d.axisIndex);c.length&&(l=this.dependentModels[d.axis][c[0]])}},this),l},eachTargetAxis:function(l,d){var c=this.ecModel;f(function(p){v(this.get(p.axisIndex),function(g){l.call(d,p,g,this,c)},this)},this)},getAxisProxy:function(l,d){return this._axisProxies[l+"_"+d]},getAxisModel:function(l,d){var c=this.getAxisProxy(l,d);return c&&c.getAxisModel()},setRawRange:function(l){var d=this.option,c=this.settledOption;v([["start","startValue"],["end","endValue"]],function(p){(l[p[0]]!=null||l[p[1]]!=null)&&(d[p[0]]=c[p[0]]=l[p[0]],d[p[1]]=c[p[1]]=l[p[1]])},this),s(this,l)},setCalculatedRange:function(l){var d=this.option;v(["start","startValue","end","endValue"],function(c){d[c]=l[c]})},getPercentRange:function(){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataPercentWindow()},getValueRange:function(l,d){if(l==null&&d==null){var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()}else return this.getAxisProxy(l,d).getDataValueWindow()},findRepresentativeAxisProxy:function(l){if(l)return l.__dzAxisProxy;var d=this._axisProxies;for(var c in d)if(d.hasOwnProperty(c)&&d[c].hostedBy(this))return d[c];for(var c in d)if(d.hasOwnProperty(c)&&!d[c].hostedBy(this))return d[c]},getRangePropMode:function(){return this._rangePropMode.slice()}});function h(l){var d={};return v(["start","end","startValue","endValue","throttle"],function(c){l.hasOwnProperty(c)&&(d[c]=l[c])}),d}function s(l,d){var c=l._rangePropMode,p=l.get("rangeMode");v([["start","startValue"],["end","endValue"]],function(g,m){var y=d[g[0]]!=null,_=d[g[1]]!=null;y&&!_?c[m]="percent":!y&&_?c[m]="value":p?c[m]=p[m]:y&&(c[m]="percent")})}var u=n;return $h=u,$h}var Uh,LS;function xi(){if(LS)return Uh;LS=1;var e=Yo,t=e.extend({type:"dataZoom",render:function(r,a,i,o){this.dataZoomModel=r,this.ecModel=a,this.api=i},getTargetCoordInfo:function(){var r=this.dataZoomModel,a=this.ecModel,i={};r.eachTargetAxis(function(v,f){var n=a.getComponent(v.axis,f);if(n){var h=n.getCoordSysModel();h&&o(h,n,i[h.mainType]||(i[h.mainType]=[]),h.componentIndex)}},this);function o(v,f,n,h){for(var s,u=0;u<n.length;u++)if(n[u].model===v){s=n[u];break}s||n.push(s={model:v,axisModels:[],coordIndex:h}),s.axisModels.push(f)}return i}});return Uh=t,Uh}var Wh,PS;function J3(){if(PS)return Wh;PS=1;var e=_i(),t=e.extend({type:"dataZoom.select"});return Wh=t,Wh}var Zh,IS;function j3(){if(IS)return Zh;IS=1;var e=xi(),t=e.extend({type:"dataZoom.select"});return Zh=t,Zh}var RS={},ES;function Ud(){if(ES)return RS;ES=1;var e=we,t=Z,r=t.createHashMap,a=t.each;return e.registerProcessor({getTargetSeries:function(i){var o=r();return i.eachComponent("dataZoom",function(v){v.eachTargetAxis(function(f,n,h){var s=h.getAxisProxy(f.name,n);a(s.getTargetSeriesModels(),function(u){o.set(u.uid,u)})})}),o},modifyOutputEnd:!0,overallReset:function(i,o){i.eachComponent("dataZoom",function(v){v.eachTargetAxis(function(f,n,h){h.getAxisProxy(f.name,n).reset(h,o)}),v.eachTargetAxis(function(f,n,h){h.getAxisProxy(f.name,n).filterData(h,o)})}),i.eachComponent("dataZoom",function(v){var f=v.findRepresentativeAxisProxy(),n=f.getDataPercentWindow(),h=f.getDataValueWindow();v.setCalculatedRange({start:n[0],end:n[1],startValue:h[0],endValue:h[1]})})}}),RS}var kS={},OS;function Wd(){if(OS)return kS;OS=1;var e=we,t=Z,r=$d();return e.registerAction("dataZoom",function(a,i){var o=r.createLinkedNodesFinder(t.bind(i.eachComponent,i,"dataZoom"),r.eachAxisDim,function(f,n){return f.get(n.axisIndex)}),v=[];i.eachComponent({mainType:"dataZoom",query:a},function(f,n){v.push.apply(v,o(f).nodes)}),t.each(v,function(f,n){f.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),kS}var zS;function eH(){return zS||(zS=1,Fd(),_i(),xi(),J3(),j3(),Ud(),Wd()),wS}var Yh,BS;function tH(){if(BS)return Yh;BS=1;var e=we,t=Z,r=Hd(),a=oM(),i=sM(),o=yi(),v=ra,f=na();eH();var n=v.toolbox.dataZoom,h=t.each,s="\0_ec_\0toolbox-dataZoom_";function u(y,_,b){(this._brushController=new r(b.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}u.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(n.title)};var l=u.prototype;l.render=function(y,_,b,T){this.model=y,this.ecModel=_,this.api=b,g(y,_,this,T,b),p(y,_)},l.onclick=function(y,_,b){d[b].call(this)},l.remove=function(y,_){this._brushController.unmount()},l.dispose=function(y,_){this._brushController.dispose()};var d={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(i.pop(this.ecModel))}};l._onBrush=function(y,_){if(!_.isEnd||!y.length)return;var b={},T=this.ecModel;this._brushController.updateCovers([]);var S=new a(c(this.model.option),T,{include:["grid"]});S.matchOutputRanges(y,T,function(A,C,M){if(M.type==="cartesian2d"){var D=A.brushType;D==="rect"?(x("x",M,C[0]),x("y",M,C[1])):x({lineX:"x",lineY:"y"}[D],M,C)}}),i.push(T,b),this._dispatchZoomAction(b);function x(A,C,M){var D=C.getAxis(A),L=D.model,P=w(A,L,T),R=P.findRepresentativeAxisProxy(L).getMinMaxSpan();(R.minValueSpan!=null||R.maxValueSpan!=null)&&(M=o(0,M.slice(),D.scale.getExtent(),0,R.minValueSpan,R.maxValueSpan)),P&&(b[P.id]={dataZoomId:P.id,startValue:M[0],endValue:M[1]})}function w(A,C,M){var D;return M.eachComponent({mainType:"dataZoom",subType:"select"},function(L){var P=L.getAxisModel(A,C.componentIndex);P&&(D=L)}),D}},l._dispatchZoomAction=function(y){var _=[];h(y,function(b,T){_.push(t.clone(b))}),_.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:_})};function c(y){var _={};return t.each(["xAxisIndex","yAxisIndex"],function(b){_[b]=y[b],_[b]==null&&(_[b]="all"),(_[b]===!1||_[b]==="none")&&(_[b]=[])}),_}function p(y,_){y.setIconStatus("back",i.count(_)>1?"emphasis":"normal")}function g(y,_,b,T,S){var x=b._isZoomActive;T&&T.type==="takeGlobalCursor"&&(x=T.key==="dataZoomSelect"?T.dataZoomSelectActive:!1),b._isZoomActive=x,y.setIconStatus("zoom",x?"emphasis":"normal");var w=new a(c(y.option),_,{include:["grid"]});b._brushController.setPanels(w.makePanelOpts(S,function(A){return A.xAxisDeclared&&!A.yAxisDeclared?"lineX":!A.xAxisDeclared&&A.yAxisDeclared?"lineY":"rect"})).enableBrush(x?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}f.register("dataZoom",u),e.registerPreprocessor(function(y){if(!y)return;var _=y.dataZoom||(y.dataZoom=[]);t.isArray(_)||(y.dataZoom=_=[_]);var b=y.toolbox;if(b&&(t.isArray(b)&&(b=b[0]),b&&b.feature)){var T=b.feature.dataZoom;S("xAxis",T),S("yAxis",T)}function S(w,A){if(A){var C=w+"Index",M=A[C];M!=null&&M!=="all"&&!t.isArray(M)&&(M=M===!1||M==="none"?[]:[M]),x(w,function(D,L){if(!(M!=null&&M!=="all"&&t.indexOf(M,L)===-1)){var P={type:"select",$fromToolbox:!0,filterMode:A.filterMode||"filter",id:s+w+L};P[C]=L,_.push(P)}})}}function x(w,A){var C=y[w];t.isArray(C)||(C=C?[C]:[]),h(C,A)}});var m=u;return Yh=m,Yh}var Xh,NS;function rH(){if(NS)return Xh;NS=1;var e=we,t=sM(),r=ra,a=na(),i=r.toolbox.restore;function o(n){this.model=n}o.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:i.title};var v=o.prototype;v.onclick=function(n,h,s){t.clear(n),h.dispatchAction({type:"restore",from:this.uid})},a.register("restore",o),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,h){h.resetOption("recreate")});var f=o;return Xh=f,Xh}var VS;function aH(){return VS||(VS=1,W3(),Z3(),Y3(),X3(),K3(),tH(),rH()),fS}var HS={},Kh,qS;function iH(){if(qS)return Kh;qS=1;var e=we,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return Kh=t,Kh}var Qh,GS;function nH(){if(GS)return Qh;GS=1;var e=Z,t=lt,r=ht,a=an,i=nt,o=Ke(),v=e.each,f=o.toCamelCase,n=["","-webkit-","-moz-","-o-"],h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function s(g){var m="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+g+"s "+m+",top "+g+"s "+m;return e.map(n,function(_){return _+"transition:"+y}).join(";")}function u(g){var m=[],y=g.get("fontSize"),_=g.getTextColor();return _&&m.push("color:"+_),m.push("font:"+g.getFont()),y&&m.push("line-height:"+Math.round(y*3/2)+"px"),v(["decoration","align"],function(b){var T=g.get(b);T&&m.push("text-"+b+":"+T)}),m.join(";")}function l(g){var m=[],y=g.get("transitionDuration"),_=g.get("backgroundColor"),b=g.getModel("textStyle"),T=g.get("padding");return y&&m.push(s(y)),_&&(i.canvasSupported?m.push("background-Color:"+_):(m.push("background-Color:#"+t.toHex(_)),m.push("filter:alpha(opacity=70)"))),v(["width","color","radius"],function(S){var x="border-"+S,w=f(x),A=g.get(w);A!=null&&m.push(x+":"+A+(S==="color"?"":"px"))}),m.push(u(b)),T!=null&&m.push("padding:"+o.normalizeCssArray(T).join("px ")+"px"),m.join(";")+";"}function d(g,m,y,_,b){var T=m&&m.painter;if(y){var S=T&&T.getViewportRoot();S&&a.transformLocalCoord(g,S,document.body,_,b)}else{g[0]=_,g[1]=b;var x=T&&T.getViewportRootOffset();x&&(g[0]+=x.offsetLeft,g[1]+=x.offsetTop)}}function c(g,m,y){if(i.wxa)return null;var _=document.createElement("div");_.domBelongToZr=!0,this.el=_;var b=this._zr=m.getZr(),T=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0],d(this._styleCoord,b,T,m.getWidth()/2,m.getHeight()/2),T?document.body.appendChild(_):g.appendChild(_),this._container=g,this._show=!1,this._hideTimeout;var S=this;_.onmouseenter=function(){S._enterable&&(clearTimeout(S._hideTimeout),S._show=!0),S._inContent=!0},_.onmousemove=function(x){if(x=x||window.event,!S._enterable){var w=b.handler,A=b.painter.getViewportRoot();r.normalizeEvent(A,x,!0),w.dispatch("mousemove",x)}},_.onmouseleave=function(){S._enterable&&S._show&&S.hideLater(S._hideDelay),S._inContent=!1}}c.prototype={constructor:c,_enterable:!0,update:function(){var g=this._container,m=g.currentStyle||document.defaultView.getComputedStyle(g),y=g.style;y.position!=="absolute"&&m.position!=="absolute"&&(y.position="relative")},show:function(g){clearTimeout(this._hideTimeout);var m=this.el,y=this._styleCoord;m.style.cssText=h+l(g)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(g.get("extraCssText")||""),m.style.display=m.innerHTML?"block":"none",m.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(g){this.el.innerHTML=g??""},setEnterable:function(g){this._enterable=g},getSize:function(){var g=this.el;return[g.clientWidth,g.clientHeight]},moveTo:function(g,m){var y=this._styleCoord;d(y,this._zr,this._appendToBody,g,m);var _=this.el.style;_.left=y[0]+"px",_.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(g){this._show&&!(this._inContent&&this._enterable)&&(g?(this._hideDelay=g,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),g)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var g=this.el.clientWidth,m=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(g+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),m+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:g,height:m}}};var p=c;return Qh=p,Qh}var Jh,FS;function oH(){if(FS)return Jh;FS=1;var e=Z,t=ba;function r(i){this._zr=i.getZr(),this._show=!1,this._hideTimeout}r.prototype={constructor:r,_enterable:!0,update:function(){},show:function(i){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(i,o,v){this.el&&this._zr.remove(this.el);for(var f={},n=i,h="{marker",s="|}",u=n.indexOf(h);u>=0;){var l=n.indexOf(s),d=n.substr(u+h.length,l-u-h.length);d.indexOf("sub")>-1?f["marker"+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:o[d],textOffset:[3,0]}:f["marker"+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:o[d]},n=n.substr(l+1),u=n.indexOf("{marker")}this.el=new t({style:{rich:f,text:i,textLineHeight:20,textBackgroundColor:v.get("backgroundColor"),textBorderRadius:v.get("borderRadius"),textFill:v.get("textStyle.color"),textPadding:v.get("padding")},z:v.get("z")}),this._zr.add(this.el);var c=this;this.el.on("mouseover",function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0}),this.el.on("mouseout",function(){c._enterable&&c._show&&c.hideLater(c._hideDelay),c._inContent=!1})},setEnterable:function(i){this._enterable=i},getSize:function(){var i=this.el.getBoundingRect();return[i.width,i.height]},moveTo:function(i,o){this.el&&this.el.attr("position",[i,o])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(i){this._show&&!(this._inContent&&this._enterable)&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),i)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var i=this.getSize();return{width:i[0],height:i[1]}}};var a=r;return Jh=a,Jh}var jh,$S;function sH(){if($S)return jh;$S=1;var e=we,t=Z,r=nt,a=nH(),i=oH(),o=Ke(),v=Oe(),f=ye,n=tM(),h=Ne,s=vt,u=rM(),l=sr(),d=ss(),c=Re,p=c.getTooltipRenderMode,g=t.bind,m=t.each,y=v.parsePercent,_=new f.Rect({shape:{x:-1,y:-1,width:2,height:2}}),b=e.extendComponentView({type:"tooltip",init:function(M,D){if(!r.node){var L=M.getComponent("tooltip"),P=L.get("renderMode");this._renderMode=p(P);var R;this._renderMode==="html"?(R=new a(D.getDom(),D,{appendToBody:L.get("appendToBody",!0)}),this._newLine="<br/>"):(R=new i(D),this._newLine=`
`),this._tooltipContent=R}},render:function(M,D,L){if(!r.node){this.group.removeAll(),this._tooltipModel=M,this._ecModel=D,this._api=L,this._lastDataByCoordSys=null,this._alwaysShowContent=M.get("alwaysShowContent");var P=this._tooltipContent;P.update(),P.setEnterable(M.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var M=this._tooltipModel,D=M.get("triggerOn");u.register("itemTooltip",this._api,g(function(L,P,R){D!=="none"&&(D.indexOf(L)>=0?this._tryShow(P,R):L==="leave"&&this._hide(R))},this))},_keepShow:function(){var M=this._tooltipModel,D=this._ecModel,L=this._api;if(this._lastX!=null&&this._lastY!=null&&M.get("triggerOn")!=="none"){var P=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&P.manuallyShowTip(M,D,L,{x:P._lastX,y:P._lastY})})}},manuallyShowTip:function(M,D,L,P){if(!(P.from===this.uid||r.node)){var R=S(P,L);this._ticket="";var k=P.dataByCoordSys;if(P.tooltip&&P.x!=null&&P.y!=null){var z=_;z.position=[P.x,P.y],z.update(),z.tooltip=P.tooltip,this._tryShow({offsetX:P.x,offsetY:P.y,target:z},R)}else if(k)this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,dataByCoordSys:P.dataByCoordSys,tooltipOption:P.tooltipOption},R);else if(P.seriesIndex!=null){if(this._manuallyAxisShowTip(M,D,L,P))return;var B=n(P,D),G=B.point[0],V=B.point[1];G!=null&&V!=null&&this._tryShow({offsetX:G,offsetY:V,position:P.position,target:B.el},R)}else P.x!=null&&P.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:P.x,y:P.y}),this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,target:L.getZr().findHover(P.x,P.y).target},R))}},manuallyHideTip:function(M,D,L,P){var R=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&R.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,P.from!==this.uid&&this._hide(S(P,L))},_manuallyAxisShowTip:function(V,D,L,P){var R=P.seriesIndex,k=P.dataIndex,z=D.getComponent("axisPointer").coordSysAxesInfo;if(!(R==null||k==null||z==null)){var B=D.getSeriesByIndex(R);if(B){var G=B.getData(),V=T([G.getItemModel(k),B,(B.coordinateSystem||{}).model,V]);if(V.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:R,dataIndex:k,position:P.position}),!0}}},_tryShow:function(M,D){var L=M.target,P=this._tooltipModel;if(P){this._lastX=M.offsetX,this._lastY=M.offsetY;var R=M.dataByCoordSys;R&&R.length?this._showAxisTooltip(R,M):L&&L.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(M,L,D)):L&&L.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(M,L,D)):(this._lastDataByCoordSys=null,this._hide(D))}},_showOrMove:function(M,D){var L=M.get("showDelay");D=t.bind(D,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout(D,L):D()},_showAxisTooltip:function(M,D){var L=this._ecModel,P=this._tooltipModel,R=[D.offsetX,D.offsetY],k=[],z=[],B=T([D.tooltipOption,P]),G=this._renderMode,V=this._newLine,I={};m(M,function(E){m(E.dataByAxis,function(N){var q=L.getComponent(N.axisDim+"Axis",N.axisIndex),H=N.value,F=[];if(!(!q||H==null)){var U=d.getValueLabel(H,q.axis,L,N.seriesDataIndices,N.valueLabelOpt);t.each(N.seriesDataIndices,function(Y){var Q=L.getSeriesByIndex(Y.seriesIndex),ee=Y.dataIndexInside,j=Q&&Q.getDataParams(ee);if(j.axisDim=N.axisDim,j.axisIndex=N.axisIndex,j.axisType=N.axisType,j.axisId=N.axisId,j.axisValue=l.getAxisRawValue(q.axis,H),j.axisValueLabel=U,j){z.push(j);var re=Q.formatTooltip(ee,!0,null,G),ae;if(t.isObject(re)){ae=re.html;var ne=re.markers;t.merge(I,ne)}else ae=re;F.push(ae)}});var W=U;G!=="html"?k.push(F.join(V)):k.push((W?o.encodeHTML(W)+V:"")+F.join(V))}})},this),k.reverse(),k=k.join(this._newLine+this._newLine);var O=D.position;this._showOrMove(B,function(){this._updateContentNotChangedOnAxis(M)?this._updatePosition(B,O,R[0],R[1],this._tooltipContent,z):this._showTooltipContent(B,k,z,Math.random(),R[0],R[1],O,void 0,I)})},_showSeriesItemTooltip:function(M,D,L){var P=this._ecModel,R=D.seriesIndex,k=P.getSeriesByIndex(R),z=D.dataModel||k,B=D.dataIndex,G=D.dataType,V=z.getData(),I=T([V.getItemModel(B),z,k&&(k.coordinateSystem||{}).model,this._tooltipModel]),O=I.get("trigger");if(!(O!=null&&O!=="item")){var E=z.getDataParams(B,G),N=z.formatTooltip(B,!1,G,this._renderMode),q,H;t.isObject(N)?(q=N.html,H=N.markers):(q=N,H=null);var F="item_"+z.name+"_"+B;this._showOrMove(I,function(){this._showTooltipContent(I,q,E,F,M.offsetX,M.offsetY,M.position,M.target,H)}),L({type:"showTip",dataIndexInside:B,dataIndex:V.getRawIndex(B),seriesIndex:R,from:this.uid})}},_showComponentItemTooltip:function(M,D,L){var P=D.tooltip;if(typeof P=="string"){var R=P;P={content:R,formatter:R}}var k=new s(P,this._tooltipModel,this._ecModel),z=k.get("content"),B=Math.random();this._showOrMove(k,function(){this._showTooltipContent(k,z,k.get("formatterParams")||{},B,M.offsetX,M.offsetY,M.position,D)}),L({type:"showTip",from:this.uid})},_showTooltipContent:function(M,D,L,P,R,k,z,B,G){if(this._ticket="",!(!M.get("showContent")||!M.get("show"))){var V=this._tooltipContent,I=M.get("formatter");z=z||M.get("position");var O=D;if(I&&typeof I=="string")O=o.formatTpl(I,L,!0);else if(typeof I=="function"){var E=g(function(N,q){N===this._ticket&&(V.setContent(q,G,M),this._updatePosition(M,z,R,k,V,L,B))},this);this._ticket=P,O=I(L,P,E)}V.setContent(O,G,M),V.show(M),this._updatePosition(M,z,R,k,V,L,B)}},_updatePosition:function(M,D,L,P,R,k,z){var B=this._api.getWidth(),G=this._api.getHeight();D=D||M.get("position");var V=R.getSize(),I=M.get("align"),O=M.get("verticalAlign"),E=z&&z.getBoundingRect().clone();if(z&&E.applyTransform(z.transform),typeof D=="function"&&(D=D([L,P],k,R.el,E,{viewSize:[B,G],contentSize:V.slice()})),t.isArray(D))L=y(D[0],B),P=y(D[1],G);else if(t.isObject(D)){D.width=V[0],D.height=V[1];var N=h.getLayoutRect(D,{width:B,height:G});L=N.x,P=N.y,I=null,O=null}else if(typeof D=="string"&&z){var q=A(D,E,V);L=q[0],P=q[1]}else{var q=x(L,P,R,B,G,I?null:20,O?null:20);L=q[0],P=q[1]}if(I&&(L-=C(I)?V[0]/2:I==="right"?V[0]:0),O&&(P-=C(O)?V[1]/2:O==="bottom"?V[1]:0),M.get("confine")){var q=w(L,P,R,B,G);L=q[0],P=q[1]}R.moveTo(L,P)},_updateContentNotChangedOnAxis:function(M){var D=this._lastDataByCoordSys,L=!!D&&D.length===M.length;return L&&m(D,function(P,R){var k=P.dataByAxis||{},z=M[R]||{},B=z.dataByAxis||[];L&=k.length===B.length,L&&m(k,function(G,V){var I=B[V]||{},O=G.seriesDataIndices||[],E=I.seriesDataIndices||[];L&=G.value===I.value&&G.axisType===I.axisType&&G.axisId===I.axisId&&O.length===E.length,L&&m(O,function(N,q){var H=E[q];L&=N.seriesIndex===H.seriesIndex&&N.dataIndex===H.dataIndex})})}),this._lastDataByCoordSys=M,!!L},_hide:function(M){this._lastDataByCoordSys=null,M({type:"hideTip",from:this.uid})},dispose:function(M,D){r.node||(this._tooltipContent.dispose(),u.unregister("itemTooltip",D))}});function T(M){for(var D=M.pop();M.length;){var L=M.pop();L&&(s.isInstance(L)&&(L=L.get("tooltip",!0)),typeof L=="string"&&(L={formatter:L}),D=new s(L,D,D.ecModel))}return D}function S(M,D){return M.dispatchAction||t.bind(D.dispatchAction,D)}function x(M,D,L,P,R,k,z){var B=L.getOuterSize(),G=B.width,V=B.height;return k!=null&&(M+G+k>P?M-=G+k:M+=k),z!=null&&(D+V+z>R?D-=V+z:D+=z),[M,D]}function w(M,D,L,P,R){var k=L.getOuterSize(),z=k.width,B=k.height;return M=Math.min(M+z,P)-z,D=Math.min(D+B,R)-B,M=Math.max(M,0),D=Math.max(D,0),[M,D]}function A(M,D,L){var P=L[0],R=L[1],k=5,z=0,B=0,G=D.width,V=D.height;switch(M){case"inside":z=D.x+G/2-P/2,B=D.y+V/2-R/2;break;case"top":z=D.x+G/2-P/2,B=D.y-R-k;break;case"bottom":z=D.x+G/2-P/2,B=D.y+V+k;break;case"left":z=D.x-P-k,B=D.y+V/2-R/2;break;case"right":z=D.x+G+k,B=D.y+V/2-R/2}return[z,B]}function C(M){return M==="center"||M==="middle"}return jh=b,jh}var US;function lH(){if(US)return HS;US=1;var e=we;return Dn(),iH(),sH(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),HS}var WS={},ec,ZS;function uH(){if(ZS)return ec;ZS=1;var e=Z,t=["rect","polygon","keep","clear"];function r(i,o){var v=i&&i.brush;if(e.isArray(v)||(v=v?[v]:[]),!!v.length){var f=[];e.each(v,function(l){var d=l.hasOwnProperty("toolbox")?l.toolbox:[];d instanceof Array&&(f=f.concat(d))});var n=i&&i.toolbox;e.isArray(n)&&(n=n[0]),n||(n={feature:{}},i.toolbox=[n]);var h=n.feature||(n.feature={}),s=h.brush||(h.brush={}),u=s.type||(s.type=[]);u.push.apply(u,f),a(u),o&&!u.length&&u.push.apply(u,t)}}function a(i){var o={};e.each(i,function(v){o[v]=1}),i.length=0,e.each(o,function(v,f){i.push(f)})}return ec=r,ec}var tc={},qa={},YS;function ls(){if(YS)return qa;YS=1;var e=Z,t=Da(),r=e.each;function a(n){if(n){for(var h in n)if(n.hasOwnProperty(h))return!0}}function i(n,h,s){var u={};return r(h,function(d){var c=u[d]=l();r(n[d],function(p,g){if(t.isValidType(g)){var m={type:g,visual:p};s&&s(m,d),c[g]=new t(m),g==="opacity"&&(m=e.clone(m),m.type="colorAlpha",c.__hidden.__alphaForOpacity=new t(m))}})}),u;function l(){var d=function(){};d.prototype.__hidden=d.prototype;var c=new d;return c}}function o(n,h,s){var u;e.each(s,function(l){h.hasOwnProperty(l)&&a(h[l])&&(u=!0)}),u&&e.each(s,function(l){h.hasOwnProperty(l)&&a(h[l])?n[l]=e.clone(h[l]):delete n[l]})}function v(n,h,s,u,l,d){var c={};e.each(n,function(_){var b=t.prepareVisualTypes(h[_]);c[_]=b});var p;function g(_){return s.getItemVisual(p,_)}function m(_,b){s.setItemVisual(p,_,b)}d==null?s.each(y):s.each([d],y);function y(_,b){p=d==null?_:b;var T=s.getRawDataItem(p);if(!(T&&T.visualMap===!1))for(var S=u.call(l,_),x=h[S],w=c[S],A=0,C=w.length;A<C;A++){var M=w[A];x[M]&&x[M].applyVisual(_,g,m)}}}function f(n,h,s,u){var l={};e.each(n,function(c){var p=t.prepareVisualTypes(h[c]);l[c]=p});function d(c,p){u!=null&&(u=p.getDimension(u));function g(M){return p.getItemVisual(y,M)}function m(M,D){p.setItemVisual(y,M,D)}for(var y;(y=c.next())!=null;){var _=p.getRawDataItem(y);if(!(_&&_.visualMap===!1))for(var b=u!=null?p.get(u,y,!0):y,T=s(b),S=h[T],x=l[T],w=0,A=x.length;w<A;w++){var C=x[w];S[C]&&S[C].applyVisual(b,g,m)}}}return{progress:d}}return qa.createVisualMappings=i,qa.replaceVisualOption=o,qa.applyVisual=v,qa.incrementalApplyVisual=f,qa}var rc,XS;function vH(){if(XS)return rc;XS=1;var e=TC(),t=Xe,r=ye,a=r.linePolygonIntersect,i={lineX:o(0),lineY:o(1),rect:{point:function(n,h,s){return n&&s.boundingRect.contain(n[0],n[1])},rect:function(n,h,s){return n&&s.boundingRect.intersect(n)}},polygon:{point:function(n,h,s){return n&&s.boundingRect.contain(n[0],n[1])&&e.contain(s.range,n[0],n[1])},rect:function(n,h,s){var u=s.range;if(!n||u.length<=1)return!1;var l=n.x,d=n.y,c=n.width,p=n.height,g=u[0];if(e.contain(u,l,d)||e.contain(u,l+c,d)||e.contain(u,l,d+p)||e.contain(u,l+c,d+p)||t.create(n).contain(g[0],g[1])||a(l,d,l+c,d,u)||a(l,d,l,d+p,u)||a(l+c,d,l+c,d+p,u)||a(l,d+p,l+c,d+p,u))return!0}}};function o(n){var h=["x","y"],s=["width","height"];return{point:function(u,l,d){if(u){var c=d.range,p=u[n];return v(p,c)}},rect:function(u,l,d){if(u){var c=d.range,p=[u[h[n]],u[h[n]]+u[s[n]]];return p[1]<p[0]&&p.reverse(),v(p[0],c)||v(p[1],c)||v(c[0],p)||v(c[1],p)}}}}function v(n,h){return h[0]<=n&&n<=h[1]}var f=i;return rc=f,rc}var KS;function lM(){if(KS)return tc;KS=1;var e=we,t=Z,r=Xe,a=ls(),i=vH(),o=or,v=oM(),f=["inBrush","outOfBrush"],n="__ecBrushSelect",h="__ecInBrushSelectEvent",s=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(s,function(b,T,S){b.eachComponent({mainType:"brush"},function(x){S&&S.type==="takeGlobalCursor"&&x.setBrushOption(S.key==="brush"?S.brushOption:{brushType:!1})}),u(b)});function u(b){b.eachComponent({mainType:"brush"},function(T){var S=T.brushTargetManager=new v(T.option,b);S.setInputRanges(T.areas,b)})}e.registerVisual(s,function(b,T,S){var x=[],w,A;b.eachComponent({mainType:"brush"},function(C,M){var D={brushId:C.id,brushIndex:M,brushName:C.name,areas:t.clone(C.areas),selected:[]};x.push(D);var L=C.option,P=L.brushLink,R=[],k=[],z=[],B=0;M||(w=L.throttleType,A=L.throttleDelay);var G=t.map(C.areas,function(q){return m(t.defaults({boundingRect:y[q.brushType](q)},q))}),V=a.createVisualMappings(C.option,f,function(q){q.mappingMethod="fixed"});t.isArray(P)&&t.each(P,function(q){R[q]=1});function I(q){return P==="all"||R[q]}function O(q){return!!q.length}b.eachSeries(function(q,H){var F=z[H]=[];q.subType==="parallel"?E(q,H):N(q,H,F)});function E(q,H){var F=q.coordinateSystem;B|=F.hasAxisBrushed(),I(H)&&F.eachActiveState(q.getData(),function(U,W){U==="active"&&(k[W]=1)})}function N(q,H,F){var U=p(q);if(!(!U||g(C,H))&&(t.each(G,function(Y){U[Y.brushType]&&C.brushTargetManager.controlSeries(Y,q,b)&&F.push(Y),B|=O(F)}),I(H)&&O(F))){var W=q.getData();W.each(function(Y){c(U,F,W,Y)&&(k[Y]=1)})}}b.eachSeries(function(q,H){var F={seriesId:q.id,seriesIndex:H,seriesName:q.name,dataIndex:[]};D.selected.push(F);var U=p(q),W=z[H],Y=q.getData(),Q=I(H)?function(ee){return k[ee]?(F.dataIndex.push(Y.getRawIndex(ee)),"inBrush"):"outOfBrush"}:function(ee){return c(U,W,Y,ee)?(F.dataIndex.push(Y.getRawIndex(ee)),"inBrush"):"outOfBrush"};(I(H)?B:O(W))&&a.applyVisual(f,V,Y,Q)})}),l(T,w,A,x,S)});function l(b,T,S,x,w){if(w){var A=b.getZr();if(!A[h]){A[n]||(A[n]=d);var C=o.createOrUpdate(A,n,S,T);C(b,x)}}}function d(b,T){if(!b.isDisposed()){var S=b.getZr();S[h]=!0,b.dispatchAction({type:"brushSelect",batch:T}),S[h]=!1}}function c(b,T,S,x){for(var w=0,A=T.length;w<A;w++){var C=T[w];if(b[C.brushType](x,S,C.selectors,C))return!0}}function p(b){var T=b.brushSelector;if(t.isString(T)){var S=[];return t.each(i,function(w,A){S[A]=function(C,M,D,L){var P=M.getItemLayout(C);return w[T](P,D,L)}}),S}else if(t.isFunction(T)){var x={};return t.each(i,function(w,A){x[A]=T}),x}return T}function g(b,T){var S=b.option.seriesIndex;return S!=null&&S!=="all"&&(t.isArray(S)?t.indexOf(S,T)<0:T!==S)}function m(b){var T=b.selectors={};return t.each(i[b.brushType],function(S,x){T[x]=function(w){return S(w,T,b)}}),b}var y={lineX:t.noop,lineY:t.noop,rect:function(b){return _(b.range)},polygon:function(b){for(var T,S=b.range,x=0,w=S.length;x<w;x++){T=T||[[1/0,-1/0],[1/0,-1/0]];var A=S[x];A[0]<T[0][0]&&(T[0][0]=A[0]),A[0]>T[0][1]&&(T[0][1]=A[0]),A[1]<T[1][0]&&(T[1][0]=A[1]),A[1]>T[1][1]&&(T[1][1]=A[1])}return T&&_(T)}};function _(b){return new r(b[0][0],b[1][0],b[0][1]-b[0][0],b[1][1]-b[1][0])}return tc.layoutCovers=u,tc}var ac,QS;function hH(){if(QS)return ac;QS=1;var e=we,t=Z,r=ls(),a=vt,i=["#ddd"],o=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(n,h){var s=this.option;!h&&r.replaceVisualOption(s,n,["inBrush","outOfBrush"]);var u=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:i},u.hasOwnProperty("liftZ")||(u.liftZ=5)},setAreas:function(n){n&&(this.areas=t.map(n,function(h){return v(this.option,h)},this))},setBrushOption:function(n){this.brushOption=v(this.option,n),this.brushType=this.brushOption.brushType}});function v(n,h){return t.merge({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new a(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},h,!0)}var f=o;return ac=f,ac}var ic,JS;function cH(){if(JS)return ic;JS=1;var e=we,t=Z,r=Hd(),a=lM(),i=a.layoutCovers,o=e.extendComponentView({type:"brush",init:function(f,n){this.ecModel=f,this.api=n,this.model,(this._brushController=new r(n.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(f){return this.model=f,v.apply(this,arguments)},updateTransform:function(f,n){return i(n),v.apply(this,arguments)},updateView:v,dispose:function(){this._brushController.dispose()},_onBrush:function(f,n){var h=this.model.id;this.model.brushTargetManager.setOutputRanges(f,this.ecModel),(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:h,areas:t.clone(f),$from:h}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:h,areas:t.clone(f),$from:h})}});function v(f,n,h,s){(!s||s.$from!==f.id)&&this._brushController.setPanels(f.brushTargetManager.makePanelOpts(h)).enableBrush(f.brushOption).updateCovers(f.areas.slice())}return ic=o,ic}var jS={},eb;function fH(){if(eb)return jS;eb=1;var e=we;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),jS}var nc,tb;function dH(){if(tb)return nc;tb=1;var e=Z,t=na(),r=ra,a=r.toolbox.brush;function i(f,n,h){this.model=f,this.ecModel=n,this.api=h,this._brushType,this._brushMode}i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(a.title)};var o=i.prototype;o.render=o.updateView=function(f,n,h){var s,u,l;n.eachComponent({mainType:"brush"},function(d){s=d.brushType,u=d.brushOption.brushMode||"single",l|=d.areas.length}),this._brushType=s,this._brushMode=u,e.each(f.get("type",!0),function(d){f.setIconStatus(d,(d==="keep"?u==="multiple":d==="clear"?l:d===s)?"emphasis":"normal")})},o.getIcons=function(){var f=this.model,n=f.get("icon",!0),h={};return e.each(f.get("type",!0),function(s){n[s]&&(h[s]=n[s])}),h},o.onclick=function(f,n,h){var s=this._brushType,u=this._brushMode;h==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:h==="keep"?s:s===h?!1:h,brushMode:h==="keep"?u==="multiple"?"single":"multiple":u}})},t.register("brush",i);var v=i;return nc=v,nc}var rb;function gH(){if(rb)return WS;rb=1;var e=we,t=uH();return lM(),hH(),cH(),fH(),dH(),e.registerPreprocessor(t),WS}var ab={},ib;function pH(){if(ib)return ab;ib=1;var e=Z,t=we,r=ye,a=Ne,i=a.getLayoutRect;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(o,v,f){if(this.group.removeAll(),!!o.get("show")){var n=this.group,h=o.getModel("textStyle"),s=o.getModel("subtextStyle"),u=o.get("textAlign"),l=e.retrieve2(o.get("textBaseline"),o.get("textVerticalAlign")),d=new r.Text({style:r.setTextStyle({},h,{text:o.get("text"),textFill:h.getTextColor()},{disableBox:!0}),z2:10}),c=d.getBoundingRect(),p=o.get("subtext"),g=new r.Text({style:r.setTextStyle({},s,{text:p,textFill:s.getTextColor(),y:c.height+o.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=o.get("link"),y=o.get("sublink"),_=o.get("triggerEvent",!0);d.silent=!m&&!_,g.silent=!y&&!_,m&&d.on("click",function(){window.open(m,"_"+o.get("target"))}),y&&g.on("click",function(){window.open(y,"_"+o.get("subtarget"))}),d.eventData=g.eventData=_?{componentType:"title",componentIndex:o.componentIndex}:null,n.add(d),p&&n.add(g);var b=n.getBoundingRect(),T=o.getBoxLayoutParams();T.width=b.width,T.height=b.height;var S=i(T,{width:f.getWidth(),height:f.getHeight()},o.get("padding"));u||(u=o.get("left")||o.get("right"),u==="middle"&&(u="center"),u==="right"?S.x+=S.width:u==="center"&&(S.x+=S.width/2)),l||(l=o.get("top")||o.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?S.y+=S.height:l==="middle"&&(S.y+=S.height/2),l=l||"top"),n.attr("position",[S.x,S.y]);var x={textAlign:u,textVerticalAlign:l};d.setStyle(x),g.setStyle(x),b=n.getBoundingRect();var w=S.margin,A=o.getItemStyle(["color","opacity"]);A.fill=o.get("backgroundColor");var C=new r.Rect({shape:{x:b.x-w[3],y:b.y-w[0],width:b.width+w[1]+w[3],height:b.height+w[0]+w[2],r:o.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});n.add(C)}}}),ab}var nb={},oc,ob;function mH(){if(ob)return oc;ob=1;var e=Z;function t(o){var v=o&&o.timeline;e.isArray(v)||(v=v?[v]:[]),e.each(v,function(f){f&&r(f)})}function r(o){var v=o.type,f={number:"value",time:"time"};if(f[v]&&(o.axisType=f[v],delete o.type),a(o),i(o,"controlPosition")){var n=o.controlStyle||(o.controlStyle={});i(n,"position")||(n.position=o.controlPosition),n.position==="none"&&!i(n,"show")&&(n.show=!1,delete n.position),delete o.controlPosition}e.each(o.data||[],function(h){e.isObject(h)&&!e.isArray(h)&&(!i(h,"value")&&i(h,"name")&&(h.value=h.name),a(h))})}function a(o){var v=o.itemStyle||(o.itemStyle={}),f=v.emphasis||(v.emphasis={}),n=o.label||o.label||{},h=n.normal||(n.normal={}),s={normal:1,emphasis:1};e.each(n,function(u,l){!s[l]&&!i(h,l)&&(h[l]=u)}),f.label&&!i(n,"emphasis")&&(n.emphasis=f.label,delete f.label)}function i(o,v){return o.hasOwnProperty(v)}return oc=t,oc}var sb={},lb;function yH(){if(lb)return sb;lb=1;var e=ct;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),sb}var ub={},vb;function _H(){if(vb)return ub;vb=1;var e=we,t=Z;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,a){var i=a.getComponent("timeline");return i&&r.currentIndex!=null&&(i.setCurrentIndex(r.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),a.resetOption("timeline"),t.defaults({currentIndex:i.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,a){var i=a.getComponent("timeline");i&&r.playState!=null&&i.setPlayState(r.playState)}),ub}var sc,hb;function xH(){if(hb)return sc;hb=1;var e=Z,t=ct,r=Wt(),a=Re,i=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(v,f,n){this._data,this._names,this.mergeDefaultAndTheme(v,n),this._initData()},mergeOption:function(v){i.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(v){v==null&&(v=this.option.currentIndex);var f=this._data.count();this.option.loop?v=(v%f+f)%f:(v>=f&&(v=f-1),v<0&&(v=0)),this.option.currentIndex=v},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(v){this.option.autoPlay=!!v},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var v=this.option,f=v.data||[],n=v.axisType,h=this._names=[];if(n==="category"){var s=[];e.each(f,function(d,c){var p=a.getDataItemValue(d),g;e.isObject(d)?(g=e.clone(d),g.value=c):g=c,s.push(g),!e.isString(p)&&(p==null||isNaN(p))&&(p=""),h.push(p+"")}),f=s}var u={category:"ordinal",time:"time"}[n]||"number",l=this._data=new r([{name:"value",type:u}],this);l.initData(f,h)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),o=i;return sc=o,sc}var lc,cb;function SH(){if(cb)return lc;cb=1;var e=Z,t=xH(),r=Ad,a=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(a,r);var i=a;return lc=i,lc}var uc,fb;function bH(){if(fb)return uc;fb=1;var e=Yo,t=e.extend({type:"timeline"});return uc=t,uc}var vc,db;function wH(){if(db)return vc;db=1;var e=Z,t=aa(),r=function(i,o,v,f){t.call(this,i,o,v),this.type=f||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var a=r;return vc=a,vc}var hc,gb;function AH(){if(gb)return hc;gb=1;var e=Z,t=Xe,r=Pt(),a=ye,i=Ne,o=bH(),v=wH(),f=Zt(),n=f.createSymbol,h=sr(),s=Oe(),u=Ke(),l=u.encodeHTML,d=e.bind,c=e.each,p=Math.PI,g=o.extend({type:"timeline.slider",init:function(T,S){this.api=S,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(T,S,x,w){if(this.model=T,this.api=x,this.ecModel=S,this.group.removeAll(),T.get("show",!0)){var A=this._layout(T,x),C=this._createGroup("mainGroup"),M=this._createGroup("labelGroup"),D=this._axis=this._createAxis(A,T);T.formatTooltip=function(L){return l(D.scale.getLabel(L))},c(["AxisLine","AxisTick","Control","CurrentPointer"],function(L){this["_render"+L](A,C,D,T)},this),this._renderAxisLabel(A,M,D,T),this._position(A,T)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(T,S){var x=T.get("label.position"),w=T.get("orient"),A=m(T,S);x==null||x==="auto"?x=w==="horizontal"?A.y+A.height/2<S.getHeight()/2?"-":"+":A.x+A.width/2<S.getWidth()/2?"+":"-":isNaN(x)&&(x={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[w][x]);var C={horizontal:"center",vertical:x>=0||x==="+"?"left":"right"},M={horizontal:x>=0||x==="+"?"top":"bottom",vertical:"middle"},D={horizontal:0,vertical:p/2},L=w==="vertical"?A.height:A.width,P=T.getModel("controlStyle"),R=P.get("show",!0),k=R?P.get("itemSize"):0,z=R?P.get("itemGap"):0,B=k+z,G=T.get("label.rotate")||0;G=G*p/180;var V,I,O,E,N=P.get("position",!0),q=R&&P.get("showPlayBtn",!0),H=R&&P.get("showPrevBtn",!0),F=R&&P.get("showNextBtn",!0),U=0,W=L;return N==="left"||N==="bottom"?(q&&(V=[0,0],U+=B),H&&(I=[U,0],U+=B),F&&(O=[W-k,0],W-=B)):(q&&(V=[W-k,0],W-=B),H&&(I=[0,0],U+=B),F&&(O=[W-k,0],W-=B)),E=[U,W],T.get("inverse")&&E.reverse(),{viewRect:A,mainLength:L,orient:w,rotation:D[w],labelRotation:G,labelPosOpt:x,labelAlign:T.get("label.align")||C[w],labelBaseline:T.get("label.verticalAlign")||T.get("label.baseline")||M[w],playPosition:V,prevBtnPosition:I,nextBtnPosition:O,axisExtent:E,controlSize:k,controlGap:z}},_position:function(T,S){var x=this._mainGroup,w=this._labelGroup,A=T.viewRect;if(T.orient==="vertical"){var C=r.create(),M=A.x,D=A.y+A.height;r.translate(C,C,[-M,-D]),r.rotate(C,C,-p/2),r.translate(C,C,[M,D]),A=A.clone(),A.applyTransform(C)}var L=I(A),P=I(x.getBoundingRect()),R=I(w.getBoundingRect()),k=x.position,z=w.position;z[0]=k[0]=L[0][0];var B=T.labelPosOpt;if(isNaN(B)){var G=B==="+"?0:1;O(k,P,L,1,G),O(z,R,L,1,1-G)}else{var G=B>=0?0:1;O(k,P,L,1,G),z[1]=k[1]+B}x.attr("position",k),w.attr("position",z),x.rotation=w.rotation=T.rotation,V(x),V(w);function V(E){var N=E.position;E.origin=[L[0][0]-N[0],L[1][0]-N[1]]}function I(E){return[[E.x,E.x+E.width],[E.y,E.y+E.height]]}function O(E,N,q,H,F){E[H]+=q[H][F]-N[H][F]}},_createAxis:function(T,S){var x=S.getData(),w=S.get("axisType"),A=h.createScaleByModel(S,w);A.getTicks=function(){return x.mapArray(["value"],function(D){return D})};var C=x.getDataExtent("value");A.setExtent(C[0],C[1]),A.niceTicks();var M=new v("value",A,T.axisExtent,w);return M.model=S,M},_createGroup:function(T){var S=this["_"+T]=new a.Group;return this.group.add(S),S},_renderAxisLine:function(T,S,x,w){var A=x.getExtent();w.get("lineStyle.show")&&S.add(new a.Line({shape:{x1:A[0],y1:0,x2:A[1],y2:0},style:e.extend({lineCap:"round"},w.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(T,S,x,w){var A=w.getData(),C=x.scale.getTicks();c(C,function(M){var D=x.dataToCoord(M),L=A.getItemModel(M),P=L.getModel("itemStyle"),R=L.getModel("emphasis.itemStyle"),k={position:[D,0],onclick:d(this._changeTimeline,this,M)},z=_(L,P,S,k);a.setHoverStyle(z,R.getItemStyle()),L.get("tooltip")?(z.dataIndex=M,z.dataModel=w):z.dataIndex=z.dataModel=null},this)},_renderAxisLabel:function(T,S,x,w){var A=x.getLabelModel();if(A.get("show")){var C=w.getData(),M=x.getViewLabels();c(M,function(D){var L=D.tickValue,P=C.getItemModel(L),R=P.getModel("label"),k=P.getModel("emphasis.label"),z=x.dataToCoord(D.tickValue),B=new a.Text({position:[z,0],rotation:T.labelRotation-T.rotation,onclick:d(this._changeTimeline,this,L),silent:!1});a.setTextStyle(B.style,R,{text:D.formattedLabel,textAlign:T.labelAlign,textVerticalAlign:T.labelBaseline}),S.add(B),a.setHoverStyle(B,a.setTextStyle({},k))},this)}},_renderControl:function(T,S,x,w){var A=T.controlSize,C=T.rotation,M=w.getModel("controlStyle").getItemStyle(),D=w.getModel("emphasis.controlStyle").getItemStyle(),L=[0,-A/2,A,A],P=w.getPlayState(),R=w.get("inverse",!0);k(T.nextBtnPosition,"controlStyle.nextIcon",d(this._changeTimeline,this,R?"-":"+")),k(T.prevBtnPosition,"controlStyle.prevIcon",d(this._changeTimeline,this,R?"+":"-")),k(T.playPosition,"controlStyle."+(P?"stopIcon":"playIcon"),d(this._handlePlayClick,this,!P),!0);function k(z,B,G,V){if(z){var I={position:z,origin:[A/2,0],rotation:V?-C:0,rectHover:!0,style:M,onclick:G},O=y(w,B,L,I);S.add(O),a.setHoverStyle(O,D)}}},_renderCurrentPointer:function(T,S,x,w){var A=w.getData(),C=w.getCurrentIndex(),M=A.getItemModel(C).getModel("checkpointStyle"),D=this,L={onCreate:function(P){P.draggable=!0,P.drift=d(D._handlePointerDrag,D),P.ondragend=d(D._handlePointerDragend,D),b(P,C,x,w,!0)},onUpdate:function(P){b(P,C,x,w)}};this._currentPointer=_(M,M,this._mainGroup,{},this._currentPointer,L)},_handlePlayClick:function(T){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:T,from:this.uid})},_handlePointerDrag:function(T,S,x){this._clearTimer(),this._pointerChangeTimeline([x.offsetX,x.offsetY])},_handlePointerDragend:function(T){this._pointerChangeTimeline([T.offsetX,T.offsetY],!0)},_pointerChangeTimeline:function(T,S){var x=this._toAxisCoord(T)[0],w=this._axis,A=s.asc(w.getExtent().slice());x>A[1]&&(x=A[1]),x<A[0]&&(x=A[0]),this._currentPointer.position[0]=x,this._currentPointer.dirty();var C=this._findNearestTick(x),M=this.model;(S||C!==M.getCurrentIndex()&&M.get("realtime"))&&this._changeTimeline(C)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(d(T,this),this.model.get("playInterval")));function T(){var S=this.model;this._changeTimeline(S.getCurrentIndex()+(S.get("rewind",!0)?-1:1))}},_toAxisCoord:function(T){var S=this._mainGroup.getLocalTransform();return a.applyTransform(T,S,!0)},_findNearestTick:function(T){var S=this.model.getData(),x=1/0,w,A=this._axis;return S.each(["value"],function(C,M){var D=A.dataToCoord(C),L=Math.abs(D-T);L<x&&(x=L,w=M)}),w},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(T){var S=this.model.getCurrentIndex();T==="+"?T=S+1:T==="-"&&(T=S-1),this.api.dispatchAction({type:"timelineChange",currentIndex:T,from:this.uid})}});function m(T,S){return i.getLayoutRect(T.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()},T.get("padding"))}function y(T,S,x,w){var A=a.makePath(T.get(S).replace(/^path:\/\//,""),e.clone(w||{}),new t(x[0],x[1],x[2],x[3]),"center");return A}function _(T,S,x,w,A,C){var M=S.get("color");if(A)A.setColor(M),x.add(A),C&&C.onUpdate(A);else{var D=T.get("symbol");A=n(D,-1,-1,2,2,M),A.setStyle("strokeNoScale",!0),x.add(A),C&&C.onCreate(A)}var L=S.getItemStyle(["color","symbol","symbolSize"]);A.setStyle(L),w=e.merge({rectHover:!0,z2:100},w,!0);var P=T.get("symbolSize");P=P instanceof Array?P.slice():[+P,+P],P[0]/=2,P[1]/=2,w.scale=P;var R=T.get("symbolOffset");if(R){var k=w.position=w.position||[0,0];k[0]+=s.parsePercent(R[0],P[0]),k[1]+=s.parsePercent(R[1],P[1])}var z=T.get("symbolRotate");return w.rotation=(z||0)*Math.PI/180||0,A.attr(w),A.updateTransform(),A}function b(T,S,x,w,A){if(!T.dragging){var C=w.getModel("checkpointStyle"),M=x.dataToCoord(w.getData().get(["value"],S));A||!C.get("animation",!0)?T.attr({position:[M,0]}):(T.stopAnimation(!0),T.animateTo({position:[M,0]},C.get("animationDuration",!0),C.get("animationEasing",!0)))}}return hc=g,hc}var pb;function TH(){if(pb)return nb;pb=1;var e=we,t=mH();return yH(),_H(),SH(),AH(),e.registerPreprocessor(t),nb}var mb={},cc,yb;function Zd(){if(yb)return cc;yb=1;var e=we,t=Z,r=nt,a=Re,i=Ke(),o=Ad,v=i.addCommas,f=i.encodeHTML;function n(u){a.defaultEmphasis(u,"label",["show"])}var h=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(u,l,d){this.mergeDefaultAndTheme(u,d),this._mergeOption(u,d,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var u=this.__hostSeries;return this.getShallow("animation")&&u&&u.isAnimationEnabled()},mergeOption:function(u,l){this._mergeOption(u,l,!1,!1)},_mergeOption:function(u,l,d,c){var p=this.constructor,g=this.mainType+"Model";d||l.eachSeries(function(m){var y=m.get(this.mainType,!0),_=m[g];if(!y||!y.data){m[g]=null;return}_?_._mergeOption(y,l,!0):(c&&n(y),t.each(y.data,function(b){b instanceof Array?(n(b[0]),n(b[1])):n(b)}),_=new p(y,this,l),t.extend(_,{mainType:this.mainType,seriesIndex:m.seriesIndex,name:m.name,createdBySelf:!0}),_.__hostSeries=m),m[g]=_},this)},formatTooltip:function(u){var l=this.getData(),d=this.getRawValue(u),c=t.isArray(d)?t.map(d,v).join(", "):v(d),p=l.getName(u),g=f(this.name);return(d!=null||p)&&(g+="<br />"),p&&(g+=f(p),d!=null&&(g+=" : ")),d!=null&&(g+=f(c)),g},getData:function(){return this._data},setData:function(u){this._data=u}});t.mixin(h,o);var s=h;return cc=s,cc}var fc,_b;function CH(){if(_b)return fc;_b=1;var e=Zd(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return fc=t,fc}var fa={},xb;function Yd(){if(xb)return fa;xb=1;var e=Z,t=Oe(),r=Ar(),a=r.isDimensionStacked,i=e.indexOf;function o(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function v(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function f(g,m,y,_,b,T){var S=[],x=a(m,_),w=x?m.getCalculationInfo("stackResultDimension"):_,A=p(m,w,g),C=m.indicesOfNearest(w,A)[0];S[b]=m.get(y,C),S[T]=m.get(w,C);var M=m.get(_,C),D=t.getPrecision(m.get(_,C));return D=Math.min(D,20),D>=0&&(S[T]=+S[T].toFixed(D)),[S,M]}var n=e.curry,h={min:n(f,"min"),max:n(f,"max"),average:n(f,"average")};function s(g,m){var y=g.getData(),_=g.coordinateSystem;if(m&&!v(m)&&!e.isArray(m.coord)&&_){var b=_.dimensions,T=u(m,y,_,g);if(m=e.clone(m),m.type&&h[m.type]&&T.baseAxis&&T.valueAxis){var S=i(b,T.baseAxis.dim),x=i(b,T.valueAxis.dim),w=h[m.type](y,T.baseDataDim,T.valueDataDim,S,x);m.coord=w[0],m.value=w[1]}else{for(var A=[m.xAxis!=null?m.xAxis:m.radiusAxis,m.yAxis!=null?m.yAxis:m.angleAxis],C=0;C<2;C++)h[A[C]]&&(A[C]=p(y,y.mapDimension(b[C]),A[C]));m.coord=A}}return m}function u(g,m,y,_){var b={};return g.valueIndex!=null||g.valueDim!=null?(b.valueDataDim=g.valueIndex!=null?m.getDimension(g.valueIndex):g.valueDim,b.valueAxis=y.getAxis(l(_,b.valueDataDim)),b.baseAxis=y.getOtherAxis(b.valueAxis),b.baseDataDim=m.mapDimension(b.baseAxis.dim)):(b.baseAxis=_.getBaseAxis(),b.valueAxis=y.getOtherAxis(b.baseAxis),b.baseDataDim=m.mapDimension(b.baseAxis.dim),b.valueDataDim=m.mapDimension(b.valueAxis.dim)),b}function l(g,m){var y=g.getData(),_=y.dimensions;m=y.getDimension(m);for(var b=0;b<_.length;b++){var T=y.getDimensionInfo(_[b]);if(T.name===m)return T.coordDim}}function d(g,m){return g&&g.containData&&m.coord&&!o(m)?g.containData(m.coord):!0}function c(g,m,y,_){return _<2?g.coord&&g.coord[_]:g.value}function p(g,m,y){if(y==="average"){var _=0,b=0;return g.each(m,function(T,S){isNaN(T)||(_+=T,b++)}),_/b}else return y==="median"?g.getMedian(m):g.getDataExtent(m,!0)[y==="max"?1:0]}return fa.dataTransform=s,fa.getAxisInfo=u,fa.dataFilter=d,fa.dimValueGetter=c,fa.numCalculate=p,fa}var dc,Sb;function Xd(){if(Sb)return dc;Sb=1;var e=we,t=Z,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(a,i,o){var v=this.markerGroupMap;v.each(function(n){n.__keep=!1});var f=this.type+"Model";i.eachSeries(function(n){var h=n[f];h&&this.renderSeries(n,h,i,o)},this),v.each(function(n){!n.__keep&&this.group.remove(n.group)},this)},renderSeries:function(){}});return dc=r,dc}var gc,bb;function MH(){if(bb)return gc;bb=1;var e=Z,t=Sn(),r=Oe(),a=Wt(),i=Yd(),o=Xd();function v(h,s,u){var l=s.coordinateSystem;h.each(function(d){var c=h.getItemModel(d),p,g=r.parsePercent(c.get("x"),u.getWidth()),m=r.parsePercent(c.get("y"),u.getHeight());if(!isNaN(g)&&!isNaN(m))p=[g,m];else if(s.getMarkerPosition)p=s.getMarkerPosition(h.getValues(h.dimensions,d));else if(l){var y=h.get(l.dimensions[0],d),_=h.get(l.dimensions[1],d);p=l.dataToPoint([y,_])}isNaN(g)||(p[0]=g),isNaN(m)||(p[1]=m),h.setItemLayout(d,p)})}var f=o.extend({type:"markPoint",updateTransform:function(h,s,u){s.eachSeries(function(l){var d=l.markPointModel;d&&(v(d.getData(),l,u),this.markerGroupMap.get(l.id).updateLayout(d))},this)},renderSeries:function(h,s,u,l){var d=h.coordinateSystem,c=h.id,p=h.getData(),g=this.markerGroupMap,m=g.get(c)||g.set(c,new t),y=n(d,h,s);s.setData(y),v(s.getData(),h,l),y.each(function(_){var b=y.getItemModel(_),T=b.getShallow("symbol"),S=b.getShallow("symbolSize"),x=e.isFunction(T),w=e.isFunction(S);if(x||w){var A=s.getRawValue(_),C=s.getDataParams(_);x&&(T=T(A,C)),w&&(S=S(A,C))}y.setItemVisual(_,{symbol:T,symbolSize:S,color:b.get("itemStyle.color")||p.getVisual("color")})}),m.updateData(y),this.group.add(m.group),y.eachItemGraphicEl(function(_){_.traverse(function(b){b.dataModel=s})}),m.__keep=!0,m.group.silent=s.get("silent")||h.get("silent")}});function n(h,s,u){var l;h?l=e.map(h&&h.dimensions,function(p){var g=s.getData().getDimensionInfo(s.getData().mapDimension(p))||{};return e.defaults({name:p},g)}):l=[{name:"value",type:"float"}];var d=new a(l,u),c=e.map(u.get("data"),e.curry(i.dataTransform,s));return h&&(c=e.filter(c,e.curry(i.dataFilter,h))),d.initData(c,null,h?i.dimValueGetter:function(p){return p.value}),d}return gc=f,gc}var wb;function DH(){if(wb)return mb;wb=1;var e=we;return CH(),MH(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),mb}var Ab={},pc,Tb;function LH(){if(Tb)return pc;Tb=1;var e=Zd(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return pc=t,pc}var mc,Cb;function PH(){if(Cb)return mc;Cb=1;var e=Z,t=Wt(),r=Oe(),a=Yd(),i=Nd(),o=Xd(),v=Ar(),f=v.getStackedDimension,n=function(p,g,m,y){var _=p.getData(),b=y.type;if(!e.isArray(y)&&(b==="min"||b==="max"||b==="average"||b==="median"||y.xAxis!=null||y.yAxis!=null)){var T,S;if(y.yAxis!=null||y.xAxis!=null)T=g.getAxis(y.yAxis!=null?"y":"x"),S=e.retrieve(y.yAxis,y.xAxis);else{var x=a.getAxisInfo(y,_,g,p);T=x.valueAxis;var w=f(_,x.valueDataDim);S=a.numCalculate(_,w,b)}var A=T.dim==="x"?0:1,C=1-A,M=e.clone(y),D={};M.type=null,M.coord=[],D.coord=[],M.coord[C]=-1/0,D.coord[C]=1/0;var L=m.get("precision");L>=0&&typeof S=="number"&&(S=+S.toFixed(Math.min(L,20))),M.coord[A]=D.coord[A]=S,y=[M,D,{type:b,valueIndex:y.valueIndex,value:S}]}return y=[a.dataTransform(p,y[0]),a.dataTransform(p,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function h(p){return!isNaN(p)&&!isFinite(p)}function s(p,g,m,y){var _=1-p,b=y.dimensions[p];return h(g[_])&&h(m[_])&&g[p]===m[p]&&y.getAxis(b).containData(g[p])}function u(p,g){if(p.type==="cartesian2d"){var m=g[0].coord,y=g[1].coord;if(m&&y&&(s(1,m,y,p)||s(0,m,y,p)))return!0}return a.dataFilter(p,g[0])&&a.dataFilter(p,g[1])}function l(p,g,m,y,_){var b=y.coordinateSystem,T=p.getItemModel(g),S,x=r.parsePercent(T.get("x"),_.getWidth()),w=r.parsePercent(T.get("y"),_.getHeight());if(!isNaN(x)&&!isNaN(w))S=[x,w];else{if(y.getMarkerPosition)S=y.getMarkerPosition(p.getValues(p.dimensions,g));else{var A=b.dimensions,C=p.get(A[0],g),M=p.get(A[1],g);S=b.dataToPoint([C,M])}if(b.type==="cartesian2d"){var D=b.getAxis("x"),L=b.getAxis("y"),A=b.dimensions;h(p.get(A[0],g))?S[0]=D.toGlobalCoord(D.getExtent()[m?0:1]):h(p.get(A[1],g))&&(S[1]=L.toGlobalCoord(L.getExtent()[m?0:1]))}isNaN(x)||(S[0]=x),isNaN(w)||(S[1]=w)}p.setItemLayout(g,S)}var d=o.extend({type:"markLine",updateTransform:function(p,g,m){g.eachSeries(function(y){var _=y.markLineModel;if(_){var b=_.getData(),T=_.__from,S=_.__to;T.each(function(x){l(T,x,!0,y,m),l(S,x,!1,y,m)}),b.each(function(x){b.setItemLayout(x,[T.getItemLayout(x),S.getItemLayout(x)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(p,g,m,y){var _=p.coordinateSystem,b=p.id,T=p.getData(),S=this.markerGroupMap,x=S.get(b)||S.set(b,new i);this.group.add(x.group);var w=c(_,p,g),A=w.from,C=w.to,M=w.line;g.__from=A,g.__to=C,g.setData(M);var D=g.get("symbol"),L=g.get("symbolSize");e.isArray(D)||(D=[D,D]),typeof L=="number"&&(L=[L,L]),w.from.each(function(R){P(A,R,!0),P(C,R,!1)}),M.each(function(R){var k=M.getItemModel(R).get("lineStyle.color");M.setItemVisual(R,{color:k||A.getItemVisual(R,"color")}),M.setItemLayout(R,[A.getItemLayout(R),C.getItemLayout(R)]),M.setItemVisual(R,{fromSymbolSize:A.getItemVisual(R,"symbolSize"),fromSymbol:A.getItemVisual(R,"symbol"),toSymbolSize:C.getItemVisual(R,"symbolSize"),toSymbol:C.getItemVisual(R,"symbol")})}),x.updateData(M),w.line.eachItemGraphicEl(function(R,k){R.traverse(function(z){z.dataModel=g})});function P(R,k,z){var B=R.getItemModel(k);l(R,k,z,p,y),R.setItemVisual(k,{symbolSize:B.get("symbolSize")||L[z?0:1],symbol:B.get("symbol",!0)||D[z?0:1],color:B.get("itemStyle.color")||T.getVisual("color")})}x.__keep=!0,x.group.silent=g.get("silent")||p.get("silent")}});function c(p,g,m){var y;p?y=e.map(p&&p.dimensions,function(w){var A=g.getData().getDimensionInfo(g.getData().mapDimension(w))||{};return e.defaults({name:w},A)}):y=[{name:"value",type:"float"}];var _=new t(y,m),b=new t(y,m),T=new t([],m),S=e.map(m.get("data"),e.curry(n,g,p,m));p&&(S=e.filter(S,e.curry(u,p)));var x=p?a.dimValueGetter:function(w){return w.value};return _.initData(e.map(S,function(w){return w[0]}),null,x),b.initData(e.map(S,function(w){return w[1]}),null,x),T.initData(e.map(S,function(w){return w[2]})),T.hasItemOption=!0,{from:_,to:b,line:T}}return mc=d,mc}var Mb;function IH(){if(Mb)return Ab;Mb=1;var e=we;return LH(),PH(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),Ab}var Db={},yc,Lb;function RH(){if(Lb)return yc;Lb=1;var e=Zd(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return yc=t,yc}var Pb={},Ib;function EH(){if(Ib)return Pb;Ib=1;var e=Z,t=lt,r=Wt(),a=Oe(),i=ye,o=Yd(),v=Xd(),f=function(c,p,g,m){var y=o.dataTransform(c,m[0]),_=o.dataTransform(c,m[1]),b=e.retrieve,T=y.coord,S=_.coord;T[0]=b(T[0],-1/0),T[1]=b(T[1],-1/0),S[0]=b(S[0],1/0),S[1]=b(S[1],1/0);var x=e.mergeAll([{},y,_]);return x.coord=[y.coord,_.coord],x.x0=y.x,x.y0=y.y,x.x1=_.x,x.y1=_.y,x};function n(c){return!isNaN(c)&&!isFinite(c)}function h(c,p,g,m){var y=1-c;return n(p[y])&&n(g[y])}function s(c,p){var g=p.coord[0],m=p.coord[1];return c.type==="cartesian2d"&&g&&m&&(h(1,g,m)||h(0,g,m))?!0:o.dataFilter(c,{coord:g,x:p.x0,y:p.y0})||o.dataFilter(c,{coord:m,x:p.x1,y:p.y1})}function u(c,p,g,m,y){var _=m.coordinateSystem,b=c.getItemModel(p),T,S=a.parsePercent(b.get(g[0]),y.getWidth()),x=a.parsePercent(b.get(g[1]),y.getHeight());if(!isNaN(S)&&!isNaN(x))T=[S,x];else{if(m.getMarkerPosition)T=m.getMarkerPosition(c.getValues(g,p));else{var w=c.get(g[0],p),A=c.get(g[1],p),C=[w,A];_.clampData&&_.clampData(C,C),T=_.dataToPoint(C,!0)}if(_.type==="cartesian2d"){var M=_.getAxis("x"),D=_.getAxis("y"),w=c.get(g[0],p),A=c.get(g[1],p);n(w)?T[0]=M.toGlobalCoord(M.getExtent()[g[0]==="x0"?0:1]):n(A)&&(T[1]=D.toGlobalCoord(D.getExtent()[g[1]==="y0"?0:1]))}isNaN(S)||(T[0]=S),isNaN(x)||(T[1]=x)}return T}var l=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];v.extend({type:"markArea",updateTransform:function(c,p,g){p.eachSeries(function(m){var y=m.markAreaModel;if(y){var _=y.getData();_.each(function(b){var T=e.map(l,function(x){return u(_,b,x,m,g)});_.setItemLayout(b,T);var S=_.getItemGraphicEl(b);S.setShape("points",T)})}},this)},renderSeries:function(c,p,g,m){var y=c.coordinateSystem,_=c.id,b=c.getData(),T=this.markerGroupMap,S=T.get(_)||T.set(_,{group:new i.Group});this.group.add(S.group),S.__keep=!0;var x=d(y,c,p);p.setData(x),x.each(function(w){x.setItemLayout(w,e.map(l,function(A){return u(x,w,A,c,m)})),x.setItemVisual(w,{color:b.getVisual("color")})}),x.diff(S.__data).add(function(w){var A=new i.Polygon({shape:{points:x.getItemLayout(w)}});x.setItemGraphicEl(w,A),S.group.add(A)}).update(function(w,A){var C=S.__data.getItemGraphicEl(A);i.updateProps(C,{shape:{points:x.getItemLayout(w)}},p,w),S.group.add(C),x.setItemGraphicEl(w,C)}).remove(function(w){var A=S.__data.getItemGraphicEl(w);S.group.remove(A)}).execute(),x.eachItemGraphicEl(function(w,A){var C=x.getItemModel(A),M=C.getModel("label"),D=C.getModel("emphasis.label"),L=x.getItemVisual(A,"color");w.useStyle(e.defaults(C.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(L,.4),stroke:L})),w.hoverStyle=C.getModel("emphasis.itemStyle").getItemStyle(),i.setLabelStyle(w.style,w.hoverStyle,M,D,{labelFetcher:p,labelDataIndex:A,defaultText:x.getName(A)||"",isRectText:!0,autoColor:L}),i.setHoverStyle(w,{}),w.dataModel=p}),S.__data=x,S.group.silent=p.get("silent")||c.get("silent")}});function d(c,p,g){var m,y,_=["x0","y0","x1","y1"];c?(m=e.map(c&&c.dimensions,function(S){var x=p.getData(),w=x.getDimensionInfo(x.mapDimension(S))||{};return e.defaults({name:S},w)}),y=new r(e.map(_,function(S,x){return{name:S,type:m[x%2].type}}),g)):(m=[{name:"value",type:"float"}],y=new r(m,g));var b=e.map(g.get("data"),e.curry(f,p,c,g));c&&(b=e.filter(b,e.curry(s,c)));var T=c?function(S,x,w,A){return S.coord[Math.floor(A/2)][A%2]}:function(S){return S.value};return y.initData(b,null,T),y.hasItemOption=!0,y}return Pb}var Rb;function kH(){if(Rb)return Db;Rb=1;var e=we;return RH(),EH(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),Db}var Eb={},kb={},_c,Ob;function uM(){if(Ob)return _c;Ob=1;var e=we,t=Z,r=vt,a=Re,i=a.isNameSpecified,o=ra,v=o.legend.selector,f={all:{type:"all",title:t.clone(v.all)},inverse:{type:"inverse",title:t.clone(v.inverse)}},n=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(s,u,l){this.mergeDefaultAndTheme(s,l),s.selected=s.selected||{},this._updateSelector(s)},mergeOption:function(s){n.superCall(this,"mergeOption",s),this._updateSelector(s)},_updateSelector:function(s){var u=s.selector;u===!0&&(u=s.selector=["all","inverse"]),t.isArray(u)&&t.each(u,function(l,d){t.isString(l)&&(l={type:l}),u[d]=t.merge(l,f[l.type])})},optionUpdated:function(){this._updateData(this.ecModel);var s=this._data;if(s[0]&&this.get("selectedMode")==="single"){for(var u=!1,l=0;l<s.length;l++){var d=s[l].get("name");if(this.isSelected(d)){this.select(d),u=!0;break}}!u&&this.select(s[0].get("name"))}},_updateData:function(s){var u=[],l=[];s.eachRawSeries(function(p){var g=p.name;l.push(g);var m;if(p.legendVisualProvider){var y=p.legendVisualProvider,_=y.getAllNames();s.isSeriesFiltered(p)||(l=l.concat(_)),_.length?u=u.concat(_):m=!0}else m=!0;m&&i(p)&&u.push(p.name)}),this._availableNames=l;var d=this.get("data")||u,c=t.map(d,function(p){return(typeof p=="string"||typeof p=="number")&&(p={name:p}),new r(p,this,this.ecModel)},this);this._data=c},getData:function(){return this._data},select:function(s){var u=this.option.selected,l=this.get("selectedMode");if(l==="single"){var d=this._data;t.each(d,function(c){u[c.get("name")]=!1})}u[s]=!0},unSelect:function(s){this.get("selectedMode")!=="single"&&(this.option.selected[s]=!1)},toggleSelected:function(s){var u=this.option.selected;u.hasOwnProperty(s)||(u[s]=!0),this[u[s]?"unSelect":"select"](s)},allSelect:function(){var s=this._data,u=this.option.selected;t.each(s,function(l){u[l.get("name",!0)]=!0})},inverseSelect:function(){var s=this._data,u=this.option.selected;t.each(s,function(l){var d=l.get("name",!0);u.hasOwnProperty(d)||(u[d]=!0),u[d]=!u[d]})},isSelected:function(s){var u=this.option.selected;return!(u.hasOwnProperty(s)&&!u[s])&&t.indexOf(this._availableNames,s)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=n;return _c=h,_c}var zb={},Bb;function OH(){if(Bb)return zb;Bb=1;var e=we,t=Z;function r(a,i,o){var v={},f=a==="toggleSelected",n;return o.eachComponent("legend",function(h){f&&n!=null?h[n?"select":"unSelect"](i.name):a==="allSelect"||a==="inverseSelect"?h[a]():(h[a](i.name),n=h.isSelected(i.name));var s=h.getData();t.each(s,function(u){var l=u.get("name");if(!(l===`
`||l==="")){var d=h.isSelected(l);v.hasOwnProperty(l)?v[l]=v[l]&&d:v[l]=d}})}),a==="allSelect"||a==="inverseSelect"?{selected:v}:{name:i.name,selected:v}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(r,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(r,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),zb}var xc,Nb;function vM(){if(Nb)return xc;Nb=1;var e=we,t=Z,r=Zt(),a=r.createSymbol,i=ye,o=nM(),v=o.makeBackground,f=Ne,n=t.curry,h=t.each,s=i.Group,u=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new s),this._backgroundEl,this.group.add(this._selectorGroup=new s),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(g,m,y){var _=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!g.get("show",!0)){var b=g.get("align"),T=g.get("orient");(!b||b==="auto")&&(b=g.get("left")==="right"&&T==="vertical"?"right":"left");var S=g.get("selector",!0),x=g.get("selectorPosition",!0);S&&(!x||x==="auto")&&(x=T==="horizontal"?"end":"start"),this.renderInner(b,g,m,y,S,T,x);var w=g.getBoxLayoutParams(),A={width:y.getWidth(),height:y.getHeight()},C=g.get("padding"),M=f.getLayoutRect(w,A,C),D=this.layoutInner(g,b,M,_,S,x),L=f.getLayoutRect(t.defaults({width:D.width,height:D.height},w),A,C);this.group.attr("position",[L.x-D.x,L.y-D.y]),this.group.add(this._backgroundEl=v(D,g))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(g,m,y,_,b,T,S){var x=this.getContentGroup(),w=t.createHashMap(),A=m.get("selectedMode"),C=[];y.eachRawSeries(function(M){!M.get("legendHoverLink")&&C.push(M.id)}),h(m.getData(),function(M,D){var L=M.get("name");if(!this.newlineDisabled&&(L===""||L===`
`)){x.add(new s({newline:!0}));return}var P=y.getSeriesByName(L)[0];if(!w.get(L))if(P){var R=P.getData(),k=R.getVisual("color"),z=R.getVisual("borderColor");typeof k=="function"&&(k=k(P.getDataParams(0))),typeof z=="function"&&(z=z(P.getDataParams(0)));var B=R.getVisual("legendSymbol")||"roundRect",G=R.getVisual("symbol"),V=this._createItem(L,D,M,m,B,G,g,k,z,A);V.on("click",n(d,L,null,_,C)).on("mouseover",n(c,P.name,null,_,C)).on("mouseout",n(p,P.name,null,_,C)),w.set(L,!0)}else y.eachRawSeries(function(I){if(!w.get(L)&&I.legendVisualProvider){var O=I.legendVisualProvider;if(!O.containName(L))return;var E=O.indexOfName(L),N=O.getItemVisual(E,"color"),q=O.getItemVisual(E,"borderColor"),H="roundRect",F=this._createItem(L,D,M,m,H,null,g,N,q,A);F.on("click",n(d,null,L,_,C)).on("mouseover",n(c,null,L,_,C)).on("mouseout",n(p,null,L,_,C)),w.set(L,!0)}},this)},this),b&&this._createSelector(b,m,_,T,S)},_createSelector:function(g,m,y,_,b){var T=this.getSelectorGroup();h(g,function(x){S(x)});function S(x){var w=x.type,A=new i.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:w==="all"?"legendAllSelect":"legendInverseSelect"})}});T.add(A);var C=m.getModel("selectorLabel"),M=m.getModel("emphasis.selectorLabel");i.setLabelStyle(A.style,A.hoverStyle={},C,M,{defaultText:x.title,isRectText:!1}),i.setHoverStyle(A)}},_createItem:function(g,m,y,_,b,T,S,x,w,A){var C=_.get("itemWidth"),M=_.get("itemHeight"),D=_.get("inactiveColor"),L=_.get("inactiveBorderColor"),P=_.get("symbolKeepAspect"),R=_.getModel("itemStyle"),k=_.isSelected(g),z=new s,B=y.getModel("textStyle"),G=y.get("icon"),V=y.getModel("tooltip"),I=V.parentModel;b=G||b;var O=a(b,0,0,C,M,k?x:D,P??!0);if(z.add(l(O,b,R,w,L,k)),!G&&T&&(T!==b||T==="none")){var E=M*.8;T==="none"&&(T="circle");var N=a(T,(C-E)/2,(M-E)/2,E,E,k?x:D,P??!0);z.add(l(N,T,R,w,L,k))}var q=S==="left"?C+5:-5,H=S,F=_.get("formatter"),U=g;typeof F=="string"&&F?U=F.replace("{name}",g??""):typeof F=="function"&&(U=F(g)),z.add(new i.Text({style:i.setTextStyle({},B,{text:U,x:q,y:M/2,textFill:k?B.getTextColor():D,textAlign:H,textVerticalAlign:"middle"})}));var W=new i.Rect({shape:z.getBoundingRect(),invisible:!0,tooltip:V.get("show")?t.extend({content:g,formatter:I.get("formatter",!0)||function(){return g},formatterParams:{componentType:"legend",legendIndex:_.componentIndex,name:g,$vars:["name"]}},V.option):null});return z.add(W),z.eachChild(function(Y){Y.silent=!0}),W.silent=!A,this.getContentGroup().add(z),i.setHoverStyle(z),z.__legendDataIndex=m,z},layoutInner:function(g,m,y,_,b,T){var S=this.getContentGroup(),x=this.getSelectorGroup();f.box(g.get("orient"),S,g.get("itemGap"),y.width,y.height);var w=S.getBoundingRect(),A=[-w.x,-w.y];if(b){f.box("horizontal",x,g.get("selectorItemGap",!0));var C=x.getBoundingRect(),M=[-C.x,-C.y],D=g.get("selectorButtonGap",!0),L=g.getOrient().index,P=L===0?"width":"height",R=L===0?"height":"width",k=L===0?"y":"x";T==="end"?M[L]+=w[P]+D:A[L]+=C[P]+D,M[1-L]+=w[R]/2-C[R]/2,x.attr("position",M),S.attr("position",A);var z={x:0,y:0};return z[P]=w[P]+D+C[P],z[R]=Math.max(w[R],C[R]),z[k]=Math.min(0,C[k]+M[1-L]),z}else return S.attr("position",A),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function l(g,m,y,_,b,T){var S;return m!=="line"&&m.indexOf("empty")<0?(S=y.getItemStyle(),g.style.stroke=_,T||(S.stroke=b)):S=y.getItemStyle(["borderWidth","borderColor"]),g.setStyle(S)}function d(g,m,y,_){p(g,m,y,_),y.dispatchAction({type:"legendToggleSelect",name:g??m}),c(g,m,y,_)}function c(g,m,y,_){var b=y.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:g,name:m,excludeSeriesId:_})}function p(g,m,y,_){var b=y.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:g,name:m,excludeSeriesId:_})}return xc=u,xc}var Sc,Vb;function zH(){if(Vb)return Sc;Vb=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(a){for(var i=0;i<r.length;i++)if(!r[i].isSelected(a.name))return!1;return!0})}return Sc=e,Sc}var Hb;function hM(){if(Hb)return kb;Hb=1;var e=we;uM(),OH(),vM();var t=zH(),r=ct;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),kb}var bc,qb;function BH(){if(qb)return bc;qb=1;var e=uM(),t=Ne,r=t.mergeLayoutParam,a=t.getLayoutParams,i=e.extend({type:"legend.scroll",setScrollDataIndex:function(f){this.option.scrollDataIndex=f},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(f,n,h,s){var u=a(f);i.superCall(this,"init",f,n,h,s),o(this,f,u)},mergeOption:function(f,n){i.superCall(this,"mergeOption",f,n),o(this,this.option,f)}});function o(f,n,h){var s=f.getOrient(),u=[1,1];u[s.index]=0,r(n,h,{type:"box",ignoreSize:u})}var v=i;return bc=v,bc}var wc,Gb;function NH(){if(Gb)return wc;Gb=1;var e=Z,t=ye,r=Ne,a=vM(),i=t.Group,o=["width","height"],v=["x","y"],f=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){f.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i),this._showController},resetInner:function(){f.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(h,s,u,l,d,c,p){var g=this;f.superCall(this,"renderInner",h,s,u,l,d,c,p);var m=this._controllerGroup,y=s.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),b("pagePrev",0);var _=s.getModel("pageTextStyle");m.add(new t.Text({name:"pageText",style:{textFill:_.getTextColor(),font:_.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),b("pageNext",1);function b(T,S){var x=T+"DataIndex",w=t.createIcon(s.get("pageIcons",!0)[s.getOrient().name][S],{onclick:e.bind(g._pageGo,g,x,s,l)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});w.name=T,m.add(w)}},layoutInner:function(h,s,u,l,d,c){var p=this.getSelectorGroup(),g=h.getOrient().index,m=o[g],y=v[g],_=o[1-g],b=v[1-g];d&&r.box("horizontal",p,h.get("selectorItemGap",!0));var T=h.get("selectorButtonGap",!0),S=p.getBoundingRect(),x=[-S.x,-S.y],w=e.clone(u);d&&(w[m]=u[m]-S[m]-T);var A=this._layoutContentAndController(h,l,w,g,m,_,b);if(d){if(c==="end")x[g]+=A[m]+T;else{var C=S[m]+T;x[g]-=C,A[y]-=C}A[m]+=S[m]+T,x[1-g]+=A[b]+A[_]/2-S[_]/2,A[_]=Math.max(A[_],S[_]),A[b]=Math.min(A[b],S[b]+x[1-g]),p.attr("position",x)}return A},_layoutContentAndController:function(h,s,u,l,d,c,p){var g=this.getContentGroup(),m=this._containerGroup,y=this._controllerGroup;r.box(h.get("orient"),g,h.get("itemGap"),l?u.width:null,l?null:u.height),r.box("horizontal",y,h.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),b=y.getBoundingRect(),T=this._showController=_[d]>u[d],S=[-_.x,-_.y];s||(S[l]=g.position[l]);var x=[0,0],w=[-b.x,-b.y],A=e.retrieve2(h.get("pageButtonGap",!0),h.get("itemGap",!0));if(T){var C=h.get("pageButtonPosition",!0);C==="end"?w[l]+=u[d]-b[d]:x[l]+=b[d]+A}w[1-l]+=_[c]/2-b[c]/2,g.attr("position",S),m.attr("position",x),y.attr("position",w);var M={x:0,y:0};if(M[d]=T?u[d]:_[d],M[c]=Math.max(_[c],b[c]),M[p]=Math.min(0,b[p]+w[1-l]),m.__rectSize=u[d],T){var D={x:0,y:0};D[d]=Math.max(u[d]-b[d]-A,0),D[c]=M[c],m.setClipPath(new t.Rect({shape:D})),m.__rectSize=D[d]}else y.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(h);return L.pageIndex!=null&&t.updateProps(g,{position:L.contentPosition},T?h:!1),this._updatePageInfoView(h,L),M},_pageGo:function(h,s,u){var l=this._getPageInfo(s)[h];l!=null&&u.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:s.id})},_updatePageInfoView:function(h,s){var u=this._controllerGroup;e.each(["pagePrev","pageNext"],function(m){var y=s[m+"DataIndex"]!=null,_=u.childOfName(m);_&&(_.setStyle("fill",y?h.get("pageIconColor",!0):h.get("pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var l=u.childOfName("pageText"),d=h.get("pageFormatter"),c=s.pageIndex,p=c!=null?c+1:0,g=s.pageCount;l&&d&&l.setStyle("text",e.isString(d)?d.replace("{current}",p).replace("{total}",g):d({current:p,total:g}))},_getPageInfo:function(h){var s=h.get("scrollDataIndex",!0),u=this.getContentGroup(),l=this._containerGroup.__rectSize,d=h.getOrient().index,c=o[d],p=v[d],g=this._findTargetItemIndex(s),m=u.children(),y=m[g],_=m.length,b=_?1:0,T={contentPosition:u.position.slice(),pageCount:b,pageIndex:b-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return T;var S=M(y);T.contentPosition[d]=-S.s;for(var x=g+1,w=S,A=S,C=null;x<=_;++x)C=M(m[x]),(!C&&A.e>w.s+l||C&&!D(C,w.s))&&(A.i>w.i?w=A:w=C,w&&(T.pageNextDataIndex==null&&(T.pageNextDataIndex=w.i),++T.pageCount)),A=C;for(var x=g-1,w=S,A=S,C=null;x>=-1;--x)C=M(m[x]),(!C||!D(A,C.s))&&w.i<A.i&&(A=w,T.pagePrevDataIndex==null&&(T.pagePrevDataIndex=w.i),++T.pageCount,++T.pageIndex),w=C;return T;function M(L){if(L){var P=L.getBoundingRect(),R=P[p]+L.position[d];return{s:R,e:R+P[c],i:L.__legendDataIndex}}}function D(L,P){return L.e>=P&&L.s<=P+l}},_findTargetItemIndex:function(h){if(!this._showController)return 0;var s,u=this.getContentGroup(),l;return u.eachChild(function(d,c){var p=d.__legendDataIndex;l==null&&p!=null&&(l=c),p===h&&(s=c)}),s??l}}),n=f;return wc=n,wc}var Fb={},$b;function VH(){if($b)return Fb;$b=1;var e=we;return e.registerAction("legendScroll","legendscroll",function(t,r){var a=t.scrollDataIndex;a!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})}),Fb}var Ub;function HH(){return Ub||(Ub=1,hM(),BH(),NH(),VH()),Eb}var Wb={},Zb={},Ac,Yb;function qH(){if(Yb)return Ac;Yb=1;var e=_i(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return Ac=r,Ac}var Tc,Xb;function GH(){if(Xb)return Tc;Xb=1;var e=Z,t=ht,r=ye,a=or,i=xi(),o=Oe(),v=Ne,f=yi(),n=r.Rect,h=o.linearMap,s=o.asc,u=e.bind,l=e.each,d=7,c=1,p=30,g="horizontal",m="vertical",y=5,_=["line","bar","candlestick","scatter"],b=i.extend({type:"dataZoom.slider",init:function(w,A){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=A},render:function(w,A,C,M){if(b.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=w.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!M||M.type!=="dataZoom"||M.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){b.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){b.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var w=this.group;w.removeAll(),this._resetLocation(),this._resetInterval();var A=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),w.add(A),this._positionGroup()},_resetLocation:function(){var w=this.dataZoomModel,A=this.api,C=this._findCoordRect(),M={width:A.getWidth(),height:A.getHeight()},D=this._orient===g?{right:M.width-C.x-C.width,top:M.height-p-d,width:C.width,height:p}:{right:d,top:C.y,width:p,height:C.height},L=v.getLayoutParams(w.option);e.each(["right","top","width","height"],function(R){L[R]==="ph"&&(L[R]=D[R])});var P=v.getLayoutRect(L,M,w.padding);this._location={x:P.x,y:P.y},this._size=[P.width,P.height],this._orient===m&&this._size.reverse()},_positionGroup:function(){var w=this.group,A=this._location,C=this._orient,M=this.dataZoomModel.getFirstTargetAxisModel(),D=M&&M.get("inverse"),L=this._displayables.barGroup,P=(this._dataShadowInfo||{}).otherAxisInverse;L.attr(C===g&&!D?{scale:P?[1,1]:[1,-1]}:C===g&&D?{scale:P?[-1,1]:[-1,-1]}:C===m&&!D?{scale:P?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:P?[-1,-1]:[-1,1],rotation:Math.PI/2});var R=w.getBoundingRect([L]);w.attr("position",[A.x-R.x,A.y-R.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var w=this.dataZoomModel,A=this._size,C=this._displayables.barGroup;C.add(new n({silent:!0,shape:{x:0,y:0,width:A[0],height:A[1]},style:{fill:w.get("backgroundColor")},z2:-40})),C.add(new n({shape:{x:0,y:0,width:A[0],height:A[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var w=this._dataShadowInfo=this._prepareDataShadowInfo();if(w){var A=this._size,C=w.series,M=C.getRawData(),D=C.getShadowDim?C.getShadowDim():w.otherDim;if(D!=null){var L=M.getDataExtent(D),P=(L[1]-L[0])*.3;L=[L[0]-P,L[1]+P];var R=[0,A[1]],k=[0,A[0]],z=[[A[0],0],[0,0]],B=[],G=k[1]/(M.count()-1),V=0,I=Math.round(M.count()/A[0]),O;M.each([D],function(N,q){if(I>0&&q%I){V+=G;return}var H=N==null||isNaN(N)||N==="",F=H?0:h(N,L,R,!0);H&&!O&&q?(z.push([z[z.length-1][0],0]),B.push([B[B.length-1][0],0])):!H&&O&&(z.push([V,0]),B.push([V,0])),z.push([V,F]),B.push([V,F]),V+=G,O=H});var E=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:z},style:e.defaults({fill:E.get("dataBackgroundColor")},E.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:B},style:E.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var w=this.dataZoomModel,A=w.get("showDataShadow");if(A!==!1){var C,M=this.ecModel;return w.eachTargetAxis(function(D,L){var P=w.getAxisProxy(D.name,L).getTargetSeriesModels();e.each(P,function(R){if(!C&&!(A!==!0&&e.indexOf(_,R.get("type"))<0)){var k=M.getComponent(D.axis,L).axis,z=T(D.name),B,G=R.coordinateSystem;z!=null&&G.getOtherAxis&&(B=G.getOtherAxis(k).inverse),z=R.getData().mapDimension(z),C={thisAxis:k,series:R,thisDim:D.name,otherDim:z,otherAxisInverse:B}}},this)},this),C}},_renderHandle:function(){var w=this._displayables,A=w.handles=[],C=w.handleLabels=[],M=this._displayables.barGroup,D=this._size,L=this.dataZoomModel;M.add(w.filler=new n({draggable:!0,cursor:S(this._orient),drift:u(this._onDragMove,this,"all"),ondragstart:u(this._showDataInfo,this,!0),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1),style:{fill:L.get("fillerColor"),textPosition:"inside"}})),M.add(new n({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:D[0],height:D[1]},style:{stroke:L.get("dataBackgroundColor")||L.get("borderColor"),lineWidth:c,fill:"rgba(0,0,0,0)"}})),l([0,1],function(P){var R=r.createIcon(L.get("handleIcon"),{cursor:S(this._orient),draggable:!0,drift:u(this._onDragMove,this,P),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),k=R.getBoundingRect();this._handleHeight=o.parsePercent(L.get("handleSize"),this._size[1]),this._handleWidth=k.width/k.height*this._handleHeight,R.setStyle(L.getModel("handleStyle").getItemStyle());var z=L.get("handleColor");z!=null&&(R.style.fill=z),M.add(A[P]=R);var B=L.textStyleModel;this.group.add(C[P]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:B.getTextColor(),textFont:B.getFont()},z2:10}))},this)},_resetInterval:function(){var w=this._range=this.dataZoomModel.getPercentRange(),A=this._getViewExtent();this._handleEnds=[h(w[0],[0,100],A,!0),h(w[1],[0,100],A,!0)]},_updateInterval:function(w,A){var C=this.dataZoomModel,M=this._handleEnds,D=this._getViewExtent(),L=C.findRepresentativeAxisProxy().getMinMaxSpan(),P=[0,100];f(A,M,D,C.get("zoomLock")?"all":w,L.minSpan!=null?h(L.minSpan,P,D,!0):null,L.maxSpan!=null?h(L.maxSpan,P,D,!0):null);var R=this._range,k=this._range=s([h(M[0],D,P,!0),h(M[1],D,P,!0)]);return!R||R[0]!==k[0]||R[1]!==k[1]},_updateView:function(w){var A=this._displayables,C=this._handleEnds,M=s(C.slice()),D=this._size;l([0,1],function(L){var P=A.handles[L],R=this._handleHeight;P.attr({scale:[R/2,R/2],position:[C[L],D[1]/2-R/2]})},this),A.filler.setShape({x:M[0],y:0,width:M[1]-M[0],height:D[1]}),this._updateDataInfo(w)},_updateDataInfo:function(w){var A=this.dataZoomModel,C=this._displayables,M=C.handleLabels,D=this._orient,L=["",""];if(A.get("showDetail")){var P=A.findRepresentativeAxisProxy();if(P){var R=P.getAxisModel().axis,k=this._range,z=w?P.calculateDataWindow({start:k[0],end:k[1]}).valueWindow:P.getDataValueWindow();L=[this._formatLabel(z[0],R),this._formatLabel(z[1],R)]}}var B=s(this._handleEnds.slice());G.call(this,0),G.call(this,1);function G(V){var I=r.getTransform(C.handles[V].parent,this.group),O=r.transformDirection(V===0?"right":"left",I),E=this._handleWidth/2+y,N=r.applyTransform([B[V]+(V===0?-E:E),this._size[1]/2],I);M[V].setStyle({x:N[0],y:N[1],textVerticalAlign:D===g?"middle":O,textAlign:D===g?O:"center",text:L[V]})}},_formatLabel:function(w,A){var C=this.dataZoomModel,M=C.get("labelFormatter"),D=C.get("labelPrecision");(D==null||D==="auto")&&(D=A.getPixelPrecision());var L=w==null||isNaN(w)?"":A.type==="category"||A.type==="time"?A.scale.getLabel(Math.round(w)):w.toFixed(Math.min(D,20));return e.isFunction(M)?M(w,L):e.isString(M)?M.replace("{value}",L):L},_showDataInfo:function(w){w=this._dragging||w;var A=this._displayables.handleLabels;A[0].attr("invisible",!w),A[1].attr("invisible",!w)},_onDragMove:function(w,A,C,M){this._dragging=!0,t.stop(M.event);var D=this._displayables.barGroup.getLocalTransform(),L=r.applyTransform([A,C],D,!0),P=this._updateInterval(w,L[0]),R=this.dataZoomModel.get("realtime");this._updateView(!R),P&&R&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var w=this.dataZoomModel.get("realtime");!w&&this._dispatchZoomAction()},_onClickPanelClick:function(w){var A=this._size,C=this._displayables.barGroup.transformCoordToLocal(w.offsetX,w.offsetY);if(!(C[0]<0||C[0]>A[0]||C[1]<0||C[1]>A[1])){var M=this._handleEnds,D=(M[0]+M[1])/2,L=this._updateInterval("all",C[0]-D);this._updateView(),L&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var w=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:w[0],end:w[1]})},_findCoordRect:function(){var w;if(l(this.getTargetCoordInfo(),function(M){if(!w&&M.length){var D=M[0].model.coordinateSystem;w=D.getRect&&D.getRect()}}),!w){var A=this.api.getWidth(),C=this.api.getHeight();w={x:A*.2,y:C*.2,width:A*.6,height:C*.6}}return w}});function T(w){var A={x:"y",y:"x",radius:"angle",angle:"radius"};return A[w]}function S(w){return w==="vertical"?"ns-resize":"ew-resize"}var x=b;return Tc=x,Tc}var Kb;function cM(){return Kb||(Kb=1,Fd(),_i(),xi(),qH(),GH(),Ud(),Wd()),Zb}var Qb={},Cc,Jb;function FH(){if(Jb)return Cc;Jb=1;var e=_i(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return Cc=t,Cc}var Ni={},jb;function $H(){if(jb)return Ni;jb=1;var e=Z,t=Mn(),r=or,a="\0_ec_dataZoom_roams";function i(l,d){var c=f(l),p=d.dataZoomId,g=d.coordId;e.each(c,function(_,b){var T=_.dataZoomInfos;T[p]&&e.indexOf(d.allCoordIds,g)<0&&(delete T[p],_.count--)}),h(c);var m=c[g];m||(m=c[g]={coordId:g,dataZoomInfos:{},count:0},m.controller=n(l,m),m.dispatchAction=e.curry(s,l)),!m.dataZoomInfos[p]&&m.count++,m.dataZoomInfos[p]=d;var y=u(m.dataZoomInfos);m.controller.enable(y.controlType,y.opt),m.controller.setPointerChecker(d.containsPoint),r.createOrUpdate(m,"dispatchAction",d.dataZoomModel.get("throttle",!0),"fixRate")}function o(l,d){var c=f(l);e.each(c,function(p){p.controller.dispose();var g=p.dataZoomInfos;g[d]&&(delete g[d],p.count--)}),h(c)}function v(l){return l.type+"\0_"+l.id}function f(l){var d=l.getZr();return d[a]||(d[a]={})}function n(l,d){var c=new t(l.getZr());return e.each(["pan","zoom","scrollMove"],function(p){c.on(p,function(g){var m=[];e.each(d.dataZoomInfos,function(y){if(g.isAvailableBehavior(y.dataZoomModel.option)){var _=(y.getRange||{})[p],b=_&&_(d.controller,g);!y.dataZoomModel.get("disabled",!0)&&b&&m.push({dataZoomId:y.dataZoomId,start:b[0],end:b[1]})}}),m.length&&d.dispatchAction(m)})}),c}function h(l){e.each(l,function(d,c){d.count||(d.controller.dispose(),delete l[c])})}function s(l,d){l.dispatchAction({type:"dataZoom",batch:d})}function u(l){var d,c="type_",p={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0;return e.each(l,function(m){var y=m.dataZoomModel,_=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;p[c+_]>p[c+d]&&(d=_),g&=y.get("preventDefaultMouseMove",!0)}),{controlType:d,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}}}return Ni.register=i,Ni.unregister=o,Ni.generateCoordId=v,Ni}var Mc,ew;function UH(){if(ew)return Mc;ew=1;var e=Z,t=xi(),r=yi(),a=$H(),i=e.bind,o=t.extend({type:"dataZoom.inside",init:function(s,u){this._range},render:function(s,u,l,d){o.superApply(this,"render",arguments),this._range=s.getPercentRange(),e.each(this.getTargetCoordInfo(),function(c,p){var g=e.map(c,function(m){return a.generateCoordId(m.model)});e.each(c,function(m){var y=m.model,_={};e.each(["pan","zoom","scrollMove"],function(b){_[b]=i(v[b],this,m,p)},this),a.register(l,{coordId:a.generateCoordId(y),allCoordIds:g,containsPoint:function(b,T,S){return y.coordinateSystem.containPoint([T,S])},dataZoomId:s.id,dataZoomModel:s,getRange:_})},this)},this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),o.superApply(this,"dispose",arguments),this._range=null}}),v={zoom:function(s,u,l,d){var c=this._range,p=c.slice(),g=s.axisModels[0];if(g){var m=n[u](null,[d.originX,d.originY],g,l,s),y=(m.signal>0?m.pixelStart+m.pixelLength-m.pixel:m.pixel-m.pixelStart)/m.pixelLength*(p[1]-p[0])+p[0],_=Math.max(1/d.scale,0);p[0]=(p[0]-y)*_+y,p[1]=(p[1]-y)*_+y;var b=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,p,[0,100],0,b.minSpan,b.maxSpan),this._range=p,c[0]!==p[0]||c[1]!==p[1])return p}},pan:f(function(s,u,l,d,c,p){var g=n[d]([p.oldX,p.oldY],[p.newX,p.newY],u,c,l);return g.signal*(s[1]-s[0])*g.pixel/g.pixelLength}),scrollMove:f(function(s,u,l,d,c,p){var g=n[d]([0,0],[p.scrollDelta,p.scrollDelta],u,c,l);return g.signal*(s[1]-s[0])*p.scrollDelta})};function f(s){return function(u,l,d,c){var p=this._range,g=p.slice(),m=u.axisModels[0];if(m){var y=s(g,m,u,l,d,c);if(r(y,g,[0,100],"all"),this._range=g,p[0]!==g[0]||p[1]!==g[1])return g}}}var n={grid:function(s,u,l,d,c){var p=l.axis,g={},m=c.model.coordinateSystem.getRect();return s=s||[0,0],p.dim==="x"?(g.pixel=u[0]-s[0],g.pixelLength=m.width,g.pixelStart=m.x,g.signal=p.inverse?1:-1):(g.pixel=u[1]-s[1],g.pixelLength=m.height,g.pixelStart=m.y,g.signal=p.inverse?-1:1),g},polar:function(s,u,l,d,c){var p=l.axis,g={},m=c.model.coordinateSystem,y=m.getRadiusAxis().getExtent(),_=m.getAngleAxis().getExtent();return s=s?m.pointToCoord(s):[0,0],u=m.pointToCoord(u),l.mainType==="radiusAxis"?(g.pixel=u[0]-s[0],g.pixelLength=y[1]-y[0],g.pixelStart=y[0],g.signal=p.inverse?1:-1):(g.pixel=u[1]-s[1],g.pixelLength=_[1]-_[0],g.pixelStart=_[0],g.signal=p.inverse?-1:1),g},singleAxis:function(s,u,l,d,c){var p=l.axis,g=c.model.coordinateSystem.getRect(),m={};return s=s||[0,0],p.orient==="horizontal"?(m.pixel=u[0]-s[0],m.pixelLength=g.width,m.pixelStart=g.x,m.signal=p.inverse?1:-1):(m.pixel=u[1]-s[1],m.pixelLength=g.height,m.pixelStart=g.y,m.signal=p.inverse?-1:1),m}},h=o;return Mc=h,Mc}var tw;function fM(){return tw||(tw=1,Fd(),_i(),xi(),FH(),UH(),Ud(),Wd()),Qb}var rw;function WH(){return rw||(rw=1,cM(),fM()),Wb}var aw={},iw={},Dc,nw;function dM(){if(nw)return Dc;nw=1;var e=Z,t=e.each;function r(i){var o=i&&i.visualMap;e.isArray(o)||(o=o?[o]:[]),t(o,function(v){if(v){a(v,"splitList")&&!a(v,"pieces")&&(v.pieces=v.splitList,delete v.splitList);var f=v.pieces;f&&e.isArray(f)&&t(f,function(n){e.isObject(n)&&(a(n,"start")&&!a(n,"min")&&(n.min=n.start),a(n,"end")&&!a(n,"max")&&(n.max=n.end))})}})}function a(i,o){return i&&i.hasOwnProperty&&i.hasOwnProperty(o)}return Dc=r,Dc}var ow={},sw;function gM(){if(sw)return ow;sw=1;var e=ct;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),ow}var lw={},uw;function pM(){if(uw)return lw;uw=1;var e=we,t=Z,r=ls(),a=Da(),i=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(i,{createOnAllSeries:!0,reset:function(v,f){var n=[];return f.eachComponent("visualMap",function(h){var s=v.pipelineContext;!h.isTargetSeries(v)||s&&s.large||n.push(r.incrementalApplyVisual(h.stateList,h.targetVisuals,t.bind(h.getValueState,h),h.getDataDimension(v.getData())))}),n}}),e.registerVisual(i,{createOnAllSeries:!0,reset:function(v,f){var n=v.getData(),h=[];f.eachComponent("visualMap",function(s){if(s.isTargetSeries(v)){var u=s.getVisualMeta(t.bind(o,null,v,s))||{stops:[],outerColors:[]},l=s.getDataDimension(n),d=n.getDimensionInfo(l);d!=null&&(u.dimension=d.index,h.push(u))}}),v.getData().setVisual("visualMeta",h)}});function o(v,f,n,h){for(var s=f.targetVisuals[h],u=a.prepareVisualTypes(s),l={color:v.getData().getVisual("color")},d=0,c=u.length;d<c;d++){var p=u[d],g=s[p==="opacity"?"__alphaForOpacity":p];g&&g.applyVisual(n,m,y)}return l.color;function m(_){return l[_]}function y(_,b){l[_]=b}}return lw}var Lc,vw;function mM(){if(vw)return Lc;vw=1;var e=Z,t={get:function(i,o,v){var f=e.clone((r[i]||{})[o]);return v&&e.isArray(f)?f[f.length-1]:f}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=t;return Lc=a,Lc}var Pc,hw;function yM(){if(hw)return Pc;hw=1;var e=we,t=Z,r=nt,a=mM(),i=Da(),o=ls(),v=Re,f=Oe(),n=i.mapVisual,h=i.eachVisual,s=t.isArray,u=t.each,l=f.asc,d=f.linearMap,c=t.noop,p=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(m,y,_){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(m,_)},optionUpdated:function(m,y){var _=this.option;r.canvasSupported||(_.realtime=!1),!y&&o.replaceVisualOption(_,m,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(m){var y=this.stateList;m=t.bind(m,this),this.controllerVisuals=o.createVisualMappings(this.option.controller,y,m),this.targetVisuals=o.createVisualMappings(this.option.target,y,m)},getTargetSeriesIndices:function(){var m=this.option.seriesIndex,y=[];return m==null||m==="all"?this.ecModel.eachSeries(function(_,b){y.push(b)}):y=v.normalizeToArray(m),y},eachTargetSeries:function(m,y){t.each(this.getTargetSeriesIndices(),function(_){m.call(y,this.ecModel.getSeriesByIndex(_))},this)},isTargetSeries:function(m){var y=!1;return this.eachTargetSeries(function(_){_===m&&(y=!0)}),y},formatValueText:function(m,y,_){var b=this.option,T=b.precision,S=this.dataBound,x=b.formatter,w,A;if(_=_||["<",">"],t.isArray(m)&&(m=m.slice(),w=!0),A=y?m:w?[C(m[0]),C(m[1])]:C(m),t.isString(x))return x.replace("{value}",w?A[0]:A).replace("{value2}",w?A[1]:A);if(t.isFunction(x))return w?x(m[0],m[1]):x(m);if(w)return m[0]===S[0]?_[0]+" "+A[1]:m[1]===S[1]?_[1]+" "+A[0]:A[0]+" - "+A[1];return A;function C(M){return M===S[0]?"min":M===S[1]?"max":(+M).toFixed(Math.min(T,20))}},resetExtent:function(){var m=this.option,y=l([m.min,m.max]);this._dataExtent=y},getDataDimension:function(m){var y=this.option.dimension,_=m.dimensions;if(!(y==null&&!_.length)){if(y!=null)return m.getDimension(y);for(var b=m.dimensions,T=b.length-1;T>=0;T--){var S=b[T],x=m.getDimensionInfo(S);if(!x.isCalculationCoord)return S}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var m=this.ecModel,y=this.option,_={inRange:y.inRange,outOfRange:y.outOfRange},b=y.target||(y.target={}),T=y.controller||(y.controller={});t.merge(b,_),t.merge(T,_);var S=this.isCategory();x.call(this,b),x.call(this,T),w.call(this,b,"inRange","outOfRange"),A.call(this,T);function x(C){s(y.color)&&!C.inRange&&(C.inRange={color:y.color.slice().reverse()}),C.inRange=C.inRange||{color:m.get("gradientColor")},u(this.stateList,function(M){var D=C[M];if(t.isString(D)){var L=a.get(D,"active",S);L?(C[M]={},C[M][D]=L):delete C[M]}},this)}function w(C,M,D){var L=C[M],P=C[D];L&&!P&&(P=C[D]={},u(L,function(R,k){if(i.isValidType(k)){var z=a.get(k,"inactive",S);z!=null&&(P[k]=z,k==="color"&&!P.hasOwnProperty("opacity")&&!P.hasOwnProperty("colorAlpha")&&(P.opacity=[0,0]))}}))}function A(C){var M=(C.inRange||{}).symbol||(C.outOfRange||{}).symbol,D=(C.inRange||{}).symbolSize||(C.outOfRange||{}).symbolSize,L=this.get("inactiveColor");u(this.stateList,function(P){var R=this.itemSize,k=C[P];k||(k=C[P]={color:S?L:[L]}),k.symbol==null&&(k.symbol=M&&t.clone(M)||(S?"roundRect":["roundRect"])),k.symbolSize==null&&(k.symbolSize=D&&t.clone(D)||(S?R[0]:[R[0],R[0]])),k.symbol=n(k.symbol,function(G){return G==="none"||G==="square"?"roundRect":G});var z=k.symbolSize;if(z!=null){var B=-1/0;h(z,function(G){G>B&&(B=G)}),k.symbolSize=n(z,function(G){return d(G,[0,B],[0,R[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:c,getValueState:c,getVisualMeta:c}),g=p;return Pc=g,Pc}var Ic,cw;function ZH(){if(cw)return Ic;cw=1;var e=Z,t=yM(),r=Oe(),a=[20,140],i=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(f,n){i.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(h){h.mappingMethod="linear",h.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var f=this.itemSize;this._orient==="horizontal"&&f.reverse(),(f[0]==null||isNaN(f[0]))&&(f[0]=a[0]),(f[1]==null||isNaN(f[1]))&&(f[1]=a[1])},_resetRange:function(){var f=this.getExtent(),n=this.option.range;!n||n.auto?(f.auto=1,this.option.range=f):e.isArray(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],f[0]),n[1]=Math.min(n[1],f[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(f){var n=this.option.controller[f].symbolSize;n&&n[0]!==n[1]&&(n[0]=0)},this)},setSelected:function(f){this.option.range=f.slice(),this._resetRange()},getSelected:function(){var f=this.getExtent(),n=r.asc((this.get("range")||[]).slice());return n[0]>f[1]&&(n[0]=f[1]),n[1]>f[1]&&(n[1]=f[1]),n[0]<f[0]&&(n[0]=f[0]),n[1]<f[0]&&(n[1]=f[0]),n},getValueState:function(f){var n=this.option.range,h=this.getExtent();return(n[0]<=h[0]||n[0]<=f)&&(n[1]>=h[1]||f<=n[1])?"inRange":"outOfRange"},findTargetDataIndices:function(f){var n=[];return this.eachTargetSeries(function(h){var s=[],u=h.getData();u.each(this.getDataDimension(u),function(l,d){f[0]<=l&&l<=f[1]&&s.push(d)},this),n.push({seriesId:h.id,dataIndex:s})},this),n},getVisualMeta:function(f){var n=o(this,"outOfRange",this.getExtent()),h=o(this,"inRange",this.option.range.slice()),s=[];function u(y,_){s.push({value:y,color:f(y,_)})}for(var l=0,d=0,c=h.length,p=n.length;d<p&&(!h.length||n[d]<=h[0]);d++)n[d]<h[l]&&u(n[d],"outOfRange");for(var g=1;l<c;l++,g=0)g&&s.length&&u(h[l],"outOfRange"),u(h[l],"inRange");for(var g=1;d<p;d++)(!h.length||h[h.length-1]<n[d])&&(g&&(s.length&&u(s[s.length-1].value,"outOfRange"),g=0),u(n[d],"outOfRange"));var m=s.length;return{stops:s,outerColors:[m?s[0].color:"transparent",m?s[m-1].color:"transparent"]}}});function o(f,n,h){if(h[0]===h[1])return h.slice();for(var s=200,u=(h[1]-h[0])/s,l=h[0],d=[],c=0;c<=s&&l<h[1];c++)d.push(l),l+=u;return d.push(h[1]),d}var v=i;return Ic=v,Ic}var Rc,fw;function _M(){if(fw)return Rc;fw=1;var e=we,t=Z,r=ye,a=Ke(),i=Ne,o=Da(),v=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(f,n){this.ecModel=f,this.api=n,this.visualMapModel},render:function(f,n,h,s){if(this.visualMapModel=f,f.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(f){var n=this.visualMapModel,h=a.normalizeCssArray(n.get("padding")||0),s=f.getBoundingRect();f.add(new r.Rect({z2:-1,silent:!0,shape:{x:s.x-h[3],y:s.y-h[0],width:s.width+h[3]+h[1],height:s.height+h[0]+h[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},getControllerVisual:function(f,n,h){h=h||{};var s=h.forceState,u=this.visualMapModel,l={};if(n==="symbol"&&(l.symbol=u.get("itemSymbol")),n==="color"){var d=u.get("contentColor");l.color=d}function c(y){return l[y]}function p(y,_){l[y]=_}var g=u.controllerVisuals[s||u.getValueState(f)],m=o.prepareVisualTypes(g);return t.each(m,function(y){var _=g[y];h.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",_=g.__alphaForOpacity),o.dependsOn(y,n)&&_&&_.applyVisual(f,c,p)}),l[n]},positionGroup:function(f){var n=this.visualMapModel,h=this.api;i.positionElement(f,n.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})},doRender:t.noop});return Rc=v,Rc}var so={},dw;function xM(){if(dw)return so;dw=1;var e=Z,t=Ne,r=t.getLayoutRect;function a(o,v,f){var n=o.option,h=n.align;if(h!=null&&h!=="auto")return h;for(var s={width:v.getWidth(),height:v.getHeight()},u=n.orient==="horizontal"?1:0,l=[["left","right","width"],["top","bottom","height"]],d=l[u],c=[0,null,10],p={},g=0;g<3;g++)p[l[1-u][g]]=c[g],p[d[g]]=g===2?f[0]:n[d[g]];var m=[["x","width",3],["y","height",0]][u],y=r(p,s,n.padding);return d[(y.margin[m[2]]||0)+y[m[0]]+y[m[1]]*.5<s[m[1]]*.5?0:1]}function i(o,v){return e.each(o||[],function(f){f.dataIndex!=null&&(f.dataIndexInside=f.dataIndex,f.dataIndex=null),f.highlightKey="visualMap"+(v?v.componentIndex:"")}),o}return so.getItemAlign=a,so.makeHighDownBatch=i,so}var Ec,gw;function YH(){if(gw)return Ec;gw=1;var e=Z,t=ud,r=ht,a=_M(),i=ye,o=Oe(),v=yi(),f=xM(),n=Re,h=o.linearMap,s=e.each,u=Math.min,l=Math.max,d=12,c=6,p=a.extend({type:"visualMap.continuous",init:function(){p.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(x,w,A,C){(!C||C.type!=="selectDataRange"||C.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var x=this.visualMapModel,w=this.group;this._orient=x.get("orient"),this._useHandle=x.get("calculable"),this._resetInterval(),this._renderBar(w);var A=x.get("text");this._renderEndsText(w,A,0),this._renderEndsText(w,A,1),this._updateView(!0),this.renderBackground(w),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(w)},_renderEndsText:function(x,w,A){if(w){var C=w[1-A];C=C!=null?C+"":"";var M=this.visualMapModel,D=M.get("textGap"),L=M.itemSize,P=this._shapes.barGroup,R=this._applyTransform([L[0]/2,A===0?-D:L[1]+D],P),k=this._applyTransform(A===0?"bottom":"top",P),z=this._orient,B=this.visualMapModel.textStyleModel;this.group.add(new i.Text({style:{x:R[0],y:R[1],textVerticalAlign:z==="horizontal"?"middle":k,textAlign:z==="horizontal"?k:"center",text:C,textFont:B.getFont(),textFill:B.getTextColor()}}))}},_renderBar:function(x){var w=this.visualMapModel,A=this._shapes,C=w.itemSize,M=this._orient,D=this._useHandle,L=f.getItemAlign(w,this.api,C),P=A.barGroup=this._createBarGroup(L);P.add(A.outOfRange=g()),P.add(A.inRange=g(null,D?T(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var R=w.textStyleModel.getTextRect("国"),k=l(R.width,R.height);D&&(A.handleThumbs=[],A.handleLabels=[],A.handleLabelPoints=[],this._createHandle(P,0,C,k,M,L),this._createHandle(P,1,C,k,M,L)),this._createIndicator(P,C,k,M),x.add(P)},_createHandle:function(x,w,A,C,M){var D=e.bind(this._dragHandle,this,w,!1),L=e.bind(this._dragHandle,this,w,!0),P=g(m(w,C),T(this._orient),D,L);P.position[0]=A[0],x.add(P);var R=this.visualMapModel.textStyleModel,k=new i.Text({draggable:!0,drift:D,onmousemove:function(G){r.stop(G.event)},ondragend:L,style:{x:0,y:0,text:"",textFont:R.getFont(),textFill:R.getTextColor()}});this.group.add(k);var z=[M==="horizontal"?C/2:C*1.5,M==="horizontal"?w===0?-(C*1.5):C*1.5:w===0?-C/2:C/2],B=this._shapes;B.handleThumbs[w]=P,B.handleLabelPoints[w]=z,B.handleLabels[w]=k},_createIndicator:function(x,w,A,C){var M=g([[0,0]],"move");M.position[0]=w[0],M.attr({invisible:!0,silent:!0}),x.add(M);var D=this.visualMapModel.textStyleModel,L=new i.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:D.getFont(),textFill:D.getTextColor()}});this.group.add(L);var P=[C==="horizontal"?A/2:c+3,0],R=this._shapes;R.indicator=M,R.indicatorLabel=L,R.indicatorLabelPoint=P},_dragHandle:function(x,w,A,C){if(this._useHandle){if(this._dragging=!w,!w){var M=this._applyTransform([A,C],this._shapes.barGroup,!0);this._updateInterval(x,M[1]),this._updateView()}w===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),w?!this._hovering&&this._clearHoverLinkToSeries():b(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[x],!1)}},_resetInterval:function(){var x=this.visualMapModel,w=this._dataInterval=x.getSelected(),A=x.getExtent(),C=[0,x.itemSize[1]];this._handleEnds=[h(w[0],A,C,!0),h(w[1],A,C,!0)]},_updateInterval:function(x,w){w=w||0;var A=this.visualMapModel,C=this._handleEnds,M=[0,A.itemSize[1]];v(w,C,M,x,0);var D=A.getExtent();this._dataInterval=[h(C[0],M,D,!0),h(C[1],M,D,!0)]},_updateView:function(x){var w=this.visualMapModel,A=w.getExtent(),C=this._shapes,M=[0,w.itemSize[1]],D=x?M:this._handleEnds,L=this._createBarVisual(this._dataInterval,A,D,"inRange"),P=this._createBarVisual(A,A,M,"outOfRange");C.inRange.setStyle({fill:L.barColor,opacity:L.opacity}).setShape("points",L.barPoints),C.outOfRange.setStyle({fill:P.barColor,opacity:P.opacity}).setShape("points",P.barPoints),this._updateHandle(D,L)},_createBarVisual:function(x,w,A,C){var M={forceState:C,convertOpacityToAlpha:!0},D=this._makeColorGradient(x,M),L=[this.getControllerVisual(x[0],"symbolSize",M),this.getControllerVisual(x[1],"symbolSize",M)],P=this._createBarPoints(A,L);return{barColor:new t(0,0,0,1,D),barPoints:P,handlesColor:[D[0].color,D[D.length-1].color]}},_makeColorGradient:function(x,w){var A=100,C=[],M=(x[1]-x[0])/A;C.push({color:this.getControllerVisual(x[0],"color",w),offset:0});for(var D=1;D<A;D++){var L=x[0]+M*D;if(L>x[1])break;C.push({color:this.getControllerVisual(L,"color",w),offset:D/A})}return C.push({color:this.getControllerVisual(x[1],"color",w),offset:1}),C},_createBarPoints:function(x,w){var A=this.visualMapModel.itemSize;return[[A[0]-w[0],x[0]],[A[0],x[0]],[A[0],x[1]],[A[0]-w[1],x[1]]]},_createBarGroup:function(x){var w=this._orient,A=this.visualMapModel.get("inverse");return new i.Group(w==="horizontal"&&!A?{scale:x==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:w==="horizontal"&&A?{scale:x==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:w==="vertical"&&!A?{scale:x==="left"?[1,-1]:[-1,-1]}:{scale:x==="left"?[1,1]:[-1,1]})},_updateHandle:function(x,w){if(this._useHandle){var A=this._shapes,C=this.visualMapModel,M=A.handleThumbs,D=A.handleLabels;s([0,1],function(L){var P=M[L];P.setStyle("fill",w.handlesColor[L]),P.position[1]=x[L];var R=i.applyTransform(A.handleLabelPoints[L],i.getTransform(P,this.group));D[L].setStyle({x:R[0],y:R[1],text:C.formatValueText(this._dataInterval[L]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?L===0?"bottom":"top":"left",A.barGroup)})},this)}},_showIndicator:function(x,w,A,C){var M=this.visualMapModel,D=M.getExtent(),L=M.itemSize,P=[0,L[1]],R=h(x,D,P,!0),k=this._shapes,z=k.indicator;if(z){z.position[1]=R,z.attr("invisible",!1),z.setShape("points",y(!!A,C,R,L[1]));var B={convertOpacityToAlpha:!0},G=this.getControllerVisual(x,"color",B);z.setStyle("fill",G);var V=i.applyTransform(k.indicatorLabelPoint,i.getTransform(z,this.group)),I=k.indicatorLabel;I.attr("invisible",!1);var O=this._applyTransform("left",k.barGroup),E=this._orient;I.setStyle({text:(A||"")+M.formatValueText(w),textVerticalAlign:E==="horizontal"?O:"middle",textAlign:E==="horizontal"?"center":O,x:V[0],y:V[1]})}},_enableHoverLinkToSeries:function(){var x=this;this._shapes.barGroup.on("mousemove",function(w){if(x._hovering=!0,!x._dragging){var A=x.visualMapModel.itemSize,C=x._applyTransform([w.offsetX,w.offsetY],x._shapes.barGroup,!0,!0);C[1]=u(l(0,C[1]),A[1]),x._doHoverLinkToSeries(C[1],0<=C[0]&&C[0]<=A[0])}}).on("mouseout",function(){x._hovering=!1,!x._dragging&&x._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var x=this.api.getZr();this.visualMapModel.option.hoverLink?(x.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),x.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(x,w){var A=this.visualMapModel,C=A.itemSize;if(A.option.hoverLink){var M=[0,C[1]],D=A.getExtent();x=u(l(M[0],x),M[1]);var L=_(A,D,M),P=[x-L,x+L],R=h(x,M,D,!0),k=[h(P[0],M,D,!0),h(P[1],M,D,!0)];P[0]<M[0]&&(k[0]=-1/0),P[1]>M[1]&&(k[1]=1/0),w&&(k[0]===-1/0?this._showIndicator(R,k[1],"< ",L):k[1]===1/0?this._showIndicator(R,k[0],"> ",L):this._showIndicator(R,R,"≈ ",L));var z=this._hoverLinkDataIndices,B=[];(w||b(A))&&(B=this._hoverLinkDataIndices=A.findTargetDataIndices(k));var G=n.compressBatches(z,B);this._dispatchHighDown("downplay",f.makeHighDownBatch(G[0],A)),this._dispatchHighDown("highlight",f.makeHighDownBatch(G[1],A))}},_hoverLinkFromSeriesMouseOver:function(x){var w=x.target,A=this.visualMapModel;if(!(!w||w.dataIndex==null)){var C=this.ecModel.getSeriesByIndex(w.seriesIndex);if(A.isTargetSeries(C)){var M=C.getData(w.dataType),D=M.get(A.getDataDimension(M),w.dataIndex,!0);isNaN(D)||this._showIndicator(D,D)}}},_hideIndicator:function(){var x=this._shapes;x.indicator&&x.indicator.attr("invisible",!0),x.indicatorLabel&&x.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var x=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",f.makeHighDownBatch(x,this.visualMapModel)),x.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var x=this.api.getZr();x.off("mouseover",this._hoverLinkFromSeriesMouseOver),x.off("mouseout",this._hideIndicator)},_applyTransform:function(x,w,A,C){var M=i.getTransform(w,C?null:this.group);return i[e.isArray(x)?"applyTransform":"transformDirection"](x,M,A)},_dispatchHighDown:function(x,w){w&&w.length&&this.api.dispatchAction({type:x,batch:w})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function g(x,w,A,C){return new i.Polygon({shape:{points:x},draggable:!!A,cursor:w,drift:A,onmousemove:function(M){r.stop(M.event)},ondragend:C})}function m(x,w){return x===0?[[0,0],[w,0],[w,-w]]:[[0,0],[w,0],[w,w]]}function y(x,w,A,C){return x?[[0,-u(w,l(A,0))],[c,0],[0,u(w,l(C-A,0))]]:[[0,0],[5,-5],[5,5]]}function _(x,w,A){var C=d/2,M=x.get("hoverLinkDataSize");return M&&(C=h(M,w,A,!0)/2),C}function b(x){var w=x.get("hoverLinkOnHandle");return!!(w??x.get("realtime"))}function T(x){return x==="vertical"?"ns-resize":"ew-resize"}var S=p;return Ec=S,Ec}var pw={},mw;function SM(){if(mw)return pw;mw=1;var e=we,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"visualMap",query:r},function(i){i.setSelected(r.selected)})}),pw}var yw;function bM(){if(yw)return iw;yw=1;var e=we,t=dM();return gM(),pM(),ZH(),YH(),SM(),e.registerPreprocessor(t),iw}var _w={},kc,xw;function XH(){if(xw)return kc;xw=1;var e=Z,t=yM(),r=Da(),a=mM(),i=Oe(),o=i.reformIntervals,v=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(s,u){v.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var l=this._mode=this._determineMode();f[this._mode].call(this),this._resetSelected(s,u);var d=this.option.categories;this.resetVisual(function(c,p){l==="categories"?(c.mappingMethod="category",c.categories=e.clone(d)):(c.dataExtent=this.getExtent(),c.mappingMethod="piecewise",c.pieceList=e.map(this._pieceList,function(m){var m=e.clone(m);return p!=="inRange"&&(m.visual=null),m}))})},completeVisualOption:function(){var s=this.option,u={},l=r.listVisualTypes(),d=this.isCategory();e.each(s.pieces,function(p){e.each(l,function(g){p.hasOwnProperty(g)&&(u[g]=1)})}),e.each(u,function(p,g){var m=0;e.each(this.stateList,function(y){m|=c(s,y,g)||c(s.target,y,g)},this),!m&&e.each(this.stateList,function(y){(s[y]||(s[y]={}))[g]=a.get(g,y==="inRange"?"active":"inactive",d)})},this);function c(p,g,m){return p&&p[g]&&(e.isObject(p[g])?p[g].hasOwnProperty(m):p[g]===m)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(s,u){var l=this.option,d=this._pieceList,c=(u?l:s).selected||{};if(l.selected=c,e.each(d,function(g,m){var y=this.getSelectedMapKey(g);c.hasOwnProperty(y)||(c[y]=!0)},this),l.selectedMode==="single"){var p=!1;e.each(d,function(g,m){var y=this.getSelectedMapKey(g);c[y]&&(p?c[y]=!1:p=!0)},this)}},getSelectedMapKey:function(s){return this._mode==="categories"?s.value+"":s.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var s=this.option;return s.pieces&&s.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(s){this.option.selected=e.clone(s)},getValueState:function(s){var u=r.findPieceIndex(s,this._pieceList);return u!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[u])]?"inRange":"outOfRange"},findTargetDataIndices:function(s){var u=[];return this.eachTargetSeries(function(l){var d=[],c=l.getData();c.each(this.getDataDimension(c),function(p,g){var m=r.findPieceIndex(p,this._pieceList);m===s&&d.push(g)},this),u.push({seriesId:l.id,dataIndex:d})},this),u},getRepresentValue:function(s){var u;if(this.isCategory())u=s.value;else if(s.value!=null)u=s.value;else{var l=s.interval||[];u=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return u},getVisualMeta:function(s){if(this.isCategory())return;var u=[],l=[],d=this;function c(y,_){var b=d.getRepresentValue({interval:y});_||(_=d.getValueState(b));var T=s(b,_);y[0]===-1/0?l[0]=T:y[1]===1/0?l[1]=T:u.push({value:y[0],color:T},{value:y[1],color:T})}var p=this._pieceList.slice();if(!p.length)p.push({interval:[-1/0,1/0]});else{var g=p[0].interval[0];g!==-1/0&&p.unshift({interval:[-1/0,g]}),g=p[p.length-1].interval[1],g!==1/0&&p.push({interval:[g,1/0]})}var m=-1/0;return e.each(p,function(y){var _=y.interval;_&&(_[0]>m&&c([m,_[0]],"outOfRange"),c(_.slice()),m=_[1])},this),{stops:u,outerColors:l}}}),f={splitNumber:function(){var s=this.option,u=this._pieceList,l=Math.min(s.precision,20),d=this.getExtent(),c=s.splitNumber;c=Math.max(parseInt(c,10),1),s.splitNumber=c;for(var p=(d[1]-d[0])/c;+p.toFixed(l)!==p&&l<5;)l++;s.precision=l,p=+p.toFixed(l);var g=0;s.minOpen&&u.push({index:g++,interval:[-1/0,d[0]],close:[0,0]});for(var m=d[0],y=g+c;g<y;m+=p){var _=g===c-1?d[1]:m+p;u.push({index:g++,interval:[m,_],close:[1,1]})}s.maxOpen&&u.push({index:g++,interval:[d[1],1/0],close:[0,0]}),o(u),e.each(u,function(b){b.text=this.formatValueText(b.interval)},this)},categories:function(){var s=this.option;e.each(s.categories,function(u){this._pieceList.push({text:this.formatValueText(u,!0),value:u})},this),n(s,this._pieceList)},pieces:function(){var s=this.option,u=this._pieceList;e.each(s.pieces,function(l,d){e.isObject(l)||(l={value:l});var c={text:"",index:d};if(l.label!=null&&(c.text=l.label),l.hasOwnProperty("value")){var p=c.value=l.value;c.interval=[p,p],c.close=[1,1]}else{for(var g=c.interval=[],m=c.close=[0,0],y=[1,0,1],_=[-1/0,1/0],b=[],T=0;T<2;T++){for(var S=[["gte","gt","min"],["lte","lt","max"]][T],x=0;x<3&&g[T]==null;x++)g[T]=l[S[x]],m[T]=y[x],b[T]=x===2;g[T]==null&&(g[T]=_[T])}b[0]&&g[1]===1/0&&(m[0]=0),b[1]&&g[0]===-1/0&&(m[1]=0),g[0]===g[1]&&m[0]&&m[1]&&(c.value=g[0])}c.visual=r.retrieveVisuals(l),u.push(c)},this),n(s,u),o(u),e.each(u,function(l){var d=l.close,c=[["<","≤"][d[1]],[">","≥"][d[0]]];l.text=l.text||this.formatValueText(l.value!=null?l.value:l.interval,!1,c)},this)}};function n(s,u){var l=s.inverse;(s.orient==="vertical"?!l:l)&&u.reverse()}var h=v;return kc=h,kc}var Oc,Sw;function KH(){if(Sw)return Oc;Sw=1;var e=Z,t=_M(),r=ye,a=Zt(),i=a.createSymbol,o=Ne,v=xM(),f=t.extend({type:"visualMap.piecewise",doRender:function(){var h=this.group;h.removeAll();var s=this.visualMapModel,u=s.get("textGap"),l=s.textStyleModel,d=l.getFont(),c=l.getTextColor(),p=this._getItemAlign(),g=s.itemSize,m=this._getViewData(),y=m.endsText,_=e.retrieve(s.get("showLabel",!0),!y);y&&this._renderEndsText(h,y[0],g,_,p),e.each(m.viewPieceList,b,this),y&&this._renderEndsText(h,y[1],g,_,p),o.box(s.get("orient"),h,s.get("itemGap")),this.renderBackground(h),this.positionGroup(h);function b(T){var S=T.piece,x=new r.Group;x.onclick=e.bind(this._onItemClick,this,S),this._enableHoverLink(x,T.indexInModelPieceList);var w=s.getRepresentValue(S);if(this._createItemSymbol(x,w,[0,0,g[0],g[1]]),_){var A=this.visualMapModel.getValueState(w);x.add(new r.Text({style:{x:p==="right"?-u:g[0]+u,y:g[1]/2,text:S.text,textVerticalAlign:"middle",textAlign:p,textFont:d,textFill:c,opacity:A==="outOfRange"?.5:1}}))}h.add(x)}},_enableHoverLink:function(h,s){h.on("mouseover",e.bind(u,this,"highlight")).on("mouseout",e.bind(u,this,"downplay"));function u(l){var d=this.visualMapModel;d.option.hoverLink&&this.api.dispatchAction({type:l,batch:v.makeHighDownBatch(d.findTargetDataIndices(s),d)})}},_getItemAlign:function(){var h=this.visualMapModel,s=h.option;if(s.orient==="vertical")return v.getItemAlign(h,this.api,h.itemSize);var u=s.align;return(!u||u==="auto")&&(u="left"),u},_renderEndsText:function(h,s,u,l,d){if(s){var c=new r.Group,p=this.visualMapModel.textStyleModel;c.add(new r.Text({style:{x:l?d==="right"?u[0]:0:u[0]/2,y:u[1]/2,textVerticalAlign:"middle",textAlign:l?d:"center",text:s,textFont:p.getFont(),textFill:p.getTextColor()}})),h.add(c)}},_getViewData:function(){var h=this.visualMapModel,s=e.map(h.getPieceList(),function(c,p){return{piece:c,indexInModelPieceList:p}}),u=h.get("text"),l=h.get("orient"),d=h.get("inverse");return(l==="horizontal"?d:!d)?s.reverse():u&&(u=u.slice().reverse()),{viewPieceList:s,endsText:u}},_createItemSymbol:function(h,s,u){h.add(i(this.getControllerVisual(s,"symbol"),u[0],u[1],u[2],u[3],this.getControllerVisual(s,"color")))},_onItemClick:function(h){var s=this.visualMapModel,u=s.option,l=e.clone(u.selected),d=s.getSelectedMapKey(h);u.selectedMode==="single"?(l[d]=!0,e.each(l,function(c,p){l[p]=p===d})):l[d]=!l[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}}),n=f;return Oc=n,Oc}var bw;function wM(){if(bw)return _w;bw=1;var e=we,t=dM();return gM(),pM(),XH(),KH(),SM(),e.registerPreprocessor(t),_w}var ww;function QH(){return ww||(ww=1,bM(),wM()),aw}var Aw={},Tw={},Vi={},Cw;function AM(){if(Cw)return Vi;Cw=1;var e=nt,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,a=!1,i=r&&r.document;function o(n){return v(n)}var v;if(i&&!e.canvasSupported)try{!i.namespaces.zrvml&&i.namespaces.add("zrvml",t),v=function(n){return i.createElement("<zrvml:"+n+' class="zrvml">')}}catch{v=function(h){return i.createElement("<"+h+' xmlns="'+t+'" class="zrvml">')}}function f(){if(!(a||!i)){a=!0;var n=i.styleSheets;n.length<31?i.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Vi.doc=i,Vi.createNode=o,Vi.initVML=f,Vi}var Mw;function JH(){if(Mw)return Tw;Mw=1;var e=nt,t=Ye(),r=t.applyTransform,a=Xe,i=lt,o=$t(),v=ar,f=zA(),n=vn,h=si,s=ba,u=at,l=ui,d=Go,c=AM(),p=l.CMD,g=Math.round,m=Math.sqrt,y=Math.abs,_=Math.cos,b=Math.sin,T=Math.max;if(!e.canvasSupported){var S=",",x="progid:DXImageTransform.Microsoft",w=21600,A=w/2,C=1e5,M=1e3,D=function(le){le.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",le.coordsize=w+","+w,le.coordorigin="0,0"},L=function(le){return String(le).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},P=function(le,ve,Se){return"rgb("+[le,ve,Se].join(",")+")"},R=function(le,ve){ve&&le&&ve.parentNode!==le&&le.appendChild(ve)},k=function(le,ve){ve&&le&&ve.parentNode===le&&le.removeChild(ve)},z=function(le,ve,Se){return(parseFloat(le)||0)*C+(parseFloat(ve)||0)*M+Se},B=v.parsePercent,G=function(le,ve,Se){var X=i.parse(ve);Se=+Se,isNaN(Se)&&(Se=1),X&&(le.color=P(X[0],X[1],X[2]),le.opacity=Se*X[3])},V=function(le){var ve=i.parse(le);return[P(ve[0],ve[1],ve[2]),ve[3]]},I=function(le,ve,Se){var X=ve.fill;if(X!=null)if(X instanceof d){var J,ie=0,ce=[0,0],ue=0,fe=1,_e=Se.getBoundingRect(),Ce=_e.width,xe=_e.height;if(X.type==="linear"){J="gradient";var pe=Se.transform,he=[X.x*Ce,X.y*xe],me=[X.x2*Ce,X.y2*xe];pe&&(r(he,he,pe),r(me,me,pe));var De=me[0]-he[0],Ee=me[1]-he[1];ie=Math.atan2(De,Ee)*180/Math.PI,ie<0&&(ie+=360),ie<1e-6&&(ie=0)}else{J="gradientradial";var he=[X.x*Ce,X.y*xe],pe=Se.transform,$e=Se.scale,He=Ce,Ge=xe;ce=[(he[0]-_e.x)/He,(he[1]-_e.y)/Ge],pe&&r(he,he,pe),He/=$e[0]*w,Ge/=$e[1]*w;var Qe=T(He,Ge);ue=2*0/Qe,fe=2*X.r/Qe-ue}var ke=X.colorStops.slice();ke.sort(function(je,wt){return je.offset-wt.offset});for(var Fe=ke.length,qe=[],Je=[],Ue=0;Ue<Fe;Ue++){var et=ke[Ue],mt=V(et.color);Je.push(et.offset*fe+ue+" "+mt[0]),(Ue===0||Ue===Fe-1)&&qe.push(mt)}if(Fe>=2){var bt=qe[0][0],zt=qe[1][0],lr=qe[0][1]*ve.opacity,dt=qe[1][1]*ve.opacity;le.type=J,le.method="none",le.focus="100%",le.angle=ie,le.color=bt,le.color2=zt,le.colors=Je.join(","),le.opacity=dt,le.opacity2=lr}J==="radial"&&(le.focusposition=ce.join(","))}else G(le,X,ve.opacity)},O=function(le,ve){ve.lineDash&&(le.dashstyle=ve.lineDash.join(" ")),ve.stroke!=null&&!(ve.stroke instanceof d)&&G(le,ve.stroke,ve.opacity)},E=function(le,ve,Se,X){var J=ve==="fill",ie=le.getElementsByTagName(ve)[0];Se[ve]!=null&&Se[ve]!=="none"&&(J||!J&&Se.lineWidth)?(le[J?"filled":"stroked"]="true",Se[ve]instanceof d&&k(le,ie),ie||(ie=c.createNode(ve)),J?I(ie,Se,X):O(ie,Se),R(le,ie)):(le[J?"filled":"stroked"]="false",k(le,ie))},N=[[],[],[]],q=function(le,ve){var Se=p.M,X=p.C,J=p.L,ie=p.A,ce=p.Q,ue=[],fe,_e,Ce,xe,pe,he,me=le.data,De=le.len();for(xe=0;xe<De;){switch(Ce=me[xe++],_e="",fe=0,Ce){case Se:_e=" m ",fe=1,pe=me[xe++],he=me[xe++],N[0][0]=pe,N[0][1]=he;break;case J:_e=" l ",fe=1,pe=me[xe++],he=me[xe++],N[0][0]=pe,N[0][1]=he;break;case ce:case X:_e=" c ",fe=3;var gt=me[xe++],Ct=me[xe++],Ee=me[xe++],$e=me[xe++],He,Ge;Ce===ce?(He=Ee,Ge=$e,Ee=(Ee+2*gt)/3,$e=($e+2*Ct)/3,gt=(pe+2*gt)/3,Ct=(he+2*Ct)/3):(He=me[xe++],Ge=me[xe++]),N[0][0]=gt,N[0][1]=Ct,N[1][0]=Ee,N[1][1]=$e,N[2][0]=He,N[2][1]=Ge,pe=He,he=Ge;break;case ie:var Qe=0,ke=0,Fe=1,qe=1,Je=0;ve&&(Qe=ve[4],ke=ve[5],Fe=m(ve[0]*ve[0]+ve[1]*ve[1]),qe=m(ve[2]*ve[2]+ve[3]*ve[3]),Je=Math.atan2(-ve[1]/qe,ve[0]/Fe));var Ue=me[xe++],et=me[xe++],mt=me[xe++],bt=me[xe++],zt=me[xe++]+Je,lr=me[xe++]+zt+Je;xe++;var dt=me[xe++],je=Ue+_(zt)*mt,wt=et+b(zt)*bt,gt=Ue+_(lr)*mt,Ct=et+b(lr)*bt,Nr=dt?" wa ":" at ";Math.abs(je-gt)<1e-4&&(Math.abs(lr-zt)>.01?dt&&(je+=270/w):Math.abs(wt-et)<1e-4?dt&&je<Ue||!dt&&je>Ue?Ct-=270/w:Ct+=270/w:dt&&wt<et||!dt&&wt>et?gt+=270/w:gt-=270/w),ue.push(Nr,g(((Ue-mt)*Fe+Qe)*w-A),S,g(((et-bt)*qe+ke)*w-A),S,g(((Ue+mt)*Fe+Qe)*w-A),S,g(((et+bt)*qe+ke)*w-A),S,g((je*Fe+Qe)*w-A),S,g((wt*qe+ke)*w-A),S,g((gt*Fe+Qe)*w-A),S,g((Ct*qe+ke)*w-A)),pe=gt,he=Ct;break;case p.R:var ot=N[0],yt=N[1];ot[0]=me[xe++],ot[1]=me[xe++],yt[0]=ot[0]+me[xe++],yt[1]=ot[1]+me[xe++],ve&&(r(ot,ot,ve),r(yt,yt,ve)),ot[0]=g(ot[0]*w-A),yt[0]=g(yt[0]*w-A),ot[1]=g(ot[1]*w-A),yt[1]=g(yt[1]*w-A),ue.push(" m ",ot[0],S,ot[1]," l ",yt[0],S,ot[1]," l ",yt[0],S,yt[1]," l ",ot[0],S,yt[1]);break;case p.Z:ue.push(" x ")}if(fe>0){ue.push(_e);for(var Vr=0;Vr<fe;Vr++){var La=N[Vr];ve&&r(La,La,ve),ue.push(g(La[0]*w-A),S,g(La[1]*w-A),Vr<fe-1?S:"")}}}return ue.join("")};u.prototype.brushVML=function(le){var ve=this.style,Se=this._vmlEl;Se||(Se=c.createNode("shape"),D(Se),this._vmlEl=Se),E(Se,"fill",ve,this),E(Se,"stroke",ve,this);var X=this.transform,J=X!=null,ie=Se.getElementsByTagName("stroke")[0];if(ie){var ce=ve.lineWidth;if(J&&!ve.strokeNoScale){var ue=X[0]*X[3]-X[1]*X[2];ce*=m(y(ue))}ie.weight=ce+"px"}var fe=this.path||(this.path=new l);this.__dirtyPath&&(fe.beginPath(),fe.subPixelOptimize=!1,this.buildPath(fe,this.shape),fe.toStatic(),this.__dirtyPath=!1),Se.path=q(fe,this.transform),Se.style.zIndex=z(this.zlevel,this.z,this.z2),R(le,Se),ve.text!=null?this.drawRectText(le,this.getBoundingRect()):this.removeRectText(le)},u.prototype.onRemove=function(le){k(le,this._vmlEl),this.removeRectText(le)},u.prototype.onAdd=function(le){R(le,this._vmlEl),this.appendRectText(le)};var H=function(le){return typeof le=="object"&&le.tagName&&le.tagName.toUpperCase()==="IMG"};h.prototype.brushVML=function(le){var ve=this.style,Se=ve.image,X,J;if(H(Se)){var ie=Se.src;if(ie===this._imageSrc)X=this._imageWidth,J=this._imageHeight;else{var ce=Se.runtimeStyle,ue=ce.width,fe=ce.height;ce.width="auto",ce.height="auto",X=Se.width,J=Se.height,ce.width=ue,ce.height=fe,this._imageSrc=ie,this._imageWidth=X,this._imageHeight=J}Se=ie}else Se===this._imageSrc&&(X=this._imageWidth,J=this._imageHeight);if(Se){var _e=ve.x||0,Ce=ve.y||0,xe=ve.width,pe=ve.height,he=ve.sWidth,me=ve.sHeight,De=ve.sx||0,Ee=ve.sy||0,$e=he&&me,He=this._vmlEl;He||(He=c.doc.createElement("div"),D(He),this._vmlEl=He);var Ge=He.style,Qe=!1,ke,Fe=1,qe=1;if(this.transform&&(ke=this.transform,Fe=m(ke[0]*ke[0]+ke[1]*ke[1]),qe=m(ke[2]*ke[2]+ke[3]*ke[3]),Qe=ke[1]||ke[2]),Qe){var Je=[_e,Ce],Ue=[_e+xe,Ce],et=[_e,Ce+pe],mt=[_e+xe,Ce+pe];r(Je,Je,ke),r(Ue,Ue,ke),r(et,et,ke),r(mt,mt,ke);var bt=T(Je[0],Ue[0],et[0],mt[0]),zt=T(Je[1],Ue[1],et[1],mt[1]),lr=[];lr.push("M11=",ke[0]/Fe,S,"M12=",ke[2]/qe,S,"M21=",ke[1]/Fe,S,"M22=",ke[3]/qe,S,"Dx=",g(_e*Fe+ke[4]),S,"Dy=",g(Ce*qe+ke[5])),Ge.padding="0 "+g(bt)+"px "+g(zt)+"px 0",Ge.filter=x+".Matrix("+lr.join("")+", SizingMethod=clip)"}else ke&&(_e=_e*Fe+ke[4],Ce=Ce*qe+ke[5]),Ge.filter="",Ge.left=g(_e)+"px",Ge.top=g(Ce)+"px";var dt=this._imageEl,je=this._cropEl;dt||(dt=c.doc.createElement("div"),this._imageEl=dt);var wt=dt.style;if($e){if(X&&J)wt.width=g(Fe*X*xe/he)+"px",wt.height=g(qe*J*pe/me)+"px";else{var gt=new Image,Ct=this;gt.onload=function(){gt.onload=null,X=gt.width,J=gt.height,wt.width=g(Fe*X*xe/he)+"px",wt.height=g(qe*J*pe/me)+"px",Ct._imageWidth=X,Ct._imageHeight=J,Ct._imageSrc=Se},gt.src=Se}je||(je=c.doc.createElement("div"),je.style.overflow="hidden",this._cropEl=je);var Nr=je.style;Nr.width=g((xe+De*xe/he)*Fe),Nr.height=g((pe+Ee*pe/me)*qe),Nr.filter=x+".Matrix(Dx="+-De*xe/he*Fe+",Dy="+-Ee*pe/me*qe+")",je.parentNode||He.appendChild(je),dt.parentNode!==je&&je.appendChild(dt)}else wt.width=g(Fe*xe)+"px",wt.height=g(qe*pe)+"px",He.appendChild(dt),je&&je.parentNode&&(He.removeChild(je),this._cropEl=null);var ot="",yt=ve.opacity;yt<1&&(ot+=".Alpha(opacity="+g(yt*100)+") "),ot+=x+".AlphaImageLoader(src="+Se+", SizingMethod=scale)",wt.filter=ot,He.style.zIndex=z(this.zlevel,this.z,this.z2),R(le,He),ve.text!=null&&this.drawRectText(le,this.getBoundingRect())}},h.prototype.onRemove=function(le){k(le,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(le)},h.prototype.onAdd=function(le){R(le,this._vmlEl),this.appendRectText(le)};var F="normal",U={},W=0,Y=100,Q=document.createElement("div"),ee=function(le){var ve=U[le];if(!ve){W>Y&&(W=0,U={});var Se=Q.style,X;try{Se.font=le,X=Se.fontFamily.split(",")[0]}catch{}ve={style:Se.fontStyle||F,variant:Se.fontVariant||F,weight:Se.fontWeight||F,size:parseFloat(Se.fontSize||12)|0,family:X||"Microsoft YaHei"},U[le]=ve,W++}return ve},j;o.$override("measureText",function(le,ve){var Se=c.doc;j||(j=Se.createElement("div"),j.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",c.doc.body.appendChild(j));try{j.style.font=ve}catch{}return j.innerHTML="",j.appendChild(Se.createTextNode(le)),{width:j.offsetWidth}});for(var re=new a,ae=function(le,ve,Se,X){var J=this.style;this.__dirty&&v.normalizeTextStyle(J,!0);var ie=J.text;if(ie!=null&&(ie+=""),!!ie){if(J.rich){var ce=o.parseRichText(ie,J);ie=[];for(var ue=0;ue<ce.lines.length;ue++){for(var fe=ce.lines[ue].tokens,_e=[],Ce=0;Ce<fe.length;Ce++)_e.push(fe[Ce].text);ie.push(_e.join(""))}ie=ie.join(`
`)}var xe,pe,he=J.textAlign,me=J.textVerticalAlign,De=ee(J.font),Ee=De.style+" "+De.variant+" "+De.weight+" "+De.size+'px "'+De.family+'"';Se=Se||o.getBoundingRect(ie,Ee,he,me,J.textPadding,J.textLineHeight);var $e=this.transform;if($e&&!X&&(re.copy(ve),re.applyTransform($e),ve=re),X)xe=ve.x,pe=ve.y;else{var He=J.textPosition;if(He instanceof Array)xe=ve.x+B(He[0],ve.width),pe=ve.y+B(He[1],ve.height),he=he||"left";else{var Ge=this.calculateTextPosition?this.calculateTextPosition({},J,ve):o.calculateTextPosition({},J,ve);xe=Ge.x,pe=Ge.y,he=he||Ge.textAlign,me=me||Ge.textVerticalAlign}}xe=o.adjustTextX(xe,Se.width,he),pe=o.adjustTextY(pe,Se.height,me),pe+=Se.height/2;var Qe=c.createNode,ke=this._textVmlEl,Fe,qe,Je;ke?(Je=ke.firstChild,Fe=Je.nextSibling,qe=Fe.nextSibling):(ke=Qe("line"),Fe=Qe("path"),qe=Qe("textpath"),Je=Qe("skew"),qe.style["v-text-align"]="left",D(ke),Fe.textpathok=!0,qe.on=!0,ke.from="0 0",ke.to="1000 0.05",R(ke,Je),R(ke,Fe),R(ke,qe),this._textVmlEl=ke);var Ue=[xe,pe],et=ke.style;$e&&X?(r(Ue,Ue,$e),Je.on=!0,Je.matrix=$e[0].toFixed(3)+S+$e[2].toFixed(3)+S+$e[1].toFixed(3)+S+$e[3].toFixed(3)+",0,0",Je.offset=(g(Ue[0])||0)+","+(g(Ue[1])||0),Je.origin="0 0",et.left="0px",et.top="0px"):(Je.on=!1,et.left=g(xe)+"px",et.top=g(pe)+"px"),qe.string=L(ie);try{qe.style.font=Ee}catch{}E(ke,"fill",{fill:J.textFill,opacity:J.opacity},this),E(ke,"stroke",{stroke:J.textStroke,opacity:J.opacity,lineDash:J.lineDash||null},this),ke.style.zIndex=z(this.zlevel,this.z,this.z2),R(le,ke)}},ne=function(le){k(le,this._textVmlEl),this._textVmlEl=null},de=function(le){R(le,this._textVmlEl)},te=[f,n,h,u,s],se=0;se<te.length;se++){var Te=te[se].prototype;Te.drawRectText=ae,Te.removeRectText=ne,Te.appendRectText=de}s.prototype.brushVML=function(le){var ve=this.style;ve.text!=null?this.drawRectText(le,{x:ve.x||0,y:ve.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(le)},s.prototype.onRemove=function(le){this.removeRectText(le)},s.prototype.onAdd=function(le){this.appendRectText(le)}}return Tw}var zc,Dw;function jH(){if(Dw)return zc;Dw=1;var e=sn,t=AM(),r=Z,a=r.each;function i(n){return parseInt(n,10)}function o(n,h){t.initVML(),this.root=n,this.storage=h;var s=document.createElement("div"),u=document.createElement("div");s.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",u.style.cssText="position:absolute;left:0;top:0;",n.appendChild(s),this._vmlRoot=u,this._vmlViewport=s,this.resize();var l=h.delFromStorage,d=h.addToStorage;h.delFromStorage=function(c){l.call(h,c),c&&c.onRemove&&c.onRemove(u)},h.addToStorage=function(c){c.onAdd&&c.onAdd(u),d.call(h,c)},this._firstPaint=!0}o.prototype={constructor:o,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var h=this._vmlRoot,s=0;s<n.length;s++){var u=n[s];u.invisible||u.ignore?(u.__alreadyNotVisible||u.onRemove(h),u.__alreadyNotVisible=!0):(u.__alreadyNotVisible&&u.onAdd(h),u.__alreadyNotVisible=!1,u.__dirty&&(u.beforeBrush&&u.beforeBrush(),(u.brushVML||u.brush).call(u,h),u.afterBrush&&u.afterBrush())),u.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(h),this._firstPaint=!1)},resize:function(s,u){var s=s??this._getWidth(),u=u??this._getHeight();if(this._width!==s||this._height!==u){this._width=s,this._height=u;var l=this._vmlViewport.style;l.width=s+"px",l.height=u+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var n=this.root,h=n.currentStyle;return(n.clientWidth||i(h.width))-i(h.paddingLeft)-i(h.paddingRight)|0},_getHeight:function(){var n=this.root,h=n.currentStyle;return(n.clientHeight||i(h.height))-i(h.paddingTop)-i(h.paddingBottom)|0}};function v(n){return function(){e('In IE8.0 VML mode painter not support method "'+n+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){o.prototype[n]=v(n)});var f=o;return zc=f,zc}var Lw;function eq(){if(Lw)return Aw;Lw=1,JH();var e=Or,t=e.registerPainter,r=jH();return t("vml",r),Aw}var Pw={},Hi={},Bc={},Iw;function Kd(){if(Iw)return Bc;Iw=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return Bc.createElement=t,Bc}var Rw;function Qd(){if(Rw)return Hi;Rw=1;var e=Kd(),t=e.createElement,r=ui,a=Xe,i=Pt(),o=$t(),v=ar,f=ba,n=r.CMD,h=Array.prototype.join,s="none",u=Math.round,l=Math.sin,d=Math.cos,c=Math.PI,p=Math.PI*2,g=180/c,m=1e-4;function y(E){return u(E*1e4)/1e4}function _(E){return E<m&&E>-m}function b(E,N){var q=N?E.textFill:E.fill;return q!=null&&q!==s}function T(E,N){var q=N?E.textStroke:E.stroke;return q!=null&&q!==s}function S(E,N){N&&x(E,"transform","matrix("+h.call(N,",")+")")}function x(E,N,q){(!q||q.type!=="linear"&&q.type!=="radial")&&E.setAttribute(N,q)}function w(E,N,q){E.setAttributeNS("http://www.w3.org/1999/xlink",N,q)}function A(E,N,q,H){if(b(N,q)){var F=q?N.textFill:N.fill;F=F==="transparent"?s:F,x(E,"fill",F),x(E,"fill-opacity",N.fillOpacity!=null?N.fillOpacity*N.opacity:N.opacity)}else x(E,"fill",s);if(T(N,q)){var U=q?N.textStroke:N.stroke;U=U==="transparent"?s:U,x(E,"stroke",U);var W=q?N.textStrokeWidth:N.lineWidth,Y=!q&&N.strokeNoScale?H.getLineScale():1;x(E,"stroke-width",W/Y),x(E,"paint-order",q?"stroke":"fill"),x(E,"stroke-opacity",N.strokeOpacity!=null?N.strokeOpacity:N.opacity);var Q=N.lineDash;Q?(x(E,"stroke-dasharray",N.lineDash.join(",")),x(E,"stroke-dashoffset",u(N.lineDashOffset||0))):x(E,"stroke-dasharray",""),N.lineCap&&x(E,"stroke-linecap",N.lineCap),N.lineJoin&&x(E,"stroke-linejoin",N.lineJoin),N.miterLimit&&x(E,"stroke-miterlimit",N.miterLimit)}else x(E,"stroke",s)}function C(E){for(var N=[],q=E.data,H=E.len(),F=0;F<H;){var U=q[F++],W="",Y=0;switch(U){case n.M:W="M",Y=2;break;case n.L:W="L",Y=2;break;case n.Q:W="Q",Y=4;break;case n.C:W="C",Y=6;break;case n.A:var Q=q[F++],ee=q[F++],j=q[F++],re=q[F++],ae=q[F++],ne=q[F++],de=q[F++],te=q[F++],se=Math.abs(ne),Te=_(se-p)||(te?ne>=p:-ne>=p),le=ne>0?ne%p:ne%p+p,ve=!1;Te?ve=!0:_(se)?ve=!1:ve=le>=c==!!te;var Se=y(Q+j*d(ae)),X=y(ee+re*l(ae));Te&&(te?ne=p-1e-4:ne=-p+1e-4,ve=!0,F===9&&N.push("M",Se,X));var J=y(Q+j*d(ae+ne)),ie=y(ee+re*l(ae+ne));N.push("A",y(j),y(re),u(de*g),+ve,+te,J,ie);break;case n.Z:W="Z";break;case n.R:var J=y(q[F++]),ie=y(q[F++]),ce=y(q[F++]),ue=y(q[F++]);N.push("M",J,ie,"L",J+ce,ie,"L",J+ce,ie+ue,"L",J,ie+ue,"L",J,ie);break}W&&N.push(W);for(var fe=0;fe<Y;fe++)N.push(y(q[F++]))}return N.join(" ")}var M={};M.brush=function(E){var N=E.style,q=E.__svgEl;q||(q=t("path"),E.__svgEl=q),E.path||E.createPathProxy();var H=E.path;if(E.__dirtyPath){H.beginPath(),H.subPixelOptimize=!1,E.buildPath(H,E.shape),E.__dirtyPath=!1;var F=C(H);F.indexOf("NaN")<0&&x(q,"d",F)}A(q,N,!1,E),S(q,E.transform),N.text!=null?B(E,E.getBoundingRect()):O(E)};var D={};D.brush=function(E){var N=E.style,q=N.image;if(q instanceof HTMLImageElement){var H=q.src;q=H}if(q){var F=N.x||0,U=N.y||0,W=N.width,Y=N.height,Q=E.__svgEl;Q||(Q=t("image"),E.__svgEl=Q),q!==E.__imageSrc&&(w(Q,"href",q),E.__imageSrc=q),x(Q,"width",W),x(Q,"height",Y),x(Q,"x",F),x(Q,"y",U),S(Q,E.transform),N.text!=null?B(E,E.getBoundingRect()):O(E)}};var L={},P=new a,R={},k=[],z={left:"start",right:"end",center:"middle",middle:"middle"},B=function(E,N){var q=E.style,H=E.transform,F=E instanceof f||q.transformText;E.__dirty&&v.normalizeTextStyle(q,!0);var U=q.text;if(U!=null&&(U+=""),!!v.needDrawText(U,q)){U==null&&(U=""),!F&&H&&(P.copy(N),P.applyTransform(H),N=P);var W=E.__textSvgEl;W||(W=t("text"),E.__textSvgEl=W);var Y=W.style,Q=q.font||o.DEFAULT_FONT,ee=W.__computedFont;Q!==W.__styleFont&&(Y.font=W.__styleFont=Q,ee=W.__computedFont=Y.font);var j=q.textPadding,re=q.textLineHeight,ae=E.__textCotentBlock;(!ae||E.__dirtyText)&&(ae=E.__textCotentBlock=o.parsePlainText(U,ee,j,re,q.truncate));var ne=ae.outerHeight,de=ae.lineHeight;v.getBoxPosition(R,E,q,N);var te=R.baseX,se=R.baseY,Te=R.textAlign||"left",le=R.textVerticalAlign;G(W,F,H,q,N,te,se);var ve=o.adjustTextY(se,ne,le),Se=te,X=ve;j&&(Se=V(te,Te,j),X+=j[0]),X+=de/2,A(W,q,!0,E);var J=ae.canCacheByTextString,ie=E.__tspanList||(E.__tspanList=[]),ce=ie.length;if(J&&E.__canCacheByTextString&&E.__text===U){if(E.__dirtyText&&ce)for(var ue=0;ue<ce;++ue)I(ie[ue],Te,Se,X+ue*de)}else{E.__text=U,E.__canCacheByTextString=J;for(var fe=ae.lines,_e=fe.length,ue=0;ue<_e;ue++){var Ce=ie[ue],xe=fe[ue];Ce?Ce.__zrText!==xe&&(Ce.innerHTML="",Ce.appendChild(document.createTextNode(xe))):(Ce=ie[ue]=t("tspan"),W.appendChild(Ce),Ce.appendChild(document.createTextNode(xe))),I(Ce,Te,Se,X+ue*de)}if(ce>_e){for(;ue<ce;ue++)W.removeChild(ie[ue]);ie.length=_e}}}};function G(E,N,q,H,F,U,W){i.identity(k),N&&q&&i.copy(k,q);var Y=H.textRotation;if(F&&Y){var Q=H.textOrigin;Q==="center"?(U=F.width/2+F.x,W=F.height/2+F.y):Q&&(U=Q[0]+F.x,W=Q[1]+F.y),k[4]-=U,k[5]-=W,i.rotate(k,k,Y),k[4]+=U,k[5]+=W}S(E,k)}function V(E,N,q){return N==="right"?E-q[1]:N==="center"?E+q[3]/2-q[1]/2:E+q[3]}function I(E,N,q,H){x(E,"dominant-baseline","middle"),x(E,"text-anchor",z[N]),x(E,"x",q),x(E,"y",H)}function O(E){E&&E.__textSvgEl&&(E.__textSvgEl.parentNode&&E.__textSvgEl.parentNode.removeChild(E.__textSvgEl),E.__textSvgEl=null,E.__tspanList=[],E.__text=null)}return L.drawRectText=B,L.brush=function(E){var N=E.style;N.text!=null?B(E,!1):O(E)},Hi.path=M,Hi.image=D,Hi.text=L,Hi}var Nc,Ew;function tq(){if(Ew)return Nc;Ew=1;function e(){}e.prototype={diff:function(o,v,f){f||(f=function(_,b){return _===b}),this.equals=f;var n=this;o=o.slice(),v=v.slice();var h=v.length,s=o.length,u=1,l=h+s,d=[{newPos:-1,components:[]}],c=this.extractCommon(d[0],v,o,0);if(d[0].newPos+1>=h&&c+1>=s){for(var p=[],g=0;g<v.length;g++)p.push(g);return[{indices:p,count:v.length}]}function m(){for(var _=-1*u;_<=u;_+=2){var b,T=d[_-1],S=d[_+1],x=(S?S.newPos:0)-_;T&&(d[_-1]=void 0);var w=T&&T.newPos+1<h,A=S&&0<=x&&x<s;if(!w&&!A){d[_]=void 0;continue}if(!w||A&&T.newPos<S.newPos?(b=r(S),n.pushComponent(b.components,void 0,!0)):(b=T,b.newPos++,n.pushComponent(b.components,!0,void 0)),x=n.extractCommon(b,v,o,_),b.newPos+1>=h&&x+1>=s)return t(n,b.components);d[_]=b}u++}for(;u<=l;){var y=m();if(y)return y}},pushComponent:function(o,v,f){var n=o[o.length-1];n&&n.added===v&&n.removed===f?o[o.length-1]={count:n.count+1,added:v,removed:f}:o.push({count:1,added:v,removed:f})},extractCommon:function(o,v,f,n){for(var h=v.length,s=f.length,u=o.newPos,l=u-n,d=0;u+1<h&&l+1<s&&this.equals(v[u+1],f[l+1]);)u++,l++,d++;return d&&o.components.push({count:d}),o.newPos=u,l},tokenize:function(o){return o.slice()},join:function(o){return o.slice()}};function t(o,v,f,n){for(var h=0,s=v.length,u=0,l=0;h<s;h++){var d=v[h];if(d.removed){for(var c=[],p=l;p<l+d.count;p++)c.push(p);d.indices=c,l+=d.count}else{for(var c=[],p=u;p<u+d.count;p++)c.push(p);d.indices=c,u+=d.count,d.added||(l+=d.count)}}return v}function r(o){return{newPos:o.newPos,components:o.components.slice(0)}}var a=new e;function i(o,v,f){return a.diff(o,v,f)}return Nc=i,Nc}var Vc,kw;function Jd(){if(kw)return Vc;kw=1;var e=Kd(),t=e.createElement,r=Z,a=at,i=si,o=ba,v=Qd(),f=v.path,n=v.image,h=v.text,s="0",u="1";function l(c,p,g,m,y){this._zrId=c,this._svgRoot=p,this._tagNames=typeof g=="string"?[g]:g,this._markLabel=m,this._domName=y||"_dom",this.nextId=0}l.prototype.createElement=t,l.prototype.getDefs=function(c){var p=this._svgRoot,g=this._svgRoot.getElementsByTagName("defs");return g.length===0?c?(g=p.insertBefore(this.createElement("defs"),p.firstChild),g.contains||(g.contains=function(m){var y=g.children;if(!y)return!1;for(var _=y.length-1;_>=0;--_)if(y[_]===m)return!0;return!1}),g):null:g[0]},l.prototype.update=function(c,p){if(c){var g=this.getDefs(!1);if(c[this._domName]&&g.contains(c[this._domName]))typeof p=="function"&&p(c);else{var m=this.add(c);m&&(c[this._domName]=m)}}},l.prototype.addDom=function(c){var p=this.getDefs(!0);p.appendChild(c)},l.prototype.removeDom=function(c){var p=this.getDefs(!1);p&&c[this._domName]&&(p.removeChild(c[this._domName]),c[this._domName]=null)},l.prototype.getDoms=function(){var c=this.getDefs(!1);if(!c)return[];var p=[];return r.each(this._tagNames,function(g){var m=c.getElementsByTagName(g);p=p.concat([].slice.call(m))}),p},l.prototype.markAllUnused=function(){var c=this.getDoms(),p=this;r.each(c,function(g){g[p._markLabel]=s})},l.prototype.markUsed=function(c){c&&(c[this._markLabel]=u)},l.prototype.removeUnused=function(){var c=this.getDefs(!1);if(c){var p=this.getDoms(),g=this;r.each(p,function(m){m[g._markLabel]!==u&&c.removeChild(m)})}},l.prototype.getSvgProxy=function(c){return c instanceof a?f:c instanceof i?n:c instanceof o?h:f},l.prototype.getTextSvgElement=function(c){return c.__textSvgEl},l.prototype.getSvgElement=function(c){return c.__svgEl};var d=l;return Vc=d,Vc}var Hc,Ow;function rq(){if(Ow)return Hc;Ow=1;var e=Jd(),t=Z,r=sn,a=lt;function i(v,f){e.call(this,v,f,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(i,e),i.prototype.addWithoutUpdate=function(v,f){if(f&&f.style){var n=this;t.each(["fill","stroke"],function(h){if(f.style[h]&&(f.style[h].type==="linear"||f.style[h].type==="radial")){var s=f.style[h],u=n.getDefs(!0),l;s._dom?(l=s._dom,u.contains(s._dom)||n.addDom(l)):l=n.add(s),n.markUsed(f);var d=l.getAttribute("id");v.setAttribute(h,"url(#"+d+")")}})}},i.prototype.add=function(v){var f;if(v.type==="linear")f=this.createElement("linearGradient");else if(v.type==="radial")f=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return v.id=v.id||this.nextId++,f.setAttribute("id","zr"+this._zrId+"-gradient-"+v.id),this.updateDom(v,f),this.addDom(f),f},i.prototype.update=function(v){var f=this;e.prototype.update.call(this,v,function(){var n=v.type,h=v._dom.tagName;n==="linear"&&h==="linearGradient"||n==="radial"&&h==="radialGradient"?f.updateDom(v,v._dom):(f.removeDom(v),f.add(v))})},i.prototype.updateDom=function(v,f){if(v.type==="linear")f.setAttribute("x1",v.x),f.setAttribute("y1",v.y),f.setAttribute("x2",v.x2),f.setAttribute("y2",v.y2);else if(v.type==="radial")f.setAttribute("cx",v.x),f.setAttribute("cy",v.y),f.setAttribute("r",v.r);else{r("Illegal gradient type.");return}v.global?f.setAttribute("gradientUnits","userSpaceOnUse"):f.setAttribute("gradientUnits","objectBoundingBox"),f.innerHTML="";for(var n=v.colorStops,h=0,s=n.length;h<s;++h){var u=this.createElement("stop");u.setAttribute("offset",n[h].offset*100+"%");var l=n[h].color;if(l.indexOf("rgba">-1)){var d=a.parse(l)[3],c=a.toHex(l);u.setAttribute("stop-color","#"+c),u.setAttribute("stop-opacity",d)}else u.setAttribute("stop-color",n[h].color);f.appendChild(u)}v._dom=f},i.prototype.markUsed=function(v){if(v.style){var f=v.style.fill;f&&f._dom&&e.prototype.markUsed.call(this,f._dom),f=v.style.stroke,f&&f._dom&&e.prototype.markUsed.call(this,f._dom)}};var o=i;return Hc=o,Hc}var qc,zw;function aq(){if(zw)return qc;zw=1;var e=Jd(),t=Z,r=Pt();function a(o,v){e.call(this,o,v,"clipPath","__clippath_in_use__")}t.inherits(a,e),a.prototype.update=function(o){var v=this.getSvgElement(o);v&&this.updateDom(v,o.__clipPaths,!1);var f=this.getTextSvgElement(o);f&&this.updateDom(f,o.__clipPaths,!0),this.markUsed(o)},a.prototype.updateDom=function(o,v,f){if(v&&v.length>0){var n=this.getDefs(!0),h=v[0],s,u,l=f?"_textDom":"_dom";h[l]?(u=h[l].getAttribute("id"),s=h[l],n.contains(s)||n.appendChild(s)):(u="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,s=this.createElement("clipPath"),s.setAttribute("id",u),n.appendChild(s),h[l]=s);var d=this.getSvgProxy(h);if(h.transform&&h.parent.invTransform&&!f){var c=Array.prototype.slice.call(h.transform);r.mul(h.transform,h.parent.invTransform,h.transform),d.brush(h),h.transform=c}else d.brush(h);var p=this.getSvgElement(h);s.innerHTML="",s.appendChild(p.cloneNode()),o.setAttribute("clip-path","url(#"+u+")"),v.length>1&&this.updateDom(s,v.slice(1),f)}else o&&o.setAttribute("clip-path","none")},a.prototype.markUsed=function(o){var v=this;o.__clipPaths&&t.each(o.__clipPaths,function(f){f._dom&&e.prototype.markUsed.call(v,f._dom),f._textDom&&e.prototype.markUsed.call(v,f._textDom)})};var i=a;return qc=i,qc}var Gc,Bw;function iq(){if(Bw)return Gc;Bw=1;var e=Jd(),t=Z;function r(o,v){e.call(this,o,v,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(o,v){if(v&&a(v.style)){var f;if(v._shadowDom){f=v._shadowDom;var n=this.getDefs(!0);n.contains(v._shadowDom)||this.addDom(f)}else f=this.add(v);this.markUsed(v);var h=f.getAttribute("id");o.style.filter="url(#"+h+")"}},r.prototype.add=function(o){var v=this.createElement("filter");return o._shadowDomId=o._shadowDomId||this.nextId++,v.setAttribute("id","zr"+this._zrId+"-shadow-"+o._shadowDomId),this.updateDom(o,v),this.addDom(v),v},r.prototype.update=function(o,v){var f=v.style;if(a(f)){var n=this;e.prototype.update.call(this,v,function(){n.updateDom(v,v._shadowDom)})}else this.remove(o,v)},r.prototype.remove=function(o,v){v._shadowDomId!=null&&(this.removeDom(o),o.style.filter="")},r.prototype.updateDom=function(o,v){var f=v.getElementsByTagName("feDropShadow");f.length===0?f=this.createElement("feDropShadow"):f=f[0];var n=o.style,h=o.scale&&o.scale[0]||1,s=o.scale&&o.scale[1]||1,u,l,d,c;if(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)u=n.shadowOffsetX||0,l=n.shadowOffsetY||0,d=n.shadowBlur,c=n.shadowColor;else if(n.textShadowBlur)u=n.textShadowOffsetX||0,l=n.textShadowOffsetY||0,d=n.textShadowBlur,c=n.textShadowColor;else{this.removeDom(v,n);return}f.setAttribute("dx",u/h),f.setAttribute("dy",l/s),f.setAttribute("flood-color",c);var p=d/2/h,g=d/2/s,m=p+" "+g;f.setAttribute("stdDeviation",m),v.setAttribute("x","-100%"),v.setAttribute("y","-100%"),v.setAttribute("width",Math.ceil(d/2*200)+"%"),v.setAttribute("height",Math.ceil(d/2*200)+"%"),v.appendChild(f),o._shadowDom=v},r.prototype.markUsed=function(o){o._shadowDom&&e.prototype.markUsed.call(this,o._shadowDom)};function a(o){return o&&(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY||o.textShadowBlur||o.textShadowOffsetX||o.textShadowOffsetY)}var i=r;return Gc=i,Gc}var Fc,Nw;function nq(){if(Nw)return Fc;Nw=1;var e=Kd(),t=e.createElement,r=Z,a=sn,i=at,o=si,v=ba,f=tq(),n=rq(),h=aq(),s=iq(),u=Qd(),l=u.path,d=u.image,c=u.text;function p(C){return parseInt(C,10)}function g(C){return C instanceof i?l:C instanceof o?d:C instanceof v?c:l}function m(C,M){return M&&C&&M.parentNode!==C}function y(C,M,D){if(m(C,M)&&D){var L=D.nextSibling;L?C.insertBefore(M,L):C.appendChild(M)}}function _(C,M){if(m(C,M)){var D=C.firstChild;D?C.insertBefore(M,D):C.appendChild(M)}}function b(C,M){M&&C&&M.parentNode===C&&C.removeChild(M)}function T(C){return C.__textSvgEl}function S(C){return C.__svgEl}var x=function(C,M,D,L){this.root=C,this.storage=M,this._opts=D=r.extend({},D||{});var P=t("svg");P.setAttribute("xmlns","http://www.w3.org/2000/svg"),P.setAttribute("version","1.1"),P.setAttribute("baseProfile","full"),P.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new n(L,P),this.clipPathManager=new h(L,P),this.shadowManager=new s(L,P);var R=document.createElement("div");R.style.cssText="overflow:hidden;position:relative",this._svgRoot=P,this._viewport=R,C.appendChild(R),R.appendChild(P),this.resize(D.width,D.height),this._visibleList=[]};x.prototype={constructor:x,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var C=this.getViewportRoot();if(C)return{offsetLeft:C.offsetLeft||0,offsetTop:C.offsetTop||0}},refresh:function(){var C=this.storage.getDisplayList(!0);this._paintList(C)},setBackgroundColor:function(C){this._viewport.style.background=C},_paintList:function(C){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var M=this._svgRoot,D=this._visibleList,L=C.length,P=[],R;for(R=0;R<L;R++){var k=C[R],z=g(k),B=S(k)||T(k);k.invisible||(k.__dirty&&(z&&z.brush(k),this.clipPathManager.update(k),k.style&&(this.gradientManager.update(k.style.fill),this.gradientManager.update(k.style.stroke),this.shadowManager.update(B,k)),k.__dirty=!1),P.push(k))}var G=f(D,P),V;for(R=0;R<G.length;R++){var I=G[R];if(I.removed)for(var O=0;O<I.count;O++){var k=D[I.indices[O]],B=S(k),E=T(k);b(M,B),b(M,E)}}for(R=0;R<G.length;R++){var I=G[R];if(I.added)for(var O=0;O<I.count;O++){var k=P[I.indices[O]],B=S(k),E=T(k);V?y(M,B,V):_(M,B),B?y(M,E,B):V?y(M,E,V):_(M,E),y(M,E,B),V=E||B||V,this.gradientManager.addWithoutUpdate(B||E,k),this.shadowManager.addWithoutUpdate(B||E,k),this.clipPathManager.markUsed(k)}else if(!I.removed)for(var O=0;O<I.count;O++){var k=P[I.indices[O]],B=S(k),E=T(k),B=S(k),E=T(k);this.gradientManager.markUsed(k),this.gradientManager.addWithoutUpdate(B||E,k),this.shadowManager.markUsed(k),this.shadowManager.addWithoutUpdate(B||E,k),this.clipPathManager.markUsed(k),E&&y(M,E,B),V=B||E||V}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=P},_getDefs:function(C){var M=this._svgRoot,D=this._svgRoot.getElementsByTagName("defs");if(D.length===0)if(C){var D=M.insertBefore(t("defs"),M.firstChild);return D.contains||(D.contains=function(P){var R=D.children;if(!R)return!1;for(var k=R.length-1;k>=0;--k)if(R[k]===P)return!0;return!1}),D}else return null;else return D[0]},resize:function(C,M){var D=this._viewport;D.style.display="none";var L=this._opts;if(C!=null&&(L.width=C),M!=null&&(L.height=M),C=this._getSize(0),M=this._getSize(1),D.style.display="",this._width!==C||this._height!==M){this._width=C,this._height=M;var P=D.style;P.width=C+"px",P.height=M+"px";var R=this._svgRoot;R.setAttribute("width",C),R.setAttribute("height",M)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(C){var M=this._opts,D=["width","height"][C],L=["clientWidth","clientHeight"][C],P=["paddingLeft","paddingTop"][C],R=["paddingRight","paddingBottom"][C];if(M[D]!=null&&M[D]!=="auto")return parseFloat(M[D]);var k=this.root,z=document.defaultView.getComputedStyle(k);return(k[L]||p(z[D])||p(k.style[D]))-(p(z[P])||0)-(p(z[R])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){this.refresh();var C=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+C}};function w(C){return function(){a('In SVG mode painter not support method "'+C+'"')}}r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(C){x.prototype[C]=w(C)});var A=x;return Fc=A,Fc}var Vw;function oq(){if(Vw)return Pw;Vw=1,Qd();var e=Or,t=e.registerPainter,r=nq();return t("svg",r),Pw}(function(e){var t=we;(function(){for(var a in t){if(t==null||!t.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=t[a]}})();var r=DC();(function(){for(var a in r){if(r==null||!r.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=r[a]}})(),pC(),VN(),$N(),XN(),jN(),uV(),wV(),LV(),BV(),JV(),r5(),o5(),y5(),A5(),L5(),O5(),V5(),U5(),X5(),J5(),c3(),y3(),A3(),T3(),B3(),H3(),iM(),XC(),$3(),U3(),aH(),lH(),Dn(),gH(),pH(),TH(),DH(),IH(),kH(),HH(),hM(),WH(),fM(),cM(),QH(),bM(),wM(),eq(),oq()})($c);const sq=""+new URL("json-a7437520.json",import.meta.url).href,lq={ref:"main",class:"content-container"},uq=NM({__name:"DV",setup(e){const t=VM();return HM(()=>{var r=$c.init(t.value),a=sq,i={1:[116.415,39.915],2:[116.448,39.935],3:[116.455,39.915],4:[116.435,39.925],基站1:[116.415,39.915],基站2:[116.448,39.935],基站3:[116.455,39.915],控制中心:[116.435,39.925]},o={主卧:[116.409,39.928]},v={书房控制:[116.428,39.939]},f={卫生间控制:[116.448,39.939]},n={客厅控制:[116.426,39.918]},h={次卧控制:[116.448,39.92]},s={楼梯控制:[116.443,39.911]},u={厨房控制:[116.448,39.905]},l={客厅1:[116.41,39.9036],客厅2:[116.43,39.918],主卧1:[116.409,39.921],主卧2:[116.409,39.935],书房:[116.432,39.939],卫生间:[116.4516,39.939],客厅3:[116.4516,39.9306],次卧:[116.4516,39.92],楼梯:[116.447,39.911],厨房:[116.4516,39.905]},d={客厅1:[116.41,39.9036],客厅2:[116.43,39.918],主卧1:[116.409,39.921],主卧2:[116.409,39.935]},c={书房:[116.432,39.939],卫生间:[116.4516,39.939],客厅3:[116.4516,39.9306]},p={次卧:[116.4516,39.92],楼梯:[116.447,39.911],厨房:[116.4516,39.905]},g={基站1:[116.415,39.915],基站2:[116.448,39.935],基站3:[116.455,39.915]},m={客厅1:20,客厅2:25,主卧1:17,主卧2:19,书房:13,卫生间:22,客厅3:11,次卧:9,楼梯:29,厨房:38,基站1:40,基站2:45,基站3:37},y={客厅1:40,客厅2:45,主卧1:37,主卧2:39,书房:23,卫生间:80,客厅3:56,次卧:39,楼梯:29,厨房:68},_={客厅2:5,主卧2:3,书房:2,卫生间:0,客厅3:0,次卧:3,楼梯:2,厨房:0},b={客厅1:40,客厅2:45,主卧1:37,主卧2:39,书房:53,卫生间:60,客厅3:56,次卧:39,楼梯:29,厨房:68},T={客厅1:40,客厅2:45,主卧1:37,主卧2:39,书房:23,卫生间:80,客厅3:56,次卧:39,楼梯:29,厨房:68},S=[{name:"基站1",value:0},{name:"基站2",value:0},{name:"基站3",value:0},{name:"控制中心",value:0}],x=[{name:"主卧",value:0}],w=[{name:"书房控制",value:0}],A=[{name:"卫生间控制",value:0}],C=[{name:"客厅控制",value:0}],M=[{name:"次卧控制",value:0}],D=[{name:"楼梯控制",value:0}],L=[{name:"厨房控制",value:0}],P=[["#1DE9B6","#F46E36","#04B9FF","#5DBD32","#FFC809","#FB95D5","#BDA29A","#6E7074","#546570","#C4CCD3"],["#37A2DA","#67E0E3","#32C5E9","#9FE6B8","#FFDB5C","#FF9F7F","#FB7293","#E062AE","#E690D1","#E7BCF3","#9D96F5","#8378EA","#8378EA"],["#DD6B66","#759AA0","#E69D87","#8DC1A9","#EA7E53","#EEDD78","#73A373","#73B9BC","#7289AB","#91CA8C","#F49F42"]],R=0;$(function(){var k=["温度（℃）","湿度（%）","振动(g)","烟雾（百ppm）","光线（百lx）"],z=["空调调温","加湿器/窗户协调","门锁锁定","紧急消防","照明系统"],B=[[],[],[],[],[]],G=[],V=[],I=[],O=[],E=[[10,12,13,12,14,14,16,17,18,20,22,26,27,26,23,20,18,18,16,16,14,13,12,10],[68,67,66,63,61,55,53,48,46,44,42,42,36,34,36,37,38,42,46,44,58,62,66,68],[1,1,1,1,1,1,1,2,3,2,1,1,1,1,1,1,3,3,1,3,3,1,1,1],[56,59,60,62,56,50,40,42,38,38,39,38,40,42,38,37,34,35,38,44,46,50,54,56],[1,1,2,1,5,10,20,24,30,32,32,34,38,40,40,38,32,25,32,32,5,1,1,1]],N=[[11,12,14,12,15,13,16,16,16,21,22,24,22,24,23,21,19,18,15,14,15,13,12,11],[62,64,66,65,62,58,54,49,45,44,41,40,32,36,36,39,38,40,46,48,52,60,63,61],[1,1,1,2,1,1,1,2,1,2,1,1,3,1,1,1,3,2,1,1,3,1,2,1],[58,59,62,62,54,50,44,42,34,33,35,38,40,44,38,35,32,35,33,40,46,53,56,54],[1,1,1,1,6,12,20,22,30,33,32,35,38,42,40,37,34,28,32,33,10,1,1,1]],q=[[],[],[],[],[]],H=[],F=[],U=[],W=[];for(var Y in d)H.push({year:"温度",name:Y,value:m[Y]});for(var Y in c)F.push({year:"温度",name:Y,value:m[Y]});for(var Y in p)U.push({year:"温度",name:Y,value:m[Y]});for(var Y in g)W.push({year:"温度",name:Y,value:m[Y]});for(var Y in l)B[0].push({year:"温度",name:Y,value:m[Y]}),B[1].push({year:"湿度",name:Y,value:y[Y]}),B[2].push({year:"振动",name:Y,value:_[Y]}),B[3].push({year:"烟雾",name:Y,value:b[Y]}),B[4].push({year:"光线",name:Y,value:T[Y]});for(var Q=[],ee=[],j=[],re=[],ae=[45,80,10,80,50],ne=[-5,15,0,20,0],de=[],te=0;te<B.length;te++){B[te].sort(function(le,ve){return le.value-ve.value}),O.push([]),G.push([]),V.push([]),I.push([]),q.push([]),Q[te]=0,ee[te]=0,de[te]=0,j[te]=0,re[te]=1e3;for(var se=0;se<B[te].length;se++)B[te][se].name=="主卧1"?q[te][0]=B[te][se].value:B[te][se].name=="主卧2"?q[te][1]=B[te][se].value:B[te][se].name=="书房"?q[te][2]=B[te][se].value:B[te][se].name=="卫生间"?q[te][3]=B[te][se].value:B[te][se].name=="客厅1"?q[te][4]=B[te][se].value:B[te][se].name=="客厅2"?q[te][5]=B[te][se].value:B[te][se].name=="客厅3"?q[te][6]=B[te][se].value:B[te][se].name=="次卧"?q[te][7]=B[te][se].value:B[te][se].name=="楼梯"?q[te][8]=B[te][se].value:B[te][se].name=="厨房"&&(q[te][9]=B[te][se].value),B[te][se].value>=-100?(Q[te]+=B[te][se].value,ee[te]++):V[te].push(B[te][se].name),B[te][se].value>=j[te]&&(j[te]=B[te][se].value),B[te][se].value<=re[te]&&(re[te]=B[te][se].value),(B[te][se].value<ne[te]||B[te][se].value>ae[te])&&(de[te]++,I[te].push(B[te][se].name)),O[te].push(B[te][se].value),G[te].push(B[te][se].name)}$.getJSON(a,function(Te){$c.registerMap("home",Te);var le=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=l[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me},ve=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=i[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};ve(S),ve(S.sort(function(he,me){return me.value-he.value}).slice(0,6));var Se=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=o[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};Se(x),Se(x.sort(function(he,me){return me.value-he.value}).slice(0,6));var X=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=v[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};X(w),X(w.sort(function(he,me){return me.value-he.value}).slice(0,6));var J=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=f[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};J(A),J(A.sort(function(he,me){return me.value-he.value}).slice(0,6));var ie=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=n[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};ie(C),ie(C.sort(function(he,me){return me.value-he.value}).slice(0,6));var ce=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=h[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};ce(M),ce(M.sort(function(he,me){return me.value-he.value}).slice(0,6));var ue=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=s[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};ue(D),ue(D.sort(function(he,me){return me.value-he.value}).slice(0,6));var fe=function(he){for(var me=[],De=0;De<he.length;De++){var Ee=u[he[De].name];Ee&&me.push({name:he[De].name,value:Ee.concat(he[De].value)})}return me};fe(L),fe(L.sort(function(he,me){return me.value-he.value}).slice(0,6));var _e=function(he,me){for(var De=[],Ee=0;Ee<he.length;Ee++){var $e=he[Ee],He=l[$e.name],Ge=me;He&&Ge&&De.push([{coord:He,value:$e.value},{coord:Ge}])}return De},Ce=function(he,me){for(var De=[],Ee=0;Ee<he.length;Ee++){var $e=he[Ee],He=g[$e.name],Ge=me;He&&Ge&&De.push([{coord:He,value:$e.value},{coord:Ge}])}return De};let xe={timeline:{data:k,axisType:"category",autoPlay:!0,playInterval:3e3,left:"10%",right:"10%",bottom:"3%",width:"80%",label:{normal:{textStyle:{color:"#ddd"}},emphasis:{textStyle:{color:"#fff"}}},symbolSize:10,lineStyle:{color:"#555"},checkpointStyle:{borderColor:"#87CEEB",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}}},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:[{left:"65%",top:"34.5%",bottom:"44.5%",width:"20%"},{gridindex:1,left:"65%",right:"3%",top:"65%",bottom:"10%",containLabel:!0}],tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"#aaa"}}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["bar","line"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:[{data:["历史平均数据1","历史平均数据2"],x:"75%",y:"60%",textStyle:{color:"#fff"}},{data:["基站","传感器","传输路线"],top:"10%",left:"35%",textStyle:{color:"#fff"}},{icon:"roundRect",orient:"vertical",top:"7%",left:"5%",data:[{name:"主卧"},{name:"书房控制"},{name:"卫生间控制"},{name:"客厅控制"},{name:"次卧控制"},{name:"楼梯控制"},{name:"厨房控制"}],selected:{主卧:!0,书房控制:!0,客厅控制:!0,次卧控制:!0,楼梯控制:!0,厨房控制:!0,卫生间控制:!0},textStyle:{color:"#fff"}}],geo:{show:!0,map:"home",roam:!0,zoom:.8,center:[116.453,39.92],label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var pe=0;pe<k.length;pe++)xe.options.push({backgroundColor:"#013954",title:[{text:"传感器布设平面图",left:"16%",top:"5%",textStyle:{color:"#fff",fontSize:25}},{id:"statistic",text:k[pe]+"数据统计情况",left:"60%",top:"5%",textStyle:{color:"#fff",fontSize:25}},{text:"平均值："+Q[pe]/ee[pe],left:"60%",top:"14.5%",textStyle:{color:"#90ee90",fontSize:15}},{text:"最大值："+j[pe],left:"72%",top:"14.5%",textStyle:{color:"#FF4500",fontSize:15}},{text:"最小值："+re[pe],left:"84%",top:"14.5%",textStyle:{color:"#87CEFF",fontSize:15}},{text:"未使用的传感器："+(B[pe].length-ee[pe]),left:"60%",top:"17.5%",textStyle:{color:"#FF7F00",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"数据异常传感器："+de[pe],left:"76%",top:"17.5%",textStyle:{color:"#9370DB",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"(数据正常范围："+ne[pe]+"~"+ae[pe]+")",left:"60%",top:"20.5%",textStyle:{color:"#FFA54F",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"未使用的传感器："+V[pe],left:"60%",top:"23.5%",textStyle:{color:"#FF7F00",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"数据异常传感器："+I[pe],left:"60%",top:"26.5%",textStyle:{color:"#9370DB",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"}],visualMap:{min:ne[pe],max:ae[pe],calculable:!0,text:["High","Low"],inRange:{color:["#50a3ba","#eac736","#d94e5d"]},padding:5,right:"5%",bottom:"40%",textStyle:{color:"#fff"}},xAxis:[{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#fff"}}},{gridIndex:1,type:"category",boundaryGap:!1,axisLabel:{margin:2,textStyle:{color:"#fff"}},data:["0时","1时","2时","3时","4时","5时","6时","7时","8时","9时","10时","11时","12时","13时","14时","15时","16时","17时","18时","19时","20时","21时","22时","23时"]}],yAxis:[{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:G[pe]},{gridIndex:1,type:"value",axisLabel:{formatter:"{value} ",textStyle:{color:"#ddd"}}}],series:[{type:"map",map:"home",geoIndex:0,aspectScale:.75,showLegendSymbol:!0,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#FFFFFF"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:B},{name:"传感器",type:"effectScatter",coordinateSystem:"geo",data:le(B[pe].sort(function(he,me){return me.value-he.value}).slice(0,20)),symbolSize:function(he){return(he[2]*40+1200)/180},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:P[R][pe],shadowBlur:10,shadowColor:P[R][pe]}},zlevel:1},{name:"基站",type:"effectScatter",coordinateSystem:"geo",data:ve(S.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"arrow",symbolSize:10,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:P[R][pe],shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#fff",shadowBlur:10,shadowColor:"#cfff"}},zlevel:1},{name:"主卧",type:"effectScatter",coordinateSystem:"geo",data:Se(x.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"书房控制",type:"effectScatter",coordinateSystem:"geo",data:X(w.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][2],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"卫生间控制",type:"effectScatter",coordinateSystem:"geo",data:J(A.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"客厅控制",type:"effectScatter",coordinateSystem:"geo",data:ie(C.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"次卧控制",type:"effectScatter",coordinateSystem:"geo",data:ce(M.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"楼梯控制",type:"effectScatter",coordinateSystem:"geo",data:ue(D.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"厨房控制",type:"effectScatter",coordinateSystem:"geo",data:fe(L.sort(function(he,me){return me.value-he.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+z[pe]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+k[pe]+"："+q[pe][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[R][pe],width:.1,opacity:.5,curveness:.3}},data:_e(H,i[Math.ceil(1)])},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[R][pe],width:.1,opacity:.5,curveness:.3}},data:_e(F,i[Math.ceil(2)])},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[R][pe],width:.1,opacity:.5,curveness:.3}},data:_e(U,i[Math.ceil(3)])},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[R][pe],width:.1,opacity:.5,curveness:.3}},data:Ce(W,i[Math.ceil(4)])},{zlevel:1.5,type:"bar",symbol:"none",itemStyle:{normal:{color:P[R][pe]}},data:O[pe]},{xAxisIndex:1,yAxisIndex:1,name:"历史平均数据1",type:"line",lineStyle:{normal:{color:"#4ea397"}},data:E[pe],markPoint:{data:[{type:"max",name:"最大值",symbolSize:40},{type:"min",name:"最小值",symbolSize:20}],itemStyle:{normal:{color:"#d0648a"}}},markLine:{data:[{type:"average",name:"平均值"}]}},{xAxisIndex:1,yAxisIndex:1,name:"历史平均数据2",type:"line",lineStyle:{normal:{color:"#4ea397"}},data:N[pe],markPoint:{data:[{type:"max",name:"最大值",symbolSize:40},{type:"min",name:"最小值",symbolSize:20}],itemStyle:{normal:{color:"#d0648a"}}},markLine:{data:[{type:"average",name:"平均值"}]}}]});r.setOption(xe)})})}),(r,a)=>(FM(),qM("div",lq,[GM("div",{ref_key:"panel",ref:t,id:"chart-panel"},null,512)],512))}});const cq=$M(uq,[["__scopeId","data-v-663e425b"]]);export{cq as default};
