import{d as E,r as p,f as S,o as g,c as k,a as n,_ as x,P as G,F as q,x as M,t as w,b as C,A as I,O as j}from"./index-383570c7.js";const T=E({__name:"Game1",emits:["reset"],setup(A,{emit:h}){const _=p(),y=3,c=3,u=120,d=p([]),m=[],r=a=>{d.value.push(a)};return S(()=>{let a=0;for(let s=0;s<y;s++)for(let l=0;l<c;l++)d.value[a].setAttribute("data-v",`${s}-${l}`),d.value[a].style.cssText=`width:${u}px;height:${u}px;`,m.push(`s${s}-${l}`),a++;_.value.style.width=`${u*c}px`;const f=[..._.value.childNodes];f.sort(()=>Math.random()-.5),f.forEach(s=>{s.classList.add(m.shift()),s.onclick=()=>{const l=s.getAttribute("data-v").split("-").map(o=>Number(o));[`${l[0]-1}-${l[1]}`,`${l[0]+1}-${l[1]}`,`${l[0]}-${l[1]-1}`,`${l[0]}-${l[1]+1}`].forEach(o=>{const e=_.value.querySelector(`[data-v='${o}']`);if(e&&e.classList.contains("hide")){const t=e.classList[1];e.className=`map-item ${s.classList[1]}`,s.className=`map-item ${t} hide`}}),f.every(o=>"s"+o.getAttribute("data-v")===o.classList[1])&&setTimeout(()=>{confirm("拼接成功,是否重新开始游戏？")?h("reset",!0):f.forEach(e=>{e.onclick=null})},250)}}),_.value.querySelector(`.s${y-1}-${c-1}`).classList.add("hide")}),(a,f)=>(g(),k("div",{ref_key:"gamemap",ref:_,class:"gamemap"},[n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"}),n("div",{ref:r,class:"map-item"})],512))}});const B=x(T,[["__scopeId","data-v-a454006b"]]),P={class:"score"},R=E({__name:"Game2",emits:["reset"],setup(A,{emit:h}){const c=p(0);let u;const d=p(),m=p([]),r=v=>{m.value.push(v)},a=[[1,1]];let f="";const s=()=>{d.value.querySelectorAll(".player").forEach(v=>v.classList.remove("player")),a.forEach(v=>{if(d.value.querySelector(`[data-v='${v.join("-")}']`).classList.add("player"),m.value.filter(o=>o.className.indexOf("eat")!==-1).length===0){let o=Math.floor(Math.random()*400);m.value[o].classList.add("eat")}})},l=v=>{f=v.key};return S(()=>{let v=0;for(let o=0;o<20;o++)for(let e=0;e<20;e++)m.value[v].setAttribute("data-v",`${o}-${e}`),Math.random()>.9&&m.value[v].classList.add("eat"),v++;document.addEventListener("keydown",l),u=setInterval(()=>{if(f){const o=JSON.parse(JSON.stringify(a.slice(0,a.length-1)));switch(f){case"w":a[0][0]-=1;break;case"a":a[0][1]-=1;break;case"s":a[0][0]+=1;break;case"d":a[0][1]+=1;break}const e=d.value.querySelector(`[data-v='${a[0].join("-")}']`);if(e){for(let t=1;t<=a.length-1;t++)a[t]=o[t-1];e.className.indexOf("eat")>=0&&(e.classList.remove("eat"),a.push([...a[0]]),c.value++),s()}else{clearInterval(u);let t=confirm(`撞墙了,游戏结束。得分：${c.value}分,是否重新开始游戏？`);document.removeEventListener("keydown",l),t&&h("reset",!0)}}},100),s()}),G(()=>{document.removeEventListener("keydown",l),clearInterval(u)}),(v,o)=>(g(),k("div",{ref_key:"mf",ref:d,class:"mf"},[(g(),k(q,null,M(400,e=>n("div",{ref_for:!0,ref:r,class:"item",key:e})),64)),n("span",P,"分数："+w(c.value),1)],512))}});const D=x(R,[["__scopeId","data-v-93e5c903"]]),F=["data-v"],J={key:0,class:"circle"},V={key:1,class:"number"},z=E({__name:"Game3",emits:["reset"],setup(A,{emit:h}){const _=new AbortController,y=new AbortController;let c=null,u=p(0);const d=20,m=20,r=p([]),a=e=>{r.value.push(e)};let f=p(0);const s=[];for(let e=0;e<d;e++)for(let t=0;t<m;t++)s[e+"-"+t]=Math.random()>.9,f.value+=s[e+"-"+t];const l=p(),v=p();let o=[];for(let e=0;e<d;e++)for(let t=0;t<m;t++){const $=s[e+"-"+t],L=Object.values({0:s[`${e-1}-${t-1}`],1:s[`${e-1}-${t}`],2:s[`${e-1}-${t+1}`],3:s[`${e}-${t-1}`],4:s[`${e}-${t+1}`],5:s[`${e+1}-${t-1}`],6:s[`${e+1}-${t}`],7:s[`${e+1}-${t+1}`]}).filter(i=>i).length;o.push([`${e}-${t}`,$,L])}return S(()=>{r.value.forEach(e=>{e.addEventListener("click",t=>{if(e.classList.remove("hide"),f.value===l.value.querySelectorAll(".hide").length)clearInterval(c),confirm(`恭喜您成功了,用时${u.value}秒,是否重新开始游戏？`)?h("reset",!0):(_.abort(),y.abort());else if(e.querySelector(".circle"))setTimeout(()=>{clearInterval(c),confirm(`游戏失败，猜中地雷了。用时${u.value}秒,是否重新开始游戏？`)?h("reset",!0):(_.abort(),y.abort())},100);else if(e.innerText.trim()===""){const $=e.getAttribute("data-v").split("-").map(i=>Number(i)),L=i=>{[[i[0]-1,i[1]-1],[i[0]-1,i[1]],[i[0]-1,i[1]+1],[i[0],i[1]-1],[i[0],i[1]+1],[i[0]+1,i[1]-1],[i[0]+1,i[1]],[i[0]+1,i[1]+1]].forEach(N=>{const b=document.querySelector(`[data-v='${N.join("-")}']`);if(b){const O=b.querySelector(".number").innerText.trim();b.className.indexOf("hide")>=0&&O===""?(b.classList.remove("hide"),L(N)):b.classList.remove("hide")}})};L($)}},{signal:_.signal}),e.addEventListener("contextmenu",t=>{e.classList.toggle("info"),v.value.innerHTML=`地雷${f.value-l.value.querySelectorAll(".info").length}`,t.preventDefault()},{signal:y.signal})}),c=setInterval(()=>{u.value++},1e3)}),G(()=>{_.abort(),y.abort()}),(e,t)=>(g(),k("div",{ref_key:"box",ref:l,class:"box"},[n("div",{ref_key:"message",ref:v,class:"message"},"地雷: "+w(C(f))+" 时间："+w(C(u))+"s",513),(g(!0),k(q,null,M(C(o),$=>(g(),k("div",{ref_for:!0,ref:a,"data-v":$[0],class:"item hide",key:$},[$[1]?(g(),k("div",J)):(g(),k("div",V,w($[2]?$[2]:""),1))],8,F))),128))],512))}});const H=x(z,[["__scopeId","data-v-961dcda2"]]),U={class:"content-container"},K={class:"opts"},Q={class:"game-content"},W=E({__name:"Games",setup(A){const h=p(),_=p(),y=p(),c=p(sessionStorage.getItem("game")||"game1"),u=m=>{c.value=m,sessionStorage.setItem("game",m)},d=()=>{let m=c.value;c.value="",setTimeout(()=>{c.value=m},250)};return S(()=>{switch(c.value){case"game1":h.value.setAttribute("checked","");break;case"game2":_.value.setAttribute("checked","");break;case"game3":y.value.setAttribute("checked","");break}}),(m,r)=>(g(),k("div",U,[n("div",K,[n("input",{ref_key:"ipt1",ref:h,type:"radio",style:{display:"none"},id:"g1",name:"game"},null,512),n("input",{ref_key:"ipt2",ref:_,type:"radio",style:{display:"none"},id:"g2",name:"game"},null,512),n("input",{ref_key:"ipt3",ref:y,type:"radio",style:{display:"none"},id:"g3",name:"game"},null,512),n("label",{class:"game-opt g1",onClick:r[0]||(r[0]=a=>u("game1")),for:"g1"},"拼图"),n("label",{class:"game-opt g2",onClick:r[1]||(r[1]=a=>u("game2")),for:"g2"},"贪吃蛇"),n("label",{class:"game-opt g3",onClick:r[2]||(r[2]=a=>u("game3")),for:"g3"},"扫雷"),n("button",{onClick:d},"重新开始")]),n("div",Q,[c.value==="game1"?(g(),I(B,{key:0,onReset:d})):c.value==="game2"?(g(),I(D,{key:1,onReset:d})):c.value==="game3"?(g(),I(H,{key:2,onReset:d})):j("",!0)])]))}});const Y=x(W,[["__scopeId","data-v-a66a3873"]]);export{Y as default};
