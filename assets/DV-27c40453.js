import{U as Pg,d as wD,r as AD,f as TD,o as CD,c as MD,a as DD,_ as LD}from"./index-463adb68.js";import"https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js";var vf={},we={};typeof window<"u"||typeof Pg<"u"&&Pg.__DEV__;var zr={},PD=2311;function ID(){return PD++}var dA=ID,Ui={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?Ui={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?Ui={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?Ui={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:Ui=ED(navigator.userAgent);var RD=Ui;function ED(e){var t={},r={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),n=e.match(/Edge\/([\d.]+)/),u=/micromessenger/i.test(e);return a&&(r.firefox=!0,r.version=a[1]),i&&(r.ie=!0,r.version=i[1]),n&&(r.edge=!0,r.version=n[1]),u&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:typeof document<"u"}}var ot=RD,Z={},gA={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},pA={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},sn=Object.prototype.toString,ln=Array.prototype,kD=ln.forEach,OD=ln.filter,Qi=ln.slice,zD=ln.map,BD=ln.reduce,rd={};function ND(e,t){e==="createCanvas"&&(po=null),rd[e]=t}function Wa(e){if(e==null||typeof e!="object")return e;var t=e,r=sn.call(e);if(r==="[object Array]"){if(!Za(e)){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=Wa(e[a])}}else if(pA[r]){if(!Za(e)){var n=e.constructor;if(e.constructor.from)t=n.from(e);else{t=new n(e.length);for(var a=0,i=e.length;a<i;a++)t[a]=Wa(e[a])}}}else if(!gA[r]&&!Za(e)&&!Do(e)){t={};for(var u in e)e.hasOwnProperty(u)&&(t[u]=Wa(e[u]))}return t}function ad(e,t,r){if(!Wi(t)||!Wi(e))return r?Wa(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],n=t[a];Wi(n)&&Wi(i)&&!Mo(n)&&!Mo(i)&&!Do(n)&&!Do(i)&&!hf(n)&&!hf(i)&&!Za(n)&&!Za(i)?ad(i,n,r):(r||!(a in e))&&(e[a]=Wa(t[a]))}return e}function VD(e,t){for(var r=e[0],a=1,i=e.length;a<i;a++)r=ad(r,e[a],t);return r}function HD(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function mA(e,t,r){for(var a in t)t.hasOwnProperty(a)&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a]);return e}var yA=function(){return rd.createCanvas()};rd.createCanvas=function(){return document.createElement("canvas")};var po;function qD(){return po||(po=yA().getContext("2d")),po}function GD(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1}function FD(e,t){var r=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function $D(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,mA(e,t,r)}function UD(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function _A(e,t,r){if(e&&t)if(e.forEach&&e.forEach===kD)e.forEach(t,r);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e);else for(var n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}function WD(e,t,r){if(e&&t){if(e.map&&e.map===zD)return e.map(t,r);for(var a=[],i=0,n=e.length;i<n;i++)a.push(t.call(r,e[i],i,e));return a}}function ZD(e,t,r,a){if(e&&t){if(e.reduce&&e.reduce===BD)return e.reduce(t,r,a);for(var i=0,n=e.length;i<n;i++)r=t.call(a,r,e[i],i,e);return r}}function YD(e,t,r){if(e&&t){if(e.filter&&e.filter===OD)return e.filter(t,r);for(var a=[],i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)&&a.push(e[i]);return a}}function XD(e,t,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)if(t.call(r,e[a],a,e))return e[a]}}function xA(e,t){var r=Qi.call(arguments,2);return function(){return e.apply(t,r.concat(Qi.call(arguments)))}}function KD(e){var t=Qi.call(arguments,1);return function(){return e.apply(this,t.concat(Qi.call(arguments)))}}function Mo(e){return sn.call(e)==="[object Array]"}function QD(e){return typeof e=="function"}function JD(e){return sn.call(e)==="[object String]"}function Wi(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function hf(e){return!!gA[sn.call(e)]}function jD(e){return!!pA[sn.call(e)]}function Do(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function eL(e){return e!==e}function tL(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function rL(e,t){return e??t}function aL(e,t,r){return e??t??r}function iL(){return Function.call.apply(Qi,arguments)}function nL(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function oL(e,t){if(!e)throw new Error(t)}function sL(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var SA="__ec_primitive__";function lL(e){e[SA]=!0}function Za(e){return e[SA]}function Lo(e){var t=Mo(e);this.data={};var r=this;e instanceof Lo?e.each(a):e&&_A(e,a);function a(i,n){t?r.set(i,n):r.set(n,i)}}Lo.prototype={constructor:Lo,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=xA(e,t));for(var r in this.data)this.data.hasOwnProperty(r)&&e(this.data[r],r)},removeKey:function(e){delete this.data[e]}};function uL(e){return new Lo(e)}function vL(e,t){for(var r=new e.constructor(e.length+t.length),a=0;a<e.length;a++)r[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)r[a+i]=t[a];return r}function hL(){}Z.$override=ND;Z.clone=Wa;Z.merge=ad;Z.mergeAll=VD;Z.extend=HD;Z.defaults=mA;Z.createCanvas=yA;Z.getContext=qD;Z.indexOf=GD;Z.inherits=FD;Z.mixin=$D;Z.isArrayLike=UD;Z.each=_A;Z.map=WD;Z.reduce=ZD;Z.filter=YD;Z.find=XD;Z.bind=xA;Z.curry=KD;Z.isArray=Mo;Z.isFunction=QD;Z.isString=JD;Z.isObject=Wi;Z.isBuiltInObject=hf;Z.isTypedArray=jD;Z.isDom=Do;Z.eqNaN=eL;Z.retrieve=tL;Z.retrieve2=rL;Z.retrieve3=aL;Z.slice=iL;Z.normalizeCssArray=nL;Z.assert=oL;Z.trim=sL;Z.setAsPrimitive=lL;Z.isPrimitive=Za;Z.createHashMap=uL;Z.concatArray=vL;Z.noop=hL;var Ze={},Ig;function Ye(){if(Ig)return Ze;Ig=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(C,M){var D=new e(2);return C==null&&(C=0),M==null&&(M=0),D[0]=C,D[1]=M,D}function r(C,M){return C[0]=M[0],C[1]=M[1],C}function a(C){var M=new e(2);return M[0]=C[0],M[1]=C[1],M}function i(C,M,D){return C[0]=M,C[1]=D,C}function n(C,M,D){return C[0]=M[0]+D[0],C[1]=M[1]+D[1],C}function u(C,M,D,L){return C[0]=M[0]+D[0]*L,C[1]=M[1]+D[1]*L,C}function c(C,M,D){return C[0]=M[0]-D[0],C[1]=M[1]-D[1],C}function o(C){return Math.sqrt(s(C))}var h=o;function s(C){return C[0]*C[0]+C[1]*C[1]}var v=s;function l(C,M,D){return C[0]=M[0]*D[0],C[1]=M[1]*D[1],C}function d(C,M,D){return C[0]=M[0]/D[0],C[1]=M[1]/D[1],C}function f(C,M){return C[0]*M[0]+C[1]*M[1]}function m(C,M,D){return C[0]=M[0]*D,C[1]=M[1]*D,C}function g(C,M){var D=o(M);return D===0?(C[0]=0,C[1]=0):(C[0]=M[0]/D,C[1]=M[1]/D),C}function p(C,M){return Math.sqrt((C[0]-M[0])*(C[0]-M[0])+(C[1]-M[1])*(C[1]-M[1]))}var y=p;function _(C,M){return(C[0]-M[0])*(C[0]-M[0])+(C[1]-M[1])*(C[1]-M[1])}var S=_;function T(C,M){return C[0]=-M[0],C[1]=-M[1],C}function w(C,M,D,L){return C[0]=M[0]+L*(D[0]-M[0]),C[1]=M[1]+L*(D[1]-M[1]),C}function x(C,M,D){var L=M[0],P=M[1];return C[0]=D[0]*L+D[2]*P+D[4],C[1]=D[1]*L+D[3]*P+D[5],C}function b(C,M,D){return C[0]=Math.min(M[0],D[0]),C[1]=Math.min(M[1],D[1]),C}function A(C,M,D){return C[0]=Math.max(M[0],D[0]),C[1]=Math.max(M[1],D[1]),C}return Ze.create=t,Ze.copy=r,Ze.clone=a,Ze.set=i,Ze.add=n,Ze.scaleAndAdd=u,Ze.sub=c,Ze.len=o,Ze.length=h,Ze.lenSquare=s,Ze.lengthSquare=v,Ze.mul=l,Ze.div=d,Ze.dot=f,Ze.scale=m,Ze.normalize=g,Ze.distance=p,Ze.dist=y,Ze.distanceSquare=_,Ze.distSquare=S,Ze.negate=T,Ze.lerp=w,Ze.applyTransform=x,Ze.min=b,Ze.max=A,Ze}function cf(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}cf.prototype={constructor:cf,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Ea(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,a=e.offsetY,i=r-this._x,n=a-this._y;this._x=r,this._y=a,t.drift(i,n,e),this.dispatchToElement(Ea(t,e),"drag",e.event);var u=this.findHover(r,a,t).target,c=this._dropTarget;this._dropTarget=u,t!==u&&(c&&u!==c&&this.dispatchToElement(Ea(c,e),"dragleave",e.event),u&&u!==c&&this.dispatchToElement(Ea(u,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Ea(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Ea(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function Ea(e,t){return{target:e,topTarget:t&&t.topTarget}}var cL=cf,fL=cL,Rg=Array.prototype.slice,ff=function(e){this._$handlers={},this._$eventProcessor=e};ff.prototype={constructor:ff,one:function(e,t,r,a){return Eg(this,e,t,r,a,!0)},on:function(e,t,r,a){return Eg(this,e,t,r,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var a=[],i=0,n=r[e].length;i<n;i++)r[e][i].h!==t&&a.push(r[e][i]);r[e]=a}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>3&&(a=Rg.call(a,1));for(var n=t.length,u=0;u<n;){var c=t[u];if(r&&r.filter&&c.query!=null&&!r.filter(e,c.query)){u++;continue}switch(i){case 1:c.h.call(c.ctx);break;case 2:c.h.call(c.ctx,a[1]);break;case 3:c.h.call(c.ctx,a[1],a[2]);break;default:c.h.apply(c.ctx,a);break}c.one?(t.splice(u,1),n--):u++}}return r&&r.afterTrigger&&r.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>4&&(a=Rg.call(a,1,a.length-1));for(var n=a[a.length-1],u=t.length,c=0;c<u;){var o=t[c];if(r&&r.filter&&o.query!=null&&!r.filter(e,o.query)){c++;continue}switch(i){case 1:o.h.call(n);break;case 2:o.h.call(n,a[1]);break;case 3:o.h.call(n,a[1],a[2]);break;default:o.h.apply(n,a);break}o.one?(t.splice(c,1),u--):c++}}return r&&r.afterTrigger&&r.afterTrigger(e),this}};function dL(e,t){var r=e._$eventProcessor;return t!=null&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),t}function Eg(e,t,r,a,i,n){var u=e._$handlers;if(typeof r=="function"&&(i=a,a=r,r=null),!a||!t)return e;r=dL(e,r),u[t]||(u[t]=[]);for(var c=0;c<u[t].length;c++)if(u[t][c].h===a)return e;var o={h:a,one:n,query:r,ctx:i||e,callAtLast:a.zrEventfulCallAtLast},h=u[t].length-1,s=u[t][h];return s&&s.callAtLast?u[t].splice(h,0,o):u[t].push(o),e}var gL=ff,Sa=gL,ct={},un={},bA={},pL=Math.log(2);function df(e,t,r,a,i,n){var u=a+"-"+i,c=e.length;if(n.hasOwnProperty(u))return n[u];if(t===1){var o=Math.round(Math.log((1<<c)-1&~i)/pL);return e[r][o]}for(var h=a|1<<r,s=r+1;a&1<<s;)s++;for(var v=0,l=0,d=0;l<c;l++){var f=1<<l;f&i||(v+=(d%2?-1:1)*e[r][l]*df(e,t-1,s,h,i|f,n),d++)}return n[u]=v,v}function mL(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},i=df(r,8,0,0,0,a);if(i!==0){for(var n=[],u=0;u<8;u++)for(var c=0;c<8;c++)n[c]==null&&(n[c]=0),n[c]+=((u+c)%2?-1:1)*df(r,7,u===0?1:0,1<<u,1<<c,a)/i*t[u];return function(o,h,s){var v=h*n[6]+s*n[7]+1;o[0]=(h*n[0]+s*n[1]+n[2])/v,o[1]=(h*n[3]+s*n[4]+n[5])/v}}}bA.buildTransformer=mL;var yL=ot,_L=bA,kg=_L.buildTransformer,Og="___zrEVENTSAVED",Ts=[];function xL(e,t,r,a,i){return gf(Ts,t,a,i,!0)&&gf(e,r,Ts[0],Ts[1])}function gf(e,t,r,a,i){if(t.getBoundingClientRect&&yL.domSupported&&!wA(t)){var n=t[Og]||(t[Og]={}),u=SL(t,n),c=bL(u,n,i);if(c)return c(e,r,a),!0}return!1}function SL(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var a=["left","right"],i=["top","bottom"],n=0;n<4;n++){var u=document.createElement("div"),c=u.style,o=n%2,h=(n>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[o]+":0",i[h]+":0",a[1-o]+":auto",i[1-h]+":auto",""].join("!important;"),e.appendChild(u),r.push(u)}return r}function bL(e,t,r){for(var a=r?"invTrans":"trans",i=t[a],n=t.srcCoords,u=!0,c=[],o=[],h=0;h<4;h++){var s=e[h].getBoundingClientRect(),v=2*h,l=s.left,d=s.top;c.push(l,d),u=u&&n&&l===n[v]&&d===n[v+1],o.push(e[h].offsetLeft,e[h].offsetTop)}return u&&i?i:(t.srcCoords=c,t[a]=r?kg(o,c):kg(c,o))}function wA(e){return e.nodeName.toUpperCase()==="CANVAS"}un.transformLocalCoord=xL;un.transformCoordWithViewport=gf;un.isCanvasEl=wA;var wL=Sa;ct.Dispatcher=wL;var pf=ot,AA=un,AL=AA.isCanvasEl,TL=AA.transformCoordWithViewport,id=typeof window<"u"&&!!window.addEventListener,CL=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Cs=[];function mf(e,t,r,a){return r=r||{},a||!pf.canvasSupported?zg(e,t,r):pf.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):zg(e,t,r),r}function zg(e,t,r){if(pf.domSupported&&e.getBoundingClientRect){var a=t.clientX,i=t.clientY;if(AL(e)){var n=e.getBoundingClientRect();r.zrX=a-n.left,r.zrY=i-n.top;return}else if(TL(Cs,e,a,i)){r.zrX=Cs[0],r.zrY=Cs[1];return}}r.zrX=r.zrY=0}function TA(e){return e||window.event}function ML(e,t,r){if(t=TA(t),t.zrX!=null)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(!i)mf(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var n=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];n&&mf(e,n,t,r)}var u=t.button;return t.which==null&&u!==void 0&&CL.test(t.type)&&(t.which=u&1?1:u&2?3:u&4?2:0),t}function DL(e,t,r,a){id?e.addEventListener(t,r,a):e.attachEvent("on"+t,r)}function LL(e,t,r,a){id?e.removeEventListener(t,r,a):e.detachEvent("on"+t,r)}var PL=id?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function IL(e){return e.which===2||e.which===3}function RL(e){return e.which>1}ct.clientToLocal=mf;ct.getNativeEvent=TA;ct.normalizeEvent=ML;ct.addEventListener=DL;ct.removeEventListener=LL;ct.stop=PL;ct.isMiddleOrRightButtonOnMouseUpDown=IL;ct.notLeftMouse=RL;var EL=ct,yf=function(){this._track=[]};yf.prototype={constructor:yf,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},n=0,u=a.length;n<u;n++){var c=a[n],o=EL.clientToLocal(r,c,{});i.points.push([o.zrX,o.zrY]),i.touches.push(c)}this._track.push(i)}},_recognize:function(e){for(var t in Ms)if(Ms.hasOwnProperty(t)){var r=Ms[t](this._track,e);if(r)return r}}};function Bg(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function kL(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Ms={pinch:function(e,t){var r=e.length;if(r){var a=(e[r-1]||{}).points,i=(e[r-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var n=Bg(a)/Bg(i);!isFinite(n)&&(n=1),t.pinchScale=n;var u=kL(a);return t.pinchX=u[0],t.pinchY=u[1],{type:"pinch",target:e[0].target,event:t}}}}},OL=yf,zL=OL,Yo=Z,BL=Ye(),CA=fL,MA=Sa,NL=ct,VL=zL,DA="silent";function HL(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:qL}}function qL(){NL.stop(this.event)}function LA(){}LA.prototype.dispose=function(){};var GL=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ja=function(e,t,r,a){MA.call(this),this.storage=e,this.painter=t,this.painterRoot=a,r=r||new LA,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,CA.call(this),this.setHandlerProxy(r)};Ja.prototype={constructor:Ja,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(Yo.each(GL,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,a=PA(this,t,r),i=this._hovered,n=i.target;n&&!n.__zr&&(i=this.findHover(i.x,i.y),n=i.target);var u=this._hovered=a?{x:t,y:r}:this.findHover(t,r),c=u.target,o=this.proxy;o.setCursor&&o.setCursor(c?c.cursor:"default"),n&&c!==n&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(u,"mousemove",e),c&&c!==n&&this.dispatchToElement(u,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,r=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!r&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var i="on"+t,n=HL(t,e,r);a&&(a[i]&&(n.cancelBubble=a[i].call(a,n)),a.trigger(t,n),a=a.parent,!n.cancelBubble););n.cancelBubble||(this.trigger(t,n),this.painter&&this.painter.eachOtherLayer(function(u){typeof u[i]=="function"&&u[i].call(u,n),u.trigger&&u.trigger(t,n)}))}},findHover:function(e,t,r){for(var a=this.storage.getDisplayList(),i={x:e,y:t},n=a.length-1;n>=0;n--){var u;if(a[n]!==r&&!a[n].ignore&&(u=FL(a[n],e,t))&&(!i.topTarget&&(i.topTarget=a[n]),u!==DA)){i.target=a[n];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new VL);var r=this._gestureMgr;t==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&r.clear(),a){var i=a.type;e.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}};Yo.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Ja.prototype[e]=function(t){var r=t.zrX,a=t.zrY,i=PA(this,r,a),n,u;if((e!=="mouseup"||!i)&&(n=this.findHover(r,a),u=n.target),e==="mousedown")this._downEl=u,this._downPoint=[t.zrX,t.zrY],this._upEl=u;else if(e==="mouseup")this._upEl=u;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||BL.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}});function FL(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var a=e,i;a;){if(a.clipPath&&!a.clipPath.contain(t,r))return!1;a.silent&&(i=!0),a=a.parent}return i?DA:!0}return!1}function PA(e,t,r){var a=e.painter;return t<0||t>a.getWidth()||r<0||r>a.getHeight()}Yo.mixin(Ja,MA);Yo.mixin(Ja,CA);var $L=Ja,UL=$L,Qt={},Ng;function Rt(){if(Ng)return Qt;Ng=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(){var s=new e(6);return r(s),s}function r(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,s}function a(s,v){return s[0]=v[0],s[1]=v[1],s[2]=v[2],s[3]=v[3],s[4]=v[4],s[5]=v[5],s}function i(s,v,l){var d=v[0]*l[0]+v[2]*l[1],f=v[1]*l[0]+v[3]*l[1],m=v[0]*l[2]+v[2]*l[3],g=v[1]*l[2]+v[3]*l[3],p=v[0]*l[4]+v[2]*l[5]+v[4],y=v[1]*l[4]+v[3]*l[5]+v[5];return s[0]=d,s[1]=f,s[2]=m,s[3]=g,s[4]=p,s[5]=y,s}function n(s,v,l){return s[0]=v[0],s[1]=v[1],s[2]=v[2],s[3]=v[3],s[4]=v[4]+l[0],s[5]=v[5]+l[1],s}function u(s,v,l){var d=v[0],f=v[2],m=v[4],g=v[1],p=v[3],y=v[5],_=Math.sin(l),S=Math.cos(l);return s[0]=d*S+g*_,s[1]=-d*_+g*S,s[2]=f*S+p*_,s[3]=-f*_+S*p,s[4]=S*m+_*y,s[5]=S*y-_*m,s}function c(s,v,l){var d=l[0],f=l[1];return s[0]=v[0]*d,s[1]=v[1]*f,s[2]=v[2]*d,s[3]=v[3]*f,s[4]=v[4]*d,s[5]=v[5]*f,s}function o(s,v){var l=v[0],d=v[2],f=v[4],m=v[1],g=v[3],p=v[5],y=l*g-m*d;return y?(y=1/y,s[0]=g*y,s[1]=-m*y,s[2]=-d*y,s[3]=l*y,s[4]=(d*p-g*f)*y,s[5]=(m*f-l*p)*y,s):null}function h(s){var v=t();return a(v,s),v}return Qt.create=t,Qt.identity=r,Qt.copy=a,Qt.mul=i,Qt.translate=n,Qt.rotate=u,Qt.scale=c,Qt.invert=o,Qt.clone=h,Qt}var rr=Rt(),IA=Ye(),_f=rr.identity,Vg=5e-5;function ga(e){return e>Vg||e<-Vg}var Xo=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},ir=Xo.prototype;ir.transform=null;ir.needLocalTransform=function(){return ga(this.rotation)||ga(this.position[0])||ga(this.position[1])||ga(this.scale[0]-1)||ga(this.scale[1]-1)};var sa=[];ir.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),a=this.transform;if(!(r||t)){a&&_f(a);return}a=a||rr.create(),r?this.getLocalTransform(a):_f(a),t&&(r?rr.mul(a,e.transform,a):rr.copy(a,e.transform)),this.transform=a;var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(sa);var n=sa[0]<0?-1:1,u=sa[1]<0?-1:1,c=((sa[0]-n)*i+n)/sa[0]||0,o=((sa[1]-u)*i+u)/sa[1]||0;a[0]*=c,a[1]*=c,a[2]*=o,a[3]*=o}this.invTransform=this.invTransform||rr.create(),rr.invert(this.invTransform,a)};ir.getLocalTransform=function(e){return Xo.getLocalTransform(this,e)};ir.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};ir.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var ka=[],Ds=rr.create();ir.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],a=this.position,i=this.scale;ga(t-1)&&(t=Math.sqrt(t)),ga(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(t=-t),e[3]<0&&(r=-r),a[0]=e[4],a[1]=e[5],i[0]=t,i[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/t)}};ir.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(rr.mul(ka,e.invTransform,t),t=ka);var r=this.origin;r&&(r[0]||r[1])&&(Ds[4]=r[0],Ds[5]=r[1],rr.mul(ka,t,Ds),ka[4]-=r[0],ka[5]-=r[1],t=ka),this.setLocalTransform(t)}};ir.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};ir.transformCoordToLocal=function(e,t){var r=[e,t],a=this.invTransform;return a&&IA.applyTransform(r,r,a),r};ir.transformCoordToGlobal=function(e,t){var r=[e,t],a=this.transform;return a&&IA.applyTransform(r,r,a),r};Xo.getLocalTransform=function(e,t){t=t||[],_f(t);var r=e.origin,a=e.scale||[1,1],i=e.rotation||0,n=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),rr.scale(t,t,a),i&&rr.rotate(t,t,i),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=n[0],t[5]+=n[1],t};var WL=Xo,nd=WL,mo={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-mo.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?mo.bounceIn(e*2)*.5:mo.bounceOut(e*2-1)*.5+.5}},ZL=mo,YL=ZL,XL=YL;function xf(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}xf.prototype={constructor:xf,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var a=this.easing,i=typeof a=="string"?XL[a]:a,n=typeof i=="function"?i(r):r;return this.fire("frame",n),r===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var KL=xf,QL=KL,ut={},RA=function(){this.head=null,this.tail=null,this._len=0},vn=RA.prototype;vn.insert=function(e){var t=new EA(e);return this.insertEntry(t),t};vn.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};vn.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};vn.len=function(){return this._len};vn.clear=function(){this.head=this.tail=null,this._len=0};var EA=function(e){this.value=e,this.next,this.prev},kA=function(e){this._list=new RA,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},od=kA.prototype;od.put=function(e,t){var r=this._list,a=this._map,i=null;if(a[e]==null){var n=r.len(),u=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var c=r.head;r.remove(c),delete a[c.key],i=c.value,this._lastRemovedEntry=c}u?u.value=t:u=new EA(t),u.key=e,r.insertEntry(u),a[e]=u}return i};od.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};od.clear=function(){this._list.clear(),this._map={}};var JL=kA,OA=JL,jL=OA,Hg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ar(e){return e=Math.round(e),e<0?0:e>255?255:e}function eP(e){return e=Math.round(e),e<0?0:e>360?360:e}function Ji(e){return e<0?0:e>1?1:e}function Ls(e){return e.length&&e.charAt(e.length-1)==="%"?ar(parseFloat(e)/100*255):ar(parseInt(e,10))}function ja(e){return e.length&&e.charAt(e.length-1)==="%"?Ji(parseFloat(e)/100):Ji(parseFloat(e))}function Ps(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Xr(e,t,r){return e+(t-e)*r}function er(e,t,r,a,i){return e[0]=t,e[1]=r,e[2]=a,e[3]=i,e}function Sf(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var zA=new jL(20),zn=null;function Oa(e,t){zn&&Sf(zn,t),zn=zA.put(e,zn||t.slice())}function xa(e,t){if(e){t=t||[];var r=zA.get(e);if(r)return Sf(t,r);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in Hg)return Sf(t,Hg[a]),Oa(e,t),t;if(a.charAt(0)==="#"){if(a.length===4){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=4095)){er(t,0,0,0,1);return}return er(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),Oa(e,t),t}else if(a.length===7){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=16777215)){er(t,0,0,0,1);return}return er(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),Oa(e,t),t}return}var n=a.indexOf("("),u=a.indexOf(")");if(n!==-1&&u+1===a.length){var c=a.substr(0,n),o=a.substr(n+1,u-(n+1)).split(","),h=1;switch(c){case"rgba":if(o.length!==4){er(t,0,0,0,1);return}h=ja(o.pop());case"rgb":if(o.length!==3){er(t,0,0,0,1);return}return er(t,Ls(o[0]),Ls(o[1]),Ls(o[2]),h),Oa(e,t),t;case"hsla":if(o.length!==4){er(t,0,0,0,1);return}return o[3]=ja(o[3]),bf(o,t),Oa(e,t),t;case"hsl":if(o.length!==3){er(t,0,0,0,1);return}return bf(o,t),Oa(e,t),t;default:return}}er(t,0,0,0,1)}}function bf(e,t){var r=(parseFloat(e[0])%360+360)%360/360,a=ja(e[1]),i=ja(e[2]),n=i<=.5?i*(a+1):i+a-i*a,u=i*2-n;return t=t||[],er(t,ar(Ps(u,n,r+1/3)*255),ar(Ps(u,n,r)*255),ar(Ps(u,n,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function tP(e){if(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(t,r,a),n=Math.max(t,r,a),u=n-i,c=(n+i)/2,o,h;if(u===0)o=0,h=0;else{c<.5?h=u/(n+i):h=u/(2-n-i);var s=((n-t)/6+u/2)/u,v=((n-r)/6+u/2)/u,l=((n-a)/6+u/2)/u;t===n?o=l-v:r===n?o=1/3+s-l:a===n&&(o=2/3+v-s),o<0&&(o+=1),o>1&&(o-=1)}var d=[o*360,h,c];return e[3]!=null&&d.push(e[3]),d}}function rP(e,t){var r=xa(e);if(r){for(var a=0;a<3;a++)t<0?r[a]=r[a]*(1-t)|0:r[a]=(255-r[a])*t+r[a]|0,r[a]>255?r[a]=255:e[a]<0&&(r[a]=0);return hn(r,r.length===4?"rgba":"rgb")}}function aP(e){var t=xa(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function BA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var a=e*(t.length-1),i=Math.floor(a),n=Math.ceil(a),u=t[i],c=t[n],o=a-i;return r[0]=ar(Xr(u[0],c[0],o)),r[1]=ar(Xr(u[1],c[1],o)),r[2]=ar(Xr(u[2],c[2],o)),r[3]=Ji(Xr(u[3],c[3],o)),r}}var iP=BA;function NA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),i=Math.floor(a),n=Math.ceil(a),u=xa(t[i]),c=xa(t[n]),o=a-i,h=hn([ar(Xr(u[0],c[0],o)),ar(Xr(u[1],c[1],o)),ar(Xr(u[2],c[2],o)),Ji(Xr(u[3],c[3],o))],"rgba");return r?{color:h,leftIndex:i,rightIndex:n,value:a}:h}}var nP=NA;function oP(e,t,r,a){if(e=xa(e),e)return e=tP(e),t!=null&&(e[0]=eP(t)),r!=null&&(e[1]=ja(r)),a!=null&&(e[2]=ja(a)),hn(bf(e),"rgba")}function sP(e,t){if(e=xa(e),e&&t!=null)return e[3]=Ji(t),hn(e,"rgba")}function hn(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}ut.parse=xa;ut.lift=rP;ut.toHex=aP;ut.fastLerp=BA;ut.fastMapToColor=iP;ut.lerp=NA;ut.mapToColor=nP;ut.modifyHSL=oP;ut.modifyAlpha=sP;ut.stringify=hn;var lP=QL,uP=ut,vP=Z,Po=vP.isArrayLike,wf=Array.prototype.slice;function hP(e,t){return e[t]}function cP(e,t,r){e[t]=r}function Af(e,t,r){return(t-e)*r+e}function qg(e,t,r){return r>.5?t:e}function Gg(e,t,r,a,i){var n=e.length;if(i===1)for(var u=0;u<n;u++)a[u]=Af(e[u],t[u],r);else for(var c=n&&e[0].length,u=0;u<n;u++)for(var o=0;o<c;o++)a[u][o]=Af(e[u][o],t[u][o],r)}function Fg(e,t,r){var a=e.length,i=t.length;if(a!==i){var n=a>i;if(n)e.length=i;else for(var u=a;u<i;u++)e.push(r===1?t[u]:wf.call(t[u]))}for(var c=e[0]&&e[0].length,u=0;u<e.length;u++)if(r===1)isNaN(e[u])&&(e[u]=t[u]);else for(var o=0;o<c;o++)isNaN(e[u][o])&&(e[u][o]=t[u][o])}function fP(e,t,r){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(r===1){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else for(var n=e[0].length,i=0;i<a;i++)for(var u=0;u<n;u++)if(e[i][u]!==t[i][u])return!1;return!0}function $g(e,t,r,a,i,n,u,c,o){var h=e.length;if(o===1)for(var s=0;s<h;s++)c[s]=Tf(e[s],t[s],r[s],a[s],i,n,u);else for(var v=e[0].length,s=0;s<h;s++)for(var l=0;l<v;l++)c[s][l]=Tf(e[s][l],t[s][l],r[s][l],a[s][l],i,n,u)}function Tf(e,t,r,a,i,n,u){var c=(r-e)*.5,o=(a-t)*.5;return(2*(t-r)+c+o)*u+(-3*(t-r)-2*c-o)*n+c*i+t}function dP(e){if(Po(e)){var t=e.length;if(Po(e[0])){for(var r=[],a=0;a<t;a++)r.push(wf.call(e[a]));return r}return wf.call(e)}return e}function Ug(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function gP(e){var t=e[e.length-1].value;return Po(t&&t[0])?2:1}function pP(e,t,r,a,i,n){var u=e._getter,c=e._setter,o=t==="spline",h=a.length;if(h){var s=a[0].value,v=Po(s),l=!1,d=!1,f=v?gP(a):0,m;a.sort(function(G,V){return G.time-V.time}),m=a[h-1].time;for(var g=[],p=[],y=a[0].value,_=!0,S=0;S<h;S++){g.push(a[S].time/m);var T=a[S].value;if(v&&fP(T,y,f)||!v&&T===y||(_=!1),y=T,typeof T=="string"){var w=uP.parse(T);w?(T=w,l=!0):d=!0}p.push(T)}if(!(!n&&_)){for(var x=p[h-1],S=0;S<h-1;S++)v?Fg(p[S],x,f):isNaN(p[S])&&!isNaN(x)&&!d&&!l&&(p[S]=x);v&&Fg(u(e._target,i),x,f);var b=0,A=0,C,M,D,L,P,I;if(l)var E=[0,0,0,0];var O=function(G,V){var R;if(V<0)R=0;else if(V<A){for(C=Math.min(b+1,h-1),R=C;R>=0&&!(g[R]<=V);R--);R=Math.min(R,h-2)}else{for(R=b;R<h&&!(g[R]>V);R++);R=Math.min(R-1,h-2)}b=R,A=V;var B=g[R+1]-g[R];if(B!==0)if(M=(V-g[R])/B,o)if(L=p[R],D=p[R===0?R:R-1],P=p[R>h-2?h-1:R+1],I=p[R>h-3?h-1:R+2],v)$g(D,L,P,I,M,M*M,M*M*M,u(G,i),f);else{var k;if(l)k=$g(D,L,P,I,M,M*M,M*M*M,E,1),k=Ug(E);else{if(d)return qg(L,P,M);k=Tf(D,L,P,I,M,M*M,M*M*M)}c(G,i,k)}else if(v)Gg(p[R],p[R+1],M,u(G,i),f);else{var k;if(l)Gg(p[R],p[R+1],M,E,1),k=Ug(E);else{if(d)return qg(p[R],p[R+1],M);k=Af(p[R],p[R+1],M)}c(G,i,k)}},z=new lP({target:e._target,life:m,loop:e._loop,delay:e._delay,onframe:O,ondestroy:r});return t&&t!=="spline"&&(z.easing=t),z}}}var VA=function(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||hP,this._setter=a||cP,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};VA.prototype={when:function(e,t){var r=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!r[a]){r[a]=[];var i=this._getter(this._target,a);if(i==null)continue;e!==0&&r[a].push({time:0,value:dP(i)})}r[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,a=0,i=function(){a--,a||r._doneCallback()},n;for(var u in this._tracks)if(this._tracks.hasOwnProperty(u)){var c=pP(this,e,i,this._tracks[u],u,t);c&&(this._clipList.push(c),a++,this.animation&&this.animation.addClip(c),n=c)}if(n){var o=n.onframe;n.onframe=function(h,s){o(h,s);for(var v=0;v<r._onframeList.length;v++)r._onframeList[v](h,s)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),r&&r.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var mP=VA,HA=mP,si={},qA=1;typeof window<"u"&&(qA=Math.max(window.devicePixelRatio||1,1));var yP=0,_P=qA;si.debugMode=yP;si.devicePixelRatio=_P;var xP=si,SP=xP.debugMode,GA=function(){};SP===1&&(GA=console.error);var bP=GA,cn=bP,wP=HA,AP=cn,fn=Z,TP=fn.isString,Is=fn.isFunction,CP=fn.isObject,MP=fn.isArrayLike,DP=fn.indexOf,Cf=function(){this.animators=[]};Cf.prototype={constructor:Cf,animate:function(e,t){var r,a=!1,i=this,n=this.__zr;if(e){var u=e.split("."),c=i;a=u[0]==="shape";for(var o=0,h=u.length;o<h;o++)c&&(c=c[u[o]]);c&&(r=c)}else r=i;if(!r){AP('Property "'+e+'" is not existed in element '+i.id);return}var s=i.animators,v=new wP(r,t);return v.during(function(l){i.dirty(a)}).done(function(){s.splice(DP(s,v),1)}),s.push(v),n&&n.animation.addAnimator(v),v},stopAnimation:function(e){for(var t=this.animators,r=t.length,a=0;a<r;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,r,a,i,n){Wg(this,e,t,r,a,i,n)},animateFrom:function(e,t,r,a,i,n){Wg(this,e,t,r,a,i,n,!0)}};function Wg(e,t,r,a,i,n,u,c){TP(a)?(n=i,i=a,a=0):Is(i)?(n=i,i="linear",a=0):Is(a)?(n=a,a=0):Is(r)?(n=r,r=500):r||(r=500),e.stopAnimation(),FA(e,"",e,t,r,a,c);var o=e.animators.slice(),h=o.length;function s(){h--,h||n&&n()}h||n&&n();for(var v=0;v<o.length;v++)o[v].done(s).start(i,u)}function FA(e,t,r,a,i,n,u){var c={},o=0;for(var h in a)a.hasOwnProperty(h)&&(r[h]!=null?CP(a[h])&&!MP(a[h])?FA(e,t?t+"."+h:h,r[h],a[h],i,n,u):(u?(c[h]=r[h],Zg(e,t,h,a[h])):c[h]=a[h],o++):a[h]!=null&&!u&&Zg(e,t,h,a[h]));o>0&&e.animate(t,!1).when(i??500,c).delay(n||0)}function Zg(e,t,r,a){if(!t)e.attr(r,a);else{var i={};i[t]={},i[t][r]=a,e.attr(i)}}var LP=Cf,PP=LP,IP=dA,$A=Sa,UA=nd,WA=PP,Ko=Z,dn=function(e){UA.call(this,e),$A.call(this,e),WA.call(this,e),this.id=e.id||IP()};dn.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ko.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};Ko.mixin(dn,WA);Ko.mixin(dn,UA);Ko.mixin(dn,$A);var RP=dn,ZA=RP,EP=Ye(),Bn=Rt(),Nn=EP.applyTransform,Vn=Math.min,Hn=Math.max;function Zr(e,t,r,a){r<0&&(e=e+r,r=-r),a<0&&(t=t+a,a=-a),this.x=e,this.y=t,this.width=r,this.height=a}Zr.prototype={constructor:Zr,union:function(e){var t=Vn(e.x,this.x),r=Vn(e.y,this.y);this.width=Hn(e.x+e.width,this.x+this.width)-t,this.height=Hn(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],a=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,Nn(e,e,i),Nn(t,t,i),Nn(r,r,i),Nn(a,a,i),this.x=Vn(e[0],t[0],r[0],a[0]),this.y=Vn(e[1],t[1],r[1],a[1]);var n=Hn(e[0],t[0],r[0],a[0]),u=Hn(e[1],t[1],r[1],a[1]);this.width=n-this.x,this.height=u-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,a=e.height/t.height,i=Bn.create();return Bn.translate(i,i,[-t.x,-t.y]),Bn.scale(i,i,[r,a]),Bn.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof Zr||(e=Zr.create(e));var t=this,r=t.x,a=t.x+t.width,i=t.y,n=t.y+t.height,u=e.x,c=e.x+e.width,o=e.y,h=e.y+e.height;return!(a<u||c<r||n<o||h<i)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new Zr(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Zr.create=function(e){return new Zr(e.x,e.y,e.width,e.height)};var kP=Zr,Ke=kP,YA=Z,XA=ZA,OP=Ke,Pr=function(e){e=e||{},XA.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Pr.prototype={constructor:Pr,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,a=r.indexOf(t);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Pr&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,a=this._children,i=YA.indexOf(a,e);return i<0?this:(a.splice(i,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof Pr&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,a;for(a=0;a<e.length;a++)r=e[a],t&&(t.delFromStorage(r),r instanceof Pr&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,a=0;a<r.length;a++){var i=r[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var a=this._children[r];e.call(t,a),a.type==="group"&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof Pr&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof Pr&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new OP(0,0,0,0),a=e||this._children,i=[],n=0;n<a.length;n++){var u=a[n];if(!(u.ignore||u.invisible)){var c=u.getBoundingRect(),o=u.getLocalTransform(i);o?(r.copy(c),r.applyTransform(o),t=t||r.clone(),t.union(r)):(t=t||c.clone(),t.union(c))}}return t||r}};YA.inherits(Pr,XA);var zP=Pr,ba=zP,KA=32,Ti=7;function BP(e){for(var t=0;e>=KA;)t|=e&1,e>>=1;return e+t}function Yg(e,t,r,a){var i=t+1;if(i===r)return 1;if(a(e[i++],e[t])<0){for(;i<r&&a(e[i],e[i-1])<0;)i++;NP(e,t,i)}else for(;i<r&&a(e[i],e[i-1])>=0;)i++;return i-t}function NP(e,t,r){for(r--;t<r;){var a=e[t];e[t++]=e[r],e[r--]=a}}function Xg(e,t,r,a,i){for(a===t&&a++;a<r;a++){for(var n=e[a],u=t,c=a,o;u<c;)o=u+c>>>1,i(n,e[o])<0?c=o:u=o+1;var h=a-u;switch(h){case 3:e[u+3]=e[u+2];case 2:e[u+2]=e[u+1];case 1:e[u+1]=e[u];break;default:for(;h>0;)e[u+h]=e[u+h-1],h--}e[u]=n}}function Rs(e,t,r,a,i,n){var u=0,c=0,o=1;if(n(e,t[r+i])>0){for(c=a-i;o<c&&n(e,t[r+i+o])>0;)u=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c),u+=i,o+=i}else{for(c=i+1;o<c&&n(e,t[r+i-o])<=0;)u=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c);var h=u;u=i-o,o=i-h}for(u++;u<o;){var s=u+(o-u>>>1);n(e,t[r+s])>0?u=s+1:o=s}return o}function Es(e,t,r,a,i,n){var u=0,c=0,o=1;if(n(e,t[r+i])<0){for(c=i+1;o<c&&n(e,t[r+i-o])<0;)u=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c);var h=u;u=i-o,o=i-h}else{for(c=a-i;o<c&&n(e,t[r+i+o])>=0;)u=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c),u+=i,o+=i}for(u++;u<o;){var s=u+(o-u>>>1);n(e,t[r+s])<0?o=s:u=s+1}return o}function VP(e,t){var r=Ti,a,i,n=0;e.length;var u=[];a=[],i=[];function c(d,f){a[n]=d,i[n]=f,n+=1}function o(){for(;n>1;){var d=n-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;s(d)}}function h(){for(;n>1;){var d=n-2;d>0&&i[d-1]<i[d+1]&&d--,s(d)}}function s(d){var f=a[d],m=i[d],g=a[d+1],p=i[d+1];i[d]=m+p,d===n-3&&(a[d+1]=a[d+2],i[d+1]=i[d+2]),n--;var y=Es(e[g],e,f,m,0,t);f+=y,m-=y,m!==0&&(p=Rs(e[f+m-1],e,g,p,p-1,t),p!==0&&(m<=p?v(f,m,g,p):l(f,m,g,p)))}function v(d,f,m,g){var p=0;for(p=0;p<f;p++)u[p]=e[d+p];var y=0,_=m,S=d;if(e[S++]=e[_++],--g===0){for(p=0;p<f;p++)e[S+p]=u[y+p];return}if(f===1){for(p=0;p<g;p++)e[S+p]=e[_+p];e[S+g]=u[y];return}for(var T=r,w,x,b;;){w=0,x=0,b=!1;do if(t(e[_],u[y])<0){if(e[S++]=e[_++],x++,w=0,--g===0){b=!0;break}}else if(e[S++]=u[y++],w++,x=0,--f===1){b=!0;break}while((w|x)<T);if(b)break;do{if(w=Es(e[_],u,y,f,0,t),w!==0){for(p=0;p<w;p++)e[S+p]=u[y+p];if(S+=w,y+=w,f-=w,f<=1){b=!0;break}}if(e[S++]=e[_++],--g===0){b=!0;break}if(x=Rs(u[y],e,_,g,0,t),x!==0){for(p=0;p<x;p++)e[S+p]=e[_+p];if(S+=x,_+=x,g-=x,g===0){b=!0;break}}if(e[S++]=u[y++],--f===1){b=!0;break}T--}while(w>=Ti||x>=Ti);if(b)break;T<0&&(T=0),T+=2}if(r=T,r<1&&(r=1),f===1){for(p=0;p<g;p++)e[S+p]=e[_+p];e[S+g]=u[y]}else{if(f===0)throw new Error;for(p=0;p<f;p++)e[S+p]=u[y+p]}}function l(d,f,m,g){var p=0;for(p=0;p<g;p++)u[p]=e[m+p];var y=d+f-1,_=g-1,S=m+g-1,T=0,w=0;if(e[S--]=e[y--],--f===0){for(T=S-(g-1),p=0;p<g;p++)e[T+p]=u[p];return}if(g===1){for(S-=f,y-=f,w=S+1,T=y+1,p=f-1;p>=0;p--)e[w+p]=e[T+p];e[S]=u[_];return}for(var x=r;;){var b=0,A=0,C=!1;do if(t(u[_],e[y])<0){if(e[S--]=e[y--],b++,A=0,--f===0){C=!0;break}}else if(e[S--]=u[_--],A++,b=0,--g===1){C=!0;break}while((b|A)<x);if(C)break;do{if(b=f-Es(u[_],e,d,f,f-1,t),b!==0){for(S-=b,y-=b,f-=b,w=S+1,T=y+1,p=b-1;p>=0;p--)e[w+p]=e[T+p];if(f===0){C=!0;break}}if(e[S--]=u[_--],--g===1){C=!0;break}if(A=g-Rs(e[y],u,0,g,g-1,t),A!==0){for(S-=A,_-=A,g-=A,w=S+1,T=_+1,p=0;p<A;p++)e[w+p]=u[T+p];if(g<=1){C=!0;break}}if(e[S--]=e[y--],--f===0){C=!0;break}x--}while(b>=Ti||A>=Ti);if(C)break;x<0&&(x=0),x+=2}if(r=x,r<1&&(r=1),g===1){for(S-=f,y-=f,w=S+1,T=y+1,p=f-1;p>=0;p--)e[w+p]=e[T+p];e[S]=u[_]}else{if(g===0)throw new Error;for(T=S-(g-1),p=0;p<g;p++)e[T+p]=u[p]}}this.mergeRuns=o,this.forceMergeRuns=h,this.pushRun=c}function HP(e,t,r,a){r||(r=0),a||(a=e.length);var i=a-r;if(!(i<2)){var n=0;if(i<KA){n=Yg(e,r,a,t),Xg(e,r,a,r+n,t);return}var u=new VP(e,t),c=BP(i);do{if(n=Yg(e,r,a,t),n<c){var o=i;o>c&&(o=c),Xg(e,r,r+o,r+n,t),n=o}u.pushRun(r,n),u.mergeRuns(),i-=n,r+=n}while(i!==0);u.forceMergeRuns()}}var sd=HP,qP=Z,GP=ot,ks=ba,FP=sd;function Kg(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Mf=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Mf.prototype={constructor:Mf,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);r.length=this._displayListLen,GP.canvasSupported&&FP(r,Kg)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t?t=t.slice():t=[];for(var i=a,n=e;i;)i.parent=n,i.updateTransform(),t.push(i),n=i,i=i.clipPath}if(e.isGroup){for(var u=e._children,c=0;c<u.length;c++){var o=u[c];e.__dirty&&(o.__dirty=!0),this._updateAndAddDisplayable(o,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof ks&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof ks&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);return}var i=qP.indexOf(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof ks&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Kg};var $P=Mf,UP=$P,WP={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function ZP(e,t,r){return WP.hasOwnProperty(t)?r*=e.dpr:r}var QA=ZP,li={},YP={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},XP=9;li.ContextCachedBy=YP;li.WILL_BE_RESTORED=XP;var KP=QA,QP=li,Qg=QP.ContextCachedBy,Io=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ji=function(e){this.extendFrom(e,!1)};function JP(e,t,r){var a=t.x==null?0:t.x,i=t.x2==null?1:t.x2,n=t.y==null?0:t.y,u=t.y2==null?0:t.y2;t.global||(a=a*r.width+r.x,i=i*r.width+r.x,n=n*r.height+r.y,u=u*r.height+r.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,n=isNaN(n)?0:n,u=isNaN(u)?0:u;var c=e.createLinearGradient(a,n,i,u);return c}function jP(e,t,r){var a=r.width,i=r.height,n=Math.min(a,i),u=t.x==null?.5:t.x,c=t.y==null?.5:t.y,o=t.r==null?.5:t.r;t.global||(u=u*a+r.x,c=c*i+r.y,o=o*n);var h=e.createRadialGradient(u,c,0,u,c,o);return h}ji.prototype={constructor:ji,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){var a=this,i=r&&r.style,n=!i||e.__attrCachedBy!==Qg.STYLE_BIND;e.__attrCachedBy=Qg.STYLE_BIND;for(var u=0;u<Io.length;u++){var c=Io[u],o=c[0];(n||a[o]!==i[o])&&(e[o]=KP(e,o,a[o]||c[1]))}if((n||a.fill!==i.fill)&&(e.fillStyle=a.fill),(n||a.stroke!==i.stroke)&&(e.strokeStyle=a.stroke),(n||a.opacity!==i.opacity)&&(e.globalAlpha=a.opacity==null?1:a.opacity),(n||a.blend!==i.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var h=a.lineWidth;e.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var a=t.type==="radial"?jP:JP,i=a(e,t,r),n=t.colorStops,u=0;u<n.length;u++)i.addColorStop(n[u].offset,n[u].color);return i}};var Df=ji.prototype;for(var Os=0;Os<Io.length;Os++){var zs=Io[Os];zs[0]in Df||(Df[zs[0]]=zs[1])}ji.getGradient=Df.getGradient;var eI=ji,ld=eI,JA=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};JA.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var tI=JA,jA=tI,eT=Z,rI=si,aI=rI.devicePixelRatio,iI=ld,nI=jA;function oI(){return!1}function tT(e,t,r){var a=eT.createCanvas(),i=t.getWidth(),n=t.getHeight(),u=a.style;return u&&(u.position="absolute",u.left=0,u.top=0,u.width=i+"px",u.height=n+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=n*r,a}var Lf=function(e,t,r){var a;r=r||aI,typeof e=="string"?a=tT(e,t,r):eT.isObject(e)&&(a=e,e=a.id),this.id=e,this.dom=a;var i=a.style;i&&(a.onselectstart=oI,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};Lf.prototype={constructor:Lf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=tT("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,a=this.dom,i=a.style,n=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*r,a.height=t*r,n&&(n.width=e*r,n.height=t*r,r!==1&&this.ctxBack.scale(r,r))},clear:function(e,u){var r=this.dom,a=this.ctx,i=r.width,n=r.height,u=u||this.clearColor,c=this.motionBlur&&!e,o=this.lastFrameAlpha,h=this.dpr;if(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/h,n/h)),a.clearRect(0,0,i,n),u&&u!=="transparent"){var s;u.colorStops?(s=u.__canvasGradient||iI.getGradient(a,u,{x:0,y:0,width:i,height:n}),u.__canvasGradient=s):u.image&&(s=nI.prototype.getCanvasPattern.call(u,a)),a.save(),a.fillStyle=s||u,a.fillRect(0,0,i,n),a.restore()}if(c){var v=this.domBack;a.save(),a.globalAlpha=o,a.drawImage(v,0,0,i,n),a.restore()}}};var sI=Lf,lI=sI,uI=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},rT=uI,nr={},Xe={},ui={},vI=OA,Pf=new vI(50);function hI(e){if(typeof e=="string"){var t=Pf.get(e);return t&&t.image}else return e}function cI(e,t,r,a,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var n=Pf.get(e),u={hostEl:r,cb:a,cbPayload:i};return n?(t=n.image,!aT(t)&&n.pending.push(u)):(t=new Image,t.onload=t.onerror=fI,Pf.put(e,t.__cachedImgObj={image:t,pending:[u]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function fI(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function aT(e){return e&&e.width&&e.height}ui.findExistImage=hI;ui.createOrUpdateImage=cI;ui.isImageReady=aT;var iT=Ke,Jg=ui,gn=Z,dI=gn.getContext,gI=gn.extend,Kr=gn.retrieve2,pI=gn.retrieve3,mI=gn.trim,qn={},Bs=0,yI=5e3,Ns=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,ud="12px sans-serif",vd={};function _I(e,t){vd[e]=t}function xr(e,t){t=t||ud;var r=e+":"+t;if(qn[r])return qn[r];for(var a=(e+"").split(`
`),i=0,n=0,u=a.length;n<u;n++)i=Math.max(uT(a[n],t).width,i);return Bs>yI&&(Bs=0,qn={}),Bs++,qn[r]=i,i}function xI(e,t,r,a,i,n,u,c){return u?bI(e,t,r,a,i,n,u,c):SI(e,t,r,a,i,n,c)}function SI(e,t,r,a,i,n,u){var c=vT(e,t,i,n,u),o=xr(e,t);i&&(o+=i[1]+i[3]);var h=c.outerHeight,s=hd(0,o,r),v=cd(0,h,a),l=new iT(s,v,o,h);return l.lineHeight=c.lineHeight,l}function bI(e,t,r,a,i,n,u,c){var o=hT(e,{rich:u,truncate:c,font:t,textAlign:r,textPadding:i,textLineHeight:n}),h=o.outerWidth,s=o.outerHeight,v=hd(0,h,r),l=cd(0,s,a);return new iT(v,l,h,s)}function hd(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function cd(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function nT(e,t,r){var a=t.textPosition,i=t.textDistance,n=r.x,u=r.y;i=i||0;var c=r.height,o=r.width,h=c/2,s="left",v="top";switch(a){case"left":n-=i,u+=h,s="right",v="middle";break;case"right":n+=i+o,u+=h,v="middle";break;case"top":n+=o/2,u-=i,s="center",v="bottom";break;case"bottom":n+=o/2,u+=c+i,s="center";break;case"inside":n+=o/2,u+=h,s="center",v="middle";break;case"insideLeft":n+=i,u+=h,v="middle";break;case"insideRight":n+=o-i,u+=h,s="right",v="middle";break;case"insideTop":n+=o/2,u+=i,s="center";break;case"insideBottom":n+=o/2,u+=c-i,s="center",v="bottom";break;case"insideTopLeft":n+=i,u+=i;break;case"insideTopRight":n+=o-i,u+=i,s="right";break;case"insideBottomLeft":n+=i,u+=c-i,v="bottom";break;case"insideBottomRight":n+=o-i,u+=c-i,s="right",v="bottom";break}return e=e||{},e.x=n,e.y=u,e.textAlign=s,e.textVerticalAlign=v,e}function wI(e,t,r){var a={textPosition:e,textDistance:r};return nT({},a,t)}function oT(e,t,r,a,i){if(!t)return"";var n=(e+"").split(`
`);i=sT(t,r,a,i);for(var u=0,c=n.length;u<c;u++)n[u]=lT(n[u],i);return n.join(`
`)}function sT(e,t,i,a){a=gI({},a),a.font=t;var i=Kr(i,"...");a.maxIterations=Kr(a.maxIterations,2);var n=a.minChar=Kr(a.minChar,0);a.cnCharWidth=xr("国",t);var u=a.ascCharWidth=xr("a",t);a.placeholder=Kr(a.placeholder,"");for(var c=e=Math.max(0,e-1),o=0;o<n&&c>=u;o++)c-=u;var h=xr(i,t);return h>c&&(i="",h=0),c=e-h,a.ellipsis=i,a.ellipsisWidth=h,a.contentWidth=c,a.containerWidth=e,a}function lT(e,t){var r=t.containerWidth,a=t.font,i=t.contentWidth;if(!r)return"";var n=xr(e,a);if(n<=r)return e;for(var u=0;;u++){if(n<=i||u>=t.maxIterations){e+=t.ellipsis;break}var c=u===0?AI(e,i,t.ascCharWidth,t.cnCharWidth):n>0?Math.floor(e.length*i/n):0;e=e.substr(0,c),n=xr(e,a)}return e===""&&(e=t.placeholder),e}function AI(e,t,r,a){for(var i=0,n=0,u=e.length;n<u&&i<t;n++){var c=e.charCodeAt(n);i+=0<=c&&c<=127?r:a}return n}function fd(e){return xr("国",e)}function uT(e,t){return vd.measureText(e,t)}vd.measureText=function(e,t){var r=dI();return r.font=t||ud,r.measureText(e)};function vT(e,t,r,a,i){e!=null&&(e+="");var n=Kr(a,fd(t)),u=e?e.split(`
`):[],c=u.length*n,o=c,h=!0;if(r&&(o+=r[0]+r[2]),e&&i){h=!1;var s=i.outerHeight,v=i.outerWidth;if(s!=null&&o>s)e="",u=[];else if(v!=null)for(var l=sT(v-(r?r[1]+r[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),d=0,f=u.length;d<f;d++)u[d]=lT(u[d],l)}return{lines:u,height:c,outerHeight:o,lineHeight:n,canCacheByTextString:h}}function hT(e,t){var r={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return r;for(var a=Ns.lastIndex=0,i;(i=Ns.exec(e))!=null;){var n=i.index;n>a&&Vs(r,e.substring(a,n)),Vs(r,i[2],i[1]),a=Ns.lastIndex}a<e.length&&Vs(r,e.substring(a,e.length));var u=r.lines,c=0,o=0,h=[],s=t.textPadding,v=t.truncate,l=v&&v.outerWidth,d=v&&v.outerHeight;s&&(l!=null&&(l-=s[1]+s[3]),d!=null&&(d-=s[0]+s[2]));for(var f=0;f<u.length;f++){for(var m=u[f],g=0,p=0,y=0;y<m.tokens.length;y++){var _=m.tokens[y],S=_.styleName&&t.rich[_.styleName]||{},T=_.textPadding=S.textPadding,w=_.font=S.font||t.font,x=_.textHeight=Kr(S.textHeight,fd(w));if(T&&(x+=T[0]+T[2]),_.height=x,_.lineHeight=pI(S.textLineHeight,t.textLineHeight,x),_.textAlign=S&&S.textAlign||t.textAlign,_.textVerticalAlign=S&&S.textVerticalAlign||"middle",d!=null&&c+_.lineHeight>d)return{lines:[],width:0,height:0};_.textWidth=xr(_.text,w);var b=S.textWidth,A=b==null||b==="auto";if(typeof b=="string"&&b.charAt(b.length-1)==="%")_.percentWidth=b,h.push(_),b=0;else{if(A){b=_.textWidth;var C=S.textBackgroundColor,M=C&&C.image;M&&(M=Jg.findExistImage(M),Jg.isImageReady(M)&&(b=Math.max(b,M.width*x/M.height)))}var D=T?T[1]+T[3]:0;b+=D;var L=l!=null?l-p:null;L!=null&&L<b&&(!A||L<D?(_.text="",_.textWidth=b=0):(_.text=oT(_.text,L-D,w,v.ellipsis,{minChar:v.minChar}),_.textWidth=xr(_.text,w),b=_.textWidth+D))}p+=_.width=b,S&&(g=Math.max(g,_.lineHeight))}m.width=p,m.lineHeight=g,c+=g,o=Math.max(o,p)}r.outerWidth=r.width=Kr(t.textWidth,o),r.outerHeight=r.height=Kr(t.textHeight,c),s&&(r.outerWidth+=s[1]+s[3],r.outerHeight+=s[0]+s[2]);for(var f=0;f<h.length;f++){var _=h[f],P=_.percentWidth;_.width=parseInt(P,10)/100*o}return r}function Vs(e,t,r){for(var a=t==="",i=t.split(`
`),n=e.lines,u=0;u<i.length;u++){var c=i[u],o={styleName:r,text:c,isLineHolder:!c&&!a};if(u)n.push({tokens:[o]});else{var h=(n[n.length-1]||(n[0]={tokens:[]})).tokens,s=h.length;s===1&&h[0].isLineHolder?h[0]=o:(c||!s||a)&&h.push(o)}}}function TI(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&mI(t)||e.textFont||e.font}Xe.DEFAULT_FONT=ud;Xe.$override=_I;Xe.getWidth=xr;Xe.getBoundingRect=xI;Xe.adjustTextX=hd;Xe.adjustTextY=cd;Xe.calculateTextPosition=nT;Xe.adjustTextPositionOnRect=wI;Xe.truncateText=oT;Xe.getLineHeight=fd;Xe.measureText=uT;Xe.parsePlainText=vT;Xe.parseRichText=hT;Xe.makeFont=TI;var dd={};function CI(e,t){var r=t.x,a=t.y,i=t.width,n=t.height,u=t.r,c,o,h,s;i<0&&(r=r+i,i=-i),n<0&&(a=a+n,n=-n),typeof u=="number"?c=o=h=s=u:u instanceof Array?u.length===1?c=o=h=s=u[0]:u.length===2?(c=h=u[0],o=s=u[1]):u.length===3?(c=u[0],o=s=u[1],h=u[2]):(c=u[0],o=u[1],h=u[2],s=u[3]):c=o=h=s=0;var v;c+o>i&&(v=c+o,c*=i/v,o*=i/v),h+s>i&&(v=h+s,h*=i/v,s*=i/v),o+h>n&&(v=o+h,o*=n/v,h*=n/v),c+s>n&&(v=c+s,c*=n/v,s*=n/v),e.moveTo(r+c,a),e.lineTo(r+i-o,a),o!==0&&e.arc(r+i-o,a+o,o,-Math.PI/2,0),e.lineTo(r+i,a+n-h),h!==0&&e.arc(r+i-h,a+n-h,h,0,Math.PI/2),e.lineTo(r+s,a+n),s!==0&&e.arc(r+s,a+n-s,s,Math.PI/2,Math.PI),e.lineTo(r,a+c),c!==0&&e.arc(r+c,a+c,c,Math.PI,Math.PI*1.5)}dd.buildPath=CI;var vi=Z,MI=vi.retrieve2,Hs=vi.retrieve3,DI=vi.each,LI=vi.normalizeCssArray,PI=vi.isString,II=vi.isObject,_r=Xe,RI=dd,jg=ui,cT=QA,fT=li,Zi=fT.ContextCachedBy,dT=fT.WILL_BE_RESTORED,If=_r.DEFAULT_FONT,EI={left:1,right:1,center:1},kI={top:1,bottom:1,middle:1},ep=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],tp={},gT={};function OI(e){return rp(e),DI(e.rich,rp),e}function rp(e){if(e){e.font=_r.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||EI[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||kI[r]?r:"top";var a=e.textPadding;a&&(e.textPadding=LI(e.textPadding))}}function zI(e,t,r,a,i,n){a.rich?NI(e,t,r,a,i,n):BI(e,t,r,a,i,n)}function BI(e,t,r,a,i,n){var u=gd(a),c,o=!1,h=t.__attrCachedBy===Zi.PLAIN_TEXT;n!==dT?(n&&(c=n.style,o=!u&&h&&c),t.__attrCachedBy=u?Zi.NONE:Zi.PLAIN_TEXT):h&&(t.__attrCachedBy=Zi.NONE);var s=a.font||If;(!o||s!==(c.font||If))&&(t.font=s);var v=e.__computedFont;e.__styleFont!==s&&(e.__styleFont=s,v=e.__computedFont=t.font);var l=a.textPadding,d=a.textLineHeight,f=e.__textCotentBlock;(!f||e.__dirtyText)&&(f=e.__textCotentBlock=_r.parsePlainText(r,v,l,d,a.truncate));var m=f.outerHeight,g=f.lines,p=f.lineHeight,y=md(gT,e,a,i),_=y.baseX,S=y.baseY,T=y.textAlign||"left",w=y.textVerticalAlign;pT(t,a,i,_,S);var x=_r.adjustTextY(S,m,w),b=_,A=x;if(u||l){var C=_r.getWidth(r,v),M=C;l&&(M+=l[1]+l[3]);var D=_r.adjustTextX(_,M,T);u&&pd(e,t,a,D,x,M,m),l&&(b=mT(_,T,l),A+=l[0])}t.textAlign=T,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var L=0;L<ep.length;L++){var P=ep[L],I=P[0],E=P[1],O=a[I];(!o||O!==c[I])&&(t[E]=cT(t,E,O||P[2]))}A+=p/2;var z=a.textStrokeWidth,G=o?c.textStrokeWidth:null,V=!o||z!==G,R=!o||V||a.textStroke!==c.textStroke,B=yd(a.textStroke,z),k=_d(a.textFill);if(B&&(V&&(t.lineWidth=z),R&&(t.strokeStyle=B)),k&&(!o||a.textFill!==c.textFill)&&(t.fillStyle=k),g.length===1)B&&t.strokeText(g[0],b,A),k&&t.fillText(g[0],b,A);else for(var L=0;L<g.length;L++)B&&t.strokeText(g[L],b,A),k&&t.fillText(g[L],b,A),A+=p}function NI(e,t,r,a,i,n){n!==dT&&(t.__attrCachedBy=Zi.NONE);var u=e.__textCotentBlock;(!u||e.__dirtyText)&&(u=e.__textCotentBlock=_r.parseRichText(r,a)),VI(e,t,u,a,i)}function VI(e,t,r,a,i){var n=r.width,u=r.outerWidth,c=r.outerHeight,o=a.textPadding,h=md(gT,e,a,i),s=h.baseX,v=h.baseY,l=h.textAlign,d=h.textVerticalAlign;pT(t,a,i,s,v);var f=_r.adjustTextX(s,u,l),m=_r.adjustTextY(v,c,d),g=f,p=m;o&&(g+=o[3],p+=o[0]);var y=g+n;gd(a)&&pd(e,t,a,f,m,u,c);for(var _=0;_<r.lines.length;_++){for(var S=r.lines[_],T=S.tokens,w=T.length,x=S.lineHeight,b=S.width,A=0,C=g,M=y,D=w-1,L;A<w&&(L=T[A],!L.textAlign||L.textAlign==="left");)qs(e,t,L,a,x,p,C,"left"),b-=L.width,C+=L.width,A++;for(;D>=0&&(L=T[D],L.textAlign==="right");)qs(e,t,L,a,x,p,M,"right"),b-=L.width,M-=L.width,D--;for(C+=(n-(C-g)-(y-M)-b)/2;A<=D;)L=T[A],qs(e,t,L,a,x,p,C+L.width/2,"center"),C+=L.width,A++;p+=x}}function pT(e,t,r,a,i){if(r&&t.textRotation){var n=t.textOrigin;n==="center"?(a=r.width/2+r.x,i=r.height/2+r.y):n&&(a=n[0]+r.x,i=n[1]+r.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function qs(e,t,r,a,i,n,u,c){var o=a.rich[r.styleName]||{};o.text=r.text;var h=r.textVerticalAlign,s=n+i/2;h==="top"?s=n+r.height/2:h==="bottom"&&(s=n+i-r.height/2),!r.isLineHolder&&gd(o)&&pd(e,t,o,c==="right"?u-r.width:c==="center"?u-r.width/2:u,s-r.height/2,r.width,r.height);var v=r.textPadding;v&&(u=mT(u,c,v),s-=r.height/2-v[2]-r.textHeight/2),bt(t,"shadowBlur",Hs(o.textShadowBlur,a.textShadowBlur,0)),bt(t,"shadowColor",o.textShadowColor||a.textShadowColor||"transparent"),bt(t,"shadowOffsetX",Hs(o.textShadowOffsetX,a.textShadowOffsetX,0)),bt(t,"shadowOffsetY",Hs(o.textShadowOffsetY,a.textShadowOffsetY,0)),bt(t,"textAlign",c),bt(t,"textBaseline","middle"),bt(t,"font",r.font||If);var l=yd(o.textStroke||a.textStroke,f),d=_d(o.textFill||a.textFill),f=MI(o.textStrokeWidth,a.textStrokeWidth);l&&(bt(t,"lineWidth",f),bt(t,"strokeStyle",l),t.strokeText(r.text,u,s)),d&&(bt(t,"fillStyle",d),t.fillText(r.text,u,s))}function gd(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function pd(e,t,r,a,i,n,u){var c=r.textBackgroundColor,o=r.textBorderWidth,h=r.textBorderColor,s=PI(c);if(bt(t,"shadowBlur",r.textBoxShadowBlur||0),bt(t,"shadowColor",r.textBoxShadowColor||"transparent"),bt(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),bt(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),s||o&&h){t.beginPath();var v=r.textBorderRadius;v?RI.buildPath(t,{x:a,y:i,width:n,height:u,r:v}):t.rect(a,i,n,u),t.closePath()}if(s)if(bt(t,"fillStyle",c),r.fillOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=l}else t.fill();else if(II(c)){var d=c.image;d=jg.createOrUpdateImage(d,null,e,HI,c),d&&jg.isImageReady(d)&&t.drawImage(d,a,i,n,u)}if(o&&h)if(bt(t,"lineWidth",o),bt(t,"strokeStyle",h),r.strokeOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=l}else t.stroke()}function HI(e,t){t.image=e}function md(e,t,r,a){var i=r.x||0,n=r.y||0,u=r.textAlign,c=r.textVerticalAlign;if(a){var o=r.textPosition;if(o instanceof Array)i=a.x+Rf(o[0],a.width),n=a.y+Rf(o[1],a.height);else{var h=t&&t.calculateTextPosition?t.calculateTextPosition(tp,r,a):_r.calculateTextPosition(tp,r,a);i=h.x,n=h.y,u=u||h.textAlign,c=c||h.textVerticalAlign}var s=r.textOffset;s&&(i+=s[0],n+=s[1])}return e=e||{},e.baseX=i,e.baseY=n,e.textAlign=u,e.textVerticalAlign=c,e}function bt(e,t,r){return e[t]=cT(e,t,r),e[t]}function yd(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function _d(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Rf(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function mT(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function qI(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}nr.normalizeTextStyle=OI;nr.renderText=zI;nr.getBoxPosition=md;nr.getStroke=yd;nr.getFill=_d;nr.parsePercent=Rf;nr.needDrawText=qI;var Gs,ap;function yT(){if(ap)return Gs;ap=1;var e=nr,t=Ke,r=li,a=r.WILL_BE_RESTORED,i=new t,n=function(){};n.prototype={constructor:n,drawRectText:function(c,o){var h=this.style;o=h.textRect||o,this.__dirty&&e.normalizeTextStyle(h,!0);var s=h.text;if(s!=null&&(s+=""),!!e.needDrawText(s,h)){c.save();var v=this.transform;h.transformText?this.setTransform(c):v&&(i.copy(o),i.applyTransform(v),o=i),e.renderText(this,c,s,h,o,a),c.restore()}}};var u=n;return Gs=u,Gs}var _T=Z,xT=ld,xd=ZA,GI=yT();function en(e){e=e||{},xd.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new xT(e.style),this._rect=null,this.__clipPaths=null}en.prototype={constructor:en,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?xd.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new xT(e),this.dirty(!1),this},calculateTextPosition:null};_T.inherits(en,xd);_T.mixin(en,GI);var FI=en,pn=FI,ST=pn,$I=Ke,UI=Z,ip=ui;function Ro(e){ST.call(this,e)}Ro.prototype={constructor:Ro,type:"image",brush:function(e,t){var r=this.style,a=r.image;r.bind(e,this,t);var i=this._image=ip.createOrUpdateImage(a,this._image,this,this.onload);if(!(!i||!ip.isImageReady(i))){var n=r.x||0,u=r.y||0,c=r.width,o=r.height,h=i.width/i.height;if(c==null&&o!=null?c=o*h:o==null&&c!=null?o=c/h:c==null&&o==null&&(c=i.width,o=i.height),this.setTransform(e),r.sWidth&&r.sHeight){var s=r.sx||0,v=r.sy||0;e.drawImage(i,s,v,r.sWidth,r.sHeight,n,u,c,o)}else if(r.sx&&r.sy){var s=r.sx,v=r.sy,l=c-s,d=o-v;e.drawImage(i,s,v,l,d,n,u,c,o)}else e.drawImage(i,n,u,c,o);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new $I(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};UI.inherits(Ro,ST);var WI=Ro,hi=WI,ZI=si,YI=ZI.devicePixelRatio,Ur=Z,Fs=cn,bT=Ke,XI=sd,Ef=lI,KI=rT,QI=hi,JI=ot,np=1e5,pa=314159,op=.01,jI=.001;function Gn(e){return parseInt(e,10)}function e2(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var $s=new bT(0,0,0,0),Us=new bT(0,0,0,0);function t2(e,t,r){return $s.copy(e.getBoundingRect()),e.transform&&$s.applyTransform(e.transform),Us.width=t,Us.height=r,!$s.intersect(Us)}function r2(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function a2(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function i2(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var kf=function(e,t,r){this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Ur.extend({},r||{}),this.dpr=r.devicePixelRatio||YI,this._singleCanvas=a,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var n=this._zlevelList=[],u=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var o=e.width,h=e.height;r.width!=null&&(o=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,e.width=o*this.dpr,e.height=h*this.dpr,this._width=o,this._height=h;var s=new Ef(e,this,this.dpr);s.__builtin__=!0,s.initContext(),u[pa]=s,s.zlevel=pa,n.push(pa),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=i2(this._width,this._height);e.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};kf.prototype={constructor:kf,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a],n=this._layers[i];if(!n.__builtin__&&n.refresh){var u=a===0?this._backgroundColor:null;n.refresh(u)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,a=Ur.indexOf(r,t);a>=0&&r.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var a=t[r].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){XI(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(np));var a={};r.ctx.save();for(var i=0;i<t;){var n=e[i],u=n.__from;if(!(u&&u.__zr)){e.splice(i,1),u.__hoverMir=null,t--;continue}i++,u.invisible||(n.transform=u.transform,n.invTransform=u.invTransform,n.__clipPaths=u.__clipPaths,this._doPaintEl(n,r,!0,a))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(np)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;KI(function(){i._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(pa).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],n=this._layers[i];n.__builtin__&&n!==this._hoverlayer&&(n.__dirty||t)&&r.push(n)}for(var u=!0,c=0;c<r.length;c++){var n=r[c],o=n.ctx,h={};o.save();var s=t?n.__startIndex:n.__drawIndex,v=!t&&n.incremental&&Date.now,l=v&&Date.now(),d=n.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(n.__startIndex===n.__endIndex)n.clear(!1,d);else if(s===n.__startIndex){var f=e[s];(!f.incremental||!f.notClear||t)&&n.clear(!1,d)}s===-1&&(console.error("For some unknown reason. drawIndex is -1"),s=n.__startIndex);for(var m=s;m<n.__endIndex;m++){var g=e[m];if(this._doPaintEl(g,n,t,h),g.__dirty=g.__dirtyText=!1,v){var p=Date.now()-l;if(p>15)break}}n.__drawIndex=m,n.__drawIndex<n.__endIndex&&(u=!1),h.prevElClipPaths&&o.restore(),o.restore()}return JI.wxa&&Ur.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),u},_doPaintEl:function(e,t,r,a){var i=t.ctx,n=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(n&&!n[0]&&!n[3])&&!(e.culling&&t2(e,this._width,this._height))){var u=e.__clipPaths,c=a.prevElClipPaths;(!c||r2(u,c))&&(c&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),u&&(i.save(),a2(u,i),a.prevElClipPaths=u)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=pa);var r=this._layers[e];return r||(r=new Ef("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]&&Ur.merge(r,this._layerConfig[e],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,a=this._zlevelList,i=a.length,n=null,u=-1,c=this._domRoot;if(r[e]){Fs("ZLevel "+e+" has been used already");return}if(!e2(t)){Fs("Layer of zlevel "+e+" is not valid");return}if(i>0&&e>a[0]){for(u=0;u<i-1&&!(a[u]<e&&a[u+1]>e);u++);n=r[a[u]]}if(a.splice(u+1,0,e),r[e]=t,!t.virtual)if(n){var o=n.dom;o.nextSibling?c.insertBefore(t.dom,o.nextSibling):c.appendChild(t.dom)}else c.firstChild?c.insertBefore(t.dom,c.firstChild):c.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,a,i;for(i=0;i<r.length;i++)a=r[i],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,a,i,n;for(n=0;n<r.length;n++)i=r[n],a=this._layers[i],a.__builtin__&&e.call(t,a,i)},eachOtherLayer:function(e,t){var r=this._zlevelList,a,i,n;for(n=0;n<r.length;n++)i=r[n],a=this._layers[i],a.__builtin__||e.call(t,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(o,h){o.__dirty=o.__used=!1});function t(o){i&&(i.__endIndex!==o&&(i.__dirty=!0),i.__endIndex=o)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,n=0,r=0;r<e.length;r++){var a=e[r],u=a.zlevel,c;a.incremental?(c=this.getLayer(u+jI,this._needsManuallyCompositing),c.incremental=!0,n=1):c=this.getLayer(u+(n>0?op:0),this._needsManuallyCompositing),c.__builtin__||Fs("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==r&&(c.__dirty=!0),c.__startIndex=r,c.incremental?c.__drawIndex=-1:c.__drawIndex=r,t(r),i=c),a.__dirty&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(o,h){!o.__used&&o.getElementCount()>0&&(o.__dirty=!0,o.__startIndex=o.__endIndex=o.__drawIndex=0),o.__dirty&&o.__drawIndex<0&&(o.__drawIndex=o.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?Ur.merge(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+op){var n=this._layers[i];Ur.merge(n,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(Ur.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);Ur.each(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(pa).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[pa].dom;var t=new Ef("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer(function(h){h.__builtin__?i.drawImage(h.dom,0,0,r,a):h.renderToCanvas&&(t.ctx.save(),h.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var n={},u=this.storage.getDisplayList(!0),c=0;c<u.length;c++){var o=u[c];this._doPaintEl(o,t,!0,n)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],n=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var u=this.root,c=document.defaultView.getComputedStyle(u);return(u[a]||Gn(c[r])||Gn(u.style[r]))-(Gn(c[i])||0)-(Gn(c[n])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),a=r.getContext("2d"),i=e.getBoundingRect(),n=e.style,u=n.shadowBlur*t,c=n.shadowOffsetX*t,o=n.shadowOffsetY*t,h=n.hasStroke()?n.lineWidth:0,s=Math.max(h/2,-c+u),v=Math.max(h/2,c+u),l=Math.max(h/2,-o+u),d=Math.max(h/2,o+u),f=i.width+s+v,m=i.height+l+d;r.width=f*t,r.height=m*t,a.scale(t,t),a.clearRect(0,0,f,m),a.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[s-i.x,l-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var p=QI,y=new p({style:{x:0,y:0,image:r}});return g.position!=null&&(y.position=e.position=g.position),g.rotation!=null&&(y.rotation=e.rotation=g.rotation),g.scale!=null&&(y.scale=e.scale=g.scale),y}};var n2=kf,o2=n2,wT=Z,s2=ct,AT=s2.Dispatcher,sp=rT,l2=HA,Eo=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,AT.call(this)};Eo.prototype={constructor:Eo,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=wT.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,a=r.length,i=[],n=[],u=0;u<a;u++){var c=r[u],o=c.step(e,t);o&&(i.push(o),n.push(c))}for(var u=0;u<a;)r[u]._needsRemove?(r[u]=r[a-1],r.pop(),a--):u++;a=i.length;for(var u=0;u<a;u++)n[u].fire(i[u]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(sp(t),!e._paused&&e._update())}sp(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new l2(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};wT.mixin(Eo,AT);var u2=Eo,v2=u2,Qo=ct,h2=Qo.addEventListener,c2=Qo.removeEventListener,Ir=Qo.normalizeEvent,TT=Qo.getNativeEvent,kr=Z,CT=Sa,ei=ot,f2=300,Sd=ei.domSupported,Ws=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=kr.map(e,function(i){var n=i.replace("mouse","pointer");return r.hasOwnProperty(n)?n:i});return{mouse:e,touch:t,pointer:a}}(),lp={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function MT(e){return e==="mousewheel"&&ei.browser.firefox?"DOMMouseScroll":e}function Of(e){var t=e.pointerType;return t==="pen"||t==="touch"}function d2(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Zs(e){e&&(e.zrByTouch=!0)}function g2(e,t){return Ir(e.dom,new LT(e,t),!0)}function DT(e,t){for(var r=t,a=!1;r&&r.nodeType!==9&&!(a=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return a}function LT(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Ys=LT.prototype;Ys.stopPropagation=Ys.stopImmediatePropagation=Ys.preventDefault=kr.noop;var tr={mousedown:function(e){e=Ir(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Ir(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&Nf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Ir(this.dom,e),Nf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Ir(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=DT(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=Ir(this.dom,e),Zs(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),tr.mousemove.call(this,e),tr.mousedown.call(this,e)},touchmove:function(e){e=Ir(this.dom,e),Zs(e),this.handler.processGesture(e,"change"),tr.mousemove.call(this,e)},touchend:function(e){e=Ir(this.dom,e),Zs(e),this.handler.processGesture(e,"end"),tr.mouseup.call(this,e),+new Date-this._lastTouchMoment<f2&&tr.click.call(this,e)},pointerdown:function(e){tr.mousedown.call(this,e)},pointermove:function(e){Of(e)||tr.mousemove.call(this,e)},pointerup:function(e){tr.mouseup.call(this,e)},pointerout:function(e){Of(e)||tr.mouseout.call(this,e)}};kr.each(["click","mousewheel","dblclick","contextmenu"],function(e){tr[e]=function(t){t=Ir(this.dom,t),this.trigger(e,t)}});var zf={pointermove:function(e){Of(e)||zf.mousemove.call(this,e)},pointerup:function(e){zf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Nf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function p2(e,t){var r=t.domHandlers;ei.pointerEventsSupported?kr.each(Ws.pointer,function(a){yo(t,a,function(i){r[a].call(e,i)})}):(ei.touchEventsSupported&&kr.each(Ws.touch,function(a){yo(t,a,function(i){r[a].call(e,i),d2(t)})}),kr.each(Ws.mouse,function(a){yo(t,a,function(i){i=TT(i),t.touching||r[a].call(e,i)})}))}function m2(e,t){ei.pointerEventsSupported?kr.each(lp.pointer,r):ei.touchEventsSupported||kr.each(lp.mouse,r);function r(a){function i(n){n=TT(n),DT(e,n.target)||(n=g2(e,n),t.domHandlers[a].call(e,n))}yo(t,a,i,{capture:!0})}}function yo(e,t,r,a){e.mounted[t]=r,e.listenerOpts[t]=a,h2(e.domTarget,MT(t),r,a)}function Bf(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&c2(e.domTarget,MT(r),t[r],e.listenerOpts[r]);e.mounted={}}function Nf(e,t){if(e._mayPointerCapture=null,Sd&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?m2(e,r):Bf(r)}}function up(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function bd(e,t){CT.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new up(e,tr),Sd&&(this._globalHandlerScope=new up(document,zf)),this._pointerCapturing=!1,this._mayPointerCapture=null,p2(this,this._localHandlerScope)}var PT=bd.prototype;PT.dispose=function(){Bf(this._localHandlerScope),Sd&&Bf(this._globalHandlerScope)};PT.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};kr.mixin(bd,CT);var y2=bd,_2=y2,x2=dA,Vf=ot,S2=Z,b2=UL,w2=UP,A2=o2,T2=v2,C2=_2;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var M2=!Vf.canvasSupported,_o={canvas:A2},ma={},D2="4.3.0";function L2(e,t){var r=new Hf(x2(),e,t);return ma[r.id]=r,r}function P2(e){if(e)e.dispose();else{for(var t in ma)ma.hasOwnProperty(t)&&ma[t].dispose();ma={}}return this}function I2(e){return ma[e]}function R2(e,t){_o[e]=t}function E2(e){delete ma[e]}var Hf=function(e,t,r){r=r||{},this.dom=t,this.id=e;var a=this,i=new w2,n=r.renderer;if(M2){if(!_o.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");n="vml"}else(!n||!_o[n])&&(n="canvas");var u=new _o[n](t,i,r,e);this.storage=i,this.painter=u;var c=!Vf.node&&!Vf.worker?new C2(u.getViewportRoot(),u.root):null;this.handler=new b2(i,u,c,u.root),this.animation=new T2({stage:{update:S2.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var o=i.delFromStorage,h=i.addToStorage;i.delFromStorage=function(s){o.call(i,s),s&&s.removeSelfFromZr(a)},i.addToStorage=function(s){h.call(i,s),s.addSelfToZr(a)}};Hf.prototype={constructor:Hf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var r=this.painter.addHover(e,t);return this.refreshHover(),r}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,E2(this.id)}};zr.version=D2;zr.init=L2;zr.dispose=P2;zr.getInstance=I2;zr.registerPainter=R2;var Re={},zt=Z,k2=ot,Ya=zt.each,ti=zt.isObject,O2=zt.isArray,IT="series\0";function RT(e){return e instanceof Array?e:e==null?[]:[e]}function z2(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var n=r[a];!e.emphasis[t].hasOwnProperty(n)&&e[t].hasOwnProperty(n)&&(e.emphasis[t][n]=e[t][n])}}}var B2=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function N2(e){return ti(e)&&!O2(e)&&!(e instanceof Date)?e.value:e}function V2(e){return ti(e)&&!(e instanceof Array)}function H2(e,t){t=(t||[]).slice();var r=zt.map(e||[],function(a,i){return{exist:a}});return Ya(t,function(a,i){if(ti(a)){for(var n=0;n<r.length;n++)if(!r[n].option&&a.id!=null&&r[n].exist.id===a.id+""){r[n].option=a,t[i]=null;return}for(var n=0;n<r.length;n++){var u=r[n].exist;if(!r[n].option&&(u.id==null||a.id==null)&&a.name!=null&&!xo(a)&&!xo(u)&&u.name===a.name+""){r[n].option=a,t[i]=null;return}}}}),Ya(t,function(a,i){if(ti(a)){for(var n=0;n<r.length;n++){var u=r[n].exist;if(!r[n].option&&!xo(u)&&a.id==null){r[n].option=a;break}}n>=r.length&&r.push({option:a})}}),r}function q2(e){var t=zt.createHashMap();Ya(e,function(r,a){var i=r.exist;i&&t.set(i.id,r)}),Ya(e,function(r,a){var i=r.option;zt.assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),Ya(e,function(r,a){var i=r.exist,n=r.option,u=r.keyInfo;if(ti(n)){if(u.name=n.name!=null?n.name+"":i?i.name:IT+a,i)u.id=i.id;else if(n.id!=null)u.id=n.id+"";else{var c=0;do u.id="\0"+u.name+"\0"+c++;while(t.get(u.id))}t.set(u.id,r)}})}function G2(e){var t=e.name;return!!(t&&t.indexOf(IT))}function xo(e){return ti(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function F2(e,t){var r={},a={};return i(e||[],r),i(t||[],a,r),[n(r),n(a)];function i(u,c,o){for(var h=0,s=u.length;h<s;h++)for(var v=u[h].seriesId,l=RT(u[h].dataIndex),d=o&&o[v],f=0,m=l.length;f<m;f++){var g=l[f];d&&d[g]?d[g]=null:(c[v]||(c[v]={}))[g]=1}}function n(u,c){var o=[];for(var h in u)if(u.hasOwnProperty(h)&&u[h]!=null)if(c)o.push(+h);else{var s=n(u[h],!0);s.length&&o.push({seriesId:h,dataIndex:s})}return o}}function $2(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return zt.isArray(t.dataIndex)?zt.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return zt.isArray(t.name)?zt.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function U2(){var e="__\0ec_inner_"+W2+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var W2=0;function Z2(e,t,r){if(zt.isString(t)){var a={};a[t+"Index"]=0,t=a}var i=r&&r.defaultMainType;i&&!Xs(t,i+"Index")&&!Xs(t,i+"Id")&&!Xs(t,i+"Name")&&(t[i+"Index"]=0);var n={};return Ya(t,function(o,c){var o=t[c];if(c==="dataIndex"||c==="dataIndexInside"){n[c]=o;return}var h=c.match(/^(\w+)(Index|Id|Name)$/)||[],s=h[1],v=(h[2]||"").toLowerCase();if(!(!s||!v||o==null||v==="index"&&o==="none"||r&&r.includeMainTypes&&zt.indexOf(r.includeMainTypes,s)<0)){var l={mainType:s};(v!=="index"||o!=="all")&&(l[v]=o);var d=e.queryComponents(l);n[s+"Models"]=d,n[s+"Model"]=d[0]}}),n}function Xs(e,t){return e&&e.hasOwnProperty(t)}function Y2(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function X2(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function K2(e){return e==="auto"?k2.domSupported?"html":"richText":e||"html"}function Q2(e,t){var r=zt.createHashMap(),a=[];return zt.each(e,function(i){var n=t(i);(r.get(n)||(a.push(n),r.set(n,[]))).push(i)}),{keys:a,buckets:r}}Re.normalizeToArray=RT;Re.defaultEmphasis=z2;Re.TEXT_STYLE_OPTIONS=B2;Re.getDataItemValue=N2;Re.isDataItemOption=V2;Re.mappingToExists=H2;Re.makeIdAndName=q2;Re.isNameSpecified=G2;Re.isIdInner=xo;Re.compressBatches=F2;Re.queryDataIndex=$2;Re.makeInner=U2;Re.parseFinder=Z2;Re.setAttribute=Y2;Re.getAttribute=X2;Re.getTooltipRenderMode=K2;Re.groupData=Q2;var Bt={},ri=Z,J2=".",la="___EC__COMPONENT__CONTAINER___";function $a(e){var t={main:"",sub:""};return e&&(e=e.split(J2),t.main=e[0]||"",t.sub=e[1]||""),t}function j2(e){ri.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function eR(e,t){e.$constructor=e,e.extend=function(r){var a=this,i=function(){r.$constructor?r.$constructor.apply(this,arguments):a.apply(this,arguments)};return ri.extend(i.prototype,r),i.extend=this.extend,i.superCall=aR,i.superApply=iR,ri.inherits(i,this),i.superClass=a,i}}var tR=0;function rR(e){var t=["__\0is_clz",tR++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function aR(e,t){var r=ri.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function iR(e,t,r){return this.superClass.prototype[t].apply(e,r)}function nR(e,t){t=t||{};var r={};e.registerClass=function(n,u){if(u){if(j2(u),u=$a(u),!u.sub)r[u.main]=n;else if(u.sub!==la){var c=a(u);c[u.sub]=n}}return n},e.getClass=function(n,u,c){var o=r[n];if(o&&o[la]&&(o=u?o[u]:null),c&&!o)throw new Error(u?"Component "+n+"."+(u||"")+" not exists. Load it first.":n+".type should be specified.");return o},e.getClassesByMainType=function(n){n=$a(n);var u=[],c=r[n.main];return c&&c[la]?ri.each(c,function(o,h){h!==la&&u.push(o)}):u.push(c),u},e.hasClass=function(n){return n=$a(n),!!r[n.main]},e.getAllClassMainTypes=function(){var n=[];return ri.each(r,function(u,c){n.push(c)}),n},e.hasSubTypes=function(n){n=$a(n);var u=r[n.main];return u&&u[la]},e.parseClassType=$a;function a(n){var u=r[n.main];return(!u||!u[la])&&(u=r[n.main]={},u[la]=!0),u}if(t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(n){var u=i.call(this,n);return e.registerClass(u,n.type)})}return e}function oR(e,t){}Bt.parseClassType=$a;Bt.enableClassExtend=eR;Bt.enableClassCheck=rR;Bt.enableClassManagement=nR;Bt.setReadOnly=oR;var Ks,vp;function ci(){if(vp)return Ks;vp=1;var e=Z;function t(r){for(var a=0;a<r.length;a++)r[a][1]||(r[a][1]=r[a][0]);return function(i,n,u){for(var c={},o=0;o<r.length;o++){var h=r[o][1];if(!(n&&e.indexOf(n,h)>=0||u&&e.indexOf(u,h)<0)){var s=i.getShallow(h);s!=null&&(c[r[o][0]]=s)}}return c}}return Ks=t,Ks}var Qs,hp;function sR(){if(hp)return Qs;hp=1;var e=ci(),t=e([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(a){var i=t(this,a);return i.lineDash=this.getLineDash(i.lineWidth),i},getLineDash:function(a){a==null&&(a=1);var i=this.get("type"),n=Math.max(a,2),u=a*4;return i==="solid"||i==null?!1:i==="dashed"?[u,u]:[n,n]}};return Qs=r,Qs}var Js,cp;function lR(){if(cp)return Js;cp=1;var e=ci(),t=e([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(a,i){return t(this,a,i)}};return Js=r,Js}var me={},mn={},vt={},ET=Ye(),wd=ET.create,Xa=ET.distSquare,Fn=Math.pow,ea=Math.sqrt,ko=1e-8,kT=1e-4,fp=ea(3),$n=1/3,mr=wd(),Wt=wd(),Ka=wd();function Qr(e){return e>-ko&&e<ko}function OT(e){return e>ko||e<-ko}function Dr(e,t,r,a,i){var n=1-i;return n*n*(n*e+3*i*t)+i*i*(i*a+3*n*r)}function uR(e,t,r,a,i){var n=1-i;return 3*(((t-e)*n+2*(r-t)*i)*n+(a-r)*i*i)}function vR(e,t,r,a,i,n){var u=a+3*(t-r)-e,c=3*(r-t*2+e),o=3*(t-e),h=e-i,s=c*c-3*u*o,v=c*o-9*u*h,l=o*o-3*c*h,d=0;if(Qr(s)&&Qr(v))if(Qr(c))n[0]=0;else{var f=-o/c;f>=0&&f<=1&&(n[d++]=f)}else{var m=v*v-4*s*l;if(Qr(m)){var g=v/s,f=-c/u+g,p=-g/2;f>=0&&f<=1&&(n[d++]=f),p>=0&&p<=1&&(n[d++]=p)}else if(m>0){var y=ea(m),_=s*c+1.5*u*(-v+y),S=s*c+1.5*u*(-v-y);_<0?_=-Fn(-_,$n):_=Fn(_,$n),S<0?S=-Fn(-S,$n):S=Fn(S,$n);var f=(-c-(_+S))/(3*u);f>=0&&f<=1&&(n[d++]=f)}else{var T=(2*s*c-3*u*v)/(2*ea(s*s*s)),w=Math.acos(T)/3,x=ea(s),b=Math.cos(w),f=(-c-2*x*b)/(3*u),p=(-c+x*(b+fp*Math.sin(w)))/(3*u),A=(-c+x*(b-fp*Math.sin(w)))/(3*u);f>=0&&f<=1&&(n[d++]=f),p>=0&&p<=1&&(n[d++]=p),A>=0&&A<=1&&(n[d++]=A)}}return d}function hR(e,t,r,a,i){var n=6*r-12*t+6*e,u=9*t+3*a-3*e-9*r,c=3*t-3*e,o=0;if(Qr(u)){if(OT(n)){var h=-c/n;h>=0&&h<=1&&(i[o++]=h)}}else{var s=n*n-4*u*c;if(Qr(s))i[0]=-n/(2*u);else if(s>0){var v=ea(s),h=(-n+v)/(2*u),l=(-n-v)/(2*u);h>=0&&h<=1&&(i[o++]=h),l>=0&&l<=1&&(i[o++]=l)}}return o}function cR(e,t,r,a,i,n){var u=(t-e)*i+e,c=(r-t)*i+t,o=(a-r)*i+r,h=(c-u)*i+u,s=(o-c)*i+c,v=(s-h)*i+h;n[0]=e,n[1]=u,n[2]=h,n[3]=v,n[4]=v,n[5]=s,n[6]=o,n[7]=a}function fR(e,t,r,a,i,n,u,c,o,h,s){var v,l=.005,d=1/0,f,m,g,p;mr[0]=o,mr[1]=h;for(var y=0;y<1;y+=.05)Wt[0]=Dr(e,r,i,u,y),Wt[1]=Dr(t,a,n,c,y),g=Xa(mr,Wt),g<d&&(v=y,d=g);d=1/0;for(var _=0;_<32&&!(l<kT);_++)f=v-l,m=v+l,Wt[0]=Dr(e,r,i,u,f),Wt[1]=Dr(t,a,n,c,f),g=Xa(Wt,mr),f>=0&&g<d?(v=f,d=g):(Ka[0]=Dr(e,r,i,u,m),Ka[1]=Dr(t,a,n,c,m),p=Xa(Ka,mr),m<=1&&p<d?(v=m,d=p):l*=.5);return s&&(s[0]=Dr(e,r,i,u,v),s[1]=Dr(t,a,n,c,v)),ea(d)}function Lr(e,t,r,a){var i=1-a;return i*(i*e+2*a*t)+a*a*r}function dR(e,t,r,a){return 2*((1-a)*(t-e)+a*(r-t))}function gR(e,t,r,a,i){var n=e-2*t+r,u=2*(t-e),c=e-a,o=0;if(Qr(n)){if(OT(u)){var h=-c/u;h>=0&&h<=1&&(i[o++]=h)}}else{var s=u*u-4*n*c;if(Qr(s)){var h=-u/(2*n);h>=0&&h<=1&&(i[o++]=h)}else if(s>0){var v=ea(s),h=(-u+v)/(2*n),l=(-u-v)/(2*n);h>=0&&h<=1&&(i[o++]=h),l>=0&&l<=1&&(i[o++]=l)}}return o}function pR(e,t,r){var a=e+r-2*t;return a===0?.5:(e-t)/a}function mR(e,t,r,a,i){var n=(t-e)*a+e,u=(r-t)*a+t,c=(u-n)*a+n;i[0]=e,i[1]=n,i[2]=c,i[3]=c,i[4]=u,i[5]=r}function yR(e,t,r,a,i,n,u,c,o){var h,s=.005,v=1/0;mr[0]=u,mr[1]=c;for(var l=0;l<1;l+=.05){Wt[0]=Lr(e,r,i,l),Wt[1]=Lr(t,a,n,l);var d=Xa(mr,Wt);d<v&&(h=l,v=d)}v=1/0;for(var f=0;f<32&&!(s<kT);f++){var m=h-s,g=h+s;Wt[0]=Lr(e,r,i,m),Wt[1]=Lr(t,a,n,m);var d=Xa(Wt,mr);if(m>=0&&d<v)h=m,v=d;else{Ka[0]=Lr(e,r,i,g),Ka[1]=Lr(t,a,n,g);var p=Xa(Ka,mr);g<=1&&p<v?(h=g,v=p):s*=.5}}return o&&(o[0]=Lr(e,r,i,h),o[1]=Lr(t,a,n,h)),ea(v)}vt.cubicAt=Dr;vt.cubicDerivativeAt=uR;vt.cubicRootAt=vR;vt.cubicExtrema=hR;vt.cubicSubdivide=cR;vt.cubicProjectPoint=fR;vt.quadraticAt=Lr;vt.quadraticDerivativeAt=dR;vt.quadraticRootAt=gR;vt.quadraticExtremum=pR;vt.quadraticSubdivide=mR;vt.quadraticProjectPoint=yR;var ua={},dp;function Jo(){if(dp)return ua;dp=1;var e=Ye(),t=vt,r=Math.min,a=Math.max,i=Math.sin,n=Math.cos,u=Math.PI*2,c=e.create(),o=e.create(),h=e.create();function s(p,y,_){if(p.length!==0){var S=p[0],T=S[0],w=S[0],x=S[1],b=S[1],A;for(A=1;A<p.length;A++)S=p[A],T=r(T,S[0]),w=a(w,S[0]),x=r(x,S[1]),b=a(b,S[1]);y[0]=T,y[1]=x,_[0]=w,_[1]=b}}function v(p,y,_,S,T,w){T[0]=r(p,_),T[1]=r(y,S),w[0]=a(p,_),w[1]=a(y,S)}var l=[],d=[];function f(p,y,_,S,T,w,x,b,A,C){var M=t.cubicExtrema,D=t.cubicAt,L,P=M(p,_,T,x,l);for(A[0]=1/0,A[1]=1/0,C[0]=-1/0,C[1]=-1/0,L=0;L<P;L++){var I=D(p,_,T,x,l[L]);A[0]=r(I,A[0]),C[0]=a(I,C[0])}for(P=M(y,S,w,b,d),L=0;L<P;L++){var E=D(y,S,w,b,d[L]);A[1]=r(E,A[1]),C[1]=a(E,C[1])}A[0]=r(p,A[0]),C[0]=a(p,C[0]),A[0]=r(x,A[0]),C[0]=a(x,C[0]),A[1]=r(y,A[1]),C[1]=a(y,C[1]),A[1]=r(b,A[1]),C[1]=a(b,C[1])}function m(p,y,_,S,T,w,x,b){var A=t.quadraticExtremum,C=t.quadraticAt,M=a(r(A(p,_,T),1),0),D=a(r(A(y,S,w),1),0),L=C(p,_,T,M),P=C(y,S,w,D);x[0]=r(p,T,L),x[1]=r(y,w,P),b[0]=a(p,T,L),b[1]=a(y,w,P)}function g(p,y,_,S,T,w,x,b,A){var C=e.min,M=e.max,D=Math.abs(T-w);if(D%u<1e-4&&D>1e-4){b[0]=p-_,b[1]=y-S,A[0]=p+_,A[1]=y+S;return}if(c[0]=n(T)*_+p,c[1]=i(T)*S+y,o[0]=n(w)*_+p,o[1]=i(w)*S+y,C(b,c,o),M(A,c,o),T=T%u,T<0&&(T=T+u),w=w%u,w<0&&(w=w+u),T>w&&!x?w+=u:T<w&&x&&(T+=u),x){var L=w;w=T,T=L}for(var P=0;P<w;P+=Math.PI/2)P>T&&(h[0]=n(P)*_+p,h[1]=i(P)*S+y,C(b,h,b),M(A,h,A))}return ua.fromPoints=s,ua.fromLine=v,ua.fromCubic=f,ua.fromQuadratic=m,ua.fromArc=g,ua}var _R=vt,gp=Ye(),Ci=Jo(),xR=Ke,SR=si,pp=SR.devicePixelRatio,at={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},hr=[],Hr=[],cr=[],fr=[],mp=Math.min,yp=Math.max,Mi=Math.cos,Di=Math.sin,Un=Math.sqrt,za=Math.abs,js=typeof Float32Array<"u",Oo=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Oo.prototype={constructor:Oo,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,r){r=r||0,this._ux=za(r/pp/e)||0,this._uy=za(r/pp/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(at.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var r=za(e-this._xi)>this._ux||za(t-this._yi)>this._uy||this._len<5;return this.addData(at.L,e,t),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),r&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,r,a,i,n){return this.addData(at.C,e,t,r,a,i,n),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,r,a,i,n):this._ctx.bezierCurveTo(e,t,r,a,i,n)),this._xi=i,this._yi=n,this},quadraticCurveTo:function(e,t,r,a){return this.addData(at.Q,e,t,r,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,r,a):this._ctx.quadraticCurveTo(e,t,r,a)),this._xi=r,this._yi=a,this},arc:function(e,t,r,a,i,n){return this.addData(at.A,e,t,r,r,a,i-a,0,n?0:1),this._ctx&&this._ctx.arc(e,t,r,a,i,n),this._xi=Mi(i)*r+e,this._yi=Di(i)*r+t,this},arcTo:function(e,t,r,a,i){return this._ctx&&this._ctx.arcTo(e,t,r,a,i),this},rect:function(e,t,r,a){return this._ctx&&this._ctx.rect(e,t,r,a),this.addData(at.R,e,t,r,a),this},closePath:function(){this.addData(at.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,r),e.closePath()),this._xi=t,this._yi=r,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,r=0;r<e.length;r++)t+=e[r];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length===t)&&js&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,a=this._len,i=0;i<t;i++)r+=e[i].len();js&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<t;i++)for(var n=e[i].data,u=0;u<n.length;u++)this.data[a++]=n[u];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var r=0;r<arguments.length;r++)t[this._len++]=arguments[r];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var r=this._dashSum,a=this._dashOffset,i=this._lineDash,n=this._ctx,u=this._xi,c=this._yi,o=e-u,h=t-c,s=Un(o*o+h*h),v=u,l=c,d,f=i.length,m;for(o/=s,h/=s,a<0&&(a=r+a),a%=r,v-=a*o,l-=a*h;o>0&&v<=e||o<0&&v>=e||o===0&&(h>0&&l<=t||h<0&&l>=t);)m=this._dashIdx,d=i[m],v+=o*d,l+=h*d,this._dashIdx=(m+1)%f,!(o>0&&v<u||o<0&&v>u||h>0&&l<c||h<0&&l>c)&&n[m%2?"moveTo":"lineTo"](o>=0?mp(v,e):yp(v,e),h>=0?mp(l,t):yp(l,t));o=v-e,h=l-t,this._dashOffset=-Un(o*o+h*h)},_dashedBezierTo:function(e,t,r,a,i,n){var u=this._dashSum,c=this._dashOffset,o=this._lineDash,h=this._ctx,s=this._xi,v=this._yi,l,d,f,m=_R.cubicAt,g=0,p=this._dashIdx,y=o.length,_,S,T=0;for(c<0&&(c=u+c),c%=u,l=0;l<1;l+=.1)d=m(s,e,r,i,l+.1)-m(s,e,r,i,l),f=m(v,t,a,n,l+.1)-m(v,t,a,n,l),g+=Un(d*d+f*f);for(;p<y&&(T+=o[p],!(T>c));p++);for(l=(T-c)/g;l<=1;)_=m(s,e,r,i,l),S=m(v,t,a,n,l),p%2?h.moveTo(_,S):h.lineTo(_,S),l+=o[p]/g,p=(p+1)%y;p%2!==0&&h.lineTo(i,n),d=i-_,f=n-S,this._dashOffset=-Un(d*d+f*f)},_dashedQuadraticTo:function(e,t,r,a){var i=r,n=a;r=(r+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,r,a,i,n)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,js&&(this.data=new Float32Array(e)))},getBoundingRect:function(){hr[0]=hr[1]=cr[0]=cr[1]=Number.MAX_VALUE,Hr[0]=Hr[1]=fr[0]=fr[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,r=0,a=0,i=0,n=0;n<e.length;){var u=e[n++];switch(n===1&&(t=e[n],r=e[n+1],a=t,i=r),u){case at.M:a=e[n++],i=e[n++],t=a,r=i,cr[0]=a,cr[1]=i,fr[0]=a,fr[1]=i;break;case at.L:Ci.fromLine(t,r,e[n],e[n+1],cr,fr),t=e[n++],r=e[n++];break;case at.C:Ci.fromCubic(t,r,e[n++],e[n++],e[n++],e[n++],e[n],e[n+1],cr,fr),t=e[n++],r=e[n++];break;case at.Q:Ci.fromQuadratic(t,r,e[n++],e[n++],e[n],e[n+1],cr,fr),t=e[n++],r=e[n++];break;case at.A:var c=e[n++],o=e[n++],h=e[n++],s=e[n++],v=e[n++],l=e[n++]+v;n+=1;var d=1-e[n++];n===1&&(a=Mi(v)*h+c,i=Di(v)*s+o),Ci.fromArc(c,o,h,s,v,l,d,cr,fr),t=Mi(l)*h+c,r=Di(l)*s+o;break;case at.R:a=t=e[n++],i=r=e[n++];var f=e[n++],m=e[n++];Ci.fromLine(a,i,a+f,i+m,cr,fr);break;case at.Z:t=a,r=i;break}gp.min(hr,hr,cr),gp.max(Hr,Hr,fr)}return n===0&&(hr[0]=hr[1]=Hr[0]=Hr[1]=0),new xR(hr[0],hr[1],Hr[0]-hr[0],Hr[1]-hr[1])},rebuildPath:function(e){for(var t=this.data,r,a,i,n,u,c,o=this._ux,h=this._uy,s=this._len,v=0;v<s;){var l=t[v++];switch(v===1&&(i=t[v],n=t[v+1],r=i,a=n),l){case at.M:r=i=t[v++],a=n=t[v++],e.moveTo(i,n);break;case at.L:u=t[v++],c=t[v++],(za(u-i)>o||za(c-n)>h||v===s-1)&&(e.lineTo(u,c),i=u,n=c);break;case at.C:e.bezierCurveTo(t[v++],t[v++],t[v++],t[v++],t[v++],t[v++]),i=t[v-2],n=t[v-1];break;case at.Q:e.quadraticCurveTo(t[v++],t[v++],t[v++],t[v++]),i=t[v-2],n=t[v-1];break;case at.A:var d=t[v++],f=t[v++],m=t[v++],g=t[v++],p=t[v++],y=t[v++],_=t[v++],S=t[v++],T=m>g?m:g,w=m>g?1:m/g,x=m>g?g/m:1,b=Math.abs(m-g)>.001,A=p+y;b?(e.translate(d,f),e.rotate(_),e.scale(w,x),e.arc(0,0,T,p,A,1-S),e.scale(1/w,1/x),e.rotate(-_),e.translate(-d,-f)):e.arc(d,f,T,p,A,1-S),v===1&&(r=Mi(p)*m+d,a=Di(p)*g+f),i=Mi(A)*m+d,n=Di(A)*g+f;break;case at.R:r=i=t[v],a=n=t[v+1],e.rect(t[v++],t[v++],t[v++],t[v++]);break;case at.Z:e.closePath(),i=r,n=a}}}};Oo.CMD=at;var bR=Oo,fi=bR,Ad={},Td={};function wR(e,t,r,a,i,n,u){if(i===0)return!1;var c=i,o=0,h=e;if(u>t+c&&u>a+c||u<t-c&&u<a-c||n>e+c&&n>r+c||n<e-c&&n<r-c)return!1;if(e!==r)o=(t-a)/(e-r),h=(e*a-r*t)/(e-r);else return Math.abs(n-e)<=c/2;var s=o*n-u+h,v=s*s/(o*o+1);return v<=c/2*c/2}Td.containStroke=wR;var zT={},AR=vt;function TR(e,t,r,a,i,n,u,c,o,h,s){if(o===0)return!1;var v=o;if(s>t+v&&s>a+v&&s>n+v&&s>c+v||s<t-v&&s<a-v&&s<n-v&&s<c-v||h>e+v&&h>r+v&&h>i+v&&h>u+v||h<e-v&&h<r-v&&h<i-v&&h<u-v)return!1;var l=AR.cubicProjectPoint(e,t,r,a,i,n,u,c,h,s,null);return l<=v/2}zT.containStroke=TR;var Cd={},CR=vt,MR=CR.quadraticProjectPoint;function DR(e,t,r,a,i,n,u,c,o){if(u===0)return!1;var h=u;if(o>t+h&&o>a+h&&o>n+h||o<t-h&&o<a-h&&o<n-h||c>e+h&&c>r+h&&c>i+h||c<e-h&&c<r-h&&c<i-h)return!1;var s=MR(e,t,r,a,i,n,c,o,null);return s<=h/2}Cd.containStroke=DR;var BT={},Md={},_p=Math.PI*2;function LR(e){return e%=_p,e<0&&(e+=_p),e}Md.normalizeRadian=LR;var PR=Md,Wn=PR.normalizeRadian,Li=Math.PI*2;function IR(e,t,r,a,i,n,u,c,o){if(u===0)return!1;var h=u;c-=e,o-=t;var s=Math.sqrt(c*c+o*o);if(s-h>r||s+h<r)return!1;if(Math.abs(a-i)%Li<1e-4)return!0;if(n){var v=a;a=Wn(i),i=Wn(v)}else a=Wn(a),i=Wn(i);a>i&&(i+=Li);var l=Math.atan2(o,c);return l<0&&(l+=Li),l>=a&&l<=i||l+Li>=a&&l+Li<=i}BT.containStroke=IR;function RR(e,t,r,a,i,n){if(n>t&&n>a||n<t&&n<a||a===t)return 0;var u=a<t?1:-1,c=(n-t)/(a-t);(c===1||c===0)&&(u=a<t?.5:-.5);var o=c*(r-e)+e;return o===i?1/0:o>i?u:0}var NT=RR,ER=fi,Ba=Td,kR=zT,OR=Cd,zR=BT,BR=Md,Zn=BR.normalizeRadian,yr=vt,va=NT,qr=ER.CMD,Na=Math.PI*2,NR=1e-4;function VR(e,t){return Math.abs(e-t)<NR}var Pt=[-1,-1,-1],Ut=[-1,-1];function HR(){var e=Ut[0];Ut[0]=Ut[1],Ut[1]=e}function qR(e,t,r,a,i,n,u,c,o,h){if(h>t&&h>a&&h>n&&h>c||h<t&&h<a&&h<n&&h<c)return 0;var s=yr.cubicRootAt(t,a,n,c,h,Pt);if(s===0)return 0;for(var v=0,l=-1,d,f,m=0;m<s;m++){var g=Pt[m],p=g===0||g===1?.5:1,y=yr.cubicAt(e,r,i,u,g);y<o||(l<0&&(l=yr.cubicExtrema(t,a,n,c,Ut),Ut[1]<Ut[0]&&l>1&&HR(),d=yr.cubicAt(t,a,n,c,Ut[0]),l>1&&(f=yr.cubicAt(t,a,n,c,Ut[1]))),l===2?g<Ut[0]?v+=d<t?p:-p:g<Ut[1]?v+=f<d?p:-p:v+=c<f?p:-p:g<Ut[0]?v+=d<t?p:-p:v+=c<d?p:-p)}return v}function GR(e,t,r,a,i,n,u,c){if(c>t&&c>a&&c>n||c<t&&c<a&&c<n)return 0;var o=yr.quadraticRootAt(t,a,n,c,Pt);if(o===0)return 0;var h=yr.quadraticExtremum(t,a,n);if(h>=0&&h<=1){for(var s=0,v=yr.quadraticAt(t,a,n,h),l=0;l<o;l++){var d=Pt[l]===0||Pt[l]===1?.5:1,f=yr.quadraticAt(e,r,i,Pt[l]);f<u||(Pt[l]<h?s+=v<t?d:-d:s+=n<v?d:-d)}return s}else{var d=Pt[0]===0||Pt[0]===1?.5:1,f=yr.quadraticAt(e,r,i,Pt[0]);return f<u?0:n<t?d:-d}}function FR(e,t,r,a,i,n,u,c){if(c-=t,c>r||c<-r)return 0;var o=Math.sqrt(r*r-c*c);Pt[0]=-o,Pt[1]=o;var h=Math.abs(a-i);if(h<1e-4)return 0;if(h%Na<1e-4){a=0,i=Na;var s=n?1:-1;return u>=Pt[0]+e&&u<=Pt[1]+e?s:0}if(n){var o=a;a=Zn(i),i=Zn(o)}else a=Zn(a),i=Zn(i);a>i&&(i+=Na);for(var v=0,l=0;l<2;l++){var d=Pt[l];if(d+e>u){var f=Math.atan2(c,d),s=n?1:-1;f<0&&(f=Na+f),(f>=a&&f<=i||f+Na>=a&&f+Na<=i)&&(f>Math.PI/2&&f<Math.PI*1.5&&(s=-s),v+=s)}}return v}function VT(e,t,r,a,i){for(var n=0,u=0,c=0,o=0,h=0,s=0;s<e.length;){var v=e[s++];switch(v===qr.M&&s>1&&(r||(n+=va(u,c,o,h,a,i))),s===1&&(u=e[s],c=e[s+1],o=u,h=c),v){case qr.M:o=e[s++],h=e[s++],u=o,c=h;break;case qr.L:if(r){if(Ba.containStroke(u,c,e[s],e[s+1],t,a,i))return!0}else n+=va(u,c,e[s],e[s+1],a,i)||0;u=e[s++],c=e[s++];break;case qr.C:if(r){if(kR.containStroke(u,c,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],t,a,i))return!0}else n+=qR(u,c,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],a,i)||0;u=e[s++],c=e[s++];break;case qr.Q:if(r){if(OR.containStroke(u,c,e[s++],e[s++],e[s],e[s+1],t,a,i))return!0}else n+=GR(u,c,e[s++],e[s++],e[s],e[s+1],a,i)||0;u=e[s++],c=e[s++];break;case qr.A:var l=e[s++],d=e[s++],f=e[s++],m=e[s++],g=e[s++],p=e[s++];s+=1;var y=1-e[s++],w=Math.cos(g)*f+l,x=Math.sin(g)*m+d;s>1?n+=va(u,c,w,x,a,i):(o=w,h=x);var _=(a-l)*m/f+l;if(r){if(zR.containStroke(l,d,m,g,g+p,y,t,_,i))return!0}else n+=FR(l,d,m,g,g+p,y,_,i);u=Math.cos(g+p)*f+l,c=Math.sin(g+p)*m+d;break;case qr.R:o=u=e[s++],h=c=e[s++];var S=e[s++],T=e[s++],w=o+S,x=h+T;if(r){if(Ba.containStroke(o,h,w,h,t,a,i)||Ba.containStroke(w,h,w,x,t,a,i)||Ba.containStroke(w,x,o,x,t,a,i)||Ba.containStroke(o,x,o,h,t,a,i))return!0}else n+=va(w,h,w,x,a,i),n+=va(o,x,o,h,a,i);break;case qr.Z:if(r){if(Ba.containStroke(u,c,o,h,t,a,i))return!0}else n+=va(u,c,o,h,a,i);u=o,c=h;break}}return!r&&!VR(c,h)&&(n+=va(u,c,o,h,a,i)||0),n!==0}function $R(e,t,r){return VT(e,0,!1,t,r)}function UR(e,t,r,a){return VT(e,t,!0,r,a)}Ad.contain=$R;Ad.containStroke=UR;var Dd=pn,Ld=Z,qf=fi,xp=Ad,WR=jA,Sp=WR.prototype.getCanvasPattern,el=Math.abs,ZR=new qf(!0);function _a(e){Dd.call(this,e),this.path=null}_a.prototype={constructor:_a,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var r=this.style,a=this.path||ZR,i=r.hasStroke(),n=r.hasFill(),u=r.fill,c=r.stroke,o=n&&!!u.colorStops,h=i&&!!c.colorStops,s=n&&!!u.image,v=i&&!!c.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var l;o&&(l=l||this.getBoundingRect(),this._fillGradient=r.getGradient(e,u,l)),h&&(l=l||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,c,l))}o?e.fillStyle=this._fillGradient:s&&(e.fillStyle=Sp.call(u,e)),h?e.strokeStyle=this._strokeGradient:v&&(e.strokeStyle=Sp.call(c,e));var d=r.lineDash,f=r.lineDashOffset,m=!!e.setLineDash,g=this.getGlobalScale();if(a.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||d&&!m&&i?(a.beginPath(e),d&&!m&&(a.setLineDash(d),a.setLineDashOffset(f)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),n)if(r.fillOpacity!=null){var p=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,a.fill(e),e.globalAlpha=p}else a.fill(e);if(d&&m&&(e.setLineDash(d),e.lineDashOffset=f),i)if(r.strokeOpacity!=null){var p=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,a.stroke(e),e.globalAlpha=p}else a.stroke(e);d&&m&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new qf},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var a=this.path;a||(a=this.path=new qf),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){i.copy(e);var n=t.lineWidth,u=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),u>1e-10&&(i.width+=n/u,i.height+=n/u,i.x-=n/u/2,i.y-=n/u/2)}return i}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=r[0],t=r[1],a.contain(e,t)){var n=this.path.data;if(i.hasStroke()){var u=i.lineWidth,c=i.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(i.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),xp.containStroke(n,u/c,e,t)))return!0}if(i.hasFill())return xp.contain(n,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Dd.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(Ld.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&el(e[0]-1)>1e-10&&el(e[3]-1)>1e-10?Math.sqrt(el(e[0]*e[3]-e[2]*e[1])):1}};_a.extend=function(e){var t=function(a){_a.call(this,a),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var u in i)!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&(n[u]=i[u])}e.init&&e.init.call(this,a)};Ld.inherits(t,_a);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};Ld.inherits(_a,Dd);var YR=_a,it=YR,XR=fi,KR=Ye(),tl=KR.applyTransform,Va=XR.CMD,QR=[[],[],[]],bp=Math.sqrt,JR=Math.atan2;function jR(e,t){var r=e.data,a,i,n,u,c,o,h=Va.M,s=Va.C,v=Va.L,l=Va.R,d=Va.A,f=Va.Q;for(n=0,u=0;n<r.length;){switch(a=r[n++],u=n,i=0,a){case h:i=1;break;case v:i=1;break;case s:i=3;break;case f:i=2;break;case d:var m=t[4],g=t[5],p=bp(t[0]*t[0]+t[1]*t[1]),y=bp(t[2]*t[2]+t[3]*t[3]),_=JR(-t[1]/y,t[0]/p);r[n]*=p,r[n++]+=m,r[n]*=y,r[n++]+=g,r[n++]*=p,r[n++]*=y,r[n++]+=_,r[n++]+=_,n+=2,u=n;break;case l:o[0]=r[n++],o[1]=r[n++],tl(o,o,t),r[u++]=o[0],r[u++]=o[1],o[0]+=r[n++],o[1]+=r[n++],tl(o,o,t),r[u++]=o[0],r[u++]=o[1]}for(c=0;c<i;c++){var o=QR[c];o[0]=r[n++],o[1]=r[n++],tl(o,o,t),r[u++]=o[0],r[u++]=o[1]}}}var eE=jR,Pd=it,rl=fi,tE=eE,al=Math.sqrt,Yn=Math.sin,Xn=Math.cos,Kn=Math.PI,wp=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},Gf=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(wp(e)*wp(t))},Ap=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Gf(e,t))};function Tp(e,t,r,a,i,n,u,c,o,h,s){var v=o*(Kn/180),l=Xn(v)*(e-r)/2+Yn(v)*(t-a)/2,d=-1*Yn(v)*(e-r)/2+Xn(v)*(t-a)/2,f=l*l/(u*u)+d*d/(c*c);f>1&&(u*=al(f),c*=al(f));var m=(i===n?-1:1)*al((u*u*(c*c)-u*u*(d*d)-c*c*(l*l))/(u*u*(d*d)+c*c*(l*l)))||0,g=m*u*d/c,p=m*-c*l/u,y=(e+r)/2+Xn(v)*g-Yn(v)*p,_=(t+a)/2+Yn(v)*g+Xn(v)*p,S=Ap([1,0],[(l-g)/u,(d-p)/c]),T=[(l-g)/u,(d-p)/c],w=[(-1*l-g)/u,(-1*d-p)/c],x=Ap(T,w);Gf(T,w)<=-1&&(x=Kn),Gf(T,w)>=1&&(x=0),n===0&&x>0&&(x=x-2*Kn),n===1&&x<0&&(x=x+2*Kn),s.addData(h,y,_,u,c,S,x,v,n)}var rE=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,aE=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function iE(e){if(!e)return new rl;for(var t=0,r=0,a=t,i=r,n,u=new rl,c=rl.CMD,o=e.match(rE),h=0;h<o.length;h++){for(var s=o[h],v=s.charAt(0),l,d=s.match(aE)||[],f=d.length,m=0;m<f;m++)d[m]=parseFloat(d[m]);for(var g=0;g<f;){var p,y,_,S,T,w,x,b=t,A=r;switch(v){case"l":t+=d[g++],r+=d[g++],l=c.L,u.addData(l,t,r);break;case"L":t=d[g++],r=d[g++],l=c.L,u.addData(l,t,r);break;case"m":t+=d[g++],r+=d[g++],l=c.M,u.addData(l,t,r),a=t,i=r,v="l";break;case"M":t=d[g++],r=d[g++],l=c.M,u.addData(l,t,r),a=t,i=r,v="L";break;case"h":t+=d[g++],l=c.L,u.addData(l,t,r);break;case"H":t=d[g++],l=c.L,u.addData(l,t,r);break;case"v":r+=d[g++],l=c.L,u.addData(l,t,r);break;case"V":r=d[g++],l=c.L,u.addData(l,t,r);break;case"C":l=c.C,u.addData(l,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),t=d[g-2],r=d[g-1];break;case"c":l=c.C,u.addData(l,d[g++]+t,d[g++]+r,d[g++]+t,d[g++]+r,d[g++]+t,d[g++]+r),t+=d[g-2],r+=d[g-1];break;case"S":p=t,y=r;var C=u.len(),M=u.data;n===c.C&&(p+=t-M[C-4],y+=r-M[C-3]),l=c.C,b=d[g++],A=d[g++],t=d[g++],r=d[g++],u.addData(l,p,y,b,A,t,r);break;case"s":p=t,y=r;var C=u.len(),M=u.data;n===c.C&&(p+=t-M[C-4],y+=r-M[C-3]),l=c.C,b=t+d[g++],A=r+d[g++],t+=d[g++],r+=d[g++],u.addData(l,p,y,b,A,t,r);break;case"Q":b=d[g++],A=d[g++],t=d[g++],r=d[g++],l=c.Q,u.addData(l,b,A,t,r);break;case"q":b=d[g++]+t,A=d[g++]+r,t+=d[g++],r+=d[g++],l=c.Q,u.addData(l,b,A,t,r);break;case"T":p=t,y=r;var C=u.len(),M=u.data;n===c.Q&&(p+=t-M[C-4],y+=r-M[C-3]),t=d[g++],r=d[g++],l=c.Q,u.addData(l,p,y,t,r);break;case"t":p=t,y=r;var C=u.len(),M=u.data;n===c.Q&&(p+=t-M[C-4],y+=r-M[C-3]),t+=d[g++],r+=d[g++],l=c.Q,u.addData(l,p,y,t,r);break;case"A":_=d[g++],S=d[g++],T=d[g++],w=d[g++],x=d[g++],b=t,A=r,t=d[g++],r=d[g++],l=c.A,Tp(b,A,t,r,w,x,_,S,T,l,u);break;case"a":_=d[g++],S=d[g++],T=d[g++],w=d[g++],x=d[g++],b=t,A=r,t+=d[g++],r+=d[g++],l=c.A,Tp(b,A,t,r,w,x,_,S,T,l,u);break}}(v==="z"||v==="Z")&&(l=c.Z,u.addData(l),t=a,r=i),n=l}return u.toStatic(),u}function HT(e,t){var r=iE(e);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i)}else{var i=a;r.rebuildPath(i)}},t.applyTransform=function(a){tE(r,a),this.dirty(!0)},t}function nE(e,t){return new Pd(HT(e,t))}function oE(e,t){return Pd.extend(HT(e,t))}function sE(e,t){for(var r=[],a=e.length,i=0;i<a;i++){var n=e[i];n.path||n.createPathProxy(),n.__dirtyPath&&n.buildPath(n.path,n.shape,!0),r.push(n.path)}var u=new Pd(t);return u.createPathProxy(),u.buildPath=function(c){c.appendPath(r);var o=c.getContext();o&&c.rebuildPath(o)},u}mn.createFromString=nE;mn.extendFromString=oE;mn.mergePath=sE;var qT=pn,lE=Z,uE=Xe,Pi=nr,vE=li,hE=vE.ContextCachedBy,zo=function(e){qT.call(this,e)};zo.prototype={constructor:zo,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&Pi.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var a=r.text;if(a!=null&&(a+=""),!Pi.needDrawText(a,r)){e.__attrCachedBy=hE.NONE;return}this.setTransform(e),Pi.renderText(this,e,a,r,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Pi.normalizeTextStyle(e,!0),!this._rect){e.text;var t=uE.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Pi.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};lE.inherits(zo,qT);var cE=zo,wa=cE,fE=it,dE=fE.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),GT=dE,Cp=ot,Gr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function gE(e){return Cp.browser.ie&&Cp.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,a;if(t)for(var i=0;i<t.length;i++){var n=t[i],u=n&&n.shape,c=n&&n.type;if(u&&(c==="sector"&&u.startAngle===u.endAngle||c==="rect"&&(!u.width||!u.height))){for(var o=0;o<Gr.length;o++)Gr[o][2]=r[Gr[o][0]],r[Gr[o][0]]=Gr[o][1];a=!0;break}}if(e.apply(this,arguments),a)for(var o=0;o<Gr.length;o++)r[Gr[o][0]]=Gr[o][2]}:e}var FT=gE,Mp=it,pE=FT,mE=Mp.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:pE(Mp.prototype.brush),buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),n=Math.max(t.r,0),u=t.startAngle,c=t.endAngle,o=t.clockwise,h=Math.cos(u),s=Math.sin(u);e.moveTo(h*i+r,s*i+a),e.lineTo(h*n+r,s*n+a),e.arc(r,a,n,u,c,!o),e.lineTo(Math.cos(c)*i+r,Math.sin(c)*i+a),i!==0&&e.arc(r,a,i,c,u,o),e.closePath()}}),yE=mE,_E=it,xE=_E.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.PI*2;e.moveTo(r+t.r,a),e.arc(r,a,t.r,0,i,!1),e.moveTo(r+t.r0,a),e.arc(r,a,t.r0,0,i,!0)}}),SE=xE,Id={},bE=Ye(),wE=bE.distance;function Dp(e,t,r,a,i,n,u){var c=(r-e)*.5,o=(a-t)*.5;return(2*(t-r)+c+o)*u+(-3*(t-r)-2*c-o)*n+c*i+t}function AE(e,t){for(var r=e.length,a=[],i=0,n=1;n<r;n++)i+=wE(e[n-1],e[n]);var u=i/2;u=u<r?r:u;for(var n=0;n<u;n++){var c=n/(u-1)*(t?r:r-1),o=Math.floor(c),h=c-o,s,v=e[o%r],l,d;t?(s=e[(o-1+r)%r],l=e[(o+1)%r],d=e[(o+2)%r]):(s=e[o===0?o:o-1],l=e[o>r-2?r-1:o+1],d=e[o>r-3?r-1:o+2]);var f=h*h,m=h*f;a.push([Dp(s[0],v[0],l[0],d[0],h,f,m),Dp(s[1],v[1],l[1],d[1],h,f,m)])}return a}var TE=AE,Aa=Ye(),Qn=Aa.min,Jn=Aa.max,il=Aa.scale,Lp=Aa.distance,Pp=Aa.add,CE=Aa.clone,ME=Aa.sub;function DE(e,t,r,a){var i=[],n=[],u=[],c=[],o,h,s,v;if(a){s=[1/0,1/0],v=[-1/0,-1/0];for(var l=0,d=e.length;l<d;l++)Qn(s,s,e[l]),Jn(v,v,e[l]);Qn(s,s,a[0]),Jn(v,v,a[1])}for(var l=0,d=e.length;l<d;l++){var f=e[l];if(r)o=e[l?l-1:d-1],h=e[(l+1)%d];else if(l===0||l===d-1){i.push(CE(e[l]));continue}else o=e[l-1],h=e[l+1];ME(n,h,o),il(n,n,t);var m=Lp(f,o),g=Lp(f,h),p=m+g;p!==0&&(m/=p,g/=p),il(u,n,-m),il(c,n,g);var y=Pp([],f,u),_=Pp([],f,c);a&&(Jn(y,y,s),Qn(y,y,v),Jn(_,_,s),Qn(_,_,v)),i.push(y),i.push(_)}return r&&i.push(i.shift()),i}var LE=DE,PE=TE,IE=LE;function RE(e,t,r){var a=t.points,i=t.smooth;if(a&&a.length>=2){if(i&&i!=="spline"){var n=IE(a,i,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var u=a.length,c=0;c<(r?u:u-1);c++){var o=n[c*2],h=n[c*2+1],s=a[(c+1)%u];e.bezierCurveTo(o[0],o[1],h[0],h[1],s[0],s[1])}}else{i==="spline"&&(a=PE(a,r)),e.moveTo(a[0][0],a[0][1]);for(var c=1,v=a.length;c<v;c++)e.lineTo(a[c][0],a[c][1])}r&&e.closePath()}}Id.buildPath=RE;var EE=it,kE=Id,OE=EE.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){kE.buildPath(e,t,!0)}}),$T=OE,zE=it,BE=Id,NE=zE.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){BE.buildPath(e,t,!1)}}),UT=NE,di={},Ua=Math.round;function VE(e,t,r){if(t){var a=t.x1,i=t.x2,n=t.y1,u=t.y2;e.x1=a,e.x2=i,e.y1=n,e.y2=u;var c=r&&r.lineWidth;c&&(Ua(a*2)===Ua(i*2)&&(e.x1=e.x2=ya(a,c,!0)),Ua(n*2)===Ua(u*2)&&(e.y1=e.y2=ya(n,c,!0)))}}function HE(e,t,r){if(t){var a=t.x,i=t.y,n=t.width,u=t.height;e.x=a,e.y=i,e.width=n,e.height=u;var c=r&&r.lineWidth;c&&(e.x=ya(a,c,!0),e.y=ya(i,c,!0),e.width=Math.max(ya(a+n,c,!1)-e.x,n===0?0:1),e.height=Math.max(ya(i+u,c,!1)-e.y,u===0?0:1))}}function ya(e,t,r){if(!t)return e;var a=Ua(e*2);return(a+Ua(t))%2===0?a/2:(a+(r?1:-1))/2}di.subPixelOptimizeLine=VE;di.subPixelOptimizeRect=HE;di.subPixelOptimize=ya;var qE=it,GE=dd,FE=di,$E=FE.subPixelOptimizeRect,ha={},UE=qE.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r,a,i,n;this.subPixelOptimize?($E(ha,t,this.style),r=ha.x,a=ha.y,i=ha.width,n=ha.height,ha.r=t.r,t=ha):(r=t.x,a=t.y,i=t.width,n=t.height),t.r?GE.buildPath(e,t):e.rect(r,a,i,n),e.closePath()}}),Rd=UE,WE=it,ZE=di,YE=ZE.subPixelOptimizeLine,Ii={},XE=WE.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r,a,i,n;this.subPixelOptimize?(YE(Ii,t,this.style),r=Ii.x1,a=Ii.y1,i=Ii.x2,n=Ii.y2):(r=t.x1,a=t.y1,i=t.x2,n=t.y2);var u=t.percent;u!==0&&(e.moveTo(r,a),u<1&&(i=r*(1-u)+i*u,n=a*(1-u)+n*u),e.lineTo(i,n))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),WT=XE,KE=it,QE=Ye(),gi=vt,Ip=gi.quadraticSubdivide,Rp=gi.cubicSubdivide,Ep=gi.quadraticAt,kp=gi.cubicAt,Op=gi.quadraticDerivativeAt,zp=gi.cubicDerivativeAt,Et=[];function Bp(e,t,r){var a=e.cpx2,i=e.cpy2;return a===null||i===null?[(r?zp:kp)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?zp:kp)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?Op:Ep)(e.x1,e.cpx1,e.x2,t),(r?Op:Ep)(e.y1,e.cpy1,e.y2,t)]}var JE=KE.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,n=t.y2,u=t.cpx1,c=t.cpy1,o=t.cpx2,h=t.cpy2,s=t.percent;s!==0&&(e.moveTo(r,a),o==null||h==null?(s<1&&(Ip(r,u,i,s,Et),u=Et[1],i=Et[2],Ip(a,c,n,s,Et),c=Et[1],n=Et[2]),e.quadraticCurveTo(u,c,i,n)):(s<1&&(Rp(r,u,o,i,s,Et),u=Et[1],o=Et[2],i=Et[3],Rp(a,c,h,n,s,Et),c=Et[1],h=Et[2],n=Et[3]),e.bezierCurveTo(u,c,o,h,i,n)))},pointAt:function(e){return Bp(this.shape,e,!1)},tangentAt:function(e){var t=Bp(this.shape,e,!0);return QE.normalize(t,t)}}),jE=JE,ek=it,tk=ek.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r,0),n=t.startAngle,u=t.endAngle,c=t.clockwise,o=Math.cos(n),h=Math.sin(n);e.moveTo(o*i+r,h*i+a),e.arc(r,a,i,n,u,!c)}}),rk=tk,Np=it,ak=Np.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1],e[r].segmentIgnoreThreshold)},buildPath:function(e,t){for(var r=t.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Np.prototype.getBoundingRect.call(this)}}),ik=ak,Ff=function(e){this.colorStops=e||[]};Ff.prototype={constructor:Ff,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var nk=Ff,jo=nk,ok=Z,ZT=jo,Bo=function(e,t,r,a,i,n){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=a??0,this.type="linear",this.global=n||!1,ZT.call(this,i)};Bo.prototype={constructor:Bo};ok.inherits(Bo,ZT);var sk=Bo,Ed=sk,lk=Z,YT=jo,No=function(e,t,r,a,i){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=i||!1,YT.call(this,a)};No.prototype={constructor:No};lk.inherits(No,YT);var uk=No,vk=uk,hk=Z,ck=hk.inherits,XT=pn,fk=Ke;function or(e){XT.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}or.prototype.incremental=!0;or.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};or.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};or.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};or.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};or.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};or.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var a=this._displayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===this._cursor?null:this._displayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var a=this._temporaryDisplayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===0?null:this._temporaryDisplayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var dk=[];or.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new fk(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(dk)),e.union(a)}this._rect=e}return this._rect};or.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++){var n=this._displayables[i];if(n.contain(e,t))return!0}return!1};ck(or,XT);var gk=or,kd=gk,Ht=Z,Od=mn,pk=ut,$f=Rt(),KT=Ye(),mk=it,yk=nd,zd=hi;me.Image=zd;var _k=ba;me.Group=_k;var xk=wa;me.Text=xk;var QT=GT;me.Circle=QT;var JT=yE;me.Sector=JT;var jT=SE;me.Ring=jT;var eC=$T;me.Polygon=eC;var tC=UT;me.Polyline=tC;var rC=Rd;me.Rect=rC;var aC=WT;me.Line=aC;var iC=jE;me.BezierCurve=iC;var nC=rk;me.Arc=nC;var Sk=ik;me.CompoundPath=Sk;var bk=Ed;me.LinearGradient=bk;var wk=vk;me.RadialGradient=wk;var Ak=Ke;me.BoundingRect=Ak;var Tk=kd;me.IncrementalDisplayable=Tk;var Bd=di,Vo=Math.max,Ho=Math.min,es={},Nd=1,Ck={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Vp="emphasis",Hp="normal",qp=1,Gp={},Uf={};function Mk(e){return mk.extend(e)}function Dk(e,t){return Od.extendFromString(e,t)}function Sr(e,t){Uf[e]=t}function Lk(e){if(Uf.hasOwnProperty(e))return Uf[e]}function oC(e,t,r,a){var i=Od.createFromString(e,t);return r&&(a==="center"&&(r=sC(r,i.getBoundingRect())),lC(i,r)),i}function Pk(e,t,r){var a=new zd({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var n={width:i.width,height:i.height};a.setStyle(sC(t,n))}}});return a}function sC(e,t){var r=t.width/t.height,a=e.height*r,i;a<=e.width?i=e.height:(a=e.width,i=a/r);var n=e.x+e.width/2,u=e.y+e.height/2;return{x:n-a/2,y:u-i/2,width:a,height:i}}var Ik=Od.mergePath;function lC(e,t){if(e.applyTransform){var r=e.getBoundingRect(),a=r.calculateTransform(t);e.applyTransform(a)}}function Rk(e){return Bd.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function Ek(e){return Bd.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var kk=Bd.subPixelOptimize;function Fp(e){return e!=null&&e!=="none"}var $p=Ht.createHashMap(),Up=0;function Ok(e){if(typeof e!="string")return e;var t=$p.get(e);return t||(t=pk.lift(e,-.1),Up<1e4&&($p.set(e,t),Up++)),t}function zk(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var r=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var i in t)t[i]!=null&&(r[i]=a[i]);r.fill=a.fill,r.stroke=a.stroke}}function Vd(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var r=e.__zr,a=e.useHoverLayer&&r&&r.painter.type==="canvas";if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!r&&e.useHoverLayer)){var i=e,n=e.style;a&&(i=r.addHover(e),n=i.style),qo(n),a||zk(i),n.extendFrom(t),Wp(n,t,"fill"),Wp(n,t,"stroke"),tn(n),a||(e.dirty(!1),e.z2+=Nd)}}}function Wp(e,t,r){!Fp(t[r])&&Fp(e[r])&&(e[r]=Ok(e[r]))}function Hd(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var r=e.style,a=e.__cachedNormalStl;a&&(qo(r),e.setStyle(a),tn(r));var i=e.__cachedNormalZ2;i!=null&&e.z2-i===Nd&&(e.z2=i)}}function yn(e,t,r){var a=Hp,i=Hp,n;e.__highlighted&&(a=Vp,n=!0),t(e,r),e.__highlighted&&(i=Vp,n=!0),e.isGroup&&e.traverse(function(u){!u.isGroup&&t(u,r)}),n&&e.__highDownOnUpdate&&e.__highDownOnUpdate(a,i)}function uC(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Hd(e),Vd(e))}function Bk(e){!vC(this,e)&&!this.__highByOuter&&yn(this,Vd)}function Nk(e){!vC(this,e)&&!this.__highByOuter&&yn(this,Hd)}function Vk(e){this.__highByOuter|=1<<(e||0),yn(this,Vd)}function Hk(e){!(this.__highByOuter&=~(1<<(e||0)))&&yn(this,Hd)}function vC(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function qk(e,t){hC(e,!0),yn(e,uC,t)}function hC(e,t){var r=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!r||e.__highDownDispatcher){var a=r?"off":"on";e[a]("mouseover",Bk)[a]("mouseout",Nk),e[a]("emphasis",Vk)[a]("normal",Hk),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!r}}function Gk(e){return!!(e&&e.__highDownDispatcher)}function Fk(e){var t=Gp[e];return t==null&&qp<=32&&(t=Gp[e]=qp++),t}function $k(e,t,r,a,i,n,u){i=i||es;var c=i.labelFetcher,o=i.labelDataIndex,h=i.labelDimIndex,s=r.getShallow("show"),v=a.getShallow("show"),l;(s||v)&&(c&&(l=c.getFormattedLabel(o,"normal",null,h)),l==null&&(l=Ht.isFunction(i.defaultText)?i.defaultText(o,i):i.defaultText));var d=s?l:null,f=v?Ht.retrieve2(c?c.getFormattedLabel(o,"emphasis",null,h):null,l):null;(d!=null||f!=null)&&(Wf(e,r,n,i),Wf(t,a,u,i,!0)),e.text=d,t.text=f}function Uk(e,t,r){var a=e.style;t&&(qo(a),e.setStyle(t),tn(a)),a=e.__hoverStl,r&&a&&(qo(a),Ht.extend(a,r),tn(a))}function Wf(e,t,r,a,i){return cC(e,t,a,i),r&&Ht.extend(e,r),e}function Wk(e,t,r){var a={isRectText:!0},i;r===!1?i=!0:a.autoColor=r,cC(e,t,a,i)}function cC(e,t,r,a){if(r=r||es,r.isRectText){var i;r.getTextPosition?i=r.getTextPosition(t,a):(i=t.getShallow("position")||(a?null:"inside"),i==="outside"&&(i="top")),e.textPosition=i,e.textOffset=t.getShallow("offset");var n=t.getShallow("rotate");n!=null&&(n*=Math.PI/180),e.textRotation=n,e.textDistance=Ht.retrieve2(t.getShallow("distance"),a?null:5)}var u=t.ecModel,c=u&&u.option.textStyle,o=Zk(t),h;if(o){h={};for(var s in o)if(o.hasOwnProperty(s)){var v=t.getModel(["rich",s]);Zp(h[s]={},v,c,r,a)}}return e.rich=h,Zp(e,t,c,r,a,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function Zk(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||es).rich;if(r){t=t||{};for(var a in r)r.hasOwnProperty(a)&&(t[a]=1)}e=e.parentModel}return t}function Zp(e,t,r,a,i,n){r=!i&&r||es,e.textFill=jn(t.getShallow("color"),a)||r.color,e.textStroke=jn(t.getShallow("textBorderColor"),a)||r.textBorderColor,e.textStrokeWidth=Ht.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),i||(n&&(e.insideRollbackOpt=a,tn(e)),e.textFill==null&&(e.textFill=a.autoColor)),e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!n||!a.disableBox)&&(e.textBackgroundColor=jn(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=jn(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function jn(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function tn(e){var t=e.textPosition,r=e.insideRollbackOpt,a;if(r&&e.textFill==null){var i=r.autoColor,n=r.isRectText,u=r.useInsideStyle,c=u!==!1&&(u===!0||n&&t&&typeof t=="string"&&t.indexOf("inside")>=0),o=!c&&i!=null;(c||o)&&(a={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),c&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=i,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),o&&(e.textFill=i)}e.insideRollback=a}function qo(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Yk(e,t){var r=t&&t.getModel("textStyle");return Ht.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function fC(e,t,r,a,i,n){typeof i=="function"&&(n=i,i=null);var u=a&&a.isAnimationEnabled();if(u){var c=e?"Update":"",o=a.getShallow("animationDuration"+c),h=a.getShallow("animationEasing"+c),s=a.getShallow("animationDelay"+c);typeof s=="function"&&(s=s(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),typeof o=="function"&&(o=o(i)),o>0?t.animateTo(r,o,s||0,h,n,!!n):(t.stopAnimation(),t.attr(r),n&&n())}else t.stopAnimation(),t.attr(r),n&&n()}function dC(e,t,r,a,i){fC(!0,e,t,r,a,i)}function Xk(e,t,r,a,i){fC(!1,e,t,r,a,i)}function Kk(e,t){for(var r=$f.identity([]);e&&e!==t;)$f.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function gC(e,t,r){return t&&!Ht.isArrayLike(t)&&(t=yk.getLocalTransform(t)),r&&(t=$f.invert([],t)),KT.applyTransform([],e,t)}function Qk(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),n=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];return n=gC(n,t,r),Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function Jk(e,t,r,a){if(!e||!t)return;function i(c){var o={};return c.traverse(function(h){!h.isGroup&&h.anid&&(o[h.anid]=h)}),o}function n(c){var o={position:KT.clone(c.position),rotation:c.rotation};return c.shape&&(o.shape=Ht.extend({},c.shape)),o}var u=i(e);t.traverse(function(c){if(!c.isGroup&&c.anid){var o=u[c.anid];if(o){var h=n(c);c.attr(n(o)),dC(c,h,r,c.dataIndex)}}})}function jk(e,t){return Ht.map(e,function(r){var a=r[0];a=Vo(a,t.x),a=Ho(a,t.x+t.width);var i=r[1];return i=Vo(i,t.y),i=Ho(i,t.y+t.height),[a,i]})}function eO(e,t){var r=Vo(e.x,t.x),a=Ho(e.x+e.width,t.x+t.width),i=Vo(e.y,t.y),n=Ho(e.y+e.height,t.y+t.height);if(a>=r&&n>=i)return{x:r,y:i,width:a-r,height:n-i}}function tO(e,t,r){t=Ht.extend({rectHover:!0},t);var a=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Ht.defaults(a,r),new zd(t)):oC(e.replace("path://",""),t,r,"center")}function rO(e,t,r,a,i){for(var n=0,u=i[i.length-1];n<i.length;n++){var c=i[n];if(pC(e,t,r,a,c[0],c[1],u[0],u[1]))return!0;u=c}}function pC(e,t,r,a,i,n,u,c){var o=r-e,h=a-t,s=u-i,v=c-n,l=nl(s,v,o,h);if(aO(l))return!1;var d=e-i,f=t-n,m=nl(d,f,o,h)/l;if(m<0||m>1)return!1;var g=nl(d,f,s,v)/l;return!(g<0||g>1)}function nl(e,t,r,a){return e*a-r*t}function aO(e){return e<=1e-6&&e>=-1e-6}Sr("circle",QT);Sr("sector",JT);Sr("ring",jT);Sr("polygon",eC);Sr("polyline",tC);Sr("rect",rC);Sr("line",aC);Sr("bezierCurve",iC);Sr("arc",nC);me.Z2_EMPHASIS_LIFT=Nd;me.CACHED_LABEL_STYLE_PROPERTIES=Ck;me.extendShape=Mk;me.extendPath=Dk;me.registerShape=Sr;me.getShapeClass=Lk;me.makePath=oC;me.makeImage=Pk;me.mergePath=Ik;me.resizePath=lC;me.subPixelOptimizeLine=Rk;me.subPixelOptimizeRect=Ek;me.subPixelOptimize=kk;me.setElementHoverStyle=uC;me.setHoverStyle=qk;me.setAsHighDownDispatcher=hC;me.isHighDownDispatcher=Gk;me.getHighlightDigit=Fk;me.setLabelStyle=$k;me.modifyLabelStyle=Uk;me.setTextStyle=Wf;me.setText=Wk;me.getFont=Yk;me.updateProps=dC;me.initProps=Xk;me.getTransform=Kk;me.applyTransform=gC;me.transformDirection=Qk;me.groupTransition=Jk;me.clipPointsByRect=jk;me.clipRectByRect=eO;me.createIcon=tO;me.linePolygonIntersect=rO;me.lineLineIntersect=pC;var ol,Yp;function iO(){if(Yp)return ol;Yp=1;var e=Xe,t=me,r=["textStyle","color"],a={getTextColor:function(i){var n=this.ecModel;return this.getShallow("color")||(!i&&n?n.get(r):null)},getFont:function(){return t.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(i){return e.getBoundingRect(i,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};return ol=a,ol}var sl,Xp;function nO(){if(Xp)return sl;Xp=1;var e=ci(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(a,i){var n=t(this,a,i),u=this.getBorderLineDash();return u&&(n.lineDash=u),n},getBorderLineDash:function(){var a=this.get("borderType");return a==="solid"||a==null?null:a==="dashed"?[5,5]:[1,1]}};return sl=r,sl}var ll,Kp;function ht(){if(Kp)return ll;Kp=1;var e=Z,t=ot,r=Re,a=r.makeInner,i=Bt,n=i.enableClassExtend,u=i.enableClassCheck,c=sR(),o=lR(),h=iO(),s=nO(),v=e.mixin,l=a();function d(p,y,_){this.parentModel=y,this.ecModel=_,this.option=p}d.prototype={constructor:d,init:null,mergeOption:function(p){e.merge(this.option,p,!0)},get:function(p,y){return p==null?this.option:f(this.option,this.parsePath(p),!y&&m(this,p))},getShallow:function(p,y){var _=this.option,S=_==null?_:_[p],T=!y&&m(this,p);return S==null&&T&&(S=T.getShallow(p)),S},getModel:function(p,y){var _=p==null?this.option:f(this.option,p=this.parsePath(p)),S;return y=y||(S=m(this,p))&&S.getModel(p),new d(_,y,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var p=this.constructor;return new p(e.clone(this.option))},setReadOnly:function(p){},parsePath:function(p){return typeof p=="string"&&(p=p.split(".")),p},customizeGetParent:function(p){l(this).getParent=p},isAnimationEnabled:function(){if(!t.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function f(p,y,_){for(var S=0;S<y.length&&!(y[S]&&(p=p&&typeof p=="object"?p[y[S]]:null,p==null));S++);return p==null&&_&&(p=_.get(y)),p}function m(p,y){var _=l(p).getParent;return _?_.call(p,y):p.parentModel}n(d),u(d),v(d,c),v(d,o),v(d,h),v(d,s);var g=d;return ll=g,ll}var ta={},Cr=Z,oO=Bt,Qp=oO.parseClassType,sO=0;function lO(e){return[e||"",sO++,Math.random().toFixed(5)].join("_")}function uO(e){var t={};return e.registerSubTypeDefaulter=function(r,a){r=Qp(r),t[r.main]=a},e.determineSubType=function(r,a){var i=a.type;if(!i){var n=Qp(r).main;e.hasSubTypes(r)&&t[n]&&(i=t[n](a))}return i},e}function vO(e,t){e.topologicalTravel=function(n,u,c,o){if(!n.length)return;var h=r(u),s=h.graph,v=h.noEntryList,l={};for(Cr.each(n,function(y){l[y]=!0});v.length;){var d=v.pop(),f=s[d],m=!!l[d];m&&(c.call(o,d,f.originalDeps.slice()),delete l[d]),Cr.each(f.successor,m?p:g)}Cr.each(l,function(){throw new Error("Circle dependency may exists")});function g(y){s[y].entryCount--,s[y].entryCount===0&&v.push(y)}function p(y){l[y]=!0,g(y)}};function r(n){var u={},c=[];return Cr.each(n,function(o){var h=a(u,o),s=h.originalDeps=t(o),v=i(s,n);h.entryCount=v.length,h.entryCount===0&&c.push(o),Cr.each(v,function(l){Cr.indexOf(h.predecessor,l)<0&&h.predecessor.push(l);var d=a(u,l);Cr.indexOf(d.successor,l)<0&&d.successor.push(o)})}),{graph:u,noEntryList:c}}function a(n,u){return n[u]||(n[u]={predecessor:[],successor:[]}),n[u]}function i(n,u){var c=[];return Cr.each(n,function(o){Cr.indexOf(u,o)>=0&&c.push(o)}),c}}ta.getUID=lO;ta.enableSubTypeDefaulter=uO;ta.enableTopologicalTravel=vO;var Ne={},lt={},Jp;function Oe(){if(Jp)return lt;Jp=1;var e=Z,t=1e-4;function r(w){return w.replace(/^\s+|\s+$/g,"")}function a(w,x,b,A){var C=x[1]-x[0],M=b[1]-b[0];if(C===0)return M===0?b[0]:(b[0]+b[1])/2;if(A)if(C>0){if(w<=x[0])return b[0];if(w>=x[1])return b[1]}else{if(w>=x[0])return b[0];if(w<=x[1])return b[1]}else{if(w===x[0])return b[0];if(w===x[1])return b[1]}return(w-x[0])/C*M+b[0]}function i(w,x){switch(w){case"center":case"middle":w="50%";break;case"left":case"top":w="0%";break;case"right":case"bottom":w="100%";break}return typeof w=="string"?r(w).match(/%$/)?parseFloat(w)/100*x:parseFloat(w):w==null?NaN:+w}function n(w,x,b){return x==null&&(x=10),x=Math.min(Math.max(0,x),20),w=(+w).toFixed(x),b?w:+w}function u(w){return w.sort(function(x,b){return x-b}),w}function c(w){if(w=+w,isNaN(w))return 0;for(var x=1,b=0;Math.round(w*x)/x!==w;)x*=10,b++;return b}function o(w){var x=w.toString(),b=x.indexOf("e");if(b>0){var A=+x.slice(b+1);return A<0?-A:0}else{var C=x.indexOf(".");return C<0?0:x.length-1-C}}function h(w,x){var b=Math.log,A=Math.LN10,C=Math.floor(b(w[1]-w[0])/A),M=Math.round(b(Math.abs(x[1]-x[0]))/A),D=Math.min(Math.max(-C+M,0),20);return isFinite(D)?D:20}function s(w,x,b){if(!w[x])return 0;var A=e.reduce(w,function(V,R){return V+(isNaN(R)?0:R)},0);if(A===0)return 0;for(var C=Math.pow(10,b),M=e.map(w,function(V){return(isNaN(V)?0:V)/A*C*100}),D=C*100,L=e.map(M,function(V){return Math.floor(V)}),P=e.reduce(L,function(V,R){return V+R},0),I=e.map(M,function(V,R){return V-L[R]});P<D;){for(var E=Number.NEGATIVE_INFINITY,O=null,z=0,G=I.length;z<G;++z)I[z]>E&&(E=I[z],O=z);++L[O],I[O]=0,++P}return L[x]/C}var v=9007199254740991;function l(w){var x=Math.PI*2;return(w%x+x)%x}function d(w){return w>-t&&w<t}var f=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function m(w){if(w instanceof Date)return w;if(typeof w=="string"){var x=f.exec(w);if(!x)return new Date(NaN);if(x[8]){var b=+x[4]||0;return x[8].toUpperCase()!=="Z"&&(b-=x[8].slice(0,3)),new Date(Date.UTC(+x[1],+(x[2]||1)-1,+x[3]||1,b,+(x[5]||0),+x[6]||0,+x[7]||0))}else return new Date(+x[1],+(x[2]||1)-1,+x[3]||1,+x[4]||0,+(x[5]||0),+x[6]||0,+x[7]||0)}else if(w==null)return new Date(NaN);return new Date(Math.round(w))}function g(w){return Math.pow(10,p(w))}function p(w){if(w===0)return 0;var x=Math.floor(Math.log(w)/Math.LN10);return w/Math.pow(10,x)>=10&&x++,x}function y(w,x){var b=p(w),A=Math.pow(10,b),C=w/A,M;return x?C<1.5?M=1:C<2.5?M=2:C<4?M=3:C<7?M=5:M=10:C<1?M=1:C<2?M=2:C<3?M=3:C<5?M=5:M=10,w=M*A,b>=-20?+w.toFixed(b<0?-b:0):w}function _(w,x){var b=(w.length-1)*x+1,A=Math.floor(b),C=+w[A-1],M=b-A;return M?C+M*(w[A]-C):C}function S(w){w.sort(function(P,I){return L(P,I,0)?-1:1});for(var x=-1/0,b=1,A=0;A<w.length;){for(var C=w[A].interval,M=w[A].close,D=0;D<2;D++)C[D]<=x&&(C[D]=x,M[D]=D?1:1-b),x=C[D],b=M[D];C[0]===C[1]&&M[0]*M[1]!==1?w.splice(A,1):A++}return w;function L(P,I,E){return P.interval[E]<I.interval[E]||P.interval[E]===I.interval[E]&&(P.close[E]-I.close[E]===(E?-1:1)||!E&&L(P,I,1))}}function T(w){return w-parseFloat(w)>=0}return lt.linearMap=a,lt.parsePercent=i,lt.round=n,lt.asc=u,lt.getPrecision=c,lt.getPrecisionSafe=o,lt.getPixelPrecision=h,lt.getPercentWithPrecision=s,lt.MAX_SAFE_INTEGER=v,lt.remRadian=l,lt.isRadianAroundZero=d,lt.parseDate=m,lt.quantity=g,lt.quantityExponent=p,lt.nice=y,lt.quantile=_,lt.reformIntervals=S,lt.isNumeric=T,lt}var kt={},jp;function Qe(){if(jp)return kt;jp=1;var e=Z,t=Xe,r=Oe();function a(S){return isNaN(S)?"-":(S=(S+"").split("."),S[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(S.length>1?"."+S[1]:""))}function i(S,T){return S=(S||"").toLowerCase().replace(/-(.)/g,function(w,x){return x.toUpperCase()}),T&&S&&(S=S.charAt(0).toUpperCase()+S.slice(1)),S}var n=e.normalizeCssArray,u=/([&<>"'])/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function o(S){return S==null?"":(S+"").replace(u,function(T,w){return c[w]})}var h=["a","b","c","d","e","f","g"],s=function(S,T){return"{"+S+(T??"")+"}"};function v(S,T,w){e.isArray(T)||(T=[T]);var x=T.length;if(!x)return"";for(var b=T[0].$vars||[],A=0;A<b.length;A++){var C=h[A];S=S.replace(s(C),s(C,0))}for(var M=0;M<x;M++)for(var D=0;D<b.length;D++){var L=T[M][b[D]];S=S.replace(s(h[D],M),w?o(L):L)}return S}function l(S,T,w){return e.each(T,function(x,b){S=S.replace("{"+b+"}",w?o(x):x)}),S}function d(S,b){S=e.isString(S)?{color:S,extraCssText:b}:S||{};var w=S.color,x=S.type,b=S.extraCssText,A=S.renderMode||"html",C=S.markerId||"X";return w?A==="html"?x==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+o(w)+";"+(b||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+o(w)+";"+(b||"")+'"></span>':{renderMode:A,content:"{marker"+C+"|}  ",style:{color:w}}:""}function f(S,T){return S+="","0000".substr(0,T-S.length)+S}function m(S,T,w){(S==="week"||S==="month"||S==="quarter"||S==="half-year"||S==="year")&&(S=`MM-dd
yyyy`);var x=r.parseDate(T),b=w?"UTC":"",A=x["get"+b+"FullYear"](),C=x["get"+b+"Month"]()+1,M=x["get"+b+"Date"](),D=x["get"+b+"Hours"](),L=x["get"+b+"Minutes"](),P=x["get"+b+"Seconds"](),I=x["get"+b+"Milliseconds"]();return S=S.replace("MM",f(C,2)).replace("M",C).replace("yyyy",A).replace("yy",A%100).replace("dd",f(M,2)).replace("d",M).replace("hh",f(D,2)).replace("h",D).replace("mm",f(L,2)).replace("m",L).replace("ss",f(P,2)).replace("s",P).replace("SSS",f(I,3)),S}function g(S){return S&&S.charAt(0).toUpperCase()+S.substr(1)}var p=t.truncateText;function y(S){return t.getBoundingRect(S.text,S.font,S.textAlign,S.textVerticalAlign,S.textPadding,S.textLineHeight,S.rich,S.truncate)}function _(S,T,w,x,b,A,C,M){return t.getBoundingRect(S,T,w,x,b,M,A,C)}return kt.addCommas=a,kt.toCamelCase=i,kt.normalizeCssArray=n,kt.encodeHTML=o,kt.formatTpl=v,kt.formatTplSimple=l,kt.getTooltipMarker=d,kt.formatTime=m,kt.capitalFirst=g,kt.truncateText=p,kt.getTextBoundingRect=y,kt.getTextRect=_,kt}var ai=Z,mC=Ke,hO=Oe(),pr=hO.parsePercent,yC=Qe(),So=ai.each,_C=["left","right","top","bottom","width","height"],Jr=[["width","left","right"],["height","top","bottom"]];function qd(e,t,r,a,i){var n=0,u=0;a==null&&(a=1/0),i==null&&(i=1/0);var c=0;t.eachChild(function(o,h){var s=o.position,v=o.getBoundingRect(),l=t.childAt(h+1),d=l&&l.getBoundingRect(),f,m;if(e==="horizontal"){var g=v.width+(d?-d.x+v.x:0);f=n+g,f>a||o.newline?(n=0,f=g,u+=c+r,c=v.height):c=Math.max(c,v.height)}else{var p=v.height+(d?-d.y+v.y:0);m=u+p,m>i||o.newline?(n+=c+r,u=0,m=p,c=v.width):c=Math.max(c,v.width)}o.newline||(s[0]=n,s[1]=u,e==="horizontal"?n=f+r:u=m+r)})}var cO=qd,fO=ai.curry(qd,"vertical"),dO=ai.curry(qd,"horizontal");function gO(e,t,r){var a=t.width,i=t.height,n=pr(e.x,a),u=pr(e.y,i),c=pr(e.x2,a),o=pr(e.y2,i);return(isNaN(n)||isNaN(parseFloat(e.x)))&&(n=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=a),(isNaN(u)||isNaN(parseFloat(e.y)))&&(u=0),(isNaN(o)||isNaN(parseFloat(e.y2)))&&(o=i),r=yC.normalizeCssArray(r||0),{width:Math.max(c-n-r[1]-r[3],0),height:Math.max(o-u-r[0]-r[2],0)}}function xC(e,t,r){r=yC.normalizeCssArray(r||0);var a=t.width,i=t.height,n=pr(e.left,a),u=pr(e.top,i),c=pr(e.right,a),o=pr(e.bottom,i),h=pr(e.width,a),s=pr(e.height,i),v=r[2]+r[0],l=r[1]+r[3],d=e.aspect;switch(isNaN(h)&&(h=a-c-l-n),isNaN(s)&&(s=i-o-v-u),d!=null&&(isNaN(h)&&isNaN(s)&&(d>a/i?h=a*.8:s=i*.8),isNaN(h)&&(h=d*s),isNaN(s)&&(s=h/d)),isNaN(n)&&(n=a-c-h-l),isNaN(u)&&(u=i-o-s-v),e.left||e.right){case"center":n=a/2-h/2-r[3];break;case"right":n=a-h-l;break}switch(e.top||e.bottom){case"middle":case"center":u=i/2-s/2-r[0];break;case"bottom":u=i-s-v;break}n=n||0,u=u||0,isNaN(h)&&(h=a-l-n-(c||0)),isNaN(s)&&(s=i-v-u-(o||0));var f=new mC(n+r[3],u+r[0],h,s);return f.margin=r,f}function pO(e,t,r,a,i){var n=!i||!i.hv||i.hv[0],u=!i||!i.hv||i.hv[1],c=i&&i.boundingMode||"all";if(!(!n&&!u)){var o;if(c==="raw")o=e.type==="group"?new mC(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(o=e.getBoundingRect(),e.needLocalTransform()){var h=e.getLocalTransform();o=o.clone(),o.applyTransform(h)}t=xC(ai.defaults({width:o.width,height:o.height},t),r,a);var s=e.position,v=n?t.x-o.x:0,l=u?t.y-o.y:0;e.attr("position",c==="raw"?[v,l]:[s[0]+v,s[1]+l])}}function mO(e,t){return e[Jr[t][0]]!=null||e[Jr[t][1]]!=null&&e[Jr[t][2]]!=null}function yO(e,t,r){!ai.isObject(r)&&(r={});var a=r.ignoreSize;!ai.isArray(a)&&(a=[a,a]);var i=u(Jr[0],0),n=u(Jr[1],1);h(Jr[0],e,i),h(Jr[1],e,n);function u(s,v){var l={},d=0,f={},m=0,g=2;if(So(s,function(_){f[_]=e[_]}),So(s,function(_){c(t,_)&&(l[_]=f[_]=t[_]),o(l,_)&&d++,o(f,_)&&m++}),a[v])return o(t,s[1])?f[s[2]]=null:o(t,s[2])&&(f[s[1]]=null),f;if(m===g||!d)return f;if(d>=g)return l;for(var p=0;p<s.length;p++){var y=s[p];if(!c(l,y)&&c(e,y)){l[y]=e[y];break}}return l}function c(s,v){return s.hasOwnProperty(v)}function o(s,v){return s[v]!=null&&s[v]!=="auto"}function h(s,v,l){So(s,function(d){v[d]=l[d]})}}function _O(e){return SC({},e)}function SC(e,t){return t&&e&&So(_C,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}Ne.LOCATION_PARAMS=_C;Ne.HV_NAMES=Jr;Ne.box=cO;Ne.vbox=fO;Ne.hbox=dO;Ne.getAvailableSize=gO;Ne.getLayoutRect=xC;Ne.positionElement=pO;Ne.sizeCalculable=mO;Ne.mergeLayoutParam=yO;Ne.getLayoutParams=_O;Ne.copyLayoutParams=SC;var xO={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},SO=xO,jr=Z,em=ht(),Gd=ta,bC=Bt,bO=bC.enableClassManagement,wO=bC.parseClassType,AO=Re,TO=AO.makeInner,ul=Ne,CO=SO,MO=TO(),pi=em.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){em.call(this,e,t,r,a),this.uid=Gd.getUID("ec_cpt_model")},init:function(e,t,r,a){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?ul.getLayoutParams(e):{},i=t.getTheme();jr.merge(e,i.get(this.mainType)),jr.merge(e,this.getDefaultOption()),r&&ul.mergeLayoutParam(e,a,r)},mergeOption:function(e,t){jr.merge(this.option,e,!0);var r=this.layoutMode;r&&ul.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=MO(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var a=r.prototype.defaultOption;a&&t.push(a),r=r.superClass}for(var i={},n=t.length-1;n>=0;n--)i=jr.merge(i,t[n],!0);e.defaultOption=i}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});bO(pi,{registerWhenExtend:!0});Gd.enableSubTypeDefaulter(pi);Gd.enableTopologicalTravel(pi,DO);function DO(e){var t=[];return jr.each(pi.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=jr.map(t,function(r){return wO(r).main}),e!=="dataset"&&jr.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}jr.mixin(pi,CO);var LO=pi,ft=LO,wC="";typeof navigator<"u"&&(wC=navigator.platform||"");var PO={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:wC.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},IO=PO,AC=Re,RO=AC.makeInner,EO=AC.normalizeToArray,vl=RO();function kO(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a].length>t)return e[a];return e[r-1]}var OO={clearColorPalette:function(){vl(this).colorIdx=0,vl(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var a=vl(t),i=a.colorIdx||0,n=a.colorNameMap=a.colorNameMap||{};if(n.hasOwnProperty(e))return n[e];var u=EO(this.get("color",!0)),c=this.get("colorLayer",!0),o=r==null||!c?u:kO(c,r);if(o=o||u,!(!o||!o.length)){var h=o[i];return e&&(n[e]=h),a.colorIdx=(i+1)%o.length,h}}},TC=OO,wt={},qt={},zO="original",BO="arrayRows",NO="objectRows",VO="keyedColumns",HO="unknown",qO="typedArray",GO="column",FO="row";qt.SOURCE_FORMAT_ORIGINAL=zO;qt.SOURCE_FORMAT_ARRAY_ROWS=BO;qt.SOURCE_FORMAT_OBJECT_ROWS=NO;qt.SOURCE_FORMAT_KEYED_COLUMNS=VO;qt.SOURCE_FORMAT_UNKNOWN=HO;qt.SOURCE_FORMAT_TYPED_ARRAY=qO;qt.SERIES_LAYOUT_BY_COLUMN=GO;qt.SERIES_LAYOUT_BY_ROW=FO;var CC=Z,$O=CC.createHashMap,UO=CC.isTypedArray,WO=Bt,ZO=WO.enableClassCheck,_n=qt,YO=_n.SOURCE_FORMAT_ORIGINAL,XO=_n.SERIES_LAYOUT_BY_COLUMN,KO=_n.SOURCE_FORMAT_UNKNOWN,QO=_n.SOURCE_FORMAT_TYPED_ARRAY,JO=_n.SOURCE_FORMAT_KEYED_COLUMNS;function Go(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===JO?{}:[]),this.sourceFormat=e.sourceFormat||KO,this.seriesLayoutBy=e.seriesLayoutBy||XO,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&$O(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}Go.seriesDataToSource=function(e){return new Go({data:e,sourceFormat:UO(e)?QO:YO,fromDataset:!1})};ZO(Go);var jO=Go,xn=jO,MC=Re,ez=MC.makeInner,DC=MC.getDataItemValue,br=Z,LC=br.createHashMap,rn=br.each,tz=br.map,Fo=br.isArray,Zf=br.isString,ii=br.isObject,$o=br.isTypedArray,rz=br.isArrayLike,az=br.extend;br.assert;var iz=xn,Ta=qt,Fd=Ta.SOURCE_FORMAT_ORIGINAL,Uo=Ta.SOURCE_FORMAT_ARRAY_ROWS,ts=Ta.SOURCE_FORMAT_OBJECT_ROWS,rs=Ta.SOURCE_FORMAT_KEYED_COLUMNS,nz=Ta.SOURCE_FORMAT_UNKNOWN,PC=Ta.SOURCE_FORMAT_TYPED_ARRAY,$d=Ta.SERIES_LAYOUT_BY_ROW,Ct={Must:1,Might:2,Not:3},ni=ez();function oz(e){var t=e.option.source,r=nz;if($o(t))r=PC;else if(Fo(t)){t.length===0&&(r=Uo);for(var a=0,i=t.length;a<i;a++){var n=t[a];if(n!=null){if(Fo(n)){r=Uo;break}else if(ii(n)){r=ts;break}}}}else if(ii(t)){for(var u in t)if(t.hasOwnProperty(u)&&rz(t[u])){r=rs;break}}else if(t!=null)throw new Error("Invalid data");ni(e).sourceFormat=r}function sz(e){return ni(e).source}function lz(e){ni(e).datasetMap=LC()}function uz(e){var t=e.option,r=t.data,a=$o(r)?PC:Fd,i=!1,n=t.seriesLayoutBy,u=t.sourceHeader,c=t.dimensions,o=Ud(e);if(o){var h=o.option;r=h.source,a=ni(o).sourceFormat,i=!0,n=n||h.seriesLayoutBy,u==null&&(u=h.sourceHeader),c=c||h.dimensions}var s=vz(r,a,n,u,c);ni(e).source=new iz({data:r,fromDataset:i,seriesLayoutBy:n,sourceFormat:a,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectCount:s.dimensionsDetectCount,encodeDefine:t.encode})}function vz(e,t,r,a,i){if(!e)return{dimensionsDefine:tm(i)};var n,u;if(t===Uo)a==="auto"||a==null?rm(function(o){o!=null&&o!=="-"&&(Zf(o)?u==null&&(u=1):u=0)},r,e,10):u=a?1:0,!i&&u===1&&(i=[],rm(function(o,h){i[h]=o??""},r,e)),n=i?i.length:r===$d?e.length:e[0]?e[0].length:null;else if(t===ts)i||(i=hz(e));else if(t===rs)i||(i=[],rn(e,function(o,h){i.push(h)}));else if(t===Fd){var c=DC(e[0]);n=Fo(c)&&c.length||1}return{startIndex:u,dimensionsDefine:tm(i),dimensionsDetectCount:n}}function tm(e){if(e){var t=LC();return tz(e,function(r,a){if(r=az({},ii(r)?r:{name:r}),r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r})}}function rm(e,t,r,a){if(a==null&&(a=1/0),t===$d)for(var i=0;i<r.length&&i<a;i++)e(r[i]?r[i][0]:null,i);else for(var n=r[0]||[],i=0;i<n.length&&i<a;i++)e(n[i],i)}function hz(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r){var a=[];return rn(r,function(i,n){a.push(n)}),a}}function cz(e,t,r){var a={},i=Ud(t);if(!i||!e)return a;var n=[],u=[],c=t.ecModel,o=ni(c).datasetMap,h=i.uid+"_"+r.seriesLayoutBy,s,v;e=e.slice(),rn(e,function(m,g){!ii(m)&&(e[g]={name:m}),m.type==="ordinal"&&s==null&&(s=g,v=f(e[g])),a[m.name]=[]});var l=o.get(h)||o.set(h,{categoryWayDim:v,valueWayDim:0});rn(e,function(m,g){var p=m.name,y=f(m);if(s==null){var _=l.valueWayDim;d(a[p],_,y),d(u,_,y),l.valueWayDim+=y}else if(s===g)d(a[p],0,y),d(n,0,y);else{var _=l.categoryWayDim;d(a[p],_,y),d(u,_,y),l.categoryWayDim+=y}});function d(m,g,p){for(var y=0;y<p;y++)m.push(g+y)}function f(m){var g=m.dimsDef;return g?g.length:1}return n.length&&(a.itemName=n),u.length&&(a.seriesName=u),a}function fz(e,t,r){var a={},i=Ud(e);if(!i)return a;var n=t.sourceFormat,u=t.dimensionsDefine,c;(n===ts||n===rs)&&rn(u,function(s,v){(ii(s)?s.name:s)==="name"&&(c=v)});var o=function(){for(var s={},v={},l=[],d=0,f=Math.min(5,r);d<f;d++){var m=IC(t.data,n,t.seriesLayoutBy,u,t.startIndex,d);l.push(m);var g=m===Ct.Not;if(g&&s.v==null&&d!==c&&(s.v=d),(s.n==null||s.n===s.v||!g&&l[s.n]===Ct.Not)&&(s.n=d),p(s)&&l[s.n]!==Ct.Not)return s;g||(m===Ct.Might&&v.v==null&&d!==c&&(v.v=d),(v.n==null||v.n===v.v)&&(v.n=d))}function p(y){return y.v!=null&&y.n!=null}return p(s)?s:p(v)?v:null}();if(o){a.value=o.v;var h=c??o.n;a.itemName=[h],a.seriesName=[h]}return a}function Ud(e){var t=e.option,r=t.data;if(!r)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function dz(e,t){return IC(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function IC(e,t,r,a,i,n){var u,c=5;if($o(e))return Ct.Not;var o,h;if(a){var s=a[n];ii(s)?(o=s.name,h=s.type):Zf(s)&&(o=s)}if(h!=null)return h==="ordinal"?Ct.Must:Ct.Not;if(t===Uo)if(r===$d){for(var v=e[n],l=0;l<(v||[]).length&&l<c;l++)if((u=g(v[i+l]))!=null)return u}else for(var l=0;l<e.length&&l<c;l++){var d=e[i+l];if(d&&(u=g(d[n]))!=null)return u}else if(t===ts){if(!o)return Ct.Not;for(var l=0;l<e.length&&l<c;l++){var f=e[l];if(f&&(u=g(f[o]))!=null)return u}}else if(t===rs){if(!o)return Ct.Not;var v=e[o];if(!v||$o(v))return Ct.Not;for(var l=0;l<v.length&&l<c;l++)if((u=g(v[l]))!=null)return u}else if(t===Fd)for(var l=0;l<e.length&&l<c;l++){var f=e[l],m=DC(f);if(!Fo(m))return Ct.Not;if((u=g(m[n]))!=null)return u}function g(p){var y=Zf(p);if(p!=null&&isFinite(p)&&p!=="")return y?Ct.Might:Ct.Not;if(y&&p!=="-")return Ct.Must}return Ct.Not}wt.BE_ORDINAL=Ct;wt.detectSourceFormat=oz;wt.getSource=sz;wt.resetSourceDefaulter=lz;wt.prepareSource=uz;wt.makeSeriesEncodeForAxisCoordSys=cz;wt.makeSeriesEncodeForNameBased=fz;wt.guessOrdinal=dz;var Gt=Z,Lt=Gt.each,Wr=Gt.filter,RC=Gt.map,bo=Gt.isArray,am=Gt.indexOf,hl=Gt.isObject,gz=Gt.isString,Wd=Gt.createHashMap,im=Gt.assert,Yf=Gt.clone,Zd=Gt.merge,nm=Gt.extend,pz=Gt.mixin,Ri=Re,om=ht(),Rr=ft,mz=IO,yz=TC,_z=wt,xz=_z.resetSourceDefaulter,Xf="\0_ec_inner",EC=om.extend({init:function(e,t,r,a){r=r||{},this.option=null,this._theme=new om(r),this._optionManager=a},setOption:function(e,t){im(!(Xf in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");!this.option||e==="recreate"?wz.call(this,a):(this.restoreData(),this.mergeOption(a)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||e==="recreate"||e==="media"){var n=r.getMediaOption(this,this._api);n.length&&Lt(n,function(u){this.mergeOption(u,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];xz(this),Lt(e,function(n,u){n!=null&&(Rr.hasClass(u)?u&&a.push(u):t[u]=t[u]==null?Yf(n):Zd(t[u],n,!0))}),Rr.topologicalTravel(a,Rr.getAllClassMainTypes(),i,this);function i(n,u){var c=Ri.normalizeToArray(e[n]),o=Ri.mappingToExists(r.get(n),c);Ri.makeIdAndName(o),Lt(o,function(s,v){var l=s.option;hl(l)&&(s.keyInfo.mainType=n,s.keyInfo.subType=Tz(n,l,s.exist))});var h=Az(r,u);t[n]=[],r.set(n,[]),Lt(o,function(s,v){var l=s.exist,d=s.option;if(im(hl(d)||l,"Empty component definition"),!d)l.mergeOption({},this),l.optionUpdated({},!1);else{var f=Rr.getClass(n,s.keyInfo.subType,!0);if(l&&l.constructor===f)l.name=s.keyInfo.name,l.mergeOption(d,this),l.optionUpdated(d,!1);else{var m=nm({dependentModels:h,componentIndex:v},s.keyInfo);l=new f(d,this,this,m),nm(l,m),l.init(d,this,this,m),l.optionUpdated(null,!0)}}r.get(n)[v]=l,t[n][v]=l.option},this),n==="series"&&cl(this,r.get("series"))}this._seriesIndicesMap=Wd(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Yf(this.option);return Lt(e,function(t,r){if(Rr.hasClass(r)){for(var t=Ri.normalizeToArray(t),a=t.length-1;a>=0;a--)Ri.isIdInner(t[a])&&t.splice(a,1);e[r]=t}}),delete e[Xf],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,a=e.id,i=e.name,n=this._componentsMap.get(t);if(!n||!n.length)return[];var u;if(r!=null)bo(r)||(r=[r]),u=Wr(RC(r,function(h){return n[h]}),function(h){return!!h});else if(a!=null){var c=bo(a);u=Wr(n,function(h){return c&&am(a,h.id)>=0||!c&&h.id===a})}else if(i!=null){var o=bo(i);u=Wr(n,function(h){return o&&am(i,h.name)>=0||!o&&h.name===i})}else u=n.slice();return sm(u,e)},findComponents:function(e){var t=e.query,r=e.mainType,a=n(t),i=a?this.queryComponents(a):this._componentsMap.get(r);return u(sm(i,e));function n(c){var o=r+"Index",h=r+"Id",s=r+"Name";return c&&(c[o]!=null||c[h]!=null||c[s]!=null)?{mainType:r,index:c[o],id:c[h],name:c[s]}:null}function u(c){return e.filter?Wr(c,e.filter):c}},eachComponent:function(e,t,r){var a=this._componentsMap;if(typeof e=="function")r=t,t=e,a.each(function(n,u){Lt(n,function(c,o){t.call(r,u,c,o)})});else if(gz(e))Lt(a.get(e),t,r);else if(hl(e)){var i=this.findComponents(e);Lt(i,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return Wr(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return Wr(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Lt(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)},this)},eachRawSeries:function(e,t){Lt(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){Lt(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(r,i,a)},this)},eachRawSeriesByType:function(e,t,r){return Lt(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=Wr(this._componentsMap.get("series"),e,t);cl(this,r)},restoreData:function(e){var t=this._componentsMap;cl(this,t.get("series"));var r=[];t.each(function(a,i){r.push(i)}),Rr.topologicalTravel(r,Rr.getAllClassMainTypes(),function(a,i){Lt(t.get(a),function(n){(a!=="series"||!Sz(n,e))&&n.restoreData()})})}});function Sz(e,t){if(t){var r=t.seiresIndex,a=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function bz(e,t){var r=e.color&&!e.colorLayer;Lt(t,function(a,i){i==="colorLayer"&&r||Rr.hasClass(i)||(typeof a=="object"?e[i]=e[i]?Zd(e[i],a,!1):Yf(a):e[i]==null&&(e[i]=a))})}function wz(e){e=e,this.option={},this.option[Xf]=1,this._componentsMap=Wd({series:[]}),this._seriesIndices,this._seriesIndicesMap,bz(e,this._theme.option),Zd(e,mz,!1),this.mergeOption(e)}function Az(e,t){bo(t)||(t=t?[t]:[]);var r={};return Lt(t,function(a){r[a]=(e.get(a)||[]).slice()}),r}function Tz(e,t,r){var a=t.type?t.type:r?r.subType:Rr.determineSubType(e,t);return a}function cl(e,t){e._seriesIndicesMap=Wd(e._seriesIndices=RC(t,function(r){return r.componentIndex})||[])}function sm(e,t){return t.hasOwnProperty("subType")?Wr(e,function(r){return r.subType===t.subType}):e}pz(EC,yz);var Cz=EC,kC=Cz,lm=Z,Mz=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Dz(e){lm.each(Mz,function(t){this[t]=lm.bind(e[t],e)},this)}var Lz=Dz,OC=Lz,um=Z,Yd={};function an(){this._coordinateSystems=[]}an.prototype={constructor:an,create:function(e,t){var r=[];um.each(Yd,function(a,i){var n=a.create(e,t);r=r.concat(n||[])}),this._coordinateSystems=r},update:function(e,t){um.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};an.register=function(e,t){Yd[e]=t};an.get=function(e){return Yd[e]};var Pz=an,wr=Pz,Or=Z,wo=Re,Iz=ft,Ao=Or.each,ca=Or.clone,To=Or.map,vm=Or.merge,Rz=/^(min|max)?(.+)$/;function Kf(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}Kf.prototype={constructor:Kf,setOption:function(e,t){e&&Or.each(wo.normalizeToArray(e.series),function(i){i&&i.data&&Or.isTypedArray(i.data)&&Or.setAsPrimitive(i.data)}),e=ca(e);var r=this._optionBackup,a=Ez.call(this,e,t,!r);this._newBaseOption=a.baseOption,r?(Bz(r.baseOption,a.baseOption),a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=To(t.timelineOptions,ca),this._mediaList=To(t.mediaList,ca),this._mediaDefault=ca(t.mediaDefault),this._currentMediaIndices=[],ca(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");a&&(t=ca(r[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,n=[],u=[];if(!a.length&&!i)return u;for(var c=0,o=a.length;c<o;c++)kz(a[c].query,t,r)&&n.push(c);return!n.length&&i&&(n=[-1]),n.length&&!zz(n,this._currentMediaIndices)&&(u=To(n,function(h){return ca(h===-1?i.option:a[h].option)})),this._currentMediaIndices=n,u}};function Ez(e,t,r){var a=[],i=[],n,u,c=e.timeline;if(e.baseOption&&(u=e.baseOption),(c||e.options)&&(u=u||{},a=(e.options||[]).slice()),e.media){u=u||{};var o=e.media;Ao(o,function(h){h&&h.option&&(h.query?i.push(h):n||(n=h))})}return u||(u=e),u.timeline||(u.timeline=c),Ao([u].concat(a).concat(Or.map(i,function(h){return h.option})),function(h){Ao(t,function(s){s(h,r)})}),{baseOption:u,timelineOptions:a,mediaDefault:n,mediaList:i}}function kz(e,t,r){var a={width:t,height:r,aspectratio:t/r},i=!0;return Or.each(e,function(n,u){var c=u.match(Rz);if(!(!c||!c[1]||!c[2])){var o=c[1],h=c[2].toLowerCase();Oz(a[h],n,o)||(i=!1)}}),i}function Oz(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function zz(e,t){return e.join(",")===t.join(",")}function Bz(e,t){t=t||{},Ao(t,function(r,a){if(r!=null){var i=e[a];if(!Iz.hasClass(a))e[a]=vm(i,r,!0);else{r=wo.normalizeToArray(r),i=wo.normalizeToArray(i);var n=wo.mappingToExists(i,r);e[a]=To(n,function(u){return u.option&&u.exist?vm(u.exist,u.option,!0):u.exist||u.option})}}})}var Nz=Kf,Vz=Nz,It=Z,hm=Re,Jt=It.each,nn=It.isObject,cm=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function fl(e){var t=e&&e.itemStyle;if(t)for(var r=0,a=cm.length;r<a;r++){var i=cm[r],n=t.normal,u=t.emphasis;n&&n[i]&&(e[i]=e[i]||{},e[i].normal?It.merge(e[i].normal,n[i]):e[i].normal=n[i],n[i]=null),u&&u[i]&&(e[i]=e[i]||{},e[i].emphasis?It.merge(e[i].emphasis,u[i]):e[i].emphasis=u[i],u[i]=null)}}function Mt(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,i=e[t].emphasis;a&&(r?(e[t].normal=e[t].emphasis=null,It.defaults(e[t],a)):e[t]=a),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function Yi(e){Mt(e,"itemStyle"),Mt(e,"lineStyle"),Mt(e,"areaStyle"),Mt(e,"label"),Mt(e,"labelLine"),Mt(e,"upperLabel"),Mt(e,"edgeLabel")}function nt(e,t){var r=nn(e)&&e[t],a=nn(r)&&r.textStyle;if(a)for(var i=0,n=hm.TEXT_STYLE_OPTIONS.length;i<n;i++){var t=hm.TEXT_STYLE_OPTIONS[i];a.hasOwnProperty(t)&&(r[t]=a[t])}}function $t(e){e&&(Yi(e),nt(e,"label"),e.emphasis&&nt(e.emphasis,"label"))}function Hz(e){if(nn(e)){fl(e),Yi(e),nt(e,"label"),nt(e,"upperLabel"),nt(e,"edgeLabel"),e.emphasis&&(nt(e.emphasis,"label"),nt(e.emphasis,"upperLabel"),nt(e.emphasis,"edgeLabel"));var n=e.markPoint;n&&(fl(n),$t(n));var c=e.markLine;c&&(fl(c),$t(c));var t=e.markArea;t&&$t(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var a=e.links||e.edges;if(a&&!It.isTypedArray(a))for(var i=0;i<a.length;i++)$t(a[i]);It.each(e.categories,function(h){Yi(h)})}if(r&&!It.isTypedArray(r))for(var i=0;i<r.length;i++)$t(r[i]);var n=e.markPoint;if(n&&n.data)for(var u=n.data,i=0;i<u.length;i++)$t(u[i]);var c=e.markLine;if(c&&c.data)for(var o=c.data,i=0;i<o.length;i++)It.isArray(o[i])?($t(o[i][0]),$t(o[i][1])):$t(o[i]);e.type==="gauge"?(nt(e,"axisLabel"),nt(e,"title"),nt(e,"detail")):e.type==="treemap"?(Mt(e.breadcrumb,"itemStyle"),It.each(e.levels,function(h){Yi(h)})):e.type==="tree"&&Yi(e.leaves)}}function Mr(e){return It.isArray(e)?e:e?[e]:[]}function fm(e){return(It.isArray(e)?e[0]:e)||{}}function qz(e,t){Jt(Mr(e.series),function(a){nn(a)&&Hz(a)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Jt(r,function(a){Jt(Mr(e[a]),function(i){i&&(nt(i,"axisLabel"),nt(i.axisPointer,"label"))})}),Jt(Mr(e.parallel),function(a){var i=a&&a.parallelAxisDefault;nt(i,"axisLabel"),nt(i&&i.axisPointer,"label")}),Jt(Mr(e.calendar),function(a){Mt(a,"itemStyle"),nt(a,"dayLabel"),nt(a,"monthLabel"),nt(a,"yearLabel")}),Jt(Mr(e.radar),function(a){nt(a,"name")}),Jt(Mr(e.geo),function(a){nn(a)&&($t(a),Jt(Mr(a.regions),function(i){$t(i)}))}),Jt(Mr(e.timeline),function(a){$t(a),Mt(a,"label"),Mt(a,"itemStyle"),Mt(a,"controlStyle",!0);var i=a.data;It.isArray(i)&&It.each(i,function(n){It.isObject(n)&&(Mt(n,"label"),Mt(n,"itemStyle"))})}),Jt(Mr(e.toolbox),function(a){Mt(a,"iconStyle"),Jt(a.feature,function(i){Mt(i,"iconStyle")})}),nt(fm(e.axisPointer),"label"),nt(fm(e.tooltip).axisPointer,"label")}var Gz=qz,Xd=Z,Co=Xd.each,Fz=Xd.isArray,$z=Xd.isObject,Uz=Gz,Wz=Re,Zz=Wz.normalizeToArray;function Yz(e,t){t=t.split(",");for(var r=e,a=0;a<t.length&&(r=r&&r[t[a]],r!=null);a++);return r}function Xz(e,t,r,a){t=t.split(",");for(var i=e,n,u=0;u<t.length-1;u++)n=t[u],i[n]==null&&(i[n]={}),i=i[n];(a||i[t[u]]==null)&&(i[t[u]]=r)}function dm(e){Co(Kz,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Kz=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Qz=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function Jz(e,t){Uz(e,t),e.series=Zz(e.series),Co(e.series,function(r){if($z(r)){var a=r.type;if(a==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(a==="pie"||a==="gauge")r.clockWise!=null&&(r.clockwise=r.clockWise);else if(a==="gauge"){var i=Yz(r,"pointer.color");i!=null&&Xz(r,"itemStyle.color",i)}dm(r)}}),e.dataRange&&(e.visualMap=e.dataRange),Co(Qz,function(r){var a=e[r];a&&(Fz(a)||(a=[a]),Co(a,function(i){dm(i)}))})}var jz=Jz,zC=Z,eB=zC.createHashMap,tB=zC.each;function rB(e){var t=eB();e.eachSeries(function(r){var a=r.get("stack");if(a){var i=t.get(a)||t.set(a,[]),n=r.getData(),u={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:r};if(!u.stackedDimension||!(u.isStackedByIndex||u.stackedByDimension))return;i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(u)}}),t.each(aB)}function aB(e){tB(e,function(t,r){var a=[],i=[NaN,NaN],n=[t.stackResultDimension,t.stackedOverDimension],u=t.data,c=t.isStackedByIndex,o=u.map(n,function(h,s,v){var l=u.get(t.stackedDimension,v);if(isNaN(l))return i;var d,f;c?f=u.getRawIndex(v):d=u.get(t.stackedByDimension,v);for(var m=NaN,g=r-1;g>=0;g--){var p=e[g];if(c||(f=p.data.rawIndexOf(p.stackedByDimension,d)),f>=0){var y=p.data.getByRawIndex(p.stackResultDimension,f);if(l>=0&&y>0||l<=0&&y<0){l+=y,m=y;break}}}return a[0]=l,a[1]=m,a});u.hostModel.setData(o),t.data=o})}var iB=rB,sr={},Sn=Z;Sn.isTypedArray;var nB=Sn.extend;Sn.assert;var oB=Sn.each,sB=Sn.isObject,BC=Re,lB=BC.getDataItemValue,uB=BC.isDataItemOption,vB=Oe(),hB=vB.parseDate,gm=xn,as=qt,cB=as.SOURCE_FORMAT_TYPED_ARRAY,fB=as.SOURCE_FORMAT_ARRAY_ROWS,pm=as.SOURCE_FORMAT_ORIGINAL,dB=as.SOURCE_FORMAT_OBJECT_ROWS;function NC(e,t){gm.isInstance(e)||(e=gm.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===cB&&(this._offset=0,this._dimSize=t,this._data=r);var i=gB[a===fB?a+"_"+e.seriesLayoutBy:a];nB(this,i)}var Kd=NC.prototype;Kd.pure=!1;Kd.persistent=!0;Kd.getSource=function(){return this._source};var gB={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:dl},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var i=r[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:mm,getItem:ym,appendData:dl},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var i=this._data[r[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;oB(e,function(r,a){for(var i=t[a]||(t[a]=[]),n=0;n<(r||[]).length;n++)i.push(r[n])})}},original:{count:mm,getItem:ym,appendData:dl},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function mm(){return this._data.length}function ym(e){return this._data[e]}function dl(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var pB={arrayRows:gl,objectRows:function(e,t,r,a){return r!=null?e[a]:e},keyedColumns:gl,original:function(e,t,r,a){var i=lB(e);return r==null||!(i instanceof Array)?i:i[r]},typedArray:gl};function gl(e,t,r,a){return r!=null?e[r]:e}var mB={arrayRows:_m,objectRows:function(e,t,r,a){return Qf(e[t],this._dimensionInfos[t])},keyedColumns:_m,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return!this._rawData.pure&&uB(e)&&(this.hasItemOption=!0),Qf(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function _m(e,t,r,a){return Qf(e[a],this._dimensionInfos[t])}function Qf(e,t){var r=t&&t.type;if(r==="ordinal"){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+hB(e)),e==null||e===""?NaN:+e}function yB(e,t,r){if(e){var a=e.getRawDataItem(t);if(a!=null){var i=e.getProvider().getSource().sourceFormat,n,u,c=e.getDimensionInfo(r);return c&&(n=c.name,u=c.index),pB[i](a,t,u,n)}}}function _B(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(!(a!==pm&&a!==dB)){var i=e.getRawDataItem(t);if(a===pm&&!sB(i)&&(i=null),i)return i[r]}}}sr.DefaultDataProvider=NC;sr.defaultDimValueGetters=mB;sr.retrieveRawValue=yB;sr.retrieveRawAttr=_B;var xB=sr,xm=xB.retrieveRawValue,VC=Qe(),SB=VC.getTooltipMarker,bB=VC.formatTpl,wB=Re,AB=wB.getTooltipRenderMode,TB=/\{@(.+?)\}/g,CB={getDataParams:function(e,t){var r=this.getData(t),a=this.getRawValue(e,t),i=r.getRawIndex(e),n=r.getName(e),u=r.getRawDataItem(e),c=r.getItemVisual(e,"color"),o=r.getItemVisual(e,"borderColor"),h=this.ecModel.getComponent("tooltip"),s=h&&h.get("renderMode"),v=AB(s),l=this.mainType,d=l==="series",f=r.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:n,dataIndex:i,data:u,dataType:t,value:a,color:c,borderColor:o,dimensionNames:f?f.dimensionNames:null,encode:f?f.encode:null,marker:SB({color:c,renderMode:v}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,a,i){t=t||"normal";var n=this.getData(r),u=n.getItemModel(e),c=this.getDataParams(e,r);a!=null&&c.value instanceof Array&&(c.value=c.value[a]);var o=u.get(t==="normal"?[i||"label","formatter"]:[t,i||"label","formatter"]);if(typeof o=="function")return c.status=t,c.dimensionIndex=a,o(c);if(typeof o=="string"){var h=bB(o,c);return h.replace(TB,function(s,v){var l=v.length;return v.charAt(0)==="["&&v.charAt(l-1)==="]"&&(v=+v.slice(1,l-1)),xm(n,e,v)})}},getRawValue:function(e,t){return xm(this.getData(t),e)},formatTooltip:function(){}},Qd=CB,is={},HC=Z;HC.assert;var qC=HC.isArray;function MB(e){return new GC(e)}function GC(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var ra=GC.prototype;ra.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var n=h(this._modBy),u=this._modDataCount||0,c=h(e&&e.modBy),o=e&&e.modDataCount||0;(n!==c||u!==o)&&(i="reset");function h(p){return!(p>=1)&&(p=1),p}var s;(this._dirty||i==="reset")&&(this._dirty=!1,s=DB(this,r)),this._modBy=c,this._modDataCount=o;var v=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var l=this._dueIndex,d=Math.min(v!=null?this._dueIndex+v:1/0,this._dueEnd);if(!r&&(s||l<d)){var f=this._progress;if(qC(f))for(var m=0;m<f.length;m++)bm(this,f[m],l,d,c,o);else bm(this,f,l,d,c,o)}this._dueIndex=d;var g=this._settedOutputEnd!=null?this._settedOutputEnd:d;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Sm=function(){var e,t,r,a,i,n={reset:function(o,h,s,v){t=o,e=h,r=s,a=v,i=Math.ceil(a/r),n.next=r>1&&a>0?c:u}};return n;function u(){return t<e?t++:null}function c(){var o=t%i*r+Math.ceil(t/i),h=t>=e?null:o<a?o:t;return t++,h}}();ra.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function bm(e,t,r,a,i,n){Sm.reset(r,a,i,n),e._callingProgress=t,e._callingProgress({start:r,end:a,count:a-r,next:Sm.next},e.context)}function DB(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,a;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(a=r.forceFirstProgress,r=r.progress),qC(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),a}ra.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};ra.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};ra.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};ra.getUpstream=function(){return this._upstream};ra.getDownstream=function(){return this._downstream};ra.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};is.createTask=MB;var Ot=Z,LB=ot,ns=Qe(),PB=ns.formatTime,Ei=ns.encodeHTML,wm=ns.addCommas,Am=ns.getTooltipMarker,Xi=Re,Tm=ft,FC=TC,IB=Qd,$C=Ne,RB=$C.getLayoutParams,Cm=$C.mergeLayoutParam,EB=is,kB=EB.createTask,UC=wt,Mm=UC.prepareSource,OB=UC.getSource,zB=sr,Dm=zB.retrieveRawValue,ki=Xi.makeInner(),Jd=Tm.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,r,a){this.seriesIndex=this.componentIndex,this.dataTask=kB({count:NB,reset:VB}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),Mm(this);var i=this.getInitialData(e,r);Pm(i,this),this.dataTask.context.data=i,ki(this).dataBeforeProcessed=i,Lm(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?RB(e):{},i=this.subType;Tm.hasClass(i)&&(i+="Series"),Ot.merge(e,t.getTheme().get(this.subType)),Ot.merge(e,this.getDefaultOption()),Xi.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Cm(e,a,r)},mergeOption:function(e,t){e=Ot.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&Cm(this.option,e,r),Mm(this);var a=this.getInitialData(e,t);Pm(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,ki(this).dataBeforeProcessed=a,Lm(this)},fillDataTextStyle:function(e){if(e&&!Ot.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Xi.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=Jf(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return ki(this).data},setData:function(e){var t=Jf(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}ki(this).data=e},getSource:function(){return OB(this)},getRawData:function(){return ki(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r,a){var i=this;a=a||"html";var n=a==="html"?"<br/>":`
`,u=a==="richText",c={},o=0;function h(A){var C=Ot.reduce(A,function(I,E,O){var z=v.getDimensionInfo(O);return I|=z&&z.tooltip!==!1&&z.displayName!=null},0),M=[];l.length?Ot.each(l,function(I){D(Dm(v,e,I),I)}):Ot.each(A,D);function D(I,E){var O=v.getDimensionInfo(E);if(!(!O||O.otherDims.tooltip===!1)){var z=O.type,G="sub"+i.seriesIndex+"at"+o,V=Am({color:g,type:"subItem",renderMode:a,markerId:G}),R=typeof V=="string"?V:V.content,B=(C?R+Ei(O.displayName||"-")+": ":"")+Ei(z==="ordinal"?I+"":z==="time"?t?"":PB("yyyy/MM/dd hh:mm:ss",I):wm(I));B&&M.push(B),u&&(c[G]=g,++o)}}var L=C?u?`
`:"<br/>":"",P=L+M.join(L||", ");return{renderMode:a,content:P,style:c}}function s(A){return{renderMode:a,content:Ei(wm(A)),style:c}}var v=this.getData(),l=v.mapDimension("defaultedTooltip",!0),d=l.length,f=this.getRawValue(e),m=Ot.isArray(f),g=v.getItemVisual(e,"color");Ot.isObject(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color),g=g||"transparent";var p=d>1||m&&!d?h(f):s(d?Dm(v,e,l[0]):m?f[0]:f),y=p.content,_=i.seriesIndex+"at"+o,S=Am({color:g,type:"item",renderMode:a,markerId:_});c[_]=g,++o;var T=v.getName(e),w=this.name;Xi.isNameSpecified(this)||(w=""),w=w?Ei(w)+(t?": ":n):"";var x=typeof S=="string"?S:S.content,b=t?x+w+y:w+x+(T?Ei(T)+": "+y:y);return{html:b,markers:c}},isAnimationEnabled:function(){if(LB.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var a=this.ecModel,i=FC.getColorFromPalette.call(this,e,t,r);return i||(i=a.getColorFromPalette(e,t,r)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Ot.mixin(Jd,IB);Ot.mixin(Jd,FC);function Lm(e){var t=e.name;Xi.isNameSpecified(e)||(e.name=BB(e)||t)}function BB(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),a=[];return Ot.each(r,function(i){var n=t.getDimensionInfo(i);n.displayName&&a.push(n.displayName)}),a.join(" ")}function NB(e){return e.model.getRawData().count()}function VB(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),HB}function HB(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Pm(e,t){Ot.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Ot.curry(qB,t))})}function qB(e){var t=Jf(e);t&&t.setOutputEnd(this.count())}function Jf(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}var GB=Jd,dt=GB,FB=ba,$B=ta,WC=Bt,oi=function(){this.group=new FB,this.uid=$B.getUID("viewComponent")};oi.prototype={constructor:oi,init:function(e,t){},render:function(e,t,r,a){},dispose:function(){},filterForExposedEvent:null};var pl=oi.prototype;pl.updateView=pl.updateLayout=pl.updateVisual=function(e,t,r,a){};WC.enableClassExtend(oi);WC.enableClassManagement(oi,{registerWhenExtend:!0});var UB=oi,os=UB,WB=Re,ZB=WB.makeInner;function YB(){var e=ZB();return function(t){var r=e(t),a=t.pipelineContext,i=r.large,n=r.progressiveRender,u=r.large=a&&a.large,c=r.progressiveRender=a&&a.progressiveRender;return!!(i^u||n^c)&&"reset"}}var mi=YB,XB=Z,KB=XB.each,QB=ba,JB=ta,ZC=Bt,jf=Re,YC=me,jB=is,eN=jB.createTask,tN=mi,XC=jf.makeInner(),rN=tN();function yi(){this.group=new QB,this.uid=JB.getUID("viewChart"),this.renderTask=eN({plan:aN,reset:iN}),this.renderTask.context={view:this}}yi.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,a){},highlight:function(e,t,r,a){Im(e.getData(),a,"emphasis")},downplay:function(e,t,r,a){Im(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var ml=yi.prototype;ml.updateView=ml.updateLayout=ml.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};function ed(e,t,r){if(e&&(e.trigger(t,r),e.isGroup&&!YC.isHighDownDispatcher(e)))for(var a=0,i=e.childCount();a<i;a++)ed(e.childAt(a),t,r)}function Im(e,t,r){var a=jf.queryDataIndex(e,t),i=t&&t.highlightKey!=null?YC.getHighlightDigit(t.highlightKey):null;a!=null?KB(jf.normalizeToArray(a),function(n){ed(e.getItemGraphicEl(n),r,i)}):e.eachItemGraphicEl(function(n){ed(n,r,i)})}ZC.enableClassExtend(yi,["dispose"]);ZC.enableClassManagement(yi,{registerWhenExtend:!0});yi.markUpdateMethod=function(e,t){XC(e).updateMethod=t};function aN(e){return rN(e.model)}function iN(e){var t=e.model,r=e.ecModel,a=e.api,i=e.payload,n=t.pipelineContext.progressiveRender,u=e.view,c=i&&XC(i).updateMethod,o=n?"incrementalPrepareRender":c&&u[c]?c:"render";return o!=="render"&&u[o](t,r,a,i),nN[o]}var nN={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},oN=yi,Ar=oN,lr={},Wo="\0__throttleOriginMethod",Rm="\0__throttleRate",Em="\0__throttleType";function KC(e,t,r){var a,i=0,n=0,u=null,c,o,h,s;t=t||0;function v(){n=new Date().getTime(),u=null,e.apply(o,h||[])}var l=function(){a=new Date().getTime(),o=this,h=arguments;var d=s||t,f=s||r;s=null,c=a-(f?i:n)-d,clearTimeout(u),f?u=setTimeout(v,d):c>=0?v():u=setTimeout(v,-c),i=a};return l.clear=function(){u&&(clearTimeout(u),u=null)},l.debounceNextCall=function(d){s=d},l}function sN(e,t,r,a){var i=e[t];if(i){var n=i[Wo]||i,u=i[Em],c=i[Rm];if(c!==r||u!==a){if(r==null||!a)return e[t]=n;i=e[t]=KC(n,r,a==="debounce"),i[Wo]=n,i[Em]=a,i[Rm]=r}return i}}function lN(e,t){var r=e[t];r&&r[Wo]&&(e[t]=r[Wo])}lr.throttle=KC;lr.createOrUpdate=sN;lr.clear=lN;var uN=jo,vN=Z,hN=vN.isFunction,cN={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(a),n=hN(i)&&!(i instanceof uN)?i:null;(!i||n)&&(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),r.setVisual("color",i);var u=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=e.get(u);if(r.setVisual("borderColor",c),!t.isSeriesFiltered(e)){n&&r.each(function(h){r.setItemVisual(h,"color",n(e.getDataParams(h)))});var o=function(h,s){var v=h.getItemModel(s),l=v.get(a,!0),d=v.get(u,!0);l!=null&&h.setItemVisual(s,"color",l),d!=null&&h.setItemVisual(s,"borderColor",d)};return{dataEach:r.hasItemOption?o:null}}}},fN=cN,dN={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},aa=dN,gN=Z,km=aa,pN=sr,mN=pN.retrieveRawValue;function yN(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var a=0;t.eachSeries(function(m,g){++a},this);var i=r.get("data.maxCount")||10,n=r.get("series.maxCount")||10,u=Math.min(a,n),c;if(a<1)return;var o=d();o?c=v(l("general.withTitle"),{title:o}):c=l("general.withoutTitle");var h=[],s=a>1?"series.multiple.prefix":"series.single.prefix";c+=v(l(s),{seriesCount:a}),t.eachSeries(function(m,g){if(g<u){var p,y=m.get("name"),_="series."+(a>1?"multiple":"single")+".";p=l(y?_+"withName":_+"withoutName"),p=v(p,{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:f(m.subType)});var S=m.getData();window.data=S,S.count()>i?p+=v(l("data.partialData"),{displayCnt:i}):p+=l("data.allData");for(var T=[],w=0;w<S.count();w++)if(w<i){var x=S.getName(w),b=mN(S,w);T.push(v(l(x?"data.withName":"data.withoutName"),{name:x,value:b}))}p+=T.join(l("data.separator.middle"))+l("data.separator.end"),h.push(p)}}),c+=h.join(l("series.multiple.separator.middle"))+l("series.multiple.separator.end"),e.setAttribute("aria-label",c);function v(m,g){if(typeof m!="string")return m;var p=m;return gN.each(g,function(y,_){p=p.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),y)}),p}function l(m){var g=r.get(m);if(g==null){for(var p=m.split("."),y=km.aria,_=0;_<p.length;++_)y=y[p[_]];return y}else return g}function d(){var m=t.getModel("title").option;return m&&m.length&&(m=m[0]),m&&m.text}function f(m){return km.series.typeNames[m]||"自定义图"}}var _N=yN,xN=Z,eo=me,to=Math.PI;function SN(e,t){t=t||{},xN.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new eo.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),a=new eo.Arc({shape:{startAngle:-to/2,endAngle:-to/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),i=new eo.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:to*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:to*3/2}).delay(300).start("circularInOut");var n=new eo.Group;return n.add(a),n.add(i),n.add(r),n.resize=function(){var u=e.getWidth()/2,c=e.getHeight()/2;a.setShape({cx:u,cy:c});var o=a.shape.r;i.setShape({x:u-o,y:c-o,width:o*2,height:o*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var bN=SN,bn=Z,jd=bn.each,wN=bn.map,AN=bn.isFunction,ss=bn.createHashMap,TN=bn.noop,CN=is,td=CN.createTask,MN=ta,DN=MN.getUID,LN=kC,PN=OC,IN=Re,RN=IN.normalizeToArray;function eg(e,t,i,n){this.ecInstance=e,this.api=t,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=ss()}var Zt=eg.prototype;Zt.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})};Zt.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),a=r.context,i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex,n=i?r.step:null,u=a&&a.modDataCount,c=u!=null?Math.ceil(u/n):null;return{step:n,modBy:c,modDataCount:u}}};Zt.getPipeline=function(e){return this._pipelineMap.get(e)};Zt.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),n=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,u=e.get("large")&&i>=e.get("largeThreshold"),c=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:n,modDataCount:c,large:u}};Zt.restorePipelines=function(e){var t=this,r=t._pipelineMap=ss();e.eachSeries(function(a){var i=a.getProgressive(),n=a.uid;r.set(n,{id:n,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),ls(t,a,a.dataTask)})};Zt.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;jd(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&EN(this,a,i,t,r),a.overallReset&&kN(this,a,i,t,r)},this)};Zt.prepareView=function(e,t,r,a){var i=e.renderTask,n=i.context;n.model=t,n.ecModel=r,n.api=a,i.__block=!e.incrementalPrepareRender,ls(this,t,i)};Zt.performDataProcessorTasks=function(e,t){QC(this,this._dataProcessorHandlers,e,t,{block:!0})};Zt.performVisualTasks=function(e,t,r){QC(this,this._visualHandlers,e,t,r)};function QC(e,t,r,a,i){i=i||{};var n;jd(t,function(c,o){if(!(i.visualType&&i.visualType!==c.visualType)){var h=e._stageTaskMap.get(c.uid),s=h.seriesTaskMap,v=h.overallTask;if(v){var l,d=v.agentStubMap;d.each(function(m){u(i,m)&&(m.dirty(),l=!0)}),l&&v.dirty(),Om(v,a);var f=e.getPerformArgs(v,i.block);d.each(function(m){m.perform(f)}),n|=v.perform(f)}else s&&s.each(function(m,g){u(i,m)&&m.dirty();var p=e.getPerformArgs(m,i.block);p.skip=!c.performRawSeries&&r.isSeriesFiltered(m.context.model),Om(m,a),n|=m.perform(p)})}});function u(c,o){return c.setDirty&&(!c.dirtyMap||c.dirtyMap.get(o.__pipeline.id))}e.unfinished|=n}Zt.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};Zt.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var Om=Zt.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function EN(e,t,r,a,i){var n=r.seriesTaskMap||(r.seriesTaskMap=ss()),u=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(o):u?a.eachRawSeriesByType(u,o):c&&c(a,i).each(o);function o(s){var v=s.uid,l=n.get(v)||n.set(v,td({plan:VN,reset:HN,count:GN}));l.context={model:s,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},ls(e,s,l)}var h=e._pipelineMap;n.each(function(s,v){h.get(v)||(s.dispose(),n.removeKey(v))})}function kN(e,t,r,a,i){var n=r.overallTask=r.overallTask||td({reset:ON});n.context={ecModel:a,api:i,overallReset:t.overallReset,scheduler:e};var u=n.agentStubMap=n.agentStubMap||ss(),c=t.seriesType,o=t.getTargetSeries,h=!0,s=t.modifyOutputEnd;c?a.eachRawSeriesByType(c,v):o?o(a,i).each(v):(h=!1,jd(a.getSeries(),v));function v(d){var f=d.uid,m=u.get(f);m||(m=u.set(f,td({reset:zN,onDirty:NN})),n.dirty()),m.context={model:d,overallProgress:h,modifyOutputEnd:s},m.agent=n,m.__block=h,ls(e,d,m)}var l=e._pipelineMap;u.each(function(d,f){l.get(f)||(d.dispose(),n.dirty(),u.removeKey(f))})}function ON(e){e.overallReset(e.ecModel,e.api,e.payload)}function zN(e,t){return e.overallProgress&&BN}function BN(){this.agent.dirty(),this.getDownstream().dirty()}function NN(){this.agent&&this.agent.dirty()}function VN(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function HN(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=RN(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?wN(t,function(r,a){return JC(a)}):qN}var qN=JC(0);function JC(e){return function(t,r){var a=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var n=t.start;n<t.end;n++)i.dataEach(a,n);else i&&i.progress&&i.progress(t,a)}}function GN(e){return e.data.count()}function ls(e,t,r){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i}eg.wrapStageHandler=function(e,t){return AN(e)&&(e={overallReset:e,seriesType:FN(e)}),e.uid=DN("stageHandler"),t&&(e.visualType=t),e};function FN(e){Zo=null;try{e(on,jC)}catch{}return Zo}var on={},jC={},Zo;eM(on,LN);eM(jC,PN);on.eachSeriesByType=on.eachRawSeriesByType=function(e){Zo=e};on.eachComponent=function(e){e.mainType==="series"&&e.subType&&(Zo=e.subType)};function eM(e,t){for(var r in t.prototype)e[r]=TN}var $N=eg,UN=$N,zm=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],WN={color:zm,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],zm]},ZN=WN,St="#eee",ro=function(){return{axisLine:{lineStyle:{color:St}},axisTick:{lineStyle:{color:St}},axisLabel:{textStyle:{color:St}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:St}}}},yl=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],tM={color:yl,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:St},crossStyle:{color:St},label:{color:"#000"}}},legend:{textStyle:{color:St}},textStyle:{color:St},title:{textStyle:{color:St}},toolbox:{iconStyle:{normal:{borderColor:St}}},dataZoom:{textStyle:{color:St}},visualMap:{textStyle:{color:St}},timeline:{lineStyle:{color:St},itemStyle:{normal:{color:yl[1]}},label:{normal:{textStyle:{color:St}}},controlStyle:{normal:{color:St,borderColor:St}}},timeAxis:ro(),logAxis:ro(),valueAxis:ro(),categoryAxis:ro(),line:{symbol:"circle"},graph:{color:yl},gauge:{title:{textStyle:{color:St}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};tM.categoryAxis.splitLine.show=!1;var YN=tM,XN=YN,KN=ft,QN=os,JN=wt,jN=JN.detectSourceFormat,eV=qt,tV=eV.SERIES_LAYOUT_BY_COLUMN;KN.extend({type:"dataset",defaultOption:{seriesLayoutBy:tV,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){jN(this)}});QN.extend({type:"dataset"});var wn={},rV=it,aV=rV.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var r=.5522848,a=t.cx,i=t.cy,n=t.rx,u=t.ry,c=n*r,o=u*r;e.moveTo(a-n,i),e.bezierCurveTo(a-n,i-o,a-c,i-u,a,i-u),e.bezierCurveTo(a+c,i-u,a+n,i-o,a+n,i),e.bezierCurveTo(a+n,i+o,a+c,i+u,a,i+u),e.bezierCurveTo(a-c,i+u,a-n,i+o,a-n,i),e.closePath()}}),iV=aV,Ki=ba,nV=hi,oV=wa,sV=GT,rM=Rd,lV=iV,uV=WT,vV=it,hV=$T,cV=UT,fV=Ed,dV=ld,ao=Rt(),gV=mn,pV=gV.createFromString,An=Z,mV=An.isString,yV=An.extend,_V=An.defaults,Er=An.trim,Bm=An.each,Yr=/[\s,]+/;function aM(e){if(mV(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function us(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}us.prototype.parse=function(e,t){t=t||{};var r=aM(e);if(!r)throw new Error("Illegal svg");var a=new Ki;this._root=a;var i=r.getAttribute("viewBox")||"",n=parseFloat(r.getAttribute("width")||t.width),u=parseFloat(r.getAttribute("height")||t.height);isNaN(n)&&(n=null),isNaN(u)&&(u=null),Vt(r,a,null,!0);for(var c=r.firstChild;c;)this._parseNode(c,a),c=c.nextSibling;var o,h;if(i){var s=Er(i).split(Yr);s.length>=4&&(o={x:parseFloat(s[0]||0),y:parseFloat(s[1]||0),width:parseFloat(s[2]),height:parseFloat(s[3])})}if(o&&n!=null&&u!=null&&(h=iM(o,n,u),!t.ignoreViewBox)){var v=a;a=new Ki,a.add(v),v.scale=h.scale.slice(),v.position=h.position.slice()}return!t.ignoreRootClip&&n!=null&&u!=null&&a.setClipPath(new rM({shape:{x:0,y:0,width:n,height:u}})),{root:a,width:n,height:u,viewBoxRect:o,viewBoxTransform:h}};us.prototype._parseNode=function(e,t){var r=e.nodeName.toLowerCase();r==="defs"?this._isDefine=!0:r==="text"&&(this._isText=!0);var a;if(this._isDefine){var i=SV[r];if(i){var n=i.call(this,e),u=e.getAttribute("id");u&&(this._defs[u]=n)}}else{var i=xV[r];i&&(a=i.call(this,e,t),t.add(a))}for(var c=e.firstChild;c;)c.nodeType===1&&this._parseNode(c,a),c.nodeType===3&&this._isText&&this._parseText(c,a),c=c.nextSibling;r==="defs"?this._isDefine=!1:r==="text"&&(this._isText=!1)};us.prototype._parseText=function(e,t){if(e.nodeType===1){var r=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(a)}var i=new oV({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ft(t,i),Vt(e,i,this._defs);var n=i.style.fontSize;n&&n<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=n/9,i.scale[1]*=n/9);var u=i.getBoundingRect();return this._textX+=u.width,t.add(i),i};var xV={g:function(e,t){var r=new Ki;return Ft(t,r),Vt(e,r,this._defs),r},rect:function(e,t){var r=new rM;return Ft(t,r),Vt(e,r,this._defs),r.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),r},circle:function(e,t){var r=new sV;return Ft(t,r),Vt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),r},line:function(e,t){var r=new uV;return Ft(t,r),Vt(e,r,this._defs),r.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),r},ellipse:function(e,t){var r=new lV;return Ft(t,r),Vt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),r},polygon:function(e,t){var r=e.getAttribute("points");r&&(r=Nm(r));var a=new hV({shape:{points:r||[]}});return Ft(t,a),Vt(e,a,this._defs),a},polyline:function(e,t){var r=new vV;Ft(t,r),Vt(e,r,this._defs);var a=e.getAttribute("points");a&&(a=Nm(a));var i=new cV({shape:{points:a||[]}});return i},image:function(e,t){var r=new nV;return Ft(t,r),Vt(e,r,this._defs),r.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),r},text:function(e,t){var r=e.getAttribute("x")||0,a=e.getAttribute("y")||0,i=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(n);var u=new Ki;return Ft(t,u),Vt(e,u,this._defs),u},tspan:function(e,t){var r=e.getAttribute("x"),a=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0,u=new Ki;return Ft(t,u),Vt(e,u,this._defs),this._textX+=i,this._textY+=n,u},path:function(e,t){var r=e.getAttribute("d")||"",a=pV(r);return Ft(t,a),Vt(e,a,this._defs),a}},SV={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),r=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),n=new fV(t,r,a,i);return bV(e,n),n},radialgradient:function(e){}};function bV(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1){var a=r.getAttribute("offset");a.indexOf("%")>0?a=parseInt(a,10)/100:a?a=parseFloat(a):a=0;var i=r.getAttribute("stop-color")||"#000000";t.addColorStop(a,i)}r=r.nextSibling}}function Ft(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),_V(t.__inheritedStyle,e.__inheritedStyle))}function Nm(e){for(var t=Er(e).split(Yr),r=[],a=0;a<t.length;a+=2){var i=parseFloat(t[a]),n=parseFloat(t[a+1]);r.push([i,n])}return r}var Qa={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Vt(e,t,r,a){var i=t.__inheritedStyle||{},n=t.type==="text";if(e.nodeType===1&&(TV(e,t),yV(i,CV(e)),!a)){for(var u in Qa)if(Qa.hasOwnProperty(u)){var c=e.getAttribute(u);c!=null&&(i[Qa[u]]=c)}}var o=n?"textFill":"fill",h=n?"textStroke":"stroke";t.style=t.style||new dV;var s=t.style;i.fill!=null&&s.set(o,Vm(i.fill,r)),i.stroke!=null&&s.set(h,Vm(i.stroke,r)),Bm(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(v){var l=v==="lineWidth"&&n?"textStrokeWidth":v;i[v]!=null&&s.set(l,parseFloat(i[v]))}),(!i.textBaseline||i.textBaseline==="auto")&&(i.textBaseline="alphabetic"),i.textBaseline==="alphabetic"&&(i.textBaseline="bottom"),i.textAlign==="start"&&(i.textAlign="left"),i.textAlign==="end"&&(i.textAlign="right"),Bm(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(v){i[v]!=null&&s.set(v,i[v])}),i.lineDash&&(t.style.lineDash=Er(i.lineDash).split(Yr)),s[h]&&s[h]!=="none"&&(t[h]=!0),t.__inheritedStyle=i}var wV=/url\(\s*#(.*?)\)/;function Vm(e,t){var r=t&&e&&e.match(wV);if(r){var a=Er(r[1]),i=t[a];return i}return e}var AV=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function TV(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var a=null,i=[];r.replace(AV,function(o,h,s){i.push(h,s)});for(var n=i.length-1;n>0;n-=2){var u=i[n],c=i[n-1];switch(a=a||ao.create(),c){case"translate":u=Er(u).split(Yr),ao.translate(a,a,[parseFloat(u[0]),parseFloat(u[1]||0)]);break;case"scale":u=Er(u).split(Yr),ao.scale(a,a,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":u=Er(u).split(Yr),ao.rotate(a,a,parseFloat(u[0]));break;case"skew":u=Er(u).split(Yr),console.warn("Skew transform is not supported yet");break;case"matrix":var u=Er(u).split(Yr);a[0]=parseFloat(u[0]),a[1]=parseFloat(u[1]),a[2]=parseFloat(u[2]),a[3]=parseFloat(u[3]),a[4]=parseFloat(u[4]),a[5]=parseFloat(u[5]);break}}t.setLocalTransform(a)}}var Hm=/([^\s:;]+)\s*:\s*([^:;]+)/g;function CV(e){var t=e.getAttribute("style"),r={};if(!t)return r;var a={};Hm.lastIndex=0;for(var i;(i=Hm.exec(t))!=null;)a[i[1]]=i[2];for(var n in Qa)Qa.hasOwnProperty(n)&&a[n]!=null&&(r[Qa[n]]=a[n]);return r}function iM(e,t,r){var a=t/e.width,i=r/e.height,n=Math.min(a,i),u=[n,n],c=[-(e.x+e.width/2)*n+t/2,-(e.y+e.height/2)*n+r/2];return{scale:u,position:c}}function MV(e,t){var r=new us;return r.parse(e,t)}wn.parseXML=aM;wn.makeViewBoxTransform=iM;wn.parseSVG=MV;var Tn=Z,DV=Tn.createHashMap,LV=Tn.isString,PV=Tn.isArray,IV=Tn.each;Tn.assert;var RV=wn,EV=RV.parseXML,qm=DV(),kV={registerMap:function(e,t,r){var a;return PV(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(r=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:r}]),IV(a,function(i){var n=i.type;n==="geoJson"&&(n=i.type="geoJSON");var u=OV[n];u(i)}),qm.set(e,a)},retrieveMap:function(e){return qm.get(e)}},OV={geoJSON:function(e){var t=e.source;e.geoJSON=LV(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=EV(e.source)}},tg=kV,mt={},dr={},_l,Gm;function Ca(){if(Gm)return _l;Gm=1;function e(i){return i}function t(i,n,u,c,o){this._old=i,this._new=n,this._oldKeyGetter=u||e,this._newKeyGetter=c||e,this.context=o}t.prototype={constructor:t,add:function(i){return this._add=i,this},update:function(i){return this._update=i,this},remove:function(i){return this._remove=i,this},execute:function(){var i=this._old,n=this._new,u={},c={},o=[],h=[],s;for(r(i,u,o,"_oldKeyGetter",this),r(n,c,h,"_newKeyGetter",this),s=0;s<i.length;s++){var v=o[s],l=c[v];if(l!=null){var d=l.length;d?(d===1&&(c[v]=null),l=l.shift()):c[v]=null,this._update&&this._update(l,s)}else this._remove&&this._remove(s)}for(var s=0;s<h.length;s++){var v=h[s];if(c.hasOwnProperty(v)){var l=c[v];if(l==null)continue;if(!l.length)this._add&&this._add(l);else for(var f=0,d=l.length;f<d;f++)this._add&&this._add(l[f])}}}};function r(i,n,u,c,o){for(var h=0;h<i.length;h++){var s="_ec_"+o[c](i[h],h),v=n[s];v==null?(u.push(s),n[s]=h):(v.length||(n[s]=v=[v]),v.push(h))}}var a=t;return _l=a,_l}var Oi={},Fm;function Cn(){if(Fm)return Oi;Fm=1;var e=Z,t=e.each,r=e.createHashMap;e.assert;var a=r(["tooltip","label","itemName","itemId","seriesName"]);function i(o){var h={},s=h.encode={},v=r(),l=[],d=[],f=h.userOutput={dimensionNames:o.dimensions.slice(),encode:{}};t(o.dimensions,function(_){var S=o.getDimensionInfo(_),T=S.coordDim;if(T){var w=S.coordDimIndex;n(s,T)[w]=_,S.isExtraCoord||(v.set(T,1),c(S.type)&&(l[0]=_),n(f.encode,T)[w]=S.index),S.defaultTooltip&&d.push(_)}a.each(function(x,b){var A=n(s,b),C=S.otherDims[b];C!=null&&C!==!1&&(A[C]=S.name)})});var m=[],g={};v.each(function(_,S){var T=s[S];g[S]=T[0],m=m.concat(T)}),h.dataDimsOnCoord=m,h.encodeFirstDimNotExtra=g;var p=s.label;p&&p.length&&(l=p.slice());var y=s.tooltip;return y&&y.length?d=y.slice():d.length||(d=l.slice()),s.defaultedLabel=l,s.defaultedTooltip=d,h}function n(o,h){return o.hasOwnProperty(h)||(o[h]=[]),o[h]}function u(o){return o==="category"?"ordinal":o==="time"?"time":"float"}function c(o){return!(o==="ordinal"||o==="time")}return Oi.OTHER_DIMENSIONS=a,Oi.summarizeDimensions=i,Oi.getDimensionTypeByAxis=u,Oi}var xl,$m;function nM(){if($m)return xl;$m=1;var e=Z;function t(a){a!=null&&e.extend(this,a),this.otherDims={}}var r=t;return xl=r,xl}var Sl,Um;function Yt(){if(Um)return Sl;Um=1;var e=Z,t=ht(),r=Ca(),a=xn,i=sr,n=i.defaultDimValueGetters,u=i.DefaultDataProvider,c=Cn(),o=c.summarizeDimensions,h=nM(),s=e.isObject,v="undefined",l=-1,d="e\0\0",f={float:typeof Float64Array===v?Array:Float64Array,int:typeof Int32Array===v?Array:Int32Array,ordinal:Array,number:Array,time:Array},m=typeof Uint32Array===v?Array:Uint32Array,g=typeof Int32Array===v?Array:Int32Array,p=typeof Uint16Array===v?Array:Uint16Array;function y(R){return R._rawCount>65535?m:p}function _(R){var B=R.constructor;return B===Array?R.slice():new B(R)}var S=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],T=["_extent","_approximateExtent","_rawExtent"];function w(R,B){e.each(S.concat(B.__wrappedMethods||[]),function(k){B.hasOwnProperty(k)&&(R[k]=B[k])}),R.__wrappedMethods=B.__wrappedMethods,e.each(T,function(k){R[k]=e.clone(B[k])}),R._calculationInfo=e.extend(B._calculationInfo)}var x=function(R,B){R=R||["x","y"];for(var k={},N=[],q={},H=0;H<R.length;H++){var F=R[H];e.isString(F)?F=new h({name:F}):F instanceof h||(F=new h(F));var U=F.name;F.type=F.type||"float",F.coordDim||(F.coordDim=U,F.coordDimIndex=0),F.otherDims=F.otherDims||{},N.push(U),k[U]=F,F.index=H,F.createInvertedIndices&&(q[U]=[])}this.dimensions=N,this._dimensionInfos=k,this.hostModel=B,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=o(this),this._invertedIndicesMap=q,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},b=x.prototype;b.type="list",b.hasItemOption=!0,b.getDimension=function(R){return(typeof R=="number"||!isNaN(R)&&!this._dimensionInfos.hasOwnProperty(R))&&(R=this.dimensions[R]),R},b.getDimensionInfo=function(R){return this._dimensionInfos[this.getDimension(R)]},b.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},b.mapDimension=function(R,B){var k=this._dimensionsSummary;if(B==null)return k.encodeFirstDimNotExtra[R];var N=k.encode[R];return B===!0?(N||[]).slice():N&&N[B]},b.initData=function(R,B,k){var N=a.isInstance(R)||e.isArrayLike(R);N&&(R=new u(R,this.dimensions.length)),this._rawData=R,this._storage={},this._indices=null,this._nameList=B||[],this._idList=[],this._nameRepeatCount={},k||(this.hasItemOption=!1),this.defaultDimValueGetter=n[this._rawData.getSource().sourceFormat],this._dimValueGetter=k=k||this.defaultDimValueGetter,this._dimValueGetterArrayRows=n.arrayRows,this._rawExtent={},this._initDataFromProvider(0,R.count()),R.pure&&(this.hasItemOption=!1)},b.getProvider=function(){return this._rawData},b.appendData=function(R){var B=this._rawData,k=this.count();B.appendData(R);var N=B.count();B.persistent||(N+=k),this._initDataFromProvider(k,N)},b.appendValues=function(R,B){for(var k=this._chunkSize,N=this._storage,q=this.dimensions,H=q.length,F=this._rawExtent,U=this.count(),W=U+Math.max(R.length,B?B.length:0),K=this._chunkCount,J=0;J<H;J++){var j=q[J];F[j]||(F[j]=z()),N[j]||(N[j]=[]),A(N,this._dimensionInfos[j],k,K,W),this._chunkCount=N[j].length}for(var ee=new Array(H),ie=U;ie<W;ie++){for(var re=ie-U,he=Math.floor(ie/k),_e=ie%k,ae=0;ae<H;ae++){var j=q[ae],se=this._dimValueGetterArrayRows(R[re]||ee,j,re,ae);N[j][he][_e]=se;var De=F[j];se<De[0]&&(De[0]=se),se>De[1]&&(De[1]=se)}B&&(this._nameList[ie]=B[re])}this._rawCount=this._count=W,this._extent={},C(this)},b._initDataFromProvider=function(R,B){if(!(R>=B)){for(var k=this._chunkSize,N=this._rawData,q=this._storage,H=this.dimensions,F=H.length,U=this._dimensionInfos,W=this._nameList,K=this._idList,J=this._rawExtent,j=this._nameRepeatCount={},ee,ie=this._chunkCount,re=0;re<F;re++){var he=H[re];J[he]||(J[he]=z());var _e=U[he];_e.otherDims.itemName===0&&(ee=this._nameDimIdx=re),_e.otherDims.itemId===0&&(this._idDimIdx=re),q[he]||(q[he]=[]),A(q,_e,k,ie,B),this._chunkCount=q[he].length}for(var ae=new Array(F),se=R;se<B;se++){ae=N.getItem(se,ae);for(var De=Math.floor(se/k),oe=se%k,ue=0;ue<F;ue++){var he=H[ue],be=q[he][De],Y=this._dimValueGetter(ae,he,se,ue);be[oe]=Y;var Q=J[he];Y<Q[0]&&(Q[0]=Y),Y>Q[1]&&(Q[1]=Y)}if(!N.pure){var te=W[se];if(ae&&te==null){if(ae.name!=null)W[se]=te=ae.name;else if(ee!=null){var ce=H[ee],le=q[ce][De];if(le){te=le[oe];var fe=U[ce].ordinalMeta;fe&&fe.categories.length&&(te=fe.categories[te])}}}var ye=ae==null?null:ae.id;ye==null&&te!=null&&(j[te]=j[te]||0,ye=te,j[te]>0&&(ye+="__ec__"+j[te]),j[te]++),ye!=null&&(K[se]=ye)}}!N.persistent&&N.clean&&N.clean(),this._rawCount=this._count=B,this._extent={},C(this)}};function A(R,B,k,N,q){var H=f[B.type],F=N-1,U=B.name,W=R[U][F];if(W&&W.length<k){for(var K=new H(Math.min(q-F*k,k)),J=0;J<W.length;J++)K[J]=W[J];R[U][F]=K}for(var j=N*k;j<q;j+=k)R[U].push(new H(Math.min(q-j,k)))}function C(R){var B=R._invertedIndicesMap;e.each(B,function(k,N){var q=R._dimensionInfos[N],H=q.ordinalMeta;if(H){k=B[N]=new g(H.categories.length);for(var F=0;F<k.length;F++)k[F]=l;for(var F=0;F<R._count;F++)k[R.get(N,F)]=F}})}function M(R,B,k){var N;if(B!=null){var q=R._chunkSize,H=Math.floor(k/q),F=k%q,U=R.dimensions[B],W=R._storage[U][H];if(W){N=W[F];var K=R._dimensionInfos[U].ordinalMeta;K&&K.categories.length&&(N=K.categories[N])}}return N}b.count=function(){return this._count},b.getIndices=function(){var R,B=this._indices;if(B){var k=B.constructor,N=this._count;if(k===Array){R=new k(N);for(var q=0;q<N;q++)R[q]=B[q]}else R=new k(B.buffer,0,N)}else for(var k=y(this),R=new k(this.count()),q=0;q<R.length;q++)R[q]=q;return R},b.get=function(R,B){if(!(B>=0&&B<this._count))return NaN;var k=this._storage;if(!k[R])return NaN;B=this.getRawIndex(B);var N=Math.floor(B/this._chunkSize),q=B%this._chunkSize,H=k[R][N],F=H[q];return F},b.getByRawIndex=function(R,B){if(!(B>=0&&B<this._rawCount))return NaN;var k=this._storage[R];if(!k)return NaN;var N=Math.floor(B/this._chunkSize),q=B%this._chunkSize,H=k[N];return H[q]},b._getFast=function(R,B){var k=Math.floor(B/this._chunkSize),N=B%this._chunkSize,q=this._storage[R][k];return q[N]},b.getValues=function(R,B){var k=[];e.isArray(R)||(B=R,R=this.dimensions);for(var N=0,q=R.length;N<q;N++)k.push(this.get(R[N],B));return k},b.hasValue=function(R){for(var B=this._dimensionsSummary.dataDimsOnCoord,k=0,N=B.length;k<N;k++)if(isNaN(this.get(B[k],R)))return!1;return!0},b.getDataExtent=function(R){R=this.getDimension(R);var B=this._storage[R],k=z();if(!B)return k;var N=this.count(),q=!this._indices,H;if(q)return this._rawExtent[R].slice();if(H=this._extent[R],H)return H.slice();H=k;for(var F=H[0],U=H[1],W=0;W<N;W++){var K=this._getFast(R,this.getRawIndex(W));K<F&&(F=K),K>U&&(U=K)}return H=[F,U],this._extent[R]=H,H},b.getApproximateExtent=function(R){return R=this.getDimension(R),this._approximateExtent[R]||this.getDataExtent(R)},b.setApproximateExtent=function(R,B){B=this.getDimension(B),this._approximateExtent[B]=R.slice()},b.getCalculationInfo=function(R){return this._calculationInfo[R]},b.setCalculationInfo=function(R,B){s(R)?e.extend(this._calculationInfo,R):this._calculationInfo[R]=B},b.getSum=function(R){var B=this._storage[R],k=0;if(B)for(var N=0,q=this.count();N<q;N++){var H=this.get(R,N);isNaN(H)||(k+=H)}return k},b.getMedian=function(R){var B=[];this.each(R,function(q,H){isNaN(q)||B.push(q)});var k=[].concat(B).sort(function(q,H){return q-H}),N=this.count();return N===0?0:N%2===1?k[(N-1)/2]:(k[N/2]+k[N/2-1])/2},b.rawIndexOf=function(R,B){var k=R&&this._invertedIndicesMap[R],N=k[B];return N==null||isNaN(N)?l:N},b.indexOfName=function(R){for(var B=0,k=this.count();B<k;B++)if(this.getName(B)===R)return B;return-1},b.indexOfRawIndex=function(R){if(R>=this._rawCount||R<0)return-1;if(!this._indices)return R;var B=this._indices,k=B[R];if(k!=null&&k<this._count&&k===R)return R;for(var N=0,q=this._count-1;N<=q;){var H=(N+q)/2|0;if(B[H]<R)N=H+1;else if(B[H]>R)q=H-1;else return H}return-1},b.indicesOfNearest=function(R,B,k){var N=this._storage,q=N[R],H=[];if(!q)return H;k==null&&(k=1/0);for(var F=1/0,U=-1,W=0,K=0,J=this.count();K<J;K++){var j=B-this.get(R,K),ee=Math.abs(j);ee<=k&&((ee<F||ee===F&&j>=0&&U<0)&&(F=ee,U=j,W=0),j===U&&(H[W++]=K))}return H.length=W,H},b.getRawIndex=D;function D(R){return R}function L(R){return R<this._count&&R>=0?this._indices[R]:-1}b.getRawDataItem=function(R){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(R));for(var B=[],k=0;k<this.dimensions.length;k++){var N=this.dimensions[k];B.push(this.get(N,R))}return B},b.getName=function(R){var B=this.getRawIndex(R);return this._nameList[B]||M(this,this._nameDimIdx,B)||""},b.getId=function(R){return P(this,this.getRawIndex(R))};function P(R,B){var k=R._idList[B];return k==null&&(k=M(R,R._idDimIdx,B)),k==null&&(k=d+B),k}function I(R){return e.isArray(R)||(R=[R]),R}b.each=function(R,B,k,N){if(this._count){typeof R=="function"&&(N=k,k=B,B=R,R=[]),k=k||N||this,R=e.map(I(R),this.getDimension,this);for(var q=R.length,H=0;H<this.count();H++)switch(q){case 0:B.call(k,H);break;case 1:B.call(k,this.get(R[0],H),H);break;case 2:B.call(k,this.get(R[0],H),this.get(R[1],H),H);break;default:for(var F=0,U=[];F<q;F++)U[F]=this.get(R[F],H);U[F]=H,B.apply(k,U)}}},b.filterSelf=function(R,B,k,N){if(this._count){typeof R=="function"&&(N=k,k=B,B=R,R=[]),k=k||N||this,R=e.map(I(R),this.getDimension,this);for(var q=this.count(),H=y(this),F=new H(q),U=[],W=R.length,K=0,J=R[0],j=0;j<q;j++){var ee,ie=this.getRawIndex(j);if(W===0)ee=B.call(k,j);else if(W===1){var re=this._getFast(J,ie);ee=B.call(k,re,j)}else{for(var he=0;he<W;he++)U[he]=this._getFast(J,ie);U[he]=j,ee=B.apply(k,U)}ee&&(F[K++]=ie)}return K<q&&(this._indices=F),this._count=K,this._extent={},this.getRawIndex=this._indices?L:D,this}},b.selectRange=function(R){if(this._count){var B=[];for(var k in R)R.hasOwnProperty(k)&&B.push(k);var N=B.length;if(N){var q=this.count(),H=y(this),F=new H(q),U=0,W=B[0],K=R[W][0],J=R[W][1],j=!1;if(!this._indices){var ee=0;if(N===1){for(var ie=this._storage[B[0]],re=0;re<this._chunkCount;re++)for(var he=ie[re],_e=Math.min(this._count-re*this._chunkSize,this._chunkSize),ae=0;ae<_e;ae++){var se=he[ae];(se>=K&&se<=J||isNaN(se))&&(F[U++]=ee),ee++}j=!0}else if(N===2){for(var ie=this._storage[W],De=this._storage[B[1]],oe=R[B[1]][0],ue=R[B[1]][1],re=0;re<this._chunkCount;re++)for(var he=ie[re],be=De[re],_e=Math.min(this._count-re*this._chunkSize,this._chunkSize),ae=0;ae<_e;ae++){var se=he[ae],Y=be[ae];(se>=K&&se<=J||isNaN(se))&&(Y>=oe&&Y<=ue||isNaN(Y))&&(F[U++]=ee),ee++}j=!0}}if(!j)if(N===1)for(var ae=0;ae<q;ae++){var Q=this.getRawIndex(ae),se=this._getFast(W,Q);(se>=K&&se<=J||isNaN(se))&&(F[U++]=Q)}else for(var ae=0;ae<q;ae++){for(var te=!0,Q=this.getRawIndex(ae),re=0;re<N;re++){var ce=B[re],se=this._getFast(k,Q);(se<R[ce][0]||se>R[ce][1])&&(te=!1)}te&&(F[U++]=this.getRawIndex(ae))}return U<q&&(this._indices=F),this._count=U,this._extent={},this.getRawIndex=this._indices?L:D,this}}},b.mapArray=function(R,B,k,N){typeof R=="function"&&(N=k,k=B,B=R,R=[]),k=k||N||this;var q=[];return this.each(R,function(){q.push(B&&B.apply(this,arguments))},k),q};function E(R,B){var k=R.dimensions,N=new x(e.map(k,R.getDimensionInfo,R),R.hostModel);w(N,R);for(var q=N._storage={},H=R._storage,F=0;F<k.length;F++){var U=k[F];H[U]&&(e.indexOf(B,U)>=0?(q[U]=O(H[U]),N._rawExtent[U]=z(),N._extent[U]=null):q[U]=H[U])}return N}function O(R){for(var B=new Array(R.length),k=0;k<R.length;k++)B[k]=_(R[k]);return B}function z(){return[1/0,-1/0]}b.map=function(R,B,k,N){k=k||N||this,R=e.map(I(R),this.getDimension,this);var q=E(this,R);q._indices=this._indices,q.getRawIndex=q._indices?L:D;for(var H=q._storage,F=[],U=this._chunkSize,W=R.length,K=this.count(),J=[],j=q._rawExtent,ee=0;ee<K;ee++){for(var ie=0;ie<W;ie++)J[ie]=this.get(R[ie],ee);J[W]=ee;var re=B&&B.apply(k,J);if(re!=null){typeof re!="object"&&(F[0]=re,re=F);for(var he=this.getRawIndex(ee),_e=Math.floor(he/U),ae=he%U,se=0;se<re.length;se++){var De=R[se],oe=re[se],ue=j[De],be=H[De];be&&(be[_e][ae]=oe),oe<ue[0]&&(ue[0]=oe),oe>ue[1]&&(ue[1]=oe)}}}return q},b.downSample=function(R,B,k,N){for(var q=E(this,[R]),H=q._storage,F=[],U=Math.floor(1/B),W=H[R],K=this.count(),J=this._chunkSize,j=q._rawExtent[R],ee=new(y(this))(K),ie=0,re=0;re<K;re+=U){U>K-re&&(U=K-re,F.length=U);for(var he=0;he<U;he++){var _e=this.getRawIndex(re+he),ae=Math.floor(_e/J),se=_e%J;F[he]=W[ae][se]}var De=k(F),oe=this.getRawIndex(Math.min(re+N(F,De)||0,K-1)),ue=Math.floor(oe/J),be=oe%J;W[ue][be]=De,De<j[0]&&(j[0]=De),De>j[1]&&(j[1]=De),ee[ie++]=oe}return q._count=ie,q._indices=ee,q.getRawIndex=L,q},b.getItemModel=function(R){var B=this.hostModel;return new t(this.getRawDataItem(R),B,B&&B.ecModel)},b.diff=function(R){var B=this;return new r(R?R.getIndices():[],this.getIndices(),function(k){return P(R,k)},function(k){return P(B,k)})},b.getVisual=function(R){var B=this._visual;return B&&B[R]},b.setVisual=function(R,B){if(s(R)){for(var k in R)R.hasOwnProperty(k)&&this.setVisual(k,R[k]);return}this._visual=this._visual||{},this._visual[R]=B},b.setLayout=function(R,B){if(s(R)){for(var k in R)R.hasOwnProperty(k)&&this.setLayout(k,R[k]);return}this._layout[R]=B},b.getLayout=function(R){return this._layout[R]},b.getItemLayout=function(R){return this._itemLayouts[R]},b.setItemLayout=function(R,B,k){this._itemLayouts[R]=k?e.extend(this._itemLayouts[R]||{},B):B},b.clearItemLayouts=function(){this._itemLayouts.length=0},b.getItemVisual=function(R,B,k){var N=this._itemVisuals[R],q=N&&N[B];return q==null&&!k?this.getVisual(B):q},b.setItemVisual=function(R,B,k){var N=this._itemVisuals[R]||{},q=this.hasItemVisual;if(this._itemVisuals[R]=N,s(B)){for(var H in B)B.hasOwnProperty(H)&&(N[H]=B[H],q[H]=!0);return}N[B]=k,q[B]=!0},b.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var G=function(R){R.seriesIndex=this.seriesIndex,R.dataIndex=this.dataIndex,R.dataType=this.dataType};b.setItemGraphicEl=function(R,B){var k=this.hostModel;B&&(B.dataIndex=R,B.dataType=this.dataType,B.seriesIndex=k&&k.seriesIndex,B.type==="group"&&B.traverse(G,B)),this._graphicEls[R]=B},b.getItemGraphicEl=function(R){return this._graphicEls[R]},b.eachItemGraphicEl=function(R,B){e.each(this._graphicEls,function(k,N){k&&R&&R.call(B,k,N)})},b.cloneShallow=function(R){if(!R){var B=e.map(this.dimensions,this.getDimensionInfo,this);R=new x(B,this.hostModel)}if(R._storage=this._storage,w(R,this),this._indices){var k=this._indices.constructor;R._indices=new k(this._indices)}else R._indices=null;return R.getRawIndex=R._indices?L:D,R},b.wrapMethod=function(R,B){var k=this[R];typeof k=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(R),this[R]=function(){var N=k.apply(this,arguments);return B.apply(this,[N].concat(e.slice(arguments)))})},b.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],b.CHANGABLE_METHODS=["filterSelf","selectRange"];var V=x;return Sl=V,Sl}var bl,Wm;function oM(){if(Wm)return bl;Wm=1;var e=Z,t=e.createHashMap,r=e.each,a=e.isString,i=e.defaults,n=e.extend,u=e.isObject,c=e.clone,o=Re,h=o.normalizeToArray,s=wt,v=s.guessOrdinal,l=s.BE_ORDINAL,d=xn,f=Cn(),m=f.OTHER_DIMENSIONS,g=nM();function p(T,w,x){d.isInstance(w)||(w=d.seriesDataToSource(w)),x=x||{},T=(T||[]).slice();for(var b=(x.dimsDef||[]).slice(),A=t(),C=t(),M=[],D=y(w,T,b,x.dimCount),L=0;L<D;L++){var P=b[L]=n({},u(b[L])?b[L]:{name:b[L]}),I=P.name,E=M[L]=new g;I!=null&&A.get(I)==null&&(E.name=E.displayName=I,A.set(I,L)),P.type!=null&&(E.type=P.type),P.displayName!=null&&(E.displayName=P.displayName)}var O=x.encodeDef;!O&&x.encodeDefaulter&&(O=x.encodeDefaulter(w,D)),O=t(O),O.each(function(H,F){if(H=h(H).slice(),H.length===1&&!a(H[0])&&H[0]<0){O.set(F,!1);return}var U=O.set(F,[]);r(H,function(W,K){a(W)&&(W=A.get(W)),W!=null&&W<D&&(U[K]=W,G(M[W],F,K))})});var z=0;r(T,function(W,F){var U,W,K,J;if(a(W))U=W,W={};else{U=W.name;var j=W.ordinalMeta;W.ordinalMeta=null,W=c(W),W.ordinalMeta=j,K=W.dimsDef,J=W.otherDims,W.name=W.coordDim=W.coordDimIndex=W.dimsDef=W.otherDims=null}var ee=O.get(U);if(ee!==!1){var ee=h(ee);if(!ee.length)for(var ie=0;ie<(K&&K.length||1);ie++){for(;z<M.length&&M[z].coordDim!=null;)z++;z<M.length&&ee.push(z++)}r(ee,function(re,he){var _e=M[re];if(G(i(_e,W),U,he),_e.name==null&&K){var ae=K[he];!u(ae)&&(ae={name:ae}),_e.name=_e.displayName=ae.name,_e.defaultTooltip=ae.defaultTooltip}J&&i(_e.otherDims,J)})}});function G(H,F,U){m.get(F)!=null?H.otherDims[F]=U:(H.coordDim=F,H.coordDimIndex=U,C.set(F,!0))}var V=x.generateCoord,R=x.generateCoordCount,B=R!=null;R=V?R||1:0;for(var k=V||"value",N=0;N<D;N++){var E=M[N]=M[N]||new g,q=E.coordDim;q==null&&(E.coordDim=_(k,C,B),E.coordDimIndex=0,(!V||R<=0)&&(E.isExtraCoord=!0),R--),E.name==null&&(E.name=_(E.coordDim,A)),E.type==null&&(v(w,N,E.name)===l.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return M}function y(T,w,x,b){var A=Math.max(T.dimensionsDetectCount||1,w.length,x.length,b||0);return r(w,function(C){var M=C.dimsDef;M&&(A=Math.max(A,M.length))}),A}function _(T,w,x){if(x||w.get(T)!=null){for(var b=0;w.get(T+b)!=null;)b++;T+=b}return w.set(T,!0),T}var S=p;return bl=S,bl}var wl,Zm;function _i(){if(Zm)return wl;Zm=1;var e=oM();function t(r,a){return a=a||{},e(a.coordDimensions||[],r,{dimsDef:a.dimensionsDefine||r.dimensionsDefine,encodeDef:a.encodeDefine||r.encodeDefine,dimCount:a.dimensionsCount,encodeDefaulter:a.encodeDefaulter,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})}return wl=t,wl}var Al={},Ym;function zV(){if(Ym)return Al;Ym=1;var e=Z,t=e.createHashMap;e.retrieve;var r=e.each;function a(c){this.coordSysName=c,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function i(c){var o=c.get("coordinateSystem"),h=new a(o),s=n[o];if(s)return s(c,h,h.axisMap,h.categoryAxisMap),h}var n={cartesian2d:function(c,o,h,s){var v=c.getReferringComponents("xAxis")[0],l=c.getReferringComponents("yAxis")[0];o.coordSysDims=["x","y"],h.set("x",v),h.set("y",l),u(v)&&(s.set("x",v),o.firstCategoryDimIndex=0),u(l)&&(s.set("y",l),o.firstCategoryDimIndex==null&(o.firstCategoryDimIndex=1))},singleAxis:function(c,o,h,s){var v=c.getReferringComponents("singleAxis")[0];o.coordSysDims=["single"],h.set("single",v),u(v)&&(s.set("single",v),o.firstCategoryDimIndex=0)},polar:function(c,o,h,s){var v=c.getReferringComponents("polar")[0],l=v.findAxisModel("radiusAxis"),d=v.findAxisModel("angleAxis");o.coordSysDims=["radius","angle"],h.set("radius",l),h.set("angle",d),u(l)&&(s.set("radius",l),o.firstCategoryDimIndex=0),u(d)&&(s.set("angle",d),o.firstCategoryDimIndex==null&&(o.firstCategoryDimIndex=1))},geo:function(c,o,h,s){o.coordSysDims=["lng","lat"]},parallel:function(c,o,h,s){var v=c.ecModel,l=v.getComponent("parallel",c.get("parallelIndex")),d=o.coordSysDims=l.dimensions.slice();r(l.parallelAxisIndex,function(f,m){var g=v.getComponent("parallelAxis",f),p=d[m];h.set(p,g),u(g)&&o.firstCategoryDimIndex==null&&(s.set(p,g),o.firstCategoryDimIndex=m)})}};function u(c){return c.get("type")==="category"}return Al.getCoordSysInfoBySeries=i,Al}var zi={},Xm;function Tr(){if(Xm)return zi;Xm=1;var e=Z,t=e.each,r=e.isString;function a(u,c,o){o=o||{};var h=o.byIndex,s=o.stackedCoordDimension,v=!!(u&&u.get("stack")),l,d,f,m;if(t(c,function(_,S){r(_)&&(c[S]=_={name:_}),v&&!_.isExtraCoord&&(!h&&!l&&_.ordinalMeta&&(l=_),!d&&_.type!=="ordinal"&&_.type!=="time"&&(!s||s===_.coordDim)&&(d=_))}),d&&!h&&!l&&(h=!0),d){f="__\0ecstackresult",m="__\0ecstackedover",l&&(l.createInvertedIndices=!0);var g=d.coordDim,p=d.type,y=0;t(c,function(_){_.coordDim===g&&y++}),c.push({name:f,coordDim:g,coordDimIndex:y,type:p,isExtraCoord:!0,isCalculationCoord:!0}),y++,c.push({name:m,coordDim:m,coordDimIndex:y,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:d&&d.name,stackedByDimension:l&&l.name,isStackedByIndex:h,stackedOverDimension:m,stackResultDimension:f}}function i(u,c){return!!c&&c===u.getCalculationInfo("stackedDimension")}function n(u,c){return i(u,c)?u.getCalculationInfo("stackResultDimension"):c}return zi.enableDataStack=a,zi.isDimensionStacked=i,zi.getStackedDimension=n,zi}var Tl,Km;function Br(){if(Km)return Tl;Km=1;var e=Z,t=Yt(),r=_i(),a=qt,i=a.SOURCE_FORMAT_ORIGINAL,n=Cn(),u=n.getDimensionTypeByAxis,c=Re,o=c.getDataItemValue,h=wr,s=zV(),v=s.getCoordSysInfoBySeries,l=xn,d=Tr(),f=d.enableDataStack,m=wt,g=m.makeSeriesEncodeForAxisCoordSys;function p(T,w,x){x=x||{},l.isInstance(T)||(T=l.seriesDataToSource(T));var b=w.get("coordinateSystem"),A=h.get(b),C=v(w),M;C&&(M=e.map(C.coordSysDims,function(z){var G={name:z},V=C.axisMap.get(z);if(V){var R=V.get("type");G.type=u(R)}return G})),M||(M=A&&(A.getDimensionsInfo?A.getDimensionsInfo():A.dimensions.slice())||["x","y"]);var D=r(T,{coordDimensions:M,generateCoord:x.generateCoord,encodeDefaulter:x.useEncodeDefaulter?e.curry(g,M,w):null}),L,P;C&&e.each(D,function(z,G){var V=z.coordDim,R=C.categoryAxisMap.get(V);R&&(L==null&&(L=G),z.ordinalMeta=R.getOrdinalMeta()),z.otherDims.itemName!=null&&(P=!0)}),!P&&L!=null&&(D[L].otherDims.itemName=0);var I=f(w,D),E=new t(D,w);E.setCalculationInfo(I);var O=L!=null&&y(T)?function(z,G,V,R){return R===L?V:this.defaultDimValueGetter(z,G,V,R)}:null;return E.hasItemOption=!1,E.initData(T,null,O),E}function y(T){if(T.sourceFormat===i){var w=_(T.data||[]);return w!=null&&!e.isArray(o(w))}}function _(T){for(var w=0;w<T.length&&T[w]==null;)w++;return T[w]}var S=p;return Tl=S,Tl}var jt={},Cl,Qm;function vs(){if(Qm)return Cl;Qm=1;var e=Bt;function t(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(a){return a},t.prototype.getSetting=function(a){return this._setting[a]},t.prototype.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},t.prototype.normalize=function(a){var i=this._extent;return i[1]===i[0]?.5:(a-i[0])/(i[1]-i[0])},t.prototype.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},t.prototype.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},t.prototype.unionExtentFromData=function(a,i){this.unionExtent(a.getApproximateExtent(i))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(a,i){var n=this._extent;isNaN(a)||(n[0]=a),isNaN(i)||(n[1]=i)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(a){this._isBlank=a},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return Cl=r,Cl}var Ml,Jm;function sM(){if(Jm)return Ml;Jm=1;var e=Z,t=e.createHashMap,r=e.isObject,a=e.map;function i(h){this.categories=h.categories||[],this._needCollect=h.needCollect,this._deduplication=h.deduplication,this._map}i.createByAxisModel=function(h){var s=h.option,v=s.data,l=v&&a(v,c);return new i({categories:l,needCollect:!l,deduplication:s.dedplication!==!1})};var n=i.prototype;n.getOrdinal=function(h){return u(this).get(h)},n.parseAndCollect=function(h){var s,v=this._needCollect;if(typeof h!="string"&&!v)return h;if(v&&!this._deduplication)return s=this.categories.length,this.categories[s]=h,s;var l=u(this);return s=l.get(h),s==null&&(v?(s=this.categories.length,this.categories[s]=h,l.set(h,s)):s=NaN),s};function u(h){return h._map||(h._map=t(h.categories))}function c(h){return r(h)&&h.value!=null?h.value:h+""}var o=i;return Ml=o,Ml}var Dl,jm;function BV(){if(jm)return Dl;jm=1;var e=Z,t=vs(),r=sM(),a=t.prototype,i=t.extend({type:"ordinal",init:function(u,c){(!u||e.isArray(u))&&(u=new r({categories:u})),this._ordinalMeta=u,this._extent=c||[0,u.categories.length-1]},parse:function(u){return typeof u=="string"?this._ordinalMeta.getOrdinal(u):Math.round(u)},contain:function(u){return u=this.parse(u),a.contain.call(this,u)&&this._ordinalMeta.categories[u]!=null},normalize:function(u){return a.normalize.call(this,this.parse(u))},scale:function(u){return Math.round(a.scale.call(this,u))},getTicks:function(){for(var u=[],c=this._extent,o=c[0];o<=c[1];)u.push(o),o++;return u},getLabel:function(u){if(!this.isBlank())return this._ordinalMeta.categories[u]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(u,c){this.unionExtent(u.getApproximateExtent(c))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});i.create=function(){return new i};var n=i;return Dl=n,Dl}var Bi={},ey;function lM(){if(ey)return Bi;ey=1;var e=Oe(),t=e.round;function r(u,c,o,h){var s={},v=u[1]-u[0],l=s.interval=e.nice(v/c,!0);o!=null&&l<o&&(l=s.interval=o),h!=null&&l>h&&(l=s.interval=h);var d=s.intervalPrecision=a(l),f=s.niceTickExtent=[t(Math.ceil(u[0]/l)*l,d),t(Math.floor(u[1]/l)*l,d)];return n(f,u),s}function a(u){return e.getPrecisionSafe(u)+2}function i(u,c,o){u[c]=Math.max(Math.min(u[c],o[1]),o[0])}function n(u,c){!isFinite(u[0])&&(u[0]=c[0]),!isFinite(u[1])&&(u[1]=c[1]),i(u,0,c),i(u,1,c),u[0]>u[1]&&(u[0]=u[1])}return Bi.intervalScaleNiceTicks=r,Bi.getIntervalPrecision=a,Bi.fixExtent=n,Bi}var Ll,ty;function hs(){if(ty)return Ll;ty=1;var e=Oe(),t=Qe(),r=vs(),a=lM(),i=e.round,n=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(c,o){var h=this._extent;isNaN(c)||(h[0]=parseFloat(c)),isNaN(o)||(h[1]=parseFloat(o))},unionExtent:function(c){var o=this._extent;c[0]<o[0]&&(o[0]=c[0]),c[1]>o[1]&&(o[1]=c[1]),n.prototype.setExtent.call(this,o[0],o[1])},getInterval:function(){return this._interval},setInterval:function(c){this._interval=c,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(c)},getTicks:function(c){var o=this._interval,h=this._extent,s=this._niceExtent,v=this._intervalPrecision,l=[];if(!o)return l;var d=1e4;h[0]<s[0]&&(c?l.push(i(s[0]-o,v)):l.push(h[0]));for(var f=s[0];f<=s[1]&&(l.push(f),f=i(f+o,v),f!==l[l.length-1]);)if(l.length>d)return[];var m=l.length?l[l.length-1]:s[1];return h[1]>m&&(c?l.push(i(m+o,v)):l.push(h[1])),l},getMinorTicks:function(c){for(var o=this.getTicks(!0),h=[],s=this.getExtent(),v=1;v<o.length;v++){for(var l=o[v],d=o[v-1],f=0,m=[],g=l-d,p=g/c;f<c-1;){var y=e.round(d+(f+1)*p);y>s[0]&&y<s[1]&&m.push(y),f++}h.push(m)}return h},getLabel:function(c,o){if(c==null)return"";var h=o&&o.precision;return h==null?h=e.getPrecisionSafe(c)||0:h==="auto"&&(h=this._intervalPrecision),c=i(c,h,!0),t.addCommas(c)},niceTicks:function(c,o,h){c=c||5;var s=this._extent,v=s[1]-s[0];if(isFinite(v)){v<0&&(v=-v,s.reverse());var l=a.intervalScaleNiceTicks(s,c,o,h);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},niceExtent:function(c){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var h=o[0];c.fixMax||(o[1]+=h/2),o[0]-=h/2}else o[1]=1;var s=o[1]-o[0];isFinite(s)||(o[0]=0,o[1]=1),this.niceTicks(c.splitNumber,c.minInterval,c.maxInterval);var v=this._interval;c.fixMin||(o[0]=i(Math.floor(o[0]/v)*v)),c.fixMax||(o[1]=i(Math.ceil(o[1]/v)*v))}});n.create=function(){return new n};var u=n;return Ll=u,Ll}var Fr={},ry;function cs(){if(ry)return Fr;ry=1;var e=Z,t=Oe(),r=t.parsePercent,a=Tr(),i=a.isDimensionStacked,n=mi,u="__ec_stack_",c=.5,o=typeof Float32Array<"u"?Float32Array:Array;function h(w){return w.get("stack")||u+w.seriesIndex}function s(w){return w.dim+w.index}function v(w){var x=[],b=w.axis,A="axis0";if(b.type==="category"){for(var C=b.getBandWidth(),M=0;M<w.count;M++)x.push(e.defaults({bandWidth:C,axisKey:A,stackId:u+M},w));for(var D=m(x),L=[],M=0;M<w.count;M++){var P=D[A][u+M];P.offsetCenter=P.offset+P.width/2,L.push(P)}return L}}function l(w,x){var b=[];return x.eachSeriesByType(w,function(A){_(A)&&!S(A)&&b.push(A)}),b}function d(w){var x={};e.each(w,function(P){var I=P.coordinateSystem,E=I.getBaseAxis();if(!(E.type!=="time"&&E.type!=="value"))for(var O=P.getData(),z=E.dim+"_"+E.index,G=O.mapDimension(E.dim),V=0,R=O.count();V<R;++V){var B=O.get(G,V);x[z]?x[z].push(B):x[z]=[B]}});var b=[];for(var A in x)if(x.hasOwnProperty(A)){var C=x[A];if(C){C.sort(function(P,I){return P-I});for(var M=null,D=1;D<C.length;++D){var L=C[D]-C[D-1];L>0&&(M=M===null?L:Math.min(M,L))}b[A]=M}}return b}function f(w){var x=d(w),b=[];return e.each(w,function(A){var C=A.coordinateSystem,M=C.getBaseAxis(),D=M.getExtent(),L;if(M.type==="category")L=M.getBandWidth();else if(M.type==="value"||M.type==="time"){var P=M.dim+"_"+M.index,I=x[P],E=Math.abs(D[1]-D[0]),O=M.scale.getExtent(),z=Math.abs(O[1]-O[0]);L=I?E/z*I:E}else{var G=A.getData();L=Math.abs(D[1]-D[0])/G.count()}var V=r(A.get("barWidth"),L),R=r(A.get("barMaxWidth"),L),B=r(A.get("barMinWidth")||1,L),k=A.get("barGap"),N=A.get("barCategoryGap");b.push({bandWidth:L,barWidth:V,barMaxWidth:R,barMinWidth:B,barGap:k,barCategoryGap:N,axisKey:s(M),stackId:h(A)})}),m(b)}function m(w){var x={};e.each(w,function(A,C){var M=A.axisKey,D=A.bandWidth,L=x[M]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},P=L.stacks;x[M]=L;var I=A.stackId;P[I]||L.autoWidthCount++,P[I]=P[I]||{width:0,maxWidth:0};var E=A.barWidth;E&&!P[I].width&&(P[I].width=E,E=Math.min(L.remainedWidth,E),L.remainedWidth-=E);var O=A.barMaxWidth;O&&(P[I].maxWidth=O);var z=A.barMinWidth;z&&(P[I].minWidth=z);var G=A.barGap;G!=null&&(L.gap=G);var V=A.barCategoryGap;V!=null&&(L.categoryGap=V)});var b={};return e.each(x,function(A,C){b[C]={};var M=A.stacks,D=A.bandWidth,L=r(A.categoryGap,D),P=r(A.gap,1),I=A.remainedWidth,E=A.autoWidthCount,O=(I-L)/(E+(E-1)*P);O=Math.max(O,0),e.each(M,function(R){var B=R.maxWidth,k=R.minWidth;if(R.width){var N=R.width;B&&(N=Math.min(N,B)),k&&(N=Math.max(N,k)),R.width=N,I-=N+P*N,E--}else{var N=O;B&&B<N&&(N=Math.min(B,I)),k&&k>N&&(N=k),N!==O&&(R.width=N,I-=N+P*N,E--)}}),O=(I-L)/(E+(E-1)*P),O=Math.max(O,0);var z=0,G;e.each(M,function(R,B){R.width||(R.width=O),G=R,z+=R.width*(1+P)}),G&&(z-=G.width*P);var V=-z/2;e.each(M,function(R,B){b[C][B]=b[C][B]||{bandWidth:D,offset:V,width:R.width},V+=R.width*(1+P)})}),b}function g(w,x,b){if(w&&x){var A=w[s(x)];return A!=null&&b!=null&&(A=A[h(b)]),A}}function p(w,x){var b=l(w,x),A=f(b),C={};e.each(b,function(M){var D=M.getData(),L=M.coordinateSystem,P=L.getBaseAxis(),I=h(M),E=A[s(P)][I],O=E.offset,z=E.width,G=L.getOtherAxis(P),V=M.get("barMinHeight")||0;C[I]=C[I]||[],D.setLayout({bandWidth:E.bandWidth,offset:O,size:z});for(var R=D.mapDimension(G.dim),B=D.mapDimension(P.dim),k=i(D,R),N=G.isHorizontal(),q=T(P,G),H=0,F=D.count();H<F;H++){var U=D.get(R,H),W=D.get(B,H),K=U>=0?"p":"n",J=q;k&&(C[I][W]||(C[I][W]={p:q,n:q}),J=C[I][W][K]);var j,ee,ie,re;if(N){var he=L.dataToPoint([U,W]);j=J,ee=he[1]+O,ie=he[0]-q,re=z,Math.abs(ie)<V&&(ie=(ie<0?-1:1)*V),isNaN(ie)||k&&(C[I][W][K]+=ie)}else{var he=L.dataToPoint([W,U]);j=he[0]+O,ee=J,ie=z,re=he[1]-q,Math.abs(re)<V&&(re=(re<=0?-1:1)*V),isNaN(re)||k&&(C[I][W][K]+=re)}D.setItemLayout(H,{x:j,y:ee,width:ie,height:re})}},this)}var y={seriesType:"bar",plan:n(),reset:function(w){if(!_(w)||!S(w))return;var x=w.getData(),b=w.coordinateSystem,A=b.grid.getRect(),C=b.getBaseAxis(),M=b.getOtherAxis(C),D=x.mapDimension(M.dim),L=x.mapDimension(C.dim),P=M.isHorizontal(),I=P?0:1,E=g(f([w]),C,w).width;return E>c||(E=c),{progress:O};function O(z,G){for(var V=z.count,R=new o(V*2),B=new o(V*2),k=new o(V),N,q=[],H=[],F=0,U=0;(N=z.next())!=null;)H[I]=G.get(D,N),H[1-I]=G.get(L,N),q=b.dataToPoint(H,null,q),B[F]=P?A.x+A.width:q[0],R[F++]=q[0],B[F]=P?q[1]:A.y+A.height,R[F++]=q[1],k[U++]=N;G.setLayout({largePoints:R,largeDataIndices:k,largeBackgroundPoints:B,barWidth:E,valueAxisStart:T(C,M),backgroundStart:P?A.x:A.y,valueAxisHorizontal:P})}}};function _(w){return w.coordinateSystem&&w.coordinateSystem.type==="cartesian2d"}function S(w){return w.pipelineContext&&w.pipelineContext.large}function T(w,x,b){return x.toGlobalCoord(x.dataToCoord(x.type==="log"?1:0))}return Fr.getLayoutOnAxis=v,Fr.prepareLayoutBarSeries=l,Fr.makeColumnLayout=f,Fr.retrieveColumnLayout=g,Fr.layout=p,Fr.largeLayout=y,Fr}var Pl,ay;function NV(){if(ay)return Pl;ay=1;var e=Z,t=Oe(),r=Qe(),a=lM(),i=hs(),n=i.prototype,u=Math.ceil,c=Math.floor,o=1e3,h=o*60,s=h*60,v=s*24,l=function(g,p,y,_){for(;y<_;){var S=y+_>>>1;g[S][1]<p?y=S+1:_=S}return y},d=i.extend({type:"time",getLabel:function(g){var p=this._stepLvl,y=new Date(g);return r.formatTime(p[0],y,this.getSetting("useUTC"))},niceExtent:function(g){var p=this._extent;if(p[0]===p[1]&&(p[0]-=v,p[1]+=v),p[1]===-1/0&&p[0]===1/0){var y=new Date;p[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),p[0]=p[1]-v}this.niceTicks(g.splitNumber,g.minInterval,g.maxInterval);var _=this._interval;g.fixMin||(p[0]=t.round(c(p[0]/_)*_)),g.fixMax||(p[1]=t.round(u(p[1]/_)*_))},niceTicks:function(g,p,y){g=g||10;var _=this._extent,S=_[1]-_[0],T=S/g;p!=null&&T<p&&(T=p),y!=null&&T>y&&(T=y);var w=f.length,x=l(f,T,0,w),b=f[Math.min(x,w-1)],A=b[1];if(b[0]==="year"){var C=S/A,M=t.nice(C/g,!0);A*=M}var D=this.getSetting("useUTC")?0:new Date(+_[0]||+_[1]).getTimezoneOffset()*60*1e3,L=[Math.round(u((_[0]-D)/A)*A+D),Math.round(c((_[1]-D)/A)*A+D)];a.fixExtent(L,_),this._stepLvl=b,this._interval=A,this._niceExtent=L},parse:function(g){return+t.parseDate(g)}});e.each(["contain","normalize"],function(g){d.prototype[g]=function(p){return n[g].call(this,this.parse(p))}});var f=[["hh:mm:ss",o],["hh:mm:ss",o*5],["hh:mm:ss",o*10],["hh:mm:ss",o*15],["hh:mm:ss",o*30],[`hh:mm
MM-dd`,h],[`hh:mm
MM-dd`,h*5],[`hh:mm
MM-dd`,h*10],[`hh:mm
MM-dd`,h*15],[`hh:mm
MM-dd`,h*30],[`hh:mm
MM-dd`,s],[`hh:mm
MM-dd`,s*2],[`hh:mm
MM-dd`,s*6],[`hh:mm
MM-dd`,s*12],[`MM-dd
yyyy`,v],[`MM-dd
yyyy`,v*2],[`MM-dd
yyyy`,v*3],[`MM-dd
yyyy`,v*4],[`MM-dd
yyyy`,v*5],[`MM-dd
yyyy`,v*6],["week",v*7],[`MM-dd
yyyy`,v*10],["week",v*14],["week",v*21],["month",v*31],["week",v*42],["month",v*62],["week",v*70],["quarter",v*95],["month",v*31*4],["month",v*31*5],["half-year",v*380/2],["month",v*31*8],["month",v*31*10],["year",v*380]];d.create=function(g){return new d({useUTC:g.ecModel.get("useUTC")})};var m=d;return Pl=m,Pl}var Il,iy;function uM(){if(iy)return Il;iy=1;var e=Z,t=vs(),r=Oe(),a=hs(),i=t.prototype,n=a.prototype,u=r.getPrecisionSafe,c=r.round,o=Math.floor,h=Math.ceil,s=Math.pow,v=Math.log,l=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new a},getTicks:function(m){var g=this._originalScale,p=this._extent,y=g.getExtent();return e.map(n.getTicks.call(this,m),function(_){var S=r.round(s(this.base,_));return S=_===p[0]&&g.__fixMin?d(S,y[0]):S,S=_===p[1]&&g.__fixMax?d(S,y[1]):S,S},this)},getMinorTicks:n.getMinorTicks,getLabel:n.getLabel,scale:function(m){return m=i.scale.call(this,m),s(this.base,m)},setExtent:function(m,g){var p=this.base;m=v(m)/v(p),g=v(g)/v(p),n.setExtent.call(this,m,g)},getExtent:function(){var m=this.base,g=i.getExtent.call(this);g[0]=s(m,g[0]),g[1]=s(m,g[1]);var p=this._originalScale,y=p.getExtent();return p.__fixMin&&(g[0]=d(g[0],y[0])),p.__fixMax&&(g[1]=d(g[1],y[1])),g},unionExtent:function(m){this._originalScale.unionExtent(m);var g=this.base;m[0]=v(m[0])/v(g),m[1]=v(m[1])/v(g),i.unionExtent.call(this,m)},unionExtentFromData:function(m,g){this.unionExtent(m.getApproximateExtent(g))},niceTicks:function(m){m=m||10;var g=this._extent,p=g[1]-g[0];if(!(p===1/0||p<=0)){var y=r.quantity(p),_=m/p*y;for(_<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var S=[r.round(h(g[0]/y)*y),r.round(o(g[1]/y)*y)];this._interval=y,this._niceExtent=S}},niceExtent:function(m){n.niceExtent.call(this,m);var g=this._originalScale;g.__fixMin=m.fixMin,g.__fixMax=m.fixMax}});e.each(["contain","normalize"],function(m){l.prototype[m]=function(g){return g=v(g)/v(this.base),i[m].call(this,g)}}),l.create=function(){return new l};function d(m,g){return c(m,u(g))}var f=l;return Il=f,Il}var ny;function ur(){if(ny)return jt;ny=1;var e=Z,t=BV(),r=hs(),a=vs(),i=Oe(),n=cs(),u=n.prepareLayoutBarSeries,c=n.makeColumnLayout,o=n.retrieveColumnLayout,h=Ke;NV(),uM();function s(T,w){var x=T.type,b=w.getMin(),A=w.getMax(),C=b!=null,M=A!=null,D=T.getExtent(),L,P,I;x==="ordinal"?L=w.getCategories().length:(P=w.get("boundaryGap"),e.isArray(P)||(P=[P||0,P||0]),typeof P[0]=="boolean"&&(P=[0,0]),P[0]=i.parsePercent(P[0],1),P[1]=i.parsePercent(P[1],1),I=D[1]-D[0]||Math.abs(D[0])),b==null&&(b=x==="ordinal"?L?0:NaN:D[0]-P[0]*I),A==null&&(A=x==="ordinal"?L?L-1:NaN:D[1]+P[1]*I),b==="dataMin"?b=D[0]:typeof b=="function"&&(b=b({min:D[0],max:D[1]})),A==="dataMax"?A=D[1]:typeof A=="function"&&(A=A({min:D[0],max:D[1]})),(b==null||!isFinite(b))&&(b=NaN),(A==null||!isFinite(A))&&(A=NaN),T.setBlank(e.eqNaN(b)||e.eqNaN(A)||x==="ordinal"&&!T.getOrdinalMeta().categories.length),w.getNeedCrossZero()&&(b>0&&A>0&&!C&&(b=0),b<0&&A<0&&!M&&(A=0));var E=w.ecModel;if(E&&x==="time"){var O=u("bar",E),z;if(e.each(O,function(R){z|=R.getBaseAxis()===w.axis}),z){var G=c(O),V=v(b,A,w,G);b=V.min,A=V.max}}return[b,A]}function v(T,w,x,b){var A=x.axis.getExtent(),C=A[1]-A[0],M=o(b,x.axis);if(M===void 0)return{min:T,max:w};var D=1/0;e.each(M,function(z){D=Math.min(z.offset,D)});var L=-1/0;e.each(M,function(z){L=Math.max(z.offset+z.width,L)}),D=Math.abs(D),L=Math.abs(L);var P=D+L,I=w-T,E=1-(D+L)/C,O=I/E-I;return w+=O*(L/P),T-=O*(D/P),{min:T,max:w}}function l(T,w){var x=s(T,w),b=w.getMin()!=null,A=w.getMax()!=null,C=w.get("splitNumber");T.type==="log"&&(T.base=w.get("logBase"));var M=T.type;T.setExtent(x[0],x[1]),T.niceExtent({splitNumber:C,fixMin:b,fixMax:A,minInterval:M==="interval"||M==="time"?w.get("minInterval"):null,maxInterval:M==="interval"||M==="time"?w.get("maxInterval"):null});var D=w.get("interval");D!=null&&T.setInterval&&T.setInterval(D)}function d(T,w){if(w=w||T.get("type"),w)switch(w){case"category":return new t(T.getOrdinalMeta?T.getOrdinalMeta():T.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(a.getClass(w)||r).create(T)}}function f(T){var w=T.scale.getExtent(),x=w[0],b=w[1];return!(x>0&&b>0||x<0&&b<0)}function m(T){var w=T.getLabelModel().get("formatter"),x=T.type==="category"?T.scale.getExtent()[0]:null;return typeof w=="string"?(w=function(b){return function(A){return A=T.scale.getLabel(A),b.replace("{value}",A??"")}}(w),w):typeof w=="function"?function(b,A){return x!=null&&(A=b-x),w(g(T,b),A)}:function(b){return T.scale.getLabel(b)}}function g(T,w){return T.type==="category"?T.scale.getLabel(w):w}function p(T){var w=T.model,x=T.scale;if(!(!w.get("axisLabel.show")||x.isBlank())){var b=T.type==="category",A,C,M=x.getExtent();b?C=x.count():(A=x.getTicks(),C=A.length);var D=T.getLabelModel(),L=m(T),P,I=1;C>40&&(I=Math.ceil(C/40));for(var E=0;E<C;E+=I){var O=A?A[E]:M[0]+E,z=L(O),G=D.getTextRect(z),V=y(G,D.get("rotate")||0);P?P.union(V):P=V}return P}}function y(T,w){var x=w*Math.PI/180,b=T.plain(),A=b.width,C=b.height,M=A*Math.cos(x)+C*Math.sin(x),D=A*Math.sin(x)+C*Math.cos(x),L=new h(b.x,b.y,M,D);return L}function _(T){var w=T.get("interval");return w??"auto"}function S(T){return T.type==="category"&&_(T.getLabelModel())===0}return jt.getScaleExtent=s,jt.niceScaleExtent=l,jt.createScaleByModel=d,jt.ifAxisCrossZero=f,jt.makeLabelFormatter=m,jt.getAxisRawValue=g,jt.estimateLabelUnionRect=p,jt.getOptionCategoryInterval=_,jt.shouldShowAllLabels=S,jt}var Rl,oy;function xi(){if(oy)return Rl;oy=1;var e=Z,t={getMin:function(r){var a=this.option,i=!r&&a.rangeStart!=null?a.rangeStart:a.min;return this.axis&&i!=null&&i!=="dataMin"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(r){var a=this.option,i=!r&&a.rangeEnd!=null?a.rangeEnd:a.max;return this.axis&&i!=null&&i!=="dataMax"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,a){this.option.rangeStart=r,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return Rl=t,Rl}var El={},sy;function Xt(){if(sy)return El;sy=1;var e=Z,t=me,r=Ke,a=Xe,i=a.calculateTextPosition,n=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,g){var p=g.cx,y=g.cy,_=g.width/2,S=g.height/2;m.moveTo(p,y-S),m.lineTo(p+_,y+S),m.lineTo(p-_,y+S),m.closePath()}}),u=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,g){var p=g.cx,y=g.cy,_=g.width/2,S=g.height/2;m.moveTo(p,y-S),m.lineTo(p+_,y),m.lineTo(p,y+S),m.lineTo(p-_,y),m.closePath()}}),c=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,g){var p=g.x,y=g.y,_=g.width/5*3,S=Math.max(_,g.height),T=_/2,w=T*T/(S-T),x=y-S+T+w,b=Math.asin(w/T),A=Math.cos(b)*T,C=Math.sin(b),M=Math.cos(b),D=T*.6,L=T*.7;m.moveTo(p-A,x+w),m.arc(p,x,T,Math.PI-b,Math.PI*2+b),m.bezierCurveTo(p+A-C*D,x+w+M*D,p,y-L,p,y),m.bezierCurveTo(p,y-L,p-A+C*D,x+w+M*D,p-A,x+w),m.closePath()}}),o=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,g){var p=g.height,y=g.width,_=g.x,S=g.y,T=y/3*2;m.moveTo(_,S),m.lineTo(_+T,S+p),m.lineTo(_,S+p/4*3),m.lineTo(_-T,S+p),m.lineTo(_,S),m.closePath()}}),h={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:u,pin:c,arrow:o,triangle:n},s={line:function(m,g,p,y,_){_.x1=m,_.y1=g+y/2,_.x2=m+p,_.y2=g+y/2},rect:function(m,g,p,y,_){_.x=m,_.y=g,_.width=p,_.height=y},roundRect:function(m,g,p,y,_){_.x=m,_.y=g,_.width=p,_.height=y,_.r=Math.min(p,y)/4},square:function(m,g,p,y,_){var S=Math.min(p,y);_.x=m,_.y=g,_.width=S,_.height=S},circle:function(m,g,p,y,_){_.cx=m+p/2,_.cy=g+y/2,_.r=Math.min(p,y)/2},diamond:function(m,g,p,y,_){_.cx=m+p/2,_.cy=g+y/2,_.width=p,_.height=y},pin:function(m,g,p,y,_){_.x=m+p/2,_.y=g+y/2,_.width=p,_.height=y},arrow:function(m,g,p,y,_){_.x=m+p/2,_.y=g+y/2,_.width=p,_.height=y},triangle:function(m,g,p,y,_){_.cx=m+p/2,_.cy=g+y/2,_.width=p,_.height=y}},v={};e.each(h,function(m,g){v[g]=new m});var l=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(m,g,p){var y=i(m,g,p),_=this.shape;return _&&_.symbolType==="pin"&&g.textPosition==="inside"&&(y.y=p.y+p.height*.4),y},buildPath:function(m,g,p){var y=g.symbolType;if(y!=="none"){var _=v[y];_||(y="rect",_=v[y]),s[y](g.x,g.y,g.width,g.height,_.shape),_.buildPath(m,_.shape,p)}}});function d(m,g){if(this.type!=="image"){var p=this.style,y=this.shape;y&&y.symbolType==="line"?p.stroke=m:this.__isEmptyBrush?(p.stroke=m,p.fill=g||"#fff"):(p.fill&&(p.fill=m),p.stroke&&(p.stroke=m)),this.dirty(!1)}}function f(m,g,p,y,_,S,T){var w=m.indexOf("empty")===0;w&&(m=m.substr(5,1).toLowerCase()+m.substr(6));var x;return m.indexOf("image://")===0?x=t.makeImage(m.slice(8),new r(g,p,y,_),T?"center":"cover"):m.indexOf("path://")===0?x=t.makePath(m.slice(7),{},new r(g,p,y,_),T?"center":"cover"):x=new l({shape:{symbolType:m,x:g,y:p,width:y,height:_}}),x.__isEmptyBrush=w,x.setColor=d,x.setColor(S),x}return El.createSymbol=f,El}var ly;function VV(){if(ly)return dr;ly=1;var e=Z,t=Br(),r=ur(),a=xi(),i=ht(),n=Ne;n.getLayoutRect,dr.getLayoutRect=n.getLayoutRect;var u=Tr(),c=u.enableDataStack,o=u.isDimensionStacked,h=u.getStackedDimension,s=oM();dr.completeDimensions=s;var v=_i();dr.createDimensions=v;var l=Xt();dr.createSymbol=l.createSymbol;function d(p){return t(p.getSource(),p)}var f={isDimensionStacked:o,enableDataStack:c,getStackedDimension:h};function m(p,y){var _=y;i.isInstance(y)||(_=new i(y),e.mixin(_,a));var S=r.createScaleByModel(_);return S.setExtent(p[0],p[1]),r.niceScaleExtent(S,_),S}function g(p){e.mixin(p,a)}return dr.createList=d,dr.dataStack=f,dr.createScale=m,dr.mixinAxisModelCommonMethods=g,dr}var kl={},uy;function vM(){if(uy)return kl;uy=1;var e=NT,t=1e-8;function r(i,n){return Math.abs(i-n)<t}function a(i,n,u){var c=0,o=i[0];if(!o)return!1;for(var h=1;h<i.length;h++){var s=i[h];c+=e(o[0],o[1],s[0],s[1],n,u),o=s}var v=i[0];return(!r(o[0],v[0])||!r(o[1],v[1]))&&(c+=e(o[0],o[1],v[0],v[1],n,u)),c!==0}return kl.contain=a,kl}var Ol,vy;function hM(){if(vy)return Ol;vy=1;var e=Ke,t=Jo(),r=Ye(),a=vM();function i(u,c,o){if(this.name=u,this.geometries=c,o)o=[o[0],o[1]];else{var h=this.getBoundingRect();o=[h.x+h.width/2,h.y+h.height/2]}this.center=o}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var u=this._rect;if(u)return u;for(var c=Number.MAX_VALUE,o=[c,c],h=[-c,-c],s=[],v=[],l=this.geometries,d=0;d<l.length;d++)if(l[d].type==="polygon"){var f=l[d].exterior;t.fromPoints(f,s,v),r.min(o,o,s),r.max(h,h,v)}return d===0&&(o[0]=o[1]=h[0]=h[1]=0),this._rect=new e(o[0],o[1],h[0]-o[0],h[1]-o[1])},contain:function(u){var c=this.getBoundingRect(),o=this.geometries;if(!c.contain(u[0],u[1]))return!1;e:for(var h=0,s=o.length;h<s;h++)if(o[h].type==="polygon"){var v=o[h].exterior,l=o[h].interiors;if(a.contain(v,u[0],u[1])){for(var d=0;d<(l?l.length:0);d++)if(a.contain(l[d]))continue e;return!0}}return!1},transformTo:function(u,c,o,h){var s=this.getBoundingRect(),v=s.width/s.height;o?h||(h=o/v):o=v*h;for(var l=new e(u,c,o,h),d=s.calculateTransform(l),f=this.geometries,m=0;m<f.length;m++)if(f[m].type==="polygon"){for(var g=f[m].exterior,p=f[m].interiors,y=0;y<g.length;y++)r.applyTransform(g[y],g[y],d);for(var _=0;_<(p?p.length:0);_++)for(var y=0;y<p[_].length;y++)r.applyTransform(p[_][y],p[_][y],d)}s=this._rect,s.copy(l),this.center=[s.x+s.width/2,s.y+s.height/2]},cloneShallow:function(u){u==null&&(u=this.name);var c=new i(u,this.geometries,this.center);return c._rect=this._rect,c.transformTo=null,c}};var n=i;return Ol=n,Ol}var zl,hy;function cM(){if(hy)return zl;hy=1;var e=Z,t=hM();function r(n){if(!n.UTF8Encoding)return n;var u=n.UTF8Scale;u==null&&(u=1024);for(var c=n.features,o=0;o<c.length;o++)for(var h=c[o],s=h.geometry,v=s.coordinates,l=s.encodeOffsets,d=0;d<v.length;d++){var f=v[d];if(s.type==="Polygon")v[d]=a(f,l[d],u);else if(s.type==="MultiPolygon")for(var m=0;m<f.length;m++){var g=f[m];f[m]=a(g,l[d][m],u)}}return n.UTF8Encoding=!1,n}function a(n,u,c){for(var o=[],h=u[0],s=u[1],v=0;v<n.length;v+=2){var l=n.charCodeAt(v)-64,d=n.charCodeAt(v+1)-64;l=l>>1^-(l&1),d=d>>1^-(d&1),l+=h,d+=s,h=l,s=d,o.push([l/c,d/c])}return o}function i(n){return r(n),e.map(e.filter(n.features,function(u){return u.geometry&&u.properties&&u.geometry.coordinates.length>0}),function(u){var c=u.properties,o=u.geometry,h=o.coordinates,s=[];o.type==="Polygon"&&s.push({type:"polygon",exterior:h[0],interiors:h.slice(1)}),o.type==="MultiPolygon"&&e.each(h,function(l){l[0]&&s.push({type:"polygon",exterior:l[0],interiors:l.slice(1)})});var v=new t(c.name,s,c.cp);return v.properties=c,v})}return zl=i,zl}var Ni={},cy;function HV(){if(cy)return Ni;cy=1;var e=Z,t=Xe,r=Re,a=r.makeInner,i=ur(),n=i.makeLabelFormatter,u=i.getOptionCategoryInterval,c=i.shouldShowAllLabels,o=a();function h(x){return x.type==="category"?v(x):f(x)}function s(x,b){return x.type==="category"?d(x,b):{ticks:x.scale.getTicks()}}function v(x){var b=x.getLabelModel(),A=l(x,b);return!b.get("show")||x.scale.isBlank()?{labels:[],labelCategoryInterval:A.labelCategoryInterval}:A}function l(x,b){var A=m(x,"labels"),C=u(b),M=g(A,C);if(M)return M;var D,L;return e.isFunction(C)?D=w(x,C):(L=C==="auto"?y(x):C,D=T(x,L)),p(A,C,{labels:D,labelCategoryInterval:L})}function d(x,b){var A=m(x,"ticks"),C=u(b),M=g(A,C);if(M)return M;var D,L;if((!b.get("show")||x.scale.isBlank())&&(D=[]),e.isFunction(C))D=w(x,C,!0);else if(C==="auto"){var P=l(x,x.getLabelModel());L=P.labelCategoryInterval,D=e.map(P.labels,function(I){return I.tickValue})}else L=C,D=T(x,L,!0);return p(A,C,{ticks:D,tickCategoryInterval:L})}function f(x){var b=x.scale.getTicks(),A=n(x);return{labels:e.map(b,function(C,M){return{formattedLabel:A(C,M),rawLabel:x.scale.getLabel(C),tickValue:C}})}}function m(x,b){return o(x)[b]||(o(x)[b]=[])}function g(x,b){for(var A=0;A<x.length;A++)if(x[A].key===b)return x[A].value}function p(x,b,A){return x.push({key:b,value:A}),A}function y(x){var b=o(x).autoInterval;return b??(o(x).autoInterval=x.calculateCategoryInterval())}function _(x){var b=S(x),A=n(x),C=(b.axisRotate-b.labelRotate)/180*Math.PI,M=x.scale,D=M.getExtent(),L=M.count();if(D[1]-D[0]<1)return 0;var P=1;L>40&&(P=Math.max(1,Math.floor(L/40)));for(var I=D[0],E=x.dataToCoord(I+1)-x.dataToCoord(I),O=Math.abs(E*Math.cos(C)),z=Math.abs(E*Math.sin(C)),G=0,V=0;I<=D[1];I+=P){var R=0,B=0,k=t.getBoundingRect(A(I),b.font,"center","top");R=k.width*1.3,B=k.height*1.3,G=Math.max(G,R,7),V=Math.max(V,B,7)}var N=G/O,q=V/z;isNaN(N)&&(N=1/0),isNaN(q)&&(q=1/0);var H=Math.max(0,Math.floor(Math.min(N,q))),F=o(x.model),U=x.getExtent(),W=F.lastAutoInterval,K=F.lastTickCount;return W!=null&&K!=null&&Math.abs(W-H)<=1&&Math.abs(K-L)<=1&&W>H&&F.axisExtend0===U[0]&&F.axisExtend1===U[1]?H=W:(F.lastTickCount=L,F.lastAutoInterval=H,F.axisExtend0=U[0],F.axisExtend1=U[1]),H}function S(x){var b=x.getLabelModel();return{axisRotate:x.getRotate?x.getRotate():x.isHorizontal&&!x.isHorizontal()?90:0,labelRotate:b.get("rotate")||0,font:b.getFont()}}function T(x,b,A){var C=n(x),M=x.scale,D=M.getExtent(),L=x.getLabelModel(),P=[],I=Math.max((b||0)+1,1),E=D[0],O=M.count();E!==0&&I>1&&O/I>2&&(E=Math.round(Math.ceil(E/I)*I));var z=c(x),G=L.get("showMinLabel")||z,V=L.get("showMaxLabel")||z;G&&E!==D[0]&&B(D[0]);for(var R=E;R<=D[1];R+=I)B(R);V&&R-I!==D[1]&&B(D[1]);function B(k){P.push(A?k:{formattedLabel:C(k),rawLabel:M.getLabel(k),tickValue:k})}return P}function w(x,b,A){var C=x.scale,M=n(x),D=[];return e.each(C.getTicks(),function(L){var P=C.getLabel(L);b(L,P)&&D.push(A?L:{formattedLabel:M(L),rawLabel:P,tickValue:L})}),D}return Ni.createAxisLabels=h,Ni.createAxisTicks=s,Ni.calculateCategoryInterval=_,Ni}var Bl,fy;function ia(){if(fy)return Bl;fy=1;var e=Z,t=e.each,r=e.map,a=Oe(),i=a.linearMap,n=a.getPixelPrecision,u=a.round,c=HV(),o=c.createAxisTicks,h=c.createAxisLabels,s=c.calculateCategoryInterval,v=[0,1],l=function(g,p,y){this.dim=g,this.scale=p,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(g){var p=this._extent,y=Math.min(p[0],p[1]),_=Math.max(p[0],p[1]);return g>=y&&g<=_},containData:function(g){return this.scale.contain(g)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(g){return n(g||this.scale.getExtent(),this._extent)},setExtent:function(g,p){var y=this._extent;y[0]=g,y[1]=p},dataToCoord:function(g,p){var y=this._extent,_=this.scale;return g=_.normalize(g),this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count())),i(g,v,y,p)},coordToData:function(g,p){var y=this._extent,_=this.scale;this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count()));var S=i(g,y,v,p);return this.scale.scale(S)},pointToData:function(g,p){},getTicksCoords:function(g){g=g||{};var p=g.tickModel||this.getTickModel(),y=o(this,p),_=y.ticks,S=r(_,function(w){return{coord:this.dataToCoord(w),tickValue:w}},this),T=p.get("alignWithLabel");return f(this,S,T,g.clamp),S},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var g=this.model.getModel("minorTick"),p=g.get("splitNumber");p>0&&p<100||(p=5);var y=this.scale.getMinorTicks(p),_=r(y,function(S){return r(S,function(T){return{coord:this.dataToCoord(T),tickValue:T}},this)},this);return _},getViewLabels:function(){return h(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var g=this._extent,p=this.scale.getExtent(),y=p[1]-p[0]+(this.onBand?1:0);y===0&&(y=1);var _=Math.abs(g[1]-g[0]);return Math.abs(_)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return s(this)}};function d(g,p){var y=g[1]-g[0],_=p,S=y/_/2;g[0]+=S,g[1]-=S}function f(g,p,y,_){var S=p.length;if(!g.onBand||y||!S)return;var T=g.getExtent(),w,x;if(S===1)p[0].coord=T[0],w=p[1]={coord:T[0]};else{var b=p[S-1].tickValue-p[0].tickValue,A=(p[S-1].coord-p[0].coord)/b;t(p,function(L){L.coord-=A/2});var C=g.scale.getExtent();x=1+C[1]-p[S-1].tickValue,w={coord:p[S-1].coord+A*x},p.push(w)}var M=T[0]>T[1];D(p[0].coord,T[0])&&(_?p[0].coord=T[0]:p.shift()),_&&D(T[0],p[0].coord)&&p.unshift({coord:T[0]}),D(T[1],w.coord)&&(_?w.coord=T[1]:p.pop()),_&&D(w.coord,T[1])&&p.push({coord:T[1]});function D(L,P){return L=u(L),P=u(P),M?L>P:L<P}}var m=l;return Bl=m,Bl}var dy;function fM(){if(dy)return mt;dy=1;var e=zr;mt.zrender=e;var t=Rt();mt.matrix=t;var r=Ye();mt.vector=r;var a=Z,i=ut;mt.color=i;var n=me,u=Oe();mt.number=u;var c=Qe();mt.format=c;var o=lr;o.throttle,mt.throttle=o.throttle;var h=VV();mt.helper=h;var s=cM();mt.parseGeoJSON=s;var v=Yt();mt.List=v;var l=ht();mt.Model=l;var d=ia();mt.Axis=d;var f=ot;mt.env=f;var m=s,g={};a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){g[y]=a[y]});var p={};return a.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){p[y]=n[y]}),mt.parseGeoJson=m,mt.util=g,mt.graphic=p,mt}(function(e){var t=zr,r=Z,a=ut,i=ot,n=sd,u=Sa,c=kC,o=OC,h=wr,s=Vz,v=jz,l=iB,d=ft,f=dt,m=os,g=Ar,p=me,y=Re,_=lr,S=_.throttle,T=fN,w=_N,x=bN,b=UN,A=ZN,C=XN,M=tg,D=r.assert,L=r.each,P=r.isFunction,I=r.isObject,E=d.parseClassType,O="4.7.0",z={zrender:"4.3.0"},G=1,V=1e3,R=800,B=900,k=5e3,N=1e3,q=1100,H=2e3,F=3e3,U=3500,W=4e3,K=5e3,J={PROCESSOR:{FILTER:V,SERIES_FILTER:R,STATISTIC:k},VISUAL:{LAYOUT:N,PROGRESSIVE_LAYOUT:q,GLOBAL:H,CHART:F,POST_CHART_LAYOUT:U,COMPONENT:W,BRUSH:K}},j="__flagInMainProcess",ee="__optionUpdated",ie=/^[a-zA-Z0-9_]+$/;function re(X,ne){return function(de,Se,Ae){if(!ne&&this._disposed){this.id;return}de=de&&de.toLowerCase(),u.prototype[X].call(this,de,Se,Ae)}}function he(){u.call(this)}he.prototype.on=re("on",!0),he.prototype.off=re("off",!0),he.prototype.one=re("one",!0),r.mixin(he,u);function _e(X,Ce,de){de=de||{},typeof Ce=="string"&&(Ce=tt[Ce]),this.id,this.group,this._dom=X;var Se="canvas",Ae=this._zr=t.init(X,{renderer:de.renderer||Se,devicePixelRatio:de.devicePixelRatio,width:de.width,height:de.height});this._throttledZrFlush=S(r.bind(Ae.flush,Ae),17);var Ce=r.clone(Ce);Ce&&v(Ce,!0),this._theme=Ce,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new h;var Le=this._api=He(this);function Ie(Pe,Be){return Pe.__prio-Be.__prio}n(Ue,Ie),n(Fe,Ie),this._scheduler=new b(this,Le,Fe,Ue),u.call(this,this._ecEventProcessor=new Ge),this._messageCenter=new he,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],Ae.animation.on("frame",this._onframe,this),ce(Ae,this),r.setAsPrimitive(this)}var ae=_e.prototype;ae._onframe=function(){if(!this._disposed){var X=this._scheduler;if(this[ee]){var ne=this[ee].silent;this[j]=!0,oe(this),De.update.call(this),this[j]=!1,this[ee]=!1,Q.call(this,ne),te.call(this,ne)}else if(X.unfinished){var de=G,Se=this._model,Ae=this._api;X.unfinished=!1;do{var Ce=+new Date;X.performSeriesTasks(Se),X.performDataProcessorTasks(Se),be(this,Se),X.performVisualTasks(Se),xe(this,this._model,Ae,"remain"),de-=+new Date-Ce}while(de>0&&X.unfinished);X.unfinished||this._zr.flush()}}},ae.getDom=function(){return this._dom},ae.getZr=function(){return this._zr},ae.setOption=function(X,ne,de){if(this._disposed){this.id;return}var Se;if(I(ne)&&(de=ne.lazyUpdate,Se=ne.silent,ne=ne.notMerge),this[j]=!0,!this._model||ne){var Ae=new s(this._api),Ce=this._theme,Le=this._model=new c;Le.scheduler=this._scheduler,Le.init(null,null,Ce,Ae)}this._model.setOption(X,qe),de?(this[ee]={silent:Se},this[j]=!1):(oe(this),De.update.call(this),this._zr.flush(),this[ee]=!1,this[j]=!1,Q.call(this,Se),te.call(this,Se))},ae.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},ae.getModel=function(){return this._model},ae.getOption=function(){return this._model&&this._model.getOption()},ae.getWidth=function(){return this._zr.getWidth()},ae.getHeight=function(){return this._zr.getHeight()},ae.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},ae.getRenderedCanvas=function(X){if(i.canvasSupported){X=X||{},X.pixelRatio=X.pixelRatio||1,X.backgroundColor=X.backgroundColor||this._model.get("backgroundColor");var ne=this._zr;return ne.painter.getRenderedCanvas(X)}},ae.getSvgDataUrl=function(){if(i.svgSupported){var X=this._zr,ne=X.storage.getDisplayList();return r.each(ne,function(de){de.stopAnimation(!0)}),X.painter.pathToDataUrl()}},ae.getDataURL=function(X){if(this._disposed){this.id;return}X=X||{};var ne=X.excludeComponents,de=this._model,Se=[],Ae=this;L(ne,function(Le){de.eachComponent({mainType:Le},function(Ie){var Pe=Ae._componentsMap[Ie.__viewId];Pe.group.ignore||(Se.push(Pe),Pe.group.ignore=!0)})});var Ce=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(X).toDataURL("image/"+(X&&X.type||"png"));return L(Se,function(Le){Le.group.ignore=!1}),Ce},ae.getConnectedDataURL=function(X){if(this._disposed){this.id;return}if(i.canvasSupported){var ne=this.group,de=Math.min,Se=Math.max,Ae=1/0;if(Nt[ne]){var Ce=Ae,Le=Ae,Ie=-Ae,Pe=-Ae,Be=[],ze=X&&X.pixelRatio||1;r.each(At,function(Kt,On){if(Kt.group===ne){var bD=Kt.getRenderedCanvas(r.clone(X)),Ra=Kt.getDom().getBoundingClientRect();Ce=de(Ra.left,Ce),Le=de(Ra.top,Le),Ie=Se(Ra.right,Ie),Pe=Se(Ra.bottom,Pe),Be.push({dom:bD,left:Ra.left,top:Ra.top})}}),Ce*=ze,Le*=ze,Ie*=ze,Pe*=ze;var Ve=Ie-Ce,rt=Pe-Le,We=r.createCanvas();We.width=Ve,We.height=rt;var xt=t.init(We);return X.connectedBackgroundColor&&xt.add(new p.Rect({shape:{x:0,y:0,width:Ve,height:rt},style:{fill:X.connectedBackgroundColor}})),L(Be,function(Kt){var On=new p.Image({style:{x:Kt.left*ze-Ce,y:Kt.top*ze-Le,image:Kt.dom}});xt.add(On)}),xt.refreshImmediately(),We.toDataURL("image/"+(X&&X.type||"png"))}else return this.getDataURL(X)}},ae.convertToPixel=r.curry(se,"convertToPixel"),ae.convertFromPixel=r.curry(se,"convertFromPixel");function se(X,ne,de){if(this._disposed){this.id;return}var Se=this._model,Ae=this._coordSysMgr.getCoordinateSystems(),Ce;ne=y.parseFinder(Se,ne);for(var Le=0;Le<Ae.length;Le++){var Ie=Ae[Le];if(Ie[X]&&(Ce=Ie[X](Se,ne,de))!=null)return Ce}}ae.containPixel=function(X,ne){if(this._disposed){this.id;return}var de=this._model,Se;return X=y.parseFinder(de,X),r.each(X,function(Ae,Ce){Ce.indexOf("Models")>=0&&r.each(Ae,function(Le){var Ie=Le.coordinateSystem;if(Ie&&Ie.containPoint)Se|=!!Ie.containPoint(ne);else if(Ce==="seriesModels"){var Pe=this._chartsMap[Le.__viewId];Pe&&Pe.containPoint&&(Se|=Pe.containPoint(ne,Le))}},this)},this),!!Se},ae.getVisual=function(X,ne){var de=this._model;X=y.parseFinder(de,X,{defaultMainType:"series"});var Se=X.seriesModel,Ae=Se.getData(),Ce=X.hasOwnProperty("dataIndexInside")?X.dataIndexInside:X.hasOwnProperty("dataIndex")?Ae.indexOfRawIndex(X.dataIndex):null;return Ce!=null?Ae.getItemVisual(Ce,ne):Ae.getVisual(ne)},ae.getViewOfComponentModel=function(X){return this._componentsMap[X.__viewId]},ae.getViewOfSeriesModel=function(X){return this._chartsMap[X.__viewId]};var De={prepareAndUpdate:function(X){oe(this),De.update.call(this,X)},update:function(X){var ne=this._model,de=this._api,Se=this._zr,Ae=this._coordSysMgr,Ce=this._scheduler;if(ne){Ce.restoreData(ne,X),Ce.performSeriesTasks(ne),Ae.create(ne,de),Ce.performDataProcessorTasks(ne,X),be(this,ne),Ae.update(ne,de),fe(ne),Ce.performVisualTasks(ne,X),ye(this,ne,de,X);var Le=ne.get("backgroundColor")||"transparent";if(i.canvasSupported)Se.setBackgroundColor(Le);else{var Ie=a.parse(Le);Le=a.stringify(Ie,"rgb"),Ie[3]===0&&(Le="transparent")}ge(ne,de)}},updateTransform:function(X){var ne=this._model,de=this,Se=this._api;if(ne){var Ae=[];ne.eachComponent(function(Le,Ie){var Pe=de.getViewOfComponentModel(Ie);if(Pe&&Pe.__alive)if(Pe.updateTransform){var Be=Pe.updateTransform(Ie,ne,Se,X);Be&&Be.update&&Ae.push(Pe)}else Ae.push(Pe)});var Ce=r.createHashMap();ne.eachSeries(function(Le){var Ie=de._chartsMap[Le.__viewId];if(Ie.updateTransform){var Pe=Ie.updateTransform(Le,ne,Se,X);Pe&&Pe.update&&Ce.set(Le.uid,1)}else Ce.set(Le.uid,1)}),fe(ne),this._scheduler.performVisualTasks(ne,X,{setDirty:!0,dirtyMap:Ce}),xe(de,ne,Se,X,Ce),ge(ne,this._api)}},updateView:function(X){var ne=this._model;ne&&(g.markUpdateMethod(X,"updateView"),fe(ne),this._scheduler.performVisualTasks(ne,X,{setDirty:!0}),ye(this,this._model,this._api,X),ge(ne,this._api))},updateVisual:function(X){De.update.call(this,X)},updateLayout:function(X){De.update.call(this,X)}};function oe(X){var ne=X._model,de=X._scheduler;de.restorePipelines(ne),de.prepareStageTasks(),le(X,"component",ne,de),le(X,"chart",ne,de),de.plan()}function ue(X,ne,de,Se,Ae){var Ce=X._model;if(!Se){L(X._componentsViews.concat(X._chartsViews),Be);return}var Le={};Le[Se+"Id"]=de[Se+"Id"],Le[Se+"Index"]=de[Se+"Index"],Le[Se+"Name"]=de[Se+"Name"];var Ie={mainType:Se,query:Le};Ae&&(Ie.subType=Ae);var Pe=de.excludeSeriesId;Pe!=null&&(Pe=r.createHashMap(y.normalizeToArray(Pe))),Ce&&Ce.eachComponent(Ie,function(ze){(!Pe||Pe.get(ze.id)==null)&&Be(X[Se==="series"?"_chartsMap":"_componentsMap"][ze.__viewId])},X);function Be(ze){ze&&ze.__alive&&ze[ne]&&ze[ne](ze.__model,Ce,X._api,de)}}ae.resize=function(X){if(this._disposed){this.id;return}this._zr.resize(X);var ne=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!ne){var de=ne.resetOption("media"),Se=X&&X.silent;this[j]=!0,de&&oe(this),De.update.call(this),this[j]=!1,Q.call(this,Se),te.call(this,Se)}};function be(X,ne){var de=X._chartsMap,Se=X._scheduler;ne.eachSeries(function(Ae){Se.updateStreamModes(Ae,de[Ae.__viewId])})}ae.showLoading=function(X,ne){if(this._disposed){this.id;return}if(I(X)&&(ne=X,X=""),X=X||"default",this.hideLoading(),!!yt[X]){var de=yt[X](this._api,ne),Se=this._zr;this._loadingFX=de,Se.add(de)}},ae.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},ae.makeActionFromEvent=function(X){var ne=r.extend({},X);return ne.type=ke[X.type],ne},ae.dispatchAction=function(X,ne){if(this._disposed){this.id;return}if(I(ne)||(ne={silent:!!ne}),!!Je[X.type]&&this._model){if(this[j]){this._pendingActions.push(X);return}Y.call(this,X,ne.silent),ne.flush?this._zr.flush(!0):ne.flush!==!1&&i.browser.weChat&&this._throttledZrFlush(),Q.call(this,ne.silent),te.call(this,ne.silent)}};function Y(X,ne){var de=X.type,Se=X.escapeConnect,Ae=Je[de],Ce=Ae.actionInfo,Le=(Ce.update||"update").split(":"),Ie=Le.pop();Le=Le[0]!=null&&E(Le[0]),this[j]=!0;var Pe=[X],Be=!1;X.batch&&(Be=!0,Pe=r.map(X.batch,function(We){return We=r.defaults(r.extend({},We),X),We.batch=null,We}));var ze=[],Ve,rt=de==="highlight"||de==="downplay";L(Pe,function(We){Ve=Ae.action(We,this._model,this._api),Ve=Ve||r.extend({},We),Ve.type=Ce.event||Ve.type,ze.push(Ve),rt?ue(this,Ie,We,"series"):Le&&ue(this,Ie,We,Le.main,Le.sub)},this),Ie!=="none"&&!rt&&!Le&&(this[ee]?(oe(this),De.update.call(this,X),this[ee]=!1):De[Ie].call(this,X)),Be?Ve={type:Ce.event||de,escapeConnect:Se,batch:ze}:Ve=ze[0],this[j]=!1,!ne&&this._messageCenter.trigger(Ve.type,Ve)}function Q(X){for(var ne=this._pendingActions;ne.length;){var de=ne.shift();Y.call(this,de,X)}}function te(X){!X&&this.trigger("updated")}function ce(X,ne){X.on("rendered",function(){ne.trigger("rendered"),X.animation.isFinished()&&!ne[ee]&&!ne._scheduler.unfinished&&!ne._pendingActions.length&&ne.trigger("finished")})}ae.appendData=function(X){if(this._disposed){this.id;return}var ne=X.seriesIndex,de=this.getModel(),Se=de.getSeriesByIndex(ne);Se.appendData(X),this._scheduler.unfinished=!0},ae.on=re("on",!1),ae.off=re("off",!1),ae.one=re("one",!1);function le(X,ne,de,Se){for(var Ae=ne==="component",Ce=Ae?X._componentsViews:X._chartsViews,Le=Ae?X._componentsMap:X._chartsMap,Ie=X._zr,Pe=X._api,Be=0;Be<Ce.length;Be++)Ce[Be].__alive=!1;Ae?de.eachComponent(function(rt,We){rt!=="series"&&ze(We)}):de.eachSeries(ze);function ze(rt){var We="_ec_"+rt.id+"_"+rt.type,xt=Le[We];if(!xt){var Kt=E(rt.type),On=Ae?m.getClass(Kt.main,Kt.sub):g.getClass(Kt.sub);xt=new On,xt.init(de,Pe),Le[We]=xt,Ce.push(xt),Ie.add(xt.group)}rt.__viewId=xt.__id=We,xt.__alive=!0,xt.__model=rt,xt.group.__ecComponentInfo={mainType:rt.mainType,index:rt.componentIndex},!Ae&&Se.prepareView(xt,rt,de,Pe)}for(var Be=0;Be<Ce.length;){var Ve=Ce[Be];Ve.__alive?Be++:(!Ae&&Ve.renderTask.dispose(),Ie.remove(Ve.group),Ve.dispose(de,Pe),Ce.splice(Be,1),delete Le[Ve.__id],Ve.__id=Ve.group.__ecComponentInfo=null)}}function fe(X){X.clearColorPalette(),X.eachSeries(function(ne){ne.clearColorPalette()})}function ye(X,ne,de,Se){Te(X,ne,de,Se),L(X._chartsViews,function(Ae){Ae.__alive=!1}),xe(X,ne,de,Se),L(X._chartsViews,function(Ae){Ae.__alive||Ae.remove(ne,de)})}function Te(X,ne,de,Se,Ae){L(Ae||X._componentsViews,function(Ce){var Le=Ce.__model;Ce.render(Le,ne,de,Se),$e(Le,Ce)})}function xe(X,ne,de,Se,Ae){var Ce=X._scheduler,Le;ne.eachSeries(function(Ie){var Pe=X._chartsMap[Ie.__viewId];Pe.__alive=!0;var Be=Pe.renderTask;Ce.updatePayload(Be,Se),Ae&&Ae.get(Ie.uid)&&Be.dirty(),Le|=Be.perform(Ce.getPerformArgs(Be)),Pe.group.silent=!!Ie.get("silent"),$e(Ie,Pe),Ee(Ie,Pe)}),Ce.unfinished|=Le,Me(X,ne),w(X._zr.dom,ne)}function ge(X,ne){L(je,function(de){de(X,ne)})}var ve=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];ae._initEvents=function(){L(ve,function(X){var ne=function(de){var Se=this.getModel(),Ae=de.target,Ce,Le=X==="globalout";if(Le)Ce={};else if(Ae&&Ae.dataIndex!=null){var Ie=Ae.dataModel||Se.getSeriesByIndex(Ae.seriesIndex);Ce=Ie&&Ie.getDataParams(Ae.dataIndex,Ae.dataType,Ae)||{}}else Ae&&Ae.eventData&&(Ce=r.extend({},Ae.eventData));if(Ce){var Pe=Ce.componentType,Be=Ce.componentIndex;(Pe==="markLine"||Pe==="markPoint"||Pe==="markArea")&&(Pe="series",Be=Ce.seriesIndex);var ze=Pe&&Be!=null&&Se.getComponent(Pe,Be),Ve=ze&&this[ze.mainType==="series"?"_chartsMap":"_componentsMap"][ze.__viewId];Ce.event=de,Ce.type=X,this._ecEventProcessor.eventInfo={targetEl:Ae,packedEvent:Ce,model:ze,view:Ve},this.trigger(X,Ce)}};ne.zrEventfulCallAtLast=!0,this._zr.on(X,ne,this)},this),L(ke,function(X,ne){this._messageCenter.on(ne,function(de){this.trigger(ne,de)},this)},this)},ae.isDisposed=function(){return this._disposed},ae.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},ae.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),et,"");var X=this._api,ne=this._model;L(this._componentsViews,function(de){de.dispose(ne,X)}),L(this._chartsViews,function(de){de.dispose(ne,X)}),this._zr.dispose(),delete At[this.id]},r.mixin(_e,u);function pe(X){}function Me(X,ne){var de=X._zr,Se=de.storage,Ae=0;Se.traverse(function(Ce){Ae++}),Ae>ne.get("hoverLayerThreshold")&&!i.node&&ne.eachSeries(function(Ce){if(!Ce.preventUsingHoverLayer){var Le=X._chartsMap[Ce.__viewId];Le.__alive&&Le.group.traverse(function(Ie){Ie.useHoverLayer=!0})}})}function Ee(X,ne){var de=X.get("blendMode")||null;ne.group.traverse(function(Se){Se.isGroup||Se.style.blend!==de&&Se.setStyle("blend",de),Se.eachPendingDisplayable&&Se.eachPendingDisplayable(function(Ae){Ae.setStyle("blend",de)})})}function $e(X,ne){var de=X.get("z"),Se=X.get("zlevel");ne.group.traverse(function(Ae){Ae.type!=="group"&&(de!=null&&(Ae.z=de),Se!=null&&(Ae.zlevel=Se))})}function He(X){var ne=X._coordSysMgr;return r.extend(new o(X),{getCoordinateSystems:r.bind(ne.getCoordinateSystems,ne),getComponentByElement:function(de){for(;de;){var Se=de.__ecComponentInfo;if(Se!=null)return X._model.getComponent(Se.mainType,Se.index);de=de.parent}}})}function Ge(){this.eventInfo}Ge.prototype={constructor:Ge,normalizeQuery:function(X){var ne={},de={},Se={};if(r.isString(X)){var Ae=E(X);ne.mainType=Ae.main||null,ne.subType=Ae.sub||null}else{var Ce=["Index","Name","Id"],Le={name:1,dataIndex:1,dataType:1};r.each(X,function(Ie,Pe){for(var Be=!1,ze=0;ze<Ce.length;ze++){var Ve=Ce[ze],rt=Pe.lastIndexOf(Ve);if(rt>0&&rt===Pe.length-Ve.length){var We=Pe.slice(0,rt);We!=="data"&&(ne.mainType=We,ne[Ve.toLowerCase()]=Ie,Be=!0)}}Le.hasOwnProperty(Pe)&&(de[Pe]=Ie,Be=!0),Be||(Se[Pe]=Ie)})}return{cptQuery:ne,dataQuery:de,otherQuery:Se}},filter:function(X,ne,de){var Se=this.eventInfo;if(!Se)return!0;var Ae=Se.targetEl,Ce=Se.packedEvent,Le=Se.model,Ie=Se.view;if(!Le||!Ie)return!0;var Pe=ne.cptQuery,Be=ne.dataQuery;return ze(Pe,Le,"mainType")&&ze(Pe,Le,"subType")&&ze(Pe,Le,"index","componentIndex")&&ze(Pe,Le,"name")&&ze(Pe,Le,"id")&&ze(Be,Ce,"name")&&ze(Be,Ce,"dataIndex")&&ze(Be,Ce,"dataType")&&(!Ie.filterForExposedEvent||Ie.filterForExposedEvent(X,ne.otherQuery,Ae,Ce));function ze(Ve,rt,We,xt){return Ve[We]==null||rt[xt||We]===Ve[We]}},afterTrigger:function(){this.eventInfo=null}};var Je={},ke={},Fe=[],qe=[],je=[],Ue=[],tt={},yt={},At={},Nt={},vr=new Date-0,gt=new Date-0,et="_echarts_instance_";function Tt(X){var ne=0,de=1,Se=2,Ae="__connectUpdateStatus";function Ce(Le,Ie){for(var Pe=0;Pe<Le.length;Pe++){var Be=Le[Pe];Be[Ae]=Ie}}L(ke,function(Le,Ie){X._messageCenter.on(Ie,function(Pe){if(Nt[X.group]&&X[Ae]!==ne){if(Pe&&Pe.escapeConnect)return;var Be=X.makeActionFromEvent(Pe),ze=[];L(At,function(Ve){Ve!==X&&Ve.group===X.group&&ze.push(Ve)}),Ce(ze,ne),L(ze,function(Ve){Ve[Ae]!==de&&Ve.dispatchAction(Be)}),Ce(ze,Se)}})})}function pt(X,ne,de){var Se=Vr(X);if(Se)return Se;var Ae=new _e(X,ne,de);return Ae.id="ec_"+vr++,At[Ae.id]=Ae,y.setAttribute(X,et,Ae.id),Tt(Ae),Ae}function Dt(X){if(r.isArray(X)){var ne=X;X=null,L(ne,function(de){de.group!=null&&(X=de.group)}),X=X||"g_"+gt++,L(ne,function(de){de.group=X})}return Nt[X]=!0,X}function Nr(X){Nt[X]=!1}var st=Nr;function _t(X){typeof X=="string"?X=At[X]:X instanceof _e||(X=Vr(X)),X instanceof _e&&!X.isDisposed()&&X.dispose()}function Vr(X){return At[y.getAttribute(X,et)]}function Ia(X){return At[X]}function Ss(X,ne){tt[X]=ne}function Cg(X){qe.push(X)}function Mg(X,ne){ws(Fe,X,ne,V)}function vD(X){je.push(X)}function bs(X,ne,de){typeof ne=="function"&&(de=ne,ne="");var Se=I(X)?X.type:[X,X={event:ne}][0];X.event=(X.event||Se).toLowerCase(),ne=X.event,D(ie.test(Se)&&ie.test(ne)),Je[Se]||(Je[Se]={action:de,actionInfo:X}),ke[ne]=Se}function hD(X,ne){h.register(X,ne)}function cD(X){var ne=h.get(X);if(ne)return ne.getDimensionsInfo?ne.getDimensionsInfo():ne.dimensions.slice()}function fD(X,ne){ws(Ue,X,ne,N,"layout")}function Dg(X,ne){ws(Ue,X,ne,F,"visual")}function ws(X,ne,de,Se,Ae){(P(ne)||I(ne))&&(de=ne,ne=Se);var Ce=b.wrapStageHandler(de,Ae);return Ce.__prio=ne,Ce.__raw=de,X.push(Ce),Ce}function Lg(X,ne){yt[X]=ne}function dD(X){return d.extend(X)}function gD(X){return m.extend(X)}function pD(X){return f.extend(X)}function mD(X){return g.extend(X)}function yD(X){r.$override("createCanvas",X)}function _D(X,ne,de){M.registerMap(X,ne,de)}function xD(X){var ne=M.retrieveMap(X);return ne&&ne[0]&&{geoJson:ne[0].geoJSON,specialAreas:ne[0].specialAreas}}Dg(H,T),Cg(v),Mg(B,l),Lg("default",x),bs({type:"highlight",event:"highlight",update:"highlight"},r.noop),bs({type:"downplay",event:"downplay",update:"downplay"},r.noop),Ss("light",A),Ss("dark",C);var SD={};e.version=O,e.dependencies=z,e.PRIORITY=J,e.init=pt,e.connect=Dt,e.disConnect=Nr,e.disconnect=st,e.dispose=_t,e.getInstanceByDom=Vr,e.getInstanceById=Ia,e.registerTheme=Ss,e.registerPreprocessor=Cg,e.registerProcessor=Mg,e.registerPostUpdate=vD,e.registerAction=bs,e.registerCoordinateSystem=hD,e.getCoordinateSystemDimensions=cD,e.registerLayout=fD,e.registerVisual=Dg,e.registerLoading=Lg,e.extendComponentModel=dD,e.extendComponentView=gD,e.extendSeriesModel=pD,e.extendChartView=mD,e.setCanvasCreator=yD,e.registerMap=_D,e.getMap=xD,e.dataTool=SD;var As=fM();(function(){for(var X in As)As.hasOwnProperty(X)&&(e[X]=As[X])})()})(we);var gy={},Nl,py;function qV(){if(py)return Nl;py=1;var e=Br(),t=dt,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return Nl=r,Nl}var Vl={},my;function rg(){if(my)return Vl;my=1;var e=sr,t=e.retrieveRawValue;function r(a,i){var n=a.mapDimension("defaultedLabel",!0),u=n.length;if(u===1)return t(a,i,n[0]);if(u){for(var c=[],o=0;o<n.length;o++){var h=t(a,i,n[o]);c.push(h)}return c.join(" ")}}return Vl.getDefaultLabel=r,Vl}var Hl,yy;function fs(){if(yy)return Hl;yy=1;var e=Z,t=Xt(),r=t.createSymbol,a=me,i=Oe(),n=i.parsePercent,u=rg(),c=u.getDefaultLabel;function o(_,S,T){a.Group.call(this),this.updateData(_,S,T)}var h=o.prototype,s=o.getSymbolSize=function(_,S){var T=_.getItemVisual(S,"symbolSize");return T instanceof Array?T.slice():[+T,+T]};function v(_){return[_[0]/2,_[1]/2]}function l(_,S){this.parent.drift(_,S)}h._createSymbol=function(_,S,T,w,x){this.removeAll();var b=S.getItemVisual(T,"color"),A=r(_,-1,-1,2,2,b,x);A.attr({z2:100,culling:!0,scale:v(w)}),A.drift=l,this._symbolType=_,this.add(A)},h.stopSymbolAnimation=function(_){this.childAt(0).stopAnimation(_)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(_,S){var T=this.childAt(0);T.zlevel=_,T.z=S},h.setDraggable=function(_){var S=this.childAt(0);S.draggable=_,S.cursor=_?"move":S.cursor},h.updateData=function(_,S,T){this.silent=!1;var w=_.getItemVisual(S,"symbol")||"circle",x=_.hostModel,b=s(_,S),A=w!==this._symbolType;if(A){var C=_.getItemVisual(S,"symbolKeepAspect");this._createSymbol(w,_,S,b,C)}else{var M=this.childAt(0);M.silent=!1,a.updateProps(M,{scale:v(b)},x,S)}if(this._updateCommon(_,S,b,T),A){var M=this.childAt(0),D=T&&T.fadeIn,L={scale:M.scale.slice()};D&&(L.style={opacity:M.style.opacity}),M.scale=[0,0],D&&(M.style.opacity=0),a.initProps(M,L,x,S)}this._seriesModel=x};var d=["itemStyle"],f=["emphasis","itemStyle"],m=["label"],g=["emphasis","label"];h._updateCommon=function(_,S,T,w){var x=this.childAt(0),b=_.hostModel,A=_.getItemVisual(S,"color");x.type!=="image"?x.useStyle({strokeNoScale:!0}):x.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var C=w&&w.itemStyle,M=w&&w.hoverItemStyle,D=w&&w.symbolRotate,L=w&&w.symbolOffset,P=w&&w.labelModel,I=w&&w.hoverLabelModel,E=w&&w.hoverAnimation,O=w&&w.cursorStyle;if(!w||_.hasItemOption){var z=w&&w.itemModel?w.itemModel:_.getItemModel(S);C=z.getModel(d).getItemStyle(["color"]),M=z.getModel(f).getItemStyle(),D=z.getShallow("symbolRotate"),L=z.getShallow("symbolOffset"),P=z.getModel(m),I=z.getModel(g),E=z.getShallow("hoverAnimation"),O=z.getShallow("cursor")}else M=e.extend({},M);var G=x.style;x.attr("rotation",(D||0)*Math.PI/180||0),L&&x.attr("position",[n(L[0],T[0]),n(L[1],T[1])]),O&&x.attr("cursor",O),x.setColor(A,w&&w.symbolInnerColor),x.setStyle(C);var V=_.getItemVisual(S,"opacity");V!=null&&(G.opacity=V);var R=_.getItemVisual(S,"liftZ"),B=x.__z2Origin;R!=null?B==null&&(x.__z2Origin=x.z2,x.z2+=R):B!=null&&(x.z2=B,x.__z2Origin=null);var k=w&&w.useNameLabel;a.setLabelStyle(G,M,P,I,{labelFetcher:b,labelDataIndex:S,defaultText:N,isRectText:!0,autoColor:A});function N(q,H){return k?_.getName(q):c(_,q)}x.__symbolOriginalScale=v(T),x.hoverStyle=M,x.highDownOnUpdate=E&&b.isAnimationEnabled()?p:null,a.setHoverStyle(x)};function p(_,S){if(!(this.incremental||this.useHoverLayer))if(S==="emphasis"){var T=this.__symbolOriginalScale,w=T[1]/T[0],x={scale:[Math.max(T[0]*1.1,T[0]+3),Math.max(T[1]*1.1,T[1]+3*w)]};this.animateTo(x,400,"elasticOut")}else S==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h.fadeOut=function(_,S){var T=this.childAt(0);this.silent=T.silent=!0,!(S&&S.keepLabel)&&(T.style.text=null),a.updateProps(T,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,_)},e.inherits(o,a.Group);var y=o;return Hl=y,Hl}var ql,_y;function Mn(){if(_y)return ql;_y=1;var e=me,t=fs(),r=Z,a=r.isObject;function i(s){this.group=new e.Group,this._symbolCtor=s||t}var n=i.prototype;function u(s,v,l,d){return v&&!isNaN(v[0])&&!isNaN(v[1])&&!(d.isIgnore&&d.isIgnore(l))&&!(d.clipShape&&!d.clipShape.contain(v[0],v[1]))&&s.getItemVisual(l,"symbol")!=="none"}n.updateData=function(s,v){v=c(v);var l=this.group,d=s.hostModel,f=this._data,m=this._symbolCtor,g=o(s);f||l.removeAll(),s.diff(f).add(function(p){var y=s.getItemLayout(p);if(u(s,y,p,v)){var _=new m(s,p,g);_.attr("position",y),s.setItemGraphicEl(p,_),l.add(_)}}).update(function(p,y){var _=f.getItemGraphicEl(y),S=s.getItemLayout(p);if(!u(s,S,p,v)){l.remove(_);return}_?(_.updateData(s,p,g),e.updateProps(_,{position:S},d)):(_=new m(s,p),_.attr("position",S)),l.add(_),s.setItemGraphicEl(p,_)}).remove(function(p){var y=f.getItemGraphicEl(p);y&&y.fadeOut(function(){l.remove(y)})}).execute(),this._data=s},n.isPersistent=function(){return!0},n.updateLayout=function(){var s=this._data;s&&s.eachItemGraphicEl(function(v,l){var d=s.getItemLayout(l);v.attr("position",d)})},n.incrementalPrepareUpdate=function(s){this._seriesScope=o(s),this._data=null,this.group.removeAll()},n.incrementalUpdate=function(s,v,l){l=c(l);function d(p){p.isGroup||(p.incremental=p.useHoverLayer=!0)}for(var f=s.start;f<s.end;f++){var m=v.getItemLayout(f);if(u(v,m,f,l)){var g=new this._symbolCtor(v,f,this._seriesScope);g.traverse(d),g.attr("position",m),this.group.add(g),v.setItemGraphicEl(f,g)}}};function c(s){return s!=null&&!a(s)&&(s={isIgnore:s}),s||{}}n.remove=function(s){var v=this.group,l=this._data;l&&s?l.eachItemGraphicEl(function(d){d.fadeOut(function(){v.remove(d)})}):v.removeAll()};function o(s){var v=s.hostModel;return{itemStyle:v.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:v.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:v.get("symbolRotate"),symbolOffset:v.get("symbolOffset"),hoverAnimation:v.get("hoverAnimation"),labelModel:v.getModel("label"),hoverLabelModel:v.getModel("emphasis.label"),cursorStyle:v.get("cursor")}}var h=i;return ql=h,ql}var io={},xy;function dM(){if(xy)return io;xy=1;var e=Tr(),t=e.isDimensionStacked,r=Z,a=r.map;function i(c,o,h){var s=c.getBaseAxis(),v=c.getOtherAxis(s),l=n(v,h),d=s.dim,f=v.dim,m=o.mapDimension(f),g=o.mapDimension(d),p=f==="x"||f==="radius"?1:0,y=a(c.dimensions,function(T){return o.mapDimension(T)}),_,S=o.getCalculationInfo("stackResultDimension");return(_|=t(o,y[0]))&&(y[0]=S),(_|=t(o,y[1]))&&(y[1]=S),{dataDimsForPoint:y,valueStart:l,valueAxisDim:f,baseAxisDim:d,stacked:!!_,valueDim:m,baseDim:g,baseDataOffset:p,stackedOverDimension:o.getCalculationInfo("stackedOverDimension")}}function n(c,o){var h=0,s=c.scale.getExtent();return o==="start"?h=s[0]:o==="end"?h=s[1]:s[0]>0?h=s[0]:s[1]<0&&(h=s[1]),h}function u(c,o,h,s){var v=NaN;c.stacked&&(v=h.get(h.getCalculationInfo("stackedOverDimension"),s)),isNaN(v)&&(v=c.valueStart);var l=c.baseDataOffset,d=[];return d[l]=h.get(c.baseDim,s),d[1-l]=v,o.dataToPoint(d)}return io.prepareDataCoordInfo=i,io.getStackedOnPoint=u,io}var Gl,Sy;function GV(){if(Sy)return Gl;Sy=1;var e=dM(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function a(n,u){var c=[];return u.diff(n).add(function(o){c.push({cmd:"+",idx:o})}).update(function(o,h){c.push({cmd:"=",idx:h,idx1:o})}).remove(function(o){c.push({cmd:"-",idx:o})}).execute(),c}function i(n,u,c,o,h,s,v,l){for(var d=a(n,u),f=[],m=[],g=[],p=[],y=[],_=[],S=[],T=t(h,u,v),w=t(s,n,l),x=0;x<d.length;x++){var b=d[x],A=!0;switch(b.cmd){case"=":var C=n.getItemLayout(b.idx),M=u.getItemLayout(b.idx1);(isNaN(C[0])||isNaN(C[1]))&&(C=M.slice()),f.push(C),m.push(M),g.push(c[b.idx]),p.push(o[b.idx1]),S.push(u.getRawIndex(b.idx1));break;case"+":var D=b.idx;f.push(h.dataToPoint([u.get(T.dataDimsForPoint[0],D),u.get(T.dataDimsForPoint[1],D)])),m.push(u.getItemLayout(D).slice()),g.push(r(T,h,u,D)),p.push(o[D]),S.push(u.getRawIndex(D));break;case"-":var D=b.idx,L=n.getRawIndex(D);L!==D?(f.push(n.getItemLayout(D)),m.push(s.dataToPoint([n.get(w.dataDimsForPoint[0],D),n.get(w.dataDimsForPoint[1],D)])),g.push(c[D]),p.push(r(w,s,n,D)),S.push(L)):A=!1}A&&(y.push(b),_.push(_.length))}_.sort(function(G,V){return S[G]-S[V]});for(var P=[],I=[],E=[],O=[],z=[],x=0;x<_.length;x++){var D=_[x];P[x]=f[D],I[x]=m[D],E[x]=g[D],O[x]=p[D],z[x]=y[D]}return{current:P,next:I,stackedOnCurrent:E,stackedOnNext:O,status:z}}return Gl=i,Gl}var no={},by;function gM(){if(by)return no;by=1;var e=it,t=Ye(),r=FT,a=t.min,i=t.max,n=t.scaleAndAdd,u=t.copy,c=[],o=[],h=[];function s(p){return isNaN(p[0])||isNaN(p[1])}function v(p,y,_,S,T,w,x,b,A,C,M){return C==="none"||!C?d.apply(this,arguments):l.apply(this,arguments)}function l(p,y,_,S,T,w,x,b,A,C,M){for(var D=0,L=_,P=0;P<S;P++){var I=y[L];if(L>=T||L<0)break;if(s(I)){if(M){L+=w;continue}break}if(L===_)p[w>0?"moveTo":"lineTo"](I[0],I[1]);else if(A>0){var E=y[D],O=C==="y"?1:0,z=(I[O]-E[O])*A;u(o,E),o[O]=E[O]+z,u(h,I),h[O]=I[O]-z,p.bezierCurveTo(o[0],o[1],h[0],h[1],I[0],I[1])}else p.lineTo(I[0],I[1]);D=L,L+=w}return P}function d(p,y,_,S,T,w,x,b,A,C,M){for(var D=0,L=_,P=0;P<S;P++){var I=y[L];if(L>=T||L<0)break;if(s(I)){if(M){L+=w;continue}break}if(L===_)p[w>0?"moveTo":"lineTo"](I[0],I[1]),u(o,I);else if(A>0){var E=L+w,G=y[E];if(M)for(;G&&s(y[E]);)E+=w,G=y[E];var O=.5,z=y[D],G=y[E];if(!G||s(G))u(h,I);else{s(G)&&!M&&(G=I),t.sub(c,G,z);var V,R;if(C==="x"||C==="y"){var B=C==="x"?0:1;V=Math.abs(I[B]-z[B]),R=Math.abs(I[B]-G[B])}else V=t.dist(I,z),R=t.dist(I,G);O=R/(R+V),n(h,I,c,-A*(1-O))}a(o,o,b),i(o,o,x),a(h,h,b),i(h,h,x),p.bezierCurveTo(o[0],o[1],h[0],h[1],I[0],I[1]),n(o,I,c,A*O)}else p.lineTo(I[0],I[1]);D=L,L+=w}return P}function f(p,y){var _=[1/0,1/0],S=[-1/0,-1/0];if(y)for(var T=0;T<p.length;T++){var w=p[T];w[0]<_[0]&&(_[0]=w[0]),w[1]<_[1]&&(_[1]=w[1]),w[0]>S[0]&&(S[0]=w[0]),w[1]>S[1]&&(S[1]=w[1])}return{min:y?_:S,max:y?S:_}}var m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(p,y){var _=y.points,S=0,T=_.length,w=f(_,y.smoothConstraint);if(y.connectNulls){for(;T>0&&s(_[T-1]);T--);for(;S<T&&s(_[S]);S++);}for(;S<T;)S+=v(p,_,S,T,T,1,w.min,w.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),g=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(p,y){var _=y.points,S=y.stackedOnPoints,T=0,w=_.length,x=y.smoothMonotone,b=f(_,y.smoothConstraint),A=f(S,y.smoothConstraint);if(y.connectNulls){for(;w>0&&s(_[w-1]);w--);for(;T<w&&s(_[T]);T++);}for(;T<w;){var C=v(p,_,T,w,w,1,b.min,b.max,y.smooth,x,y.connectNulls);v(p,S,T+C-1,C,w,-1,A.min,A.max,y.stackedOnSmooth,x,y.connectNulls),T+=C+1,p.closePath()}}});return no.Polyline=m,no.Polygon=g,no}var Vi={},wy;function Dn(){if(wy)return Vi;wy=1;var e=me,t=Oe(),r=t.round;function a(u,c,o){var h=u.getArea(),s=u.getBaseAxis().isHorizontal(),v=h.x,l=h.y,d=h.width,f=h.height,m=o.get("lineStyle.width")||2;v-=m/2,l-=m/2,d+=m,f+=m;var g=new e.Rect({shape:{x:v,y:l,width:d,height:f}});return c&&(g.shape[s?"width":"height"]=0,e.initProps(g,{shape:{width:d,height:f}},o)),g}function i(u,c,o){var h=u.getArea(),s=new e.Sector({shape:{cx:r(u.cx,1),cy:r(u.cy,1),r0:r(h.r0,1),r:r(h.r,1),startAngle:h.startAngle,endAngle:h.endAngle,clockwise:h.clockwise}});return c&&(s.shape.endAngle=h.startAngle,e.initProps(s,{shape:{endAngle:h.endAngle}},o)),s}function n(u,c,o){if(u){if(u.type==="polar")return i(u,c,o);if(u.type==="cartesian2d")return a(u,c,o)}else return null;return null}return Vi.createGridClipPath=a,Vi.createPolarClipPath=i,Vi.createClipPath=n,Vi}var Fl,Ay;function FV(){if(Ay)return Fl;Ay=1;var e=Z,t=Mn(),r=fs(),a=GV(),i=me,n=Re,u=gM(),c=u.Polyline,o=u.Polygon,h=Ar,s=dM(),v=s.prepareDataCoordInfo,l=s.getStackedOnPoint,d=Dn(),f=d.createGridClipPath,m=d.createPolarClipPath;function g(A,C){if(A.length===C.length){for(var M=0;M<A.length;M++){var D=A[M],L=C[M];if(D[0]!==L[0]||D[1]!==L[1])return}return!0}}function p(A){return typeof A=="number"?A:A?.5:0}function y(A,C,M){if(!M.valueDim)return[];for(var D=[],L=0,P=C.count();L<P;L++)D.push(l(M,A,C,L));return D}function _(A,C,M){for(var D=C.getBaseAxis(),L=D.dim==="x"||D.dim==="radius"?0:1,P=[],I=0;I<A.length-1;I++){var E=A[I+1],O=A[I];P.push(O);var z=[];switch(M){case"end":z[L]=E[L],z[1-L]=O[1-L],P.push(z);break;case"middle":var G=(O[L]+E[L])/2,V=[];z[L]=V[L]=G,z[1-L]=O[1-L],V[1-L]=E[1-L],P.push(z),P.push(V);break;default:z[L]=O[L],z[1-L]=E[1-L],P.push(z)}}return A[I]&&P.push(A[I]),P}function S(A,C){var M=A.getVisual("visualMeta");if(!(!M||!M.length||!A.count())&&C.type==="cartesian2d"){for(var D,L,P=M.length-1;P>=0;P--){var I=M[P].dimension,E=A.dimensions[I],O=A.getDimensionInfo(E);if(D=O&&O.coordDim,D==="x"||D==="y"){L=M[P];break}}if(L){var z=C.getAxis(D),G=e.map(L.stops,function(F){return{coord:z.toGlobalCoord(z.dataToCoord(F.value)),color:F.color}}),V=G.length,R=L.outerColors.slice();V&&G[0].coord>G[V-1].coord&&(G.reverse(),R.reverse());var B=10,k=G[0].coord-B,N=G[V-1].coord+B,q=N-k;if(q<.001)return"transparent";e.each(G,function(F){F.offset=(F.coord-k)/q}),G.push({offset:V?G[V-1].offset:.5,color:R[1]||"transparent"}),G.unshift({offset:V?G[0].offset:.5,color:R[0]||"transparent"});var H=new i.LinearGradient(0,0,0,0,G,!0);return H[D]=k,H[D+"2"]=N,H}}}function T(A,C,M){var D=A.get("showAllSymbol"),L=D==="auto";if(!(D&&!L)){var P=M.getAxesByScale("ordinal")[0];if(P&&!(L&&w(P,C))){var I=C.mapDimension(P.dim),E={};return e.each(P.getViewLabels(),function(O){E[O.tickValue]=1}),function(O){return!E.hasOwnProperty(C.get(I,O))}}}}function w(A,C){var M=A.getExtent(),D=Math.abs(M[1]-M[0])/A.scale.count();isNaN(D)&&(D=0);for(var L=C.count(),P=Math.max(1,Math.round(L/5)),I=0;I<L;I+=P)if(r.getSymbolSize(C,I)[A.isHorizontal()?1:0]*1.5>D)return!1;return!0}function x(A,C,M){if(A.type==="cartesian2d"){var D=A.getBaseAxis().isHorizontal(),L=f(A,C,M);if(!M.get("clip",!0)){var P=L.shape,I=Math.max(P.width,P.height);D?(P.y-=I,P.height+=I*2):(P.x-=I,P.width+=I*2)}return L}else return m(A,C,M)}var b=h.extend({type:"line",init:function(){var A=new i.Group,C=new t;this.group.add(C.group),this._symbolDraw=C,this._lineGroup=A},render:function(A,C,M){var D=A.coordinateSystem,L=this.group,P=A.getData(),I=A.getModel("lineStyle"),E=A.getModel("areaStyle"),O=P.mapArray(P.getItemLayout),z=D.type==="polar",G=this._coordSys,V=this._symbolDraw,R=this._polyline,B=this._polygon,k=this._lineGroup,N=A.get("animation"),q=!E.isEmpty(),H=E.get("origin"),F=v(D,P,H),U=y(D,P,F),W=A.get("showSymbol"),K=W&&!z&&T(A,P,D),J=this._data;J&&J.eachItemGraphicEl(function(ae,se){ae.__temp&&(L.remove(ae),J.setItemGraphicEl(se,null))}),W||V.remove(),L.add(k);var j=!z&&A.get("step"),ee;D&&D.getArea&&A.get("clip",!0)&&(ee=D.getArea(),ee.width!=null?(ee.x-=.1,ee.y-=.1,ee.width+=.2,ee.height+=.2):ee.r0&&(ee.r0-=.5,ee.r1+=.5)),this._clipShapeForSymbol=ee,R&&G.type===D.type&&j===this._step?(q&&!B?B=this._newPolygon(O,U,D,N):B&&!q&&(k.remove(B),B=this._polygon=null),k.setClipPath(x(D,!1,A)),W&&V.updateData(P,{isIgnore:K,clipShape:ee}),P.eachItemGraphicEl(function(ae){ae.stopAnimation(!0)}),(!g(this._stackedOnPoints,U)||!g(this._points,O))&&(N?this._updateAnimation(P,U,D,M,j,H):(j&&(O=_(O,D,j),U=_(U,D,j)),R.setShape({points:O}),B&&B.setShape({points:O,stackedOnPoints:U})))):(W&&V.updateData(P,{isIgnore:K,clipShape:ee}),j&&(O=_(O,D,j),U=_(U,D,j)),R=this._newPolyline(O,D,N),q&&(B=this._newPolygon(O,U,D,N)),k.setClipPath(x(D,!0,A)));var ie=S(P,D)||P.getVisual("color");R.useStyle(e.defaults(I.getLineStyle(),{fill:"none",stroke:ie,lineJoin:"bevel"}));var re=A.get("smooth");if(re=p(A.get("smooth")),R.setShape({smooth:re,smoothMonotone:A.get("smoothMonotone"),connectNulls:A.get("connectNulls")}),B){var he=P.getCalculationInfo("stackedOnSeries"),_e=0;B.useStyle(e.defaults(E.getAreaStyle(),{fill:ie,opacity:.7,lineJoin:"bevel"})),he&&(_e=p(he.get("smooth"))),B.setShape({smooth:re,stackedOnSmooth:_e,smoothMonotone:A.get("smoothMonotone"),connectNulls:A.get("connectNulls")})}this._data=P,this._coordSys=D,this._stackedOnPoints=U,this._points=O,this._step=j,this._valueOrigin=H},dispose:function(){},highlight:function(A,C,M,D){var L=A.getData(),P=n.queryDataIndex(L,D);if(!(P instanceof Array)&&P!=null&&P>=0){var I=L.getItemGraphicEl(P);if(!I){var E=L.getItemLayout(P);if(!E||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(E[0],E[1]))return;I=new r(L,P),I.position=E,I.setZ(A.get("zlevel"),A.get("z")),I.ignore=isNaN(E[0])||isNaN(E[1]),I.__temp=!0,L.setItemGraphicEl(P,I),I.stopSymbolAnimation(!0),this.group.add(I)}I.highlight()}else h.prototype.highlight.call(this,A,C,M,D)},downplay:function(A,C,M,D){var L=A.getData(),P=n.queryDataIndex(L,D);if(P!=null&&P>=0){var I=L.getItemGraphicEl(P);I&&(I.__temp?(L.setItemGraphicEl(P,null),this.group.remove(I)):I.downplay())}else h.prototype.downplay.call(this,A,C,M,D)},_newPolyline:function(A){var C=this._polyline;return C&&this._lineGroup.remove(C),C=new c({shape:{points:A},silent:!0,z2:10}),this._lineGroup.add(C),this._polyline=C,C},_newPolygon:function(A,C){var M=this._polygon;return M&&this._lineGroup.remove(M),M=new o({shape:{points:A,stackedOnPoints:C},silent:!0}),this._lineGroup.add(M),this._polygon=M,M},_updateAnimation:function(A,C,M,D,L,P){var I=this._polyline,E=this._polygon,O=A.hostModel,z=a(this._data,A,this._stackedOnPoints,C,this._coordSys,M,this._valueOrigin,P),G=z.current,V=z.stackedOnCurrent,R=z.next,B=z.stackedOnNext;L&&(G=_(z.current,M,L),V=_(z.stackedOnCurrent,M,L),R=_(z.next,M,L),B=_(z.stackedOnNext,M,L)),I.shape.__points=z.current,I.shape.points=G,i.updateProps(I,{shape:{points:R}},O),E&&(E.setShape({points:G,stackedOnPoints:V}),i.updateProps(E,{shape:{points:R,stackedOnPoints:B}},O));for(var k=[],N=z.status,q=0;q<N.length;q++){var H=N[q].cmd;if(H==="="){var F=A.getItemGraphicEl(N[q].idx1);F&&k.push({el:F,ptIdx:q})}}I.animators&&I.animators.length&&I.animators[0].during(function(){for(var U=0;U<k.length;U++){var W=k[U].el;W.attr("position",I.shape.__points[k[U].ptIdx])}})},remove:function(A){var C=this.group,M=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),M&&M.eachItemGraphicEl(function(D,L){D.__temp&&(C.remove(D),M.setItemGraphicEl(L,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return Fl=b,Fl}var $l,Ty;function Ma(){if(Ty)return $l;Ty=1;var e=Z,t=e.isFunction;function r(a,i,n){return{seriesType:a,performRawSeries:!0,reset:function(u,c,o){var h=u.getData(),s=u.get("symbol"),v=u.get("symbolSize"),l=u.get("symbolKeepAspect"),d=t(s),f=t(v),m=d||f,g=!d&&s?s:i,p=f?null:v;if(h.setVisual({legendSymbol:n||g,symbol:g,symbolSize:p,symbolKeepAspect:l}),c.isSeriesFiltered(u))return;function y(_,S){if(m){var T=u.getRawValue(S),w=u.getDataParams(S);d&&_.setItemVisual(S,"symbol",s(T,w)),f&&_.setItemVisual(S,"symbolSize",v(T,w))}if(_.hasItemOption){var x=_.getItemModel(S),b=x.getShallow("symbol",!0),A=x.getShallow("symbolSize",!0),C=x.getShallow("symbolKeepAspect",!0);b!=null&&_.setItemVisual(S,"symbol",b),A!=null&&_.setItemVisual(S,"symbolSize",A),C!=null&&_.setItemVisual(S,"symbolKeepAspect",C)}}return{dataEach:h.hasItemOption||m?y:null}}}}return $l=r,$l}var Ul,Cy;function Ln(){if(Cy)return Ul;Cy=1;var e=Z,t=e.map,r=mi,a=Tr(),i=a.isDimensionStacked;function n(u){return{seriesType:u,plan:r(),reset:function(c){var o=c.getData(),h=c.coordinateSystem,s=c.pipelineContext,v=s.large;if(!h)return;var l=t(h.dimensions,function(g){return o.mapDimension(g)}).slice(0,2),d=l.length,f=o.getCalculationInfo("stackResultDimension");i(o,l[0])&&(l[0]=f),i(o,l[1])&&(l[1]=f);function m(g,p){for(var y=g.end-g.start,_=v&&new Float32Array(y*d),S=g.start,T=0,w=[],x=[];S<g.end;S++){var b;if(d===1){var A=p.get(l[0],S);b=!isNaN(A)&&h.dataToPoint(A,null,x)}else{var A=w[0]=p.get(l[0],S),C=w[1]=p.get(l[1],S);b=!isNaN(A)&&!isNaN(C)&&h.dataToPoint(w,null,x)}v?(_[T++]=b?b[0]:NaN,_[T++]=b?b[1]:NaN):p.setItemLayout(S,b&&b.slice()||[NaN,NaN])}v&&p.setLayout("symbolPoints",_)}return d&&{progress:m}}}}return Ul=n,Ul}var Wl,My;function $V(){if(My)return Wl;My=1;var e={average:function(a){for(var i=0,n=0,u=0;u<a.length;u++)isNaN(a[u])||(i+=a[u],n++);return n===0?NaN:i/n},sum:function(a){for(var i=0,n=0;n<a.length;n++)i+=a[n]||0;return i},max:function(a){for(var i=-1/0,n=0;n<a.length;n++)a[n]>i&&(i=a[n]);return isFinite(i)?i:NaN},min:function(a){for(var i=1/0,n=0;n<a.length;n++)a[n]<i&&(i=a[n]);return isFinite(i)?i:NaN},nearest:function(a){return a[0]}},t=function(a,i){return Math.round(a.length/2)};function r(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(i,n,u){var c=i.getData(),o=i.get("sampling"),h=i.coordinateSystem;if(h.type==="cartesian2d"&&o){var s=h.getBaseAxis(),v=h.getOtherAxis(s),l=s.getExtent(),d=l[1]-l[0],f=Math.round(c.count()/d);if(f>1){var m;typeof o=="string"?m=e[o]:typeof o=="function"&&(m=o),m&&i.setData(c.downSample(c.mapDimension(v.dim),1/f,m,t))}}}}}return Wl=r,Wl}var Dy={},Zl,Ly;function UV(){if(Ly)return Zl;Ly=1;var e=Z;function t(i){return this._axes[i]}var r=function(i){this._axes={},this._dimList=[],this.name=i||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(i){return this._axes[i]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(i){return i=i.toLowerCase(),e.filter(this.getAxes(),function(n){return n.scale.type===i})},addAxis:function(i){var n=i.dim;this._axes[n]=i,this._dimList.push(n)},dataToCoord:function(i){return this._dataCoordConvert(i,"dataToCoord")},coordToData:function(i){return this._dataCoordConvert(i,"coordToData")},_dataCoordConvert:function(i,n){for(var u=this._dimList,c=i instanceof Array?[]:{},o=0;o<u.length;o++){var h=u[o],s=this._axes[h];c[h]=s[n](i[h])}return c}};var a=r;return Zl=a,Zl}var Yl,Py;function WV(){if(Py)return Yl;Py=1;var e=Z,t=Ke,r=UV();function a(n){r.call(this,n)}a.prototype={constructor:a,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var u=this.getAxis("x"),c=this.getAxis("y");return u.contain(u.toLocalCoord(n[0]))&&c.contain(c.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoint:function(n,u,c){var o=this.getAxis("x"),h=this.getAxis("y");return c=c||[],c[0]=o.toGlobalCoord(o.dataToCoord(n[0])),c[1]=h.toGlobalCoord(h.dataToCoord(n[1])),c},clampData:function(n,u){var c=this.getAxis("x").scale,o=this.getAxis("y").scale,h=c.getExtent(),s=o.getExtent(),v=c.parse(n[0]),l=o.parse(n[1]);return u=u||[],u[0]=Math.min(Math.max(Math.min(h[0],h[1]),v),Math.max(h[0],h[1])),u[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),u},pointToData:function(n,u){var c=this.getAxis("x"),o=this.getAxis("y");return u=u||[],u[0]=c.coordToData(c.toLocalCoord(n[0])),u[1]=o.coordToData(o.toLocalCoord(n[1])),u},getOtherAxis:function(n){return this.getAxis(n.dim==="x"?"y":"x")},getArea:function(){var n=this.getAxis("x").getGlobalExtent(),u=this.getAxis("y").getGlobalExtent(),c=Math.min(n[0],n[1]),o=Math.min(u[0],u[1]),h=Math.max(n[0],n[1])-c,s=Math.max(u[0],u[1])-o,v=new t(c,o,h,s);return v}},e.inherits(a,r);var i=a;return Yl=i,Yl}var Xl,Iy;function ZV(){if(Iy)return Xl;Iy=1;var e=Z,t=ia(),r=function(i,n,u,c,o){t.call(this,i,n,u),this.type=c||"value",this.position=o||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},getGlobalExtent:function(i){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),i&&n[0]>n[1]&&n.reverse(),n},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(i,n){return this.coordToData(this.toLocalCoord(i[this.dim==="x"?0:1]),n)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var a=r;return Xl=a,Xl}var Kl,Ry;function pM(){if(Ry)return Kl;Ry=1;var e=Z,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var a=r;return Kl=a,Kl}var Ql,Ey;function ds(){if(Ey)return Ql;Ey=1;var e=Z,t=pM(),r=ft,a=Ne,i=a.getLayoutParams,n=a.mergeLayoutParam,u=sM(),c=["value","category","time","log"];function o(h,s,v,l){e.each(c,function(d){s.extend({type:h+"Axis."+d,mergeDefaultAndTheme:function(f,m){var g=this.layoutMode,p=g?i(f):{},y=m.getTheme();e.merge(f,y.get(d+"Axis")),e.merge(f,this.getDefaultOption()),f.type=v(h,f),g&&n(f,p,g)},optionUpdated:function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=u.createByAxisModel(this))},getCategories:function(f){var m=this.option;if(m.type==="category")return f?m.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[d+"Axis"],l],!0)})}),r.registerSubTypeDefaulter(h+"Axis",e.curry(v,h))}return Ql=o,Ql}var Jl,ky;function mM(){if(ky)return Jl;ky=1;var e=Z,t=ft,r=ds(),a=xi(),i=t.extend({type:"cartesian2dAxis",axis:null,init:function(){i.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){i.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){i.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function n(o,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a);var u={offset:0};r("x",i,n,u),r("y",i,n,u);var c=i;return Jl=c,Jl}var jl,Oy;function YV(){if(Oy)return jl;Oy=1,mM();var e=ft,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return jl=t,jl}var eu,zy;function ag(){if(zy)return eu;zy=1;var e=Z,t=e.isObject,r=e.each,a=e.map,i=e.indexOf;e.retrieve;var n=Ne,u=n.getLayoutRect,c=ur(),o=c.createScaleByModel,h=c.ifAxisCrossZero,s=c.niceScaleExtent,v=c.estimateLabelUnionRect,l=WV(),d=ZV(),f=wr,m=Tr(),g=m.getStackedDimension;YV();function p(M,D,L){return M.getCoordSysModel()===D}function y(M,D,L){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(M,D,L),this.model=M}var _=y.prototype;_.type="grid",_.axisPointerEnabled=!0,_.getRect=function(){return this._rect},_.update=function(M,D){var L=this._axesMap;this._updateScale(M,this.model),r(L.x,function(I){s(I.scale,I.model)}),r(L.y,function(I){s(I.scale,I.model)});var P={};r(L.x,function(I){S(L,"y",I,P)}),r(L.y,function(I){S(L,"x",I,P)}),this.resize(this.model,D)};function S(M,D,L,P){L.getAxesOnZeroOf=function(){return E?[E]:[]};var I=M[D],E,O=L.model,z=O.get("axisLine.onZero"),G=O.get("axisLine.onZeroAxisIndex");if(!z)return;if(G!=null)T(I[G])&&(E=I[G]);else for(var V in I)if(I.hasOwnProperty(V)&&T(I[V])&&!P[R(I[V])]){E=I[V];break}E&&(P[R(E)]=!0);function R(B){return B.dim+"_"+B.index}}function T(M){return M&&M.type!=="category"&&M.type!=="time"&&h(M)}_.resize=function(M,D,L){var P=u(M.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()});this._rect=P;var I=this._axesList;E(),!L&&M.get("containLabel")&&(r(I,function(O){if(!O.model.get("axisLabel.inside")){var z=v(O);if(z){var G=O.isHorizontal()?"height":"width",V=O.model.get("axisLabel.margin");P[G]-=z[G]+V,O.position==="top"?P.y+=z.height+V:O.position==="left"&&(P.x+=z.width+V)}}}),E());function E(){r(I,function(O){var z=O.isHorizontal(),G=z?[0,P.width]:[0,P.height],V=O.inverse?1:0;O.setExtent(G[V],G[1-V]),w(O,z?P.x:P.y)})}},_.getAxis=function(M,D){var L=this._axesMap[M];if(L!=null){if(D==null){for(var P in L)if(L.hasOwnProperty(P))return L[P]}return L[D]}},_.getAxes=function(){return this._axesList.slice()},_.getCartesian=function(M,D){if(M!=null&&D!=null){var L="x"+M+"y"+D;return this._coordsMap[L]}t(M)&&(D=M.yAxisIndex,M=M.xAxisIndex);for(var P=0,I=this._coordsList;P<I.length;P++)if(I[P].getAxis("x").index===M||I[P].getAxis("y").index===D)return I[P]},_.getCartesians=function(){return this._coordsList.slice()},_.convertToPixel=function(M,D,L){var P=this._findConvertTarget(M,D);return P.cartesian?P.cartesian.dataToPoint(L):P.axis?P.axis.toGlobalCoord(P.axis.dataToCoord(L)):null},_.convertFromPixel=function(M,D,L){var P=this._findConvertTarget(M,D);return P.cartesian?P.cartesian.pointToData(L):P.axis?P.axis.coordToData(P.axis.toLocalCoord(L)):null},_._findConvertTarget=function(M,D){var L=D.seriesModel,P=D.xAxisModel||L&&L.getReferringComponents("xAxis")[0],I=D.yAxisModel||L&&L.getReferringComponents("yAxis")[0],E=D.gridModel,O=this._coordsList,z,G;if(L)z=L.coordinateSystem,i(O,z)<0&&(z=null);else if(P&&I)z=this.getCartesian(P.componentIndex,I.componentIndex);else if(P)G=this.getAxis("x",P.componentIndex);else if(I)G=this.getAxis("y",I.componentIndex);else if(E){var V=E.coordinateSystem;V===this&&(z=this._coordsList[0])}return{cartesian:z,axis:G}},_.containPoint=function(M){var D=this._coordsList[0];if(D)return D.containPoint(M)},_._initCartesian=function(M,D,L){var P={left:!1,right:!1,top:!1,bottom:!1},I={x:{},y:{}},E={x:0,y:0};if(D.eachComponent("xAxis",O("x"),this),D.eachComponent("yAxis",O("y"),this),!E.x||!E.y){this._axesMap={},this._axesList=[];return}this._axesMap=I,r(I.x,function(z,G){r(I.y,function(V,R){var B="x"+G+"y"+R,k=new l(B);k.grid=this,k.model=M,this._coordsMap[B]=k,this._coordsList.push(k),k.addAxis(z),k.addAxis(V)},this)},this);function O(z){return function(G,V){if(p(G,M)){var R=G.get("position");z==="x"?R!=="top"&&R!=="bottom"&&(R=P.bottom?"top":"bottom"):R!=="left"&&R!=="right"&&(R=P.left?"right":"left"),P[R]=!0;var B=new d(z,o(G),[0,0],G.get("type"),R),k=B.type==="category";B.onBand=k&&G.get("boundaryGap"),B.inverse=G.get("inverse"),G.axis=B,B.model=G,B.grid=this,B.index=V,this._axesList.push(B),I[z][V]=B,E[z]++}}}},_._updateScale=function(M,D){r(this._axesList,function(P){P.scale.setExtent(1/0,-1/0)}),M.eachSeries(function(P){if(A(P)){var I=b(P),E=I[0],O=I[1];if(!p(E,D)||!p(O,D))return;var z=this.getCartesian(E.componentIndex,O.componentIndex),G=P.getData(),V=z.getAxis("x"),R=z.getAxis("y");G.type==="list"&&(L(G,V),L(G,R))}},this);function L(P,I,E){r(P.mapDimension(I.dim,!0),function(O){I.scale.unionExtentFromData(P,g(P,O))})}},_.getTooltipAxes=function(M){var D=[],L=[];return r(this.getCartesians(),function(P){var I=M!=null&&M!=="auto"?P.getAxis(M):P.getBaseAxis(),E=P.getOtherAxis(I);i(D,I)<0&&D.push(I),i(L,E)<0&&L.push(E)}),{baseAxes:D,otherAxes:L}};function w(M,D){var L=M.getExtent(),P=L[0]+L[1];M.toGlobalCoord=M.dim==="x"?function(I){return I+D}:function(I){return P-I+D},M.toLocalCoord=M.dim==="x"?function(I){return I-D}:function(I){return P-I+D}}var x=["xAxis","yAxis"];function b(M,D){return a(x,function(L){var P=M.getReferringComponents(L)[0];return P})}function A(M){return M.get("coordinateSystem")==="cartesian2d"}y.create=function(M,D){var L=[];return M.eachComponent("grid",function(P,I){var E=new y(P,M,D);E.name="grid_"+I,E.resize(P,D,!0),P.coordinateSystem=E,L.push(E)}),M.eachSeries(function(P){if(A(P)){var I=b(P),E=I[0],O=I[1],z=E.getCoordSysModel(),G=z.coordinateSystem;P.coordinateSystem=G.getCartesian(E.componentIndex,O.componentIndex)}}),L},y.dimensions=y.prototype.dimensions=l.prototype.dimensions,f.register("cartesian2d",y);var C=y;return eu=C,eu}var By={},Ny={},tu,Vy;function na(){if(Vy)return tu;Vy=1;var e=Z,t=e.retrieve,r=e.defaults,a=e.extend,i=e.each,n=Qe(),u=me,c=ht(),o=Oe(),h=o.isRadianAroundZero,s=o.remRadian,v=Xt(),l=v.createSymbol,d=Rt(),f=Ye(),m=f.applyTransform,g=ur(),p=g.shouldShowAllLabels,y=Math.PI,_=function(z,G){this.opt=G,this.axisModel=z,r(G,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new u.Group;var V=new u.Group({position:G.position.slice(),rotation:G.rotation});V.updateTransform(),this._transform=V.transform,this._dumbGroup=V};_.prototype={constructor:_,hasBuilder:function(z){return!!S[z]},add:function(z){S[z].call(this)},getGroup:function(){return this.group}};var S={axisLine:function(){var z=this.opt,G=this.axisModel;if(G.get("axisLine.show")){var V=this.axisModel.axis.getExtent(),R=this._transform,B=[V[0],0],k=[V[1],0];R&&(m(B,B,R),m(k,k,R));var N=a({lineCap:"round"},G.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new u.Line({anid:"line",subPixelOptimize:!0,shape:{x1:B[0],y1:B[1],x2:k[0],y2:k[1]},style:N,strokeContainThreshold:z.strokeContainThreshold||5,silent:!0,z2:1}));var q=G.get("axisLine.symbol"),H=G.get("axisLine.symbolSize"),F=G.get("axisLine.symbolOffset")||0;if(typeof F=="number"&&(F=[F,F]),q!=null){typeof q=="string"&&(q=[q,q]),(typeof H=="string"||typeof H=="number")&&(H=[H,H]);var U=H[0],W=H[1];i([{rotate:z.rotation+Math.PI/2,offset:F[0],r:0},{rotate:z.rotation-Math.PI/2,offset:F[1],r:Math.sqrt((B[0]-k[0])*(B[0]-k[0])+(B[1]-k[1])*(B[1]-k[1]))}],function(K,J){if(q[J]!=="none"&&q[J]!=null){var j=l(q[J],-U/2,-W/2,U,W,N.stroke,!0),ee=K.r+K.offset,ie=[B[0]+ee*Math.cos(z.rotation),B[1]-ee*Math.sin(z.rotation)];j.attr({rotation:K.rotate,position:ie,silent:!0,z2:11}),this.group.add(j)}},this)}}},axisTickLabel:function(){var z=this.axisModel,G=this.opt,V=P(this,z,G),R=E(this,z,G);A(z,R,V),I(this,z,G)},axisName:function(){var z=this.opt,G=this.axisModel,V=t(z.axisName,G.get("name"));if(V){var R=G.get("nameLocation"),B=z.nameDirection,k=G.getModel("nameTextStyle"),N=G.get("nameGap")||0,q=this.axisModel.axis.getExtent(),H=q[0]>q[1]?-1:1,F=[R==="start"?q[0]-H*N:R==="end"?q[1]+H*N:(q[0]+q[1])/2,D(R)?z.labelOffset+B*N:0],U,W=G.get("nameRotate");W!=null&&(W=W*y/180);var K;D(R)?U=w(z.rotation,W??z.rotation,B):(U=x(z,R,W||0,q),K=z.axisNameAvailableWidth,K!=null&&(K=Math.abs(K/Math.sin(U.rotation)),!isFinite(K)&&(K=null)));var J=k.getFont(),j=G.get("nameTruncate",!0)||{},ee=j.ellipsis,ie=t(z.nameTruncateMaxWidth,j.maxWidth,K),re=ee!=null&&ie!=null?n.truncateText(V,ie,J,ee,{minChar:2,placeholder:j.placeholder}):V,he=G.get("tooltip",!0),_e=G.mainType,ae={componentType:_e,name:V,$vars:["name"]};ae[_e+"Index"]=G.componentIndex;var se=new u.Text({anid:"name",__fullText:V,__truncatedText:re,position:F,rotation:U.rotation,silent:b(G),z2:1,tooltip:he&&he.show?a({content:V,formatter:function(){return V},formatterParams:ae},he):null});u.setTextStyle(se.style,k,{text:re,textFont:J,textFill:k.getTextColor()||G.get("axisLine.lineStyle.color"),textAlign:k.get("align")||U.textAlign,textVerticalAlign:k.get("verticalAlign")||U.textVerticalAlign}),G.get("triggerEvent")&&(se.eventData=T(G),se.eventData.targetType="axisName",se.eventData.name=V),this._dumbGroup.add(se),se.updateTransform(),this.group.add(se),se.decomposeTransform()}}},T=_.makeAxisEventDataBase=function(z){var G={componentType:z.mainType,componentIndex:z.componentIndex};return G[z.mainType+"Index"]=z.componentIndex,G},w=_.innerTextLayout=function(z,G,V){var R=s(G-z),B,k;return h(R)?(k=V>0?"top":"bottom",B="center"):h(R-y)?(k=V>0?"bottom":"top",B="center"):(k="middle",R>0&&R<y?B=V>0?"right":"left":B=V>0?"left":"right"),{rotation:R,textAlign:B,textVerticalAlign:k}};function x(z,G,V,R){var B=s(V-z.rotation),k,N,q=R[0]>R[1],H=G==="start"&&!q||G!=="start"&&q;return h(B-y/2)?(N=H?"bottom":"top",k="center"):h(B-y*1.5)?(N=H?"top":"bottom",k="center"):(N="middle",B<y*1.5&&B>y/2?k=H?"left":"right":k=H?"right":"left"),{rotation:B,textAlign:k,textVerticalAlign:N}}var b=_.isLabelSilent=function(z){var G=z.get("tooltip");return z.get("silent")||!(z.get("triggerEvent")||G&&G.show)};function A(z,G,V){if(!p(z.axis)){var R=z.get("axisLabel.showMinLabel"),B=z.get("axisLabel.showMaxLabel");G=G||[],V=V||[];var k=G[0],N=G[1],q=G[G.length-1],H=G[G.length-2],F=V[0],U=V[1],W=V[V.length-1],K=V[V.length-2];R===!1?(C(k),C(F)):M(k,N)&&(R?(C(N),C(U)):(C(k),C(F))),B===!1?(C(q),C(W)):M(H,q)&&(B?(C(H),C(K)):(C(q),C(W)))}}function C(z){z&&(z.ignore=!0)}function M(z,G,V){var R=z&&z.getBoundingRect().clone(),B=G&&G.getBoundingRect().clone();if(!(!R||!B)){var k=d.identity([]);return d.rotate(k,k,-z.rotation),R.applyTransform(d.mul([],k,z.getLocalTransform())),B.applyTransform(d.mul([],k,G.getLocalTransform())),R.intersect(B)}}function D(z){return z==="middle"||z==="center"}function L(z,G,V,R,B){for(var k=[],N=[],q=[],H=0;H<z.length;H++){var F=z[H].coord;N[0]=F,N[1]=0,q[0]=F,q[1]=V,G&&(m(N,N,G),m(q,q,G));var U=new u.Line({anid:B+"_"+z[H].tickValue,subPixelOptimize:!0,shape:{x1:N[0],y1:N[1],x2:q[0],y2:q[1]},style:R,z2:2,silent:!0});k.push(U)}return k}function P(z,G,V){var R=G.axis,B=G.getModel("axisTick");if(!(!B.get("show")||R.scale.isBlank())){for(var k=B.getModel("lineStyle"),N=V.tickDirection*B.get("length"),q=R.getTicksCoords(),H=L(q,z._transform,N,r(k.getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")}),"ticks"),F=0;F<H.length;F++)z.group.add(H[F]);return H}}function I(z,G,V){var R=G.axis,B=G.getModel("minorTick");if(!(!B.get("show")||R.scale.isBlank())){var k=R.getMinorTicksCoords();if(k.length)for(var N=B.getModel("lineStyle"),q=V.tickDirection*B.get("length"),H=r(N.getLineStyle(),r(G.getModel("axisTick").getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")})),F=0;F<k.length;F++)for(var U=L(k[F],z._transform,q,H,"minorticks_"+F),W=0;W<U.length;W++)z.group.add(U[W])}}function E(z,G,V){var R=G.axis,B=t(V.axisLabelShow,G.get("axisLabel.show"));if(!(!B||R.scale.isBlank())){var k=G.getModel("axisLabel"),N=k.get("margin"),q=R.getViewLabels(),H=(t(V.labelRotate,k.get("rotate"))||0)*y/180,F=w(V.rotation,H,V.labelDirection),U=G.getCategories&&G.getCategories(!0),W=[],K=b(G),J=G.get("triggerEvent");return i(q,function(j,ee){var ie=j.tickValue,re=j.formattedLabel,he=j.rawLabel,_e=k;U&&U[ie]&&U[ie].textStyle&&(_e=new c(U[ie].textStyle,k,G.ecModel));var ae=_e.getTextColor()||G.get("axisLine.lineStyle.color"),se=R.dataToCoord(ie),De=[se,V.labelOffset+V.labelDirection*N],oe=new u.Text({anid:"label_"+ie,position:De,rotation:F.rotation,silent:K,z2:10});u.setTextStyle(oe.style,_e,{text:re,textAlign:_e.getShallow("align",!0)||F.textAlign,textVerticalAlign:_e.getShallow("verticalAlign",!0)||_e.getShallow("baseline",!0)||F.textVerticalAlign,textFill:typeof ae=="function"?ae(R.type==="category"?he:R.type==="value"?ie+"":ie,ee):ae}),J&&(oe.eventData=T(G),oe.eventData.targetType="axisLabel",oe.eventData.value=he),z._dumbGroup.add(oe),oe.updateTransform(),W.push(oe),z.group.add(oe),oe.decomposeTransform()}),W}}var O=_;return tu=O,tu}var fa={},Hy;function gs(){if(Hy)return fa;Hy=1;var e=Z,t=ht(),r=e.each,a=e.curry;function i(m,g){var p={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n(p,m,g),p.seriesInvolved&&c(p,m),p}function n(m,g,p){var y=g.getComponent("tooltip"),_=g.getComponent("axisPointer"),S=_.get("link",!0)||[],T=[];r(p.getCoordinateSystems(),function(w){if(!w.axisPointerEnabled)return;var x=f(w.model),b=m.coordSysAxesInfo[x]={};m.coordSysMap[x]=w;var A=w.model,C=A.getModel("tooltip",y);if(r(w.getAxes(),a(P,!1,null)),w.getTooltipAxes&&y&&C.get("show")){var M=C.get("trigger")==="axis",D=C.get("axisPointer.type")==="cross",L=w.getTooltipAxes(C.get("axisPointer.axis"));(M||D)&&r(L.baseAxes,a(P,D?"cross":!0,M)),D&&r(L.otherAxes,a(P,"cross",!1))}function P(I,E,O){var z=O.model.getModel("axisPointer",_),G=z.get("show");if(!(!G||G==="auto"&&!I&&!d(z))){E==null&&(E=z.get("triggerTooltip")),z=I?u(O,C,_,g,I,E):z;var V=z.get("snap"),R=f(O.model),B=E||V||O.type==="category",k=m.axesInfo[R]={key:R,axis:O,coordSys:w,axisPointerModel:z,triggerTooltip:E,involveSeries:B,snap:V,useHandle:d(z),seriesModels:[]};b[R]=k,m.seriesInvolved|=B;var N=o(S,O);if(N!=null){var q=T[N]||(T[N]={axesInfo:{}});q.axesInfo[R]=k,q.mapper=S[N].mapper,k.linkGroup=q}}}})}function u(m,g,p,y,_,S){var T=g.getModel("axisPointer"),w={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(C){w[C]=e.clone(T.get(C))}),w.snap=m.type!=="category"&&!!S,T.get("type")==="cross"&&(w.type="line");var x=w.label||(w.label={});if(x.show==null&&(x.show=!1),_==="cross"){var b=T.get("label.show");if(x.show=b??!0,!S){var A=w.lineStyle=T.get("crossStyle");A&&e.defaults(x,A.textStyle)}}return m.model.getModel("axisPointer",new t(w,p,y))}function c(m,g){g.eachSeries(function(p){var y=p.coordinateSystem,_=p.get("tooltip.trigger",!0),S=p.get("tooltip.show",!0);!y||_==="none"||_===!1||_==="item"||S===!1||p.get("axisPointer.show",!0)===!1||r(m.coordSysAxesInfo[f(y.model)],function(T){var w=T.axis;y.getAxis(w.dim)===w&&(T.seriesModels.push(p),T.seriesDataCount==null&&(T.seriesDataCount=0),T.seriesDataCount+=p.getData().count())})},this)}function o(m,g){for(var p=g.model,y=g.dim,_=0;_<m.length;_++){var S=m[_]||{};if(h(S[y+"AxisId"],p.id)||h(S[y+"AxisIndex"],p.componentIndex)||h(S[y+"AxisName"],p.name))return _}}function h(m,g){return m==="all"||e.isArray(m)&&e.indexOf(m,g)>=0||m===g}function s(m){var g=v(m);if(g){var p=g.axisPointerModel,y=g.axis.scale,_=p.option,S=p.get("status"),T=p.get("value");T!=null&&(T=y.parse(T));var w=d(p);S==null&&(_.status=w?"show":"hide");var x=y.getExtent().slice();x[0]>x[1]&&x.reverse(),(T==null||T>x[1])&&(T=x[1]),T<x[0]&&(T=x[0]),_.value=T,w&&(_.status=g.axis.scale.isBlank()?"hide":"show")}}function v(m){var g=(m.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return g&&g.axesInfo[f(m)]}function l(m){var g=v(m);return g&&g.axisPointerModel}function d(m){return!!m.get("handle.show")}function f(m){return m.type+"||"+m.id}return fa.collect=i,fa.fixValue=s,fa.getAxisInfo=v,fa.getAxisPointerModel=l,fa.makeKey=f,fa}var ru,qy;function Da(){if(qy)return ru;qy=1;var e=we,t=gs(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(c,o,h,s){this.axisPointerClass&&t.fixValue(c),r.superApply(this,"render",arguments),a(this,c,o,h,s,!0)},updateAxisPointer:function(c,o,h,s,v){a(this,c,o,h,s,!1)},remove:function(c,o){var h=this._axisPointer;h&&h.remove(o),r.superApply(this,"remove",arguments)},dispose:function(c,o){i(this,o),r.superApply(this,"dispose",arguments)}});function a(c,o,h,s,v,l){var d=r.getAxisPointerClass(c.axisPointerClass);if(d){var f=t.getAxisPointerModel(o);f?(c._axisPointer||(c._axisPointer=new d)).render(o,f,s,l):i(c,s)}}function i(c,o,h){var s=c._axisPointer;s&&s.dispose(o,h),c._axisPointer=null}var n=[];r.registerAxisPointerClass=function(c,o){n[c]=o},r.getAxisPointerClass=function(c){return c&&n[c]};var u=r;return ru=u,ru}var au={},Gy;function yM(){if(Gy)return au;Gy=1;var e=Z;function t(r,a,i){i=i||{};var n=r.coordinateSystem,u=a.axis,c={},o=u.getAxesOnZeroOf()[0],h=u.position,s=o?"onZero":h,v=u.dim,l=n.getRect(),d=[l.x,l.x+l.width,l.y,l.y+l.height],f={left:0,right:1,top:0,bottom:1,onZero:2},m=a.get("offset")||0,g=v==="x"?[d[2]-m,d[3]+m]:[d[0]-m,d[1]+m];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));g[f.onZero]=Math.max(Math.min(p,g[1]),g[0])}c.position=[v==="y"?g[f[s]]:d[0],v==="x"?g[f[s]]:d[3]],c.rotation=Math.PI/2*(v==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};c.labelDirection=c.tickDirection=c.nameDirection=y[h],c.labelOffset=o?g[f[h]]-g[f.onZero]:0,a.get("axisTick.inside")&&(c.tickDirection=-c.tickDirection),e.retrieve(i.labelInside,a.get("axisLabel.inside"))&&(c.labelDirection=-c.labelDirection);var _=a.get("axisLabel.rotate");return c.labelRotate=s==="top"?-_:_,c.z2=1,c}return au.layout=t,au}var oo={},Fy;function _M(){if(Fy)return oo;Fy=1;var e=Z,t=me;function r(i,n,u,c){var o=u.axis;if(!o.scale.isBlank()){var h=u.getModel("splitArea"),s=h.getModel("areaStyle"),v=s.get("color"),l=c.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:h,clamp:!0});if(d.length){var f=v.length,m=i.__splitAreaColors,g=e.createHashMap(),p=0;if(m)for(var y=0;y<d.length;y++){var _=m.get(d[y].tickValue);if(_!=null){p=(_+(f-1)*y)%f;break}}var S=o.toGlobalCoord(d[0].coord),T=s.getAreaStyle();v=e.isArray(v)?v:[v];for(var y=1;y<d.length;y++){var w=o.toGlobalCoord(d[y].coord),x,b,A,C;o.isHorizontal()?(x=S,b=l.y,A=w-x,C=l.height,S=x+A):(x=l.x,b=S,A=l.width,C=w-b,S=b+C);var M=d[y-1].tickValue;M!=null&&g.set(M,p),n.add(new t.Rect({anid:M!=null?"area_"+M:null,shape:{x,y:b,width:A,height:C},style:e.defaults({fill:v[p]},T),silent:!0})),p=(p+1)%f}i.__splitAreaColors=g}}}function a(i){i.__splitAreaColors=null}return oo.rectCoordAxisBuildSplitArea=r,oo.rectCoordAxisHandleRemove=a,oo}var $y;function XV(){if($y)return Ny;$y=1;var e=Z,t=me,r=na(),a=Da(),i=yM(),n=_M(),u=n.rectCoordAxisBuildSplitArea,c=n.rectCoordAxisHandleRemove,o=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine","minorSplitLine"],s=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(v,l,d,f){this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!v.get("show")){var g=v.getCoordSysModel(),p=i.layout(g,v),y=new r(v,p);e.each(o,y.add,y),this._axisGroup.add(y.getGroup()),e.each(h,function(_){v.get(_+".show")&&this["_"+_](v,g)},this),t.groupTransition(m,this._axisGroup,v),s.superCall(this,"render",v,l,d,f)}},remove:function(){c(this)},_splitLine:function(v,l){var d=v.axis;if(!d.scale.isBlank()){var f=v.getModel("splitLine"),m=f.getModel("lineStyle"),g=m.get("color");g=e.isArray(g)?g:[g];for(var p=l.coordinateSystem.getRect(),y=d.isHorizontal(),_=0,S=d.getTicksCoords({tickModel:f}),T=[],w=[],x=m.getLineStyle(),b=0;b<S.length;b++){var A=d.toGlobalCoord(S[b].coord);y?(T[0]=A,T[1]=p.y,w[0]=A,w[1]=p.y+p.height):(T[0]=p.x,T[1]=A,w[0]=p.x+p.width,w[1]=A);var C=_++%g.length,M=S[b].tickValue;this._axisGroup.add(new t.Line({anid:M!=null?"line_"+S[b].tickValue:null,subPixelOptimize:!0,shape:{x1:T[0],y1:T[1],x2:w[0],y2:w[1]},style:e.defaults({stroke:g[C]},x),silent:!0}))}}},_minorSplitLine:function(v,l){var d=v.axis,f=v.getModel("minorSplitLine"),m=f.getModel("lineStyle"),g=l.coordinateSystem.getRect(),p=d.isHorizontal(),y=d.getMinorTicksCoords();if(y.length)for(var _=[],S=[],T=m.getLineStyle(),w=0;w<y.length;w++)for(var x=0;x<y[w].length;x++){var b=d.toGlobalCoord(y[w][x].coord);p?(_[0]=b,_[1]=g.y,S[0]=b,S[1]=g.y+g.height):(_[0]=g.x,_[1]=b,S[0]=g.x+g.width,S[1]=b),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[w][x].tickValue,subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:S[0],y2:S[1]},style:T,silent:!0}))}},_splitArea:function(v,l){u(this,this._axisGroup,v,l)}});return s.extend({type:"xAxis"}),s.extend({type:"yAxis"}),Ny}var Uy;function KV(){return Uy||(Uy=1,mM(),XV()),By}var Wy;function Pn(){if(Wy)return Dy;Wy=1;var e=we,t=Z,r=me;return ag(),KV(),e.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new r.Rect({shape:a.coordinateSystem.getRect(),style:t.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),Dy}var Zy;function QV(){if(Zy)return gy;Zy=1;var e=we;qV(),FV();var t=Ma(),r=Ln(),a=$V();return Pn(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a("line")),gy}var Yy={},iu,Xy;function xM(){if(Xy)return iu;Xy=1;var e=dt,t=Br(),r=e.extend({type:"series.__base_bar__",getInitialData:function(a,i){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var i=this.coordinateSystem;if(i){var n=i.dataToPoint(i.clampData(a)),u=this.getData(),c=u.getLayout("offset"),o=u.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;return n[h]+=c+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return iu=r,iu}var nu,Ky;function JV(){if(Ky)return nu;Ky=1;var e=xM(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>r&&(r=a),r},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return nu=t,nu}var ou={},Qy;function SM(){if(Qy)return ou;Qy=1;var e=me,t=rg(),r=t.getDefaultLabel;function a(n,u,c,o,h,s,v){var l=c.getModel("label"),d=c.getModel("emphasis.label");e.setLabelStyle(n,u,l,d,{labelFetcher:h,labelDataIndex:s,defaultText:r(h.getData(),s),isRectText:!0,autoColor:o}),i(n),i(u)}function i(n,u){n.textPosition==="outside"&&(n.textPosition=u)}return ou.setLabel=a,ou}var su,Jy;function jV(){if(Jy)return su;Jy=1;var e=ci(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(a){var i=t(this,a);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(i.lineDash=n)}return i}};return su=r,su}var lu,jy;function e5(){if(jy)return lu;jy=1;var e=me,t=e.extendShape,r=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(a,i){var n=i.cx,u=i.cy,c=Math.max(i.r0||0,0),o=Math.max(i.r,0),h=(o-c)*.5,s=c+h,v=i.startAngle,l=i.endAngle,d=i.clockwise,f=Math.cos(v),m=Math.sin(v),g=Math.cos(l),p=Math.sin(l),y=d?l-v<Math.PI*2:v-l<Math.PI*2;y&&(a.moveTo(f*c+n,m*c+u),a.arc(f*s+n,m*s+u,h,-Math.PI+v,v,!d)),a.arc(n,u,o,v,l,!d),a.moveTo(g*o+n,p*o+u),a.arc(g*s+n,p*s+u,h,l-Math.PI*2,l-Math.PI,!d),c!==0&&(a.arc(n,u,c,l,v,d),a.moveTo(f*c+n,p*c+u)),a.closePath()}});return lu=r,lu}var uu,e0;function t5(){if(e0)return uu;e0=1;var e=we,t=Z,r=me,a=SM(),i=a.setLabel,n=ht(),u=jV(),c=it,o=ba,h=lr,s=h.throttle,v=Dn(),l=v.createClipPath,d=e5(),f=["itemStyle","barBorderWidth"],m=[0,0];t.extend(n.prototype,u);function g(V,R){var B=V.getArea&&V.getArea();if(V.type==="cartesian2d"){var k=V.getBaseAxis();if(k.type!=="category"||!k.onBand){var N=R.getLayout("bandWidth");k.isHorizontal()?(B.x-=N,B.width+=N*2):(B.y-=N,B.height+=N*2)}}return B}var p=e.extendChartView({type:"bar",render:function(V,R,B){this._updateDrawMode(V);var k=V.get("coordinateSystem");return(k==="cartesian2d"||k==="polar")&&(this._isLargeDraw?this._renderLarge(V,R,B):this._renderNormal(V,R,B)),this.group},incrementalPrepareRender:function(V,R,B){this._clear(),this._updateDrawMode(V)},incrementalRender:function(V,R,B,k){this._incrementalRenderLarge(V,R)},_updateDrawMode:function(V){var R=V.pipelineContext.large;(this._isLargeDraw==null||R^this._isLargeDraw)&&(this._isLargeDraw=R,this._clear())},_renderNormal:function(V,R,B){var k=this.group,N=V.getData(),q=this._data,H=V.coordinateSystem,F=H.getBaseAxis(),U;H.type==="cartesian2d"?U=F.isHorizontal():H.type==="polar"&&(U=F.dim==="angle");var W=V.isAnimationEnabled()?V:null,K=V.get("clip",!0),J=g(H,N);k.removeClipPath();var j=V.get("roundCap",!0),ee=V.get("showBackground",!0),ie=V.getModel("backgroundStyle"),re=[],he=this._backgroundEls||[];N.diff(q).add(function(se){var De=N.getItemModel(se),oe=b[H.type](N,se,De);if(ee){var ue=G(H,U,oe);ue.useStyle(ie.getBarItemStyle()),re[se]=ue}if(N.hasValue(se)){if(K){var be=S[H.type](J,oe);if(be){k.remove(Y);return}}var Y=T[H.type](se,oe,U,W,!1,j);N.setItemGraphicEl(se,Y),k.add(Y),C(Y,N,se,De,oe,V,U,H.type==="polar")}}).update(function(se,De){var oe=N.getItemModel(se),ue=b[H.type](N,se,oe);if(ee){var be=he[De];be.useStyle(ie.getBarItemStyle()),re[se]=be;var Y=z(U,ue,H);r.updateProps(be,{shape:Y},W,se)}var Q=q.getItemGraphicEl(De);if(!N.hasValue(se)){k.remove(Q);return}if(K){var te=S[H.type](J,ue);if(te){k.remove(Q);return}}Q?r.updateProps(Q,{shape:ue},W,se):Q=T[H.type](se,ue,U,W,!0,j),N.setItemGraphicEl(se,Q),k.add(Q),C(Q,N,se,oe,ue,V,U,H.type==="polar")}).remove(function(se){var De=q.getItemGraphicEl(se);H.type==="cartesian2d"?De&&w(se,W,De):De&&x(se,W,De)}).execute();var _e=this._backgroundGroup||(this._backgroundGroup=new o);_e.removeAll();for(var ae=0;ae<re.length;++ae)_e.add(re[ae]);k.add(_e),this._backgroundEls=re,this._data=N},_renderLarge:function(V,R,B){this._clear(),L(V,this.group);var k=V.get("clip",!0)?l(V.coordinateSystem,!1,V):null;k?this.group.setClipPath(k):this.group.removeClipPath()},_incrementalRenderLarge:function(V,R){this._removeBackground(),L(R,this.group,!0)},dispose:t.noop,remove:function(V){this._clear(V)},_clear:function(V){var R=this.group,B=this._data;V&&V.get("animation")&&B&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],B.eachItemGraphicEl(function(k){k.type==="sector"?x(k.dataIndex,V,k):w(k.dataIndex,V,k)})):R.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,_=Math.min,S={cartesian2d:function(V,R){var B=R.width<0?-1:1,k=R.height<0?-1:1;B<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height);var N=y(R.x,V.x),q=_(R.x+R.width,V.x+V.width),H=y(R.y,V.y),F=_(R.y+R.height,V.y+V.height);R.x=N,R.y=H,R.width=q-N,R.height=F-H;var U=R.width<0||R.height<0;return B<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height),U},polar:function(V){return!1}},T={cartesian2d:function(V,R,B,k,N){var q=new r.Rect({shape:t.extend({},R),z2:1});if(q.name="item",k){var H=q.shape,F=B?"height":"width",U={};H[F]=0,U[F]=R[F],r[N?"updateProps":"initProps"](q,{shape:U},k,V)}return q},polar:function(V,R,B,k,N,q){var H=R.startAngle<R.endAngle,F=!B&&q?d:r.Sector,U=new F({shape:t.defaults({clockwise:H},R),z2:1});if(U.name="item",k){var W=U.shape,K=B?"r":"endAngle",J={};W[K]=B?0:R.startAngle,J[K]=R[K],r[N?"updateProps":"initProps"](U,{shape:J},k,V)}return U}};function w(V,R,B){B.style.text=null,r.updateProps(B,{shape:{width:0}},R,V,function(){B.parent&&B.parent.remove(B)})}function x(V,R,B){B.style.text=null,r.updateProps(B,{shape:{r:B.shape.r0}},R,V,function(){B.parent&&B.parent.remove(B)})}var b={cartesian2d:function(V,R,B){var k=V.getItemLayout(R),N=M(B,k),q=k.width>0?1:-1,H=k.height>0?1:-1;return{x:k.x+q*N/2,y:k.y+H*N/2,width:k.width-q*N,height:k.height-H*N}},polar:function(V,R,B){var k=V.getItemLayout(R);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function A(V){return V.startAngle!=null&&V.endAngle!=null&&V.startAngle===V.endAngle}function C(V,R,B,k,N,q,H,F){var U=R.getItemVisual(B,"color"),W=R.getItemVisual(B,"opacity"),K=R.getVisual("borderColor"),J=k.getModel("itemStyle"),j=k.getModel("emphasis.itemStyle").getBarItemStyle();F||V.setShape("r",J.get("barBorderRadius")||0),V.useStyle(t.defaults({stroke:A(N)?"none":K,fill:A(N)?"none":U,opacity:W},J.getBarItemStyle()));var ee=k.getShallow("cursor");ee&&V.attr("cursor",ee);var ie=H?N.height>0?"bottom":"top":N.width>0?"left":"right";F||i(V.style,j,k,U,q,B,ie),A(N)&&(j.fill=j.stroke="none"),r.setHoverStyle(V,j)}function M(V,R){var B=V.get(f)||0,k=isNaN(R.width)?Number.MAX_VALUE:Math.abs(R.width),N=isNaN(R.height)?Number.MAX_VALUE:Math.abs(R.height);return Math.min(B,k,N)}var D=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(V,R){for(var B=R.points,k=this.__startPoint,N=this.__baseDimIdx,q=0;q<B.length;q+=2)k[N]=B[q+N],V.moveTo(k[0],k[1]),V.lineTo(B[q],B[q+1])}});function L(V,R,B){var k=V.getData(),N=[],q=k.getLayout("valueAxisHorizontal")?1:0;N[1-q]=k.getLayout("valueAxisStart");var H=k.getLayout("largeDataIndices"),F=k.getLayout("barWidth"),U=V.getModel("backgroundStyle"),W=V.get("showBackground",!0);if(W){var K=k.getLayout("largeBackgroundPoints"),J=[];J[1-q]=k.getLayout("backgroundStart");var j=new D({shape:{points:K},incremental:!!B,__startPoint:J,__baseDimIdx:q,__largeDataIndices:H,__barWidth:F,silent:!0,z2:0});O(j,U,k),R.add(j)}var ee=new D({shape:{points:k.getLayout("largePoints")},incremental:!!B,__startPoint:N,__baseDimIdx:q,__largeDataIndices:H,__barWidth:F});R.add(ee),E(ee,V,k),ee.seriesIndex=V.seriesIndex,V.get("silent")||(ee.on("mousedown",P),ee.on("mousemove",P))}var P=s(function(V){var R=this,B=I(R,V.offsetX,V.offsetY);R.dataIndex=B>=0?B:null},30,!1);function I(V,R,B){var k=V.__baseDimIdx,N=1-k,q=V.shape.points,H=V.__largeDataIndices,F=Math.abs(V.__barWidth/2),U=V.__startPoint[N];m[0]=R,m[1]=B;for(var W=m[k],K=m[1-k],J=W-F,j=W+F,ee=0,ie=q.length/2;ee<ie;ee++){var re=ee*2,he=q[re+k],_e=q[re+N];if(he>=J&&he<=j&&(U<=_e?K>=U&&K<=_e:K>=_e&&K<=U))return H[ee]}return-1}function E(V,R,B){var k=B.getVisual("borderColor")||B.getVisual("color"),N=R.getModel("itemStyle").getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=B.getLayout("barWidth")}function O(V,R,B){var k=R.get("borderColor")||R.get("color"),N=R.getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=B.getLayout("barWidth")}function z(V,R,B){var k,N=B.type==="polar";return N?k=B.getArea():k=B.grid.getRect(),N?{cx:k.cx,cy:k.cy,r0:V?k.r0:R.r0,r:V?k.r:R.r,startAngle:V?R.startAngle:0,endAngle:V?R.endAngle:Math.PI*2}:{x:V?R.x:k.x,y:V?k.y:R.y,width:V?R.width:k.width,height:V?k.height:R.height}}function G(V,R,B){var k=V.type==="polar"?r.Sector:r.Rect;return new k({shape:z(R,B,V),silent:!0,z2:0})}return uu=p,uu}var t0;function r5(){if(t0)return Yy;t0=1;var e=we,t=Z,r=cs(),a=r.layout,i=r.largeLayout;return ag(),JV(),t5(),Pn(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(a,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,i),e.registerVisual({seriesType:"bar",reset:function(n){n.getData().setVisual("legendSymbol","roundRect")}}),Yy}var r0={},vu,a0;function Si(){if(a0)return vu;a0=1;var e=_i(),t=Yt(),r=Z,a=r.extend,i=r.isArray;function n(u,c,o){c=i(c)&&{coordDimensions:c}||a({},c);var h=u.getSource(),s=e(h,c),v=new t(s,u);return v.initData(h,o),v}return vu=n,vu}var hu,i0;function ig(){if(i0)return hu;i0=1;var e=Z,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(a,i){return a.set(i.name,i),a},e.createHashMap())},select:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r),n=this.get("selectedMode");n==="single"&&this._selectTargetMap.each(function(u){u.selected=!1}),i&&(i.selected=!0)},unSelect:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);i&&(i.selected=!1)},toggleSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);if(i!=null)return this[i.selected?"unSelect":"select"](r,a),i.selected},isSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);return i&&i.selected}};return hu=t,hu}var cu,n0;function In(){if(n0)return cu;n0=1;function e(r,a){this.getAllNames=function(){var i=a();return i.mapArray(i.getName)},this.containName=function(i){var n=a();return n.indexOfName(i)>=0},this.indexOfName=function(i){var n=r();return n.indexOfName(i)},this.getItemVisual=function(i,n){var u=r();return u.getItemVisual(i,n)}}var t=e;return cu=t,cu}var fu,o0;function a5(){if(o0)return fu;o0=1;var e=we,t=Si(),r=Z,a=Re,i=Oe(),n=i.getPercentWithPrecision,u=ig(),c=sr,o=c.retrieveRawAttr,h=wt,s=h.makeSeriesEncodeForNameBased,v=In(),l=e.extendSeriesModel({type:"series.pie",init:function(f){l.superApply(this,"init",arguments),this.legendVisualProvider=new v(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(f)},mergeOption:function(f){l.superCall(this,"mergeOption",f),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(f,m){return t(this,{coordDimensions:["value"],encodeDefaulter:r.curry(s,this)})},_createSelectableList:function(){for(var f=this.getRawData(),m=f.mapDimension("value"),g=[],p=0,y=f.count();p<y;p++)g.push({name:f.getName(p),value:f.get(m,p),selected:o(f,p,"selected")});return g},getDataParams:function(f){var m=this.getData(),g=l.superCall(this,"getDataParams",f),p=[];return m.each(m.mapDimension("value"),function(y){p.push(y)}),g.percent=n(p,f,m.hostModel.get("percentPrecision")),g.$vars.push("percent"),g},_defaultLabelLine:function(f){a.defaultEmphasis(f,"labelLine",["show"]);var m=f.labelLine,g=f.emphasis.labelLine;m.show=m.show&&f.label.show,g.show=g.show&&f.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(l,u);var d=l;return fu=d,fu}var du,s0;function i5(){if(s0)return du;s0=1;var e=Z,t=me,r=Ar;function a(h,s,v,l){var d=s.getData(),f=this.dataIndex,m=d.getName(f),g=s.get("selectedOffset");l.dispatchAction({type:"pieToggleSelect",from:h,name:m,seriesId:s.id}),d.each(function(p){i(d.getItemGraphicEl(p),d.getItemLayout(p),s.isSelected(d.getName(p)),g,v)})}function i(h,s,v,l,d){var f=(s.startAngle+s.endAngle)/2,m=Math.cos(f),g=Math.sin(f),p=v?l:0,y=[m*p,g*p];d?h.animate().when(200,{position:y}).start("bounceOut"):h.attr("position",y)}function n(h,s){t.Group.call(this);var v=new t.Sector({z2:2}),l=new t.Polyline,d=new t.Text;this.add(v),this.add(l),this.add(d),this.updateData(h,s,!0)}var u=n.prototype;u.updateData=function(h,s,v){var l=this.childAt(0),d=this.childAt(1),f=this.childAt(2),m=h.hostModel,g=h.getItemModel(s),p=h.getItemLayout(s),y=e.extend({},p);y.label=null;var _=m.getShallow("animationTypeUpdate");if(v){l.setShape(y);var S=m.getShallow("animationType");S==="scale"?(l.shape.r=p.r0,t.initProps(l,{shape:{r:p.r}},m,s)):(l.shape.endAngle=p.startAngle,t.updateProps(l,{shape:{endAngle:p.endAngle}},m,s))}else _==="expansion"?l.setShape(y):t.updateProps(l,{shape:y},m,s);var T=h.getItemVisual(s,"color");l.useStyle(e.defaults({lineJoin:"bevel",fill:T},g.getModel("itemStyle").getItemStyle())),l.hoverStyle=g.getModel("emphasis.itemStyle").getItemStyle();var w=g.getShallow("cursor");w&&l.attr("cursor",w),i(this,h.getItemLayout(s),m.isSelected(h.getName(s)),m.get("selectedOffset"),m.get("animation"));var x=!v&&_==="transition";this._updateLabel(h,s,x),this.highDownOnUpdate=g.get("hoverAnimation")&&m.isAnimationEnabled()?function(b,A){A==="emphasis"?(d.ignore=d.hoverIgnore,f.ignore=f.hoverIgnore,l.stopAnimation(!0),l.animateTo({shape:{r:p.r+m.get("hoverOffset")}},300,"elasticOut")):(d.ignore=d.normalIgnore,f.ignore=f.normalIgnore,l.stopAnimation(!0),l.animateTo({shape:{r:p.r}},300,"elasticOut"))}:null,t.setHoverStyle(this)},u._updateLabel=function(h,s,v){var l=this.childAt(1),d=this.childAt(2),f=h.hostModel,m=h.getItemModel(s),g=h.getItemLayout(s),p=g.label,b=h.getItemVisual(s,"color");if(!p||isNaN(p.x)||isNaN(p.y)){d.ignore=d.normalIgnore=d.hoverIgnore=l.ignore=l.normalIgnore=l.hoverIgnore=!0;return}var y={points:p.linePoints||[[p.x,p.y],[p.x,p.y],[p.x,p.y]]},_={x:p.x,y:p.y};v?(t.updateProps(l,{shape:y},f,s),t.updateProps(d,{style:_},f,s)):(l.attr({shape:y}),d.attr({style:_})),d.attr({rotation:p.rotation,origin:[p.x,p.y],z2:10});var S=m.getModel("label"),T=m.getModel("emphasis.label"),w=m.getModel("labelLine"),x=m.getModel("emphasis.labelLine"),b=h.getItemVisual(s,"color");t.setLabelStyle(d.style,d.hoverStyle={},S,T,{labelFetcher:h.hostModel,labelDataIndex:s,defaultText:p.text,autoColor:b,useInsideStyle:!!p.inside},{textAlign:p.textAlign,textVerticalAlign:p.verticalAlign,opacity:h.getItemVisual(s,"opacity")}),d.ignore=d.normalIgnore=!S.get("show"),d.hoverIgnore=!T.get("show"),l.ignore=l.normalIgnore=!w.get("show"),l.hoverIgnore=!x.get("show"),l.setStyle({stroke:b,opacity:h.getItemVisual(s,"opacity")}),l.setStyle(w.getModel("lineStyle").getLineStyle()),l.hoverStyle=x.getModel("lineStyle").getLineStyle();var A=w.get("smooth");A&&A===!0&&(A=.4),l.setShape({smooth:A})},e.inherits(n,t.Group);var c=r.extend({type:"pie",init:function(){var h=new t.Group;this._sectorGroup=h},render:function(h,s,v,l){if(!(l&&l.from===this.uid)){var d=h.getData(),f=this._data,m=this.group,g=s.get("animation"),p=!f,y=h.get("animationType"),_=h.get("animationTypeUpdate"),S=e.curry(a,this.uid,h,g,v),T=h.get("selectedMode");if(d.diff(f).add(function(C){var M=new n(d,C);p&&y!=="scale"&&M.eachChild(function(D){D.stopAnimation(!0)}),T&&M.on("click",S),d.setItemGraphicEl(C,M),m.add(M)}).update(function(C,M){var D=f.getItemGraphicEl(M);!p&&_!=="transition"&&D.eachChild(function(L){L.stopAnimation(!0)}),D.updateData(d,C),D.off("click"),T&&D.on("click",S),m.add(D),d.setItemGraphicEl(C,D)}).remove(function(C){var M=f.getItemGraphicEl(C);m.remove(M)}).execute(),g&&d.count()>0&&(p?y!=="scale":_!=="transition")){for(var w=d.getItemLayout(0),x=1;isNaN(w.startAngle)&&x<d.count();++x)w=d.getItemLayout(x);var b=Math.max(v.getWidth(),v.getHeight())/2,A=e.bind(m.removeClipPath,m);m.setClipPath(this._createClipPath(w.cx,w.cy,b,w.startAngle,w.clockwise,A,h,p))}else m.removeClipPath();this._data=d}},dispose:function(){},_createClipPath:function(h,s,v,l,d,f,m,g){var p=new t.Sector({shape:{cx:h,cy:s,r0:0,r:v,startAngle:l,endAngle:l,clockwise:d}}),y=g?t.initProps:t.updateProps;return y(p,{shape:{endAngle:l+(d?1:-1)*Math.PI*2}},m,f),p},containPoint:function(h,s){var v=s.getData(),l=v.getItemLayout(0);if(l){var d=h[0]-l.cx,f=h[1]-l.cy,m=Math.sqrt(d*d+f*f);return m<=l.r&&m>=l.r0}}}),o=c;return du=o,du}var gu,l0;function bM(){if(l0)return gu;l0=1;var e=we,t=Z;function r(a,i){t.each(i,function(n){n.update="updateView",e.registerAction(n,function(u,c){var o={};return c.eachComponent({mainType:"series",subType:a,query:u},function(h){h[n.method]&&h[n.method](u.name,u.dataIndex);var s=h.getData();s.each(function(v){var l=s.getName(v);o[l]=h.isSelected(l)||!1})}),{name:u.name,selected:o,seriesId:u.seriesId}})})}return gu=r,gu}var pu,u0;function ps(){if(u0)return pu;u0=1;var e=Z,t=e.createHashMap;function r(a){return{getTargetSeries:function(i){var n={},u=t();return i.eachSeriesByType(a,function(c){c.__paletteScope=n,u.set(c.uid,c)}),u},reset:function(i,n){var u=i.getRawData(),c={},o=i.getData();o.each(function(h){var s=o.getRawIndex(h);c[s]=h}),u.each(function(h){var s=c[h],v=s!=null&&o.getItemVisual(s,"color",!0),l=s!=null&&o.getItemVisual(s,"borderColor",!0),d;if((!v||!l)&&(d=u.getItemModel(h)),!v){var f=d.get("itemStyle.color")||i.getColorFromPalette(u.getName(h)||h+"",i.__paletteScope,u.count());s!=null&&o.setItemVisual(s,"color",f)}if(!l){var m=d.get("itemStyle.borderColor");s!=null&&o.setItemVisual(s,"borderColor",m)}})}}}return pu=r,pu}var mu,v0;function n5(){if(v0)return mu;v0=1;var e=Xe,t=Oe(),r=t.parsePercent,a=Math.PI/180;function i(o,h,s,v,l,d,f,m,g,p){o.sort(function(D,L){return D.y-L.y});function y(D,L,P,I){for(var E=D;E<L&&!(o[E].y+P>g+f);E++)if(o[E].y+=P,E>D&&E+1<L&&o[E+1].y>o[E].y+o[E].height){_(E,P/2);return}_(L-1,P/2)}function _(D,L){for(var P=D;P>=0&&!(o[P].y-L<g||(o[P].y-=L,P>0&&o[P].y>o[P-1].y+o[P-1].height));P--);}function S(D,L,P,I,E,O){for(var z=(O>0,L?Number.MAX_VALUE:0),G=0,V=D.length;G<V;G++)if(D[G].labelAlignTo==="none"){var R=Math.abs(D[G].y-I),B=D[G].len,k=D[G].len2,N=R<E+B?Math.sqrt((E+B+k)*(E+B+k)-R*R):Math.abs(D[G].x-P);L&&N>=z&&(N=z-10),!L&&N<=z&&(N=z+10),D[G].x=P+N*O,z=N}}for(var T=0,w,x=o.length,b=[],A=[],C=0;C<x;C++){if(o[C].position==="outer"&&o[C].labelAlignTo==="labelLine"){var M=o[C].x-p;o[C].linePoints[1][0]+=M,o[C].x=p}w=o[C].y-T,w<0&&y(C,x,-w),T=o[C].y+o[C].height}f-T<0&&_(x-1,T-f);for(var C=0;C<x;C++)o[C].y>=s?A.push(o[C]):b.push(o[C]);S(b,!1,h,s,v,l),S(A,!0,h,s,v,l)}function n(o,h,s,v,l,d,f,m){for(var g=[],p=[],y=Number.MAX_VALUE,_=-Number.MAX_VALUE,S=0;S<o.length;S++)u(o[S])||(o[S].x<h?(y=Math.min(y,o[S].x),g.push(o[S])):(_=Math.max(_,o[S].x),p.push(o[S])));i(p,h,s,v,1,l,d,f,m,_),i(g,h,s,v,-1,l,d,f,m,y);for(var S=0;S<o.length;S++){var T=o[S];if(!u(T)){var w=T.linePoints;if(w){var x=T.labelAlignTo==="edge",b=T.textRect.width,A;x?T.x<h?A=w[2][0]-T.labelDistance-f-T.labelMargin:A=f+l-T.labelMargin-w[2][0]-T.labelDistance:T.x<h?A=T.x-f-T.bleedMargin:A=f+l-T.x-T.bleedMargin,A<T.textRect.width&&(T.text=e.truncateText(T.text,A,T.font),T.labelAlignTo==="edge"&&(b=e.getWidth(T.text,T.font)));var C=w[1][0]-w[2][0];x?T.x<h?w[2][0]=f+T.labelMargin+b+T.labelDistance:w[2][0]=f+l-T.labelMargin-b-T.labelDistance:(T.x<h?w[2][0]=T.x+T.labelDistance:w[2][0]=T.x-T.labelDistance,w[1][0]=w[2][0]+C),w[1][1]=w[2][1]=T.y}}}}function u(o){return o.position==="center"}function c(o,h,s,v,l,d){var f=o.getData(),m=[],g,p,y=!1,_=(o.get("minShowLabelAngle")||0)*a;f.each(function(S){var T=f.getItemLayout(S),w=f.getItemModel(S),x=w.getModel("label"),b=x.get("position")||w.get("emphasis.label.position"),A=x.get("distanceToLabelLine"),C=x.get("alignTo"),M=r(x.get("margin"),s),D=x.get("bleedMargin"),L=x.getFont(),P=w.getModel("labelLine"),I=P.get("length");I=r(I,s);var E=P.get("length2");if(E=r(E,s),!(T.angle<_)){var O=(T.startAngle+T.endAngle)/2,z=Math.cos(O),G=Math.sin(O),V,R,B,k;g=T.cx,p=T.cy;var N=o.getFormattedLabel(S,"normal")||f.getName(S),q=e.getBoundingRect(N,L,k,"top"),H=b==="inside"||b==="inner";if(b==="center")V=T.cx,R=T.cy,k="center";else{var F=(H?(T.r+T.r0)/2*z:T.r*z)+g,U=(H?(T.r+T.r0)/2*G:T.r*G)+p;if(V=F+z*3,R=U+G*3,!H){var W=F+z*(I+h-T.r),K=U+G*(I+h-T.r),J=W+(z<0?-1:1)*E,j=K;C==="edge"?V=z<0?l+M:l+s-M:V=J+(z<0?-A:A),R=j,B=[[F,U],[W,K],[J,j]]}k=H?"center":C==="edge"?z>0?"right":"left":z>0?"left":"right"}var ee,ie=x.get("rotate");typeof ie=="number"?ee=ie*(Math.PI/180):ee=ie?z<0?-O+Math.PI:-O:0,y=!!ee,T.label={x:V,y:R,position:b,height:q.height,len:I,len2:E,linePoints:B,textAlign:k,verticalAlign:"middle",rotation:ee,inside:H,labelDistance:A,labelAlignTo:C,labelMargin:M,bleedMargin:D,textRect:q,text:N,font:L},H||m.push(T.label)}}),!y&&o.get("avoidLabelOverlap")&&n(m,g,p,h,s,v,l,d)}return mu=c,mu}var yu,h0;function o5(){if(h0)return yu;h0=1;var e=Oe(),t=e.parsePercent,r=e.linearMap,a=Ne,i=n5(),n=Z,u=Math.PI*2,c=Math.PI/180;function o(s,v){return a.getLayoutRect(s.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function h(s,v,l,d){v.eachSeriesByType(s,function(f){var m=f.getData(),g=m.mapDimension("value"),p=o(f,l),y=f.get("center"),_=f.get("radius");n.isArray(_)||(_=[0,_]),n.isArray(y)||(y=[y,y]);var S=t(p.width,l.getWidth()),T=t(p.height,l.getHeight()),w=Math.min(S,T),x=t(y[0],S)+p.x,b=t(y[1],T)+p.y,A=t(_[0],w/2),C=t(_[1],w/2),M=-f.get("startAngle")*c,D=f.get("minAngle")*c,L=0;m.each(g,function(q){!isNaN(q)&&L++});var P=m.getSum(g),I=Math.PI/(P||L)*2,E=f.get("clockwise"),O=f.get("roseType"),z=f.get("stillShowZeroSum"),G=m.getDataExtent(g);G[0]=0;var V=u,R=0,B=M,k=E?1:-1;if(m.each(g,function(q,H){var F;if(isNaN(q)){m.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:x,cy:b,r0:A,r:O?NaN:C,viewRect:p});return}O!=="area"?F=P===0&&z?I:q*I:F=u/L,F<D?(F=D,V-=D):R+=q;var U=B+k*F;m.setItemLayout(H,{angle:F,startAngle:B,endAngle:U,clockwise:E,cx:x,cy:b,r0:A,r:O?r(q,G,[A,C]):C,viewRect:p}),B=U}),V<u&&L)if(V<=.001){var N=u/L;m.each(g,function(q,H){if(!isNaN(q)){var F=m.getItemLayout(H);F.angle=N,F.startAngle=M+k*H*N,F.endAngle=M+k*(H+1)*N}})}else I=V/R,B=M,m.each(g,function(q,H){if(!isNaN(q)){var F=m.getItemLayout(H),U=F.angle===D?D:q*I;F.startAngle=B,F.endAngle=B+k*U,B+=k*U}});i(f,C,p.width,p.height,p.x,p.y)})}return yu=h,yu}var _u,c0;function Rn(){if(c0)return _u;c0=1;function e(t){return{seriesType:t,reset:function(r,a){var i=a.findComponents({mainType:"legend"});if(!(!i||!i.length)){var n=r.getData();n.filterSelf(function(u){for(var c=n.getName(u),o=0;o<i.length;o++)if(!i[o].isSelected(c))return!1;return!0})}}}}return _u=e,_u}var f0;function s5(){if(f0)return r0;f0=1;var e=we,t=Z;a5(),i5();var r=bM(),a=ps(),i=o5(),n=Rn();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(a("pie")),e.registerLayout(t.curry(i,"pie")),e.registerProcessor(n("pie")),r0}var d0={},xu,g0;function l5(){if(g0)return xu;g0=1;var e=Br(),t=dt,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return xu=r,xu}var p0={},Su,m0;function u5(){if(m0)return Su;m0=1;var e=me,t=Xt(),r=t.createSymbol,a=kd,i=4,n=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(h,s){var v=s.points,l=s.size,d=this.symbolProxy,f=d.shape,m=h.getContext?h.getContext():h,g=m&&l[0]<i;if(!g)for(var p=0;p<v.length;){var y=v[p++],_=v[p++];isNaN(y)||isNaN(_)||this.softClipShape&&!this.softClipShape.contain(y,_)||(f.x=y-l[0]/2,f.y=_-l[1]/2,f.width=l[0],f.height=l[1],d.buildPath(h,f,!0))}},afterBrush:function(h){var s=this.shape,v=s.points,l=s.size,d=l[0]<i;if(d){this.setTransform(h);for(var f=0;f<v.length;){var m=v[f++],g=v[f++];isNaN(m)||isNaN(g)||this.softClipShape&&!this.softClipShape.contain(m,g)||h.fillRect(m-l[0]/2,g-l[1]/2,l[0],l[1])}this.restoreTransform(h)}},findDataIndex:function(h,s){for(var v=this.shape,l=v.points,d=v.size,f=Math.max(d[0],4),m=Math.max(d[1],4),g=l.length/2-1;g>=0;g--){var p=g*2,y=l[p]-f/2,_=l[p+1]-m/2;if(h>=y&&s>=_&&h<=y+f&&s<=_+m)return g}return-1}});function u(){this.group=new e.Group}var c=u.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(h,s){this.group.removeAll();var v=new n({rectHover:!0,cursor:"default"});v.setShape({points:h.getLayout("symbolPoints")}),this._setCommon(v,h,!1,s),this.group.add(v),this._incremental=null},c.updateLayout=function(h){if(!this._incremental){var s=h.getLayout("symbolPoints");this.group.eachChild(function(v){if(v.startIndex!=null){var l=(v.endIndex-v.startIndex)*2,d=v.startIndex*4*2;s=new Float32Array(s.buffer,d,l)}v.setShape("points",s)})}},c.incrementalPrepareUpdate=function(h){this.group.removeAll(),this._clearIncremental(),h.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(h,s,v){var l;this._incremental?(l=new n,this._incremental.addDisplayable(l,!0)):(l=new n({rectHover:!0,cursor:"default",startIndex:h.start,endIndex:h.end}),l.incremental=!0,this.group.add(l)),l.setShape({points:s.getLayout("symbolPoints")}),this._setCommon(l,s,!!this._incremental,v)},c._setCommon=function(h,s,v,l){var d=s.hostModel;l=l||{};var f=s.getVisual("symbolSize");h.setShape("size",f instanceof Array?f:[f,f]),h.softClipShape=l.clipShape||null,h.symbolProxy=r(s.getVisual("symbol"),0,0,0,0),h.setColor=h.symbolProxy.setColor;var m=h.shape.size[0]<i;h.useStyle(d.getModel("itemStyle").getItemStyle(m?["color","shadowBlur","shadowColor"]:["color"]));var g=s.getVisual("color");g&&h.setColor(g),v||(h.seriesIndex=d.seriesIndex,h.on("mousemove",function(p){h.dataIndex=null;var y=h.findDataIndex(p.offsetX,p.offsetY);y>=0&&(h.dataIndex=y+(h.startIndex||0))}))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()};var o=u;return Su=o,Su}var y0;function v5(){if(y0)return p0;y0=1;var e=we,t=Mn(),r=u5(),a=Ln();return e.extendChartView({type:"scatter",render:function(i,n,u){var c=i.getData(),o=this._updateSymbolDraw(c,i);o.updateData(c,{clipShape:this._getClipShape(i)}),this._finished=!0},incrementalPrepareRender:function(i,n,u){var c=i.getData(),o=this._updateSymbolDraw(c,i);o.incrementalPrepareUpdate(c),this._finished=!1},incrementalRender:function(i,n,u){this._symbolDraw.incrementalUpdate(i,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=i.end===n.getData().count()},updateTransform:function(i,n,u){var c=i.getData();if(this.group.dirty(),!this._finished||c.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=a().reset(i);o.progress&&o.progress({start:0,end:c.count()},c),this._symbolDraw.updateLayout(c)},_getClipShape:function(i){var n=i.coordinateSystem,u=n&&n.getArea&&n.getArea();return i.get("clip",!0)?u:null},_updateSymbolDraw:function(i,n){var u=this._symbolDraw,c=n.pipelineContext,o=c.large;return(!u||o!==this._isLargeDraw)&&(u&&u.remove(),u=this._symbolDraw=o?new r:new t,this._isLargeDraw=o,this.group.removeAll()),this.group.add(u.group),u},remove:function(i,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),p0}var _0;function h5(){if(_0)return d0;_0=1;var e=we;l5(),v5();var t=Ma(),r=Ln();return Pn(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),d0}var x0={},S0={},bu,b0;function c5(){if(b0)return bu;b0=1;var e=Z,t=ia();function r(i,n,u){t.call(this,i,n,u),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var a=r;return bu=a,bu}var wu,w0;function f5(){if(w0)return wu;w0=1;var e=Z,t=c5(),r=hs(),a=Oe(),i=ur(),n=i.getScaleExtent,u=i.niceScaleExtent,c=wr,o=uM();function h(v,l,d){this._model=v,this.dimensions=[],this._indicatorAxes=e.map(v.getIndicatorModels(),function(f,m){var g="indicator_"+m,p=new t(g,f.get("axisType")==="log"?new o:new r);return p.name=f.get("name"),p.model=f,f.axis=p,this.dimensions.push(g),p},this),this.resize(v,d),this.cx,this.cy,this.r,this.r0,this.startAngle}h.prototype.getIndicatorAxes=function(){return this._indicatorAxes},h.prototype.dataToPoint=function(v,l){var d=this._indicatorAxes[l];return this.coordToPoint(d.dataToCoord(v),l)},h.prototype.coordToPoint=function(v,l){var d=this._indicatorAxes[l],f=d.angle,m=this.cx+v*Math.cos(f),g=this.cy-v*Math.sin(f);return[m,g]},h.prototype.pointToData=function(v){var l=v[0]-this.cx,d=v[1]-this.cy,f=Math.sqrt(l*l+d*d);l/=f,d/=f;for(var m=Math.atan2(-d,l),g=1/0,p,y=-1,_=0;_<this._indicatorAxes.length;_++){var S=this._indicatorAxes[_],T=Math.abs(m-S.angle);T<g&&(p=S,y=_,g=T)}return[y,+(p&&p.coordToData(f))]},h.prototype.resize=function(v,l){var d=v.get("center"),f=l.getWidth(),m=l.getHeight(),g=Math.min(f,m)/2;this.cx=a.parsePercent(d[0],f),this.cy=a.parsePercent(d[1],m),this.startAngle=v.get("startAngle")*Math.PI/180;var p=v.get("radius");(typeof p=="string"||typeof p=="number")&&(p=[0,p]),this.r0=a.parsePercent(p[0],g),this.r=a.parsePercent(p[1],g),e.each(this._indicatorAxes,function(y,_){y.setExtent(this.r0,this.r);var S=this.startAngle+_*Math.PI*2/this._indicatorAxes.length;S=Math.atan2(Math.sin(S),Math.cos(S)),y.angle=S},this)},h.prototype.update=function(v,l){var d=this._indicatorAxes,f=this._model;e.each(d,function(p){p.scale.setExtent(1/0,-1/0)}),v.eachSeriesByType("radar",function(p,y){if(!(p.get("coordinateSystem")!=="radar"||v.getComponent("radar",p.get("radarIndex"))!==f)){var _=p.getData();e.each(d,function(S){S.scale.unionExtentFromData(_,_.mapDimension(S.dim))})}},this);var m=f.get("splitNumber");function g(p){var y=Math.pow(10,Math.floor(Math.log(p)/Math.LN10)),_=p/y;return _===2?_=5:_*=2,_*y}e.each(d,function(p,y){var _=n(p.scale,p.model);u(p.scale,p.model);var S=p.model,T=p.scale,w=S.getMin(),x=S.getMax(),b=T.getInterval();if(w!=null&&x!=null)T.setExtent(+w,+x),T.setInterval((x-w)/m);else if(w!=null){var A;do A=w+b*m,T.setExtent(+w,A),T.setInterval(b),b=g(b);while(A<_[1]&&isFinite(A)&&isFinite(_[1]))}else if(x!=null){var C;do C=x-b*m,T.setExtent(C,+x),T.setInterval(b),b=g(b);while(C>_[0]&&isFinite(C)&&isFinite(_[0]))}else{var M=T.getTicks().length-1;M>m&&(b=g(b));var A=Math.ceil(_[1]/b)*b,C=a.round(A-b*m);T.setExtent(C,A),T.setInterval(b)}})},h.dimensions=[],h.create=function(v,l){var d=[];return v.eachComponent("radar",function(f){var m=new h(f,v,l);d.push(m),f.coordinateSystem=m}),v.eachSeriesByType("radar",function(f){f.get("coordinateSystem")==="radar"&&(f.coordinateSystem=d[f.get("radarIndex")||0])}),d},c.register("radar",h);var s=h;return wu=s,wu}var Au,A0;function d5(){if(A0)return Au;A0=1;var e=we,t=Z,r=pM(),a=ht(),i=xi(),n=r.valueAxis;function u(h,s){return t.defaults({show:s},h)}var c=e.extendComponentModel({type:"radar",optionUpdated:function(){var h=this.get("boundaryGap"),s=this.get("splitNumber"),v=this.get("scale"),l=this.get("axisLine"),d=this.get("axisTick"),f=this.get("axisType"),m=this.get("axisLabel"),g=this.get("name"),p=this.get("name.show"),y=this.get("name.formatter"),_=this.get("nameGap"),S=this.get("triggerEvent"),T=t.map(this.get("indicator")||[],function(w){w.max!=null&&w.max>0&&!w.min?w.min=0:w.min!=null&&w.min<0&&!w.max&&(w.max=0);var x=g;if(w.color!=null&&(x=t.defaults({color:w.color},g)),w=t.merge(t.clone(w),{boundaryGap:h,splitNumber:s,scale:v,axisLine:l,axisTick:d,axisType:f,axisLabel:m,name:w.text,nameLocation:"end",nameGap:_,nameTextStyle:x,triggerEvent:S},!1),p||(w.name=""),typeof y=="string"){var b=w.name;w.name=y.replace("{value}",b??"")}else typeof y=="function"&&(w.name=y(w.name,w));var A=t.extend(new a(w,null,this.ecModel),i);return A.mainType="radar",A.componentIndex=this.componentIndex,A},this);this.getIndicatorModels=function(){return T}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},n.axisLine),axisLabel:u(n.axisLabel,!1),axisTick:u(n.axisTick,!1),axisType:"interval",splitLine:u(n.splitLine,!0),splitArea:u(n.splitArea,!0),indicator:[]}}),o=c;return Au=o,Au}var Tu,T0;function g5(){if(T0)return Tu;T0=1;var e=we,t=Z,r=na(),a=me,i=["axisLine","axisTickLabel","axisName"],n=e.extendComponentView({type:"radar",render:function(u,c,o){var h=this.group;h.removeAll(),this._buildAxes(u),this._buildSplitLineAndArea(u)},_buildAxes:function(u){var c=u.coordinateSystem,o=c.getIndicatorAxes(),h=t.map(o,function(s){var v=new r(s.model,{position:[c.cx,c.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});t.each(h,function(s){t.each(i,s.add,s),this.group.add(s.getGroup())},this)},_buildSplitLineAndArea:function(u){var c=u.coordinateSystem,o=c.getIndicatorAxes();if(!o.length)return;var h=u.get("shape"),s=u.getModel("splitLine"),v=u.getModel("splitArea"),l=s.getModel("lineStyle"),d=v.getModel("areaStyle"),f=s.get("show"),m=v.get("show"),g=l.get("color"),p=d.get("color");g=t.isArray(g)?g:[g],p=t.isArray(p)?p:[p];var y=[],_=[];function S(O,z,G){var V=G%z.length;return O[V]=O[V]||[],V}if(h==="circle")for(var T=o[0].getTicksCoords(),w=c.cx,x=c.cy,b=0;b<T.length;b++){if(f){var A=S(y,g,b);y[A].push(new a.Circle({shape:{cx:w,cy:x,r:T[b].coord}}))}if(m&&b<T.length-1){var A=S(_,p,b);_[A].push(new a.Ring({shape:{cx:w,cy:x,r0:T[b].coord,r:T[b+1].coord}}))}}else for(var C,M=t.map(o,function(O,z){var G=O.getTicksCoords();return C=C==null?G.length-1:Math.min(G.length-1,C),t.map(G,function(V){return c.coordToPoint(V.coord,z)})}),D=[],b=0;b<=C;b++){for(var L=[],P=0;P<o.length;P++)L.push(M[P][b]);if(L[0]&&L.push(L[0].slice()),f){var A=S(y,g,b);y[A].push(new a.Polyline({shape:{points:L}}))}if(m&&D){var A=S(_,p,b-1);_[A].push(new a.Polygon({shape:{points:L.concat(D)}}))}D=L.slice().reverse()}var I=l.getLineStyle(),E=d.getAreaStyle();t.each(_,function(O,z){this.group.add(a.mergePath(O,{style:t.defaults({stroke:"none",fill:p[z%p.length]},E),silent:!0}))},this),t.each(y,function(O,z){this.group.add(a.mergePath(O,{style:t.defaults({fill:"none",stroke:g[z%g.length]},I),silent:!0}))},this)}});return Tu=n,Tu}var C0;function p5(){return C0||(C0=1,f5(),d5(),g5()),S0}var Cu,M0;function m5(){if(M0)return Cu;M0=1;var e=dt,t=Si(),r=Z,a=Qe(),i=a.encodeHTML,n=In(),u=e.extend({type:"series.radar",dependencies:["radar"],init:function(o){u.superApply(this,"init",arguments),this.legendVisualProvider=new n(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(o,h){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(o){var h=this.getData(),s=this.coordinateSystem,v=s.getIndicatorAxes(),l=this.getData().getName(o);return i(l===""?this.name:l)+"<br/>"+r.map(v,function(d,f){var m=h.get(h.mapDimension(d.dim),o);return i(d.name+" : "+m)}).join("<br />")},getTooltipPosition:function(o){if(o!=null){for(var h=this.getData(),s=this.coordinateSystem,v=h.getValues(r.map(s.dimensions,function(m){return h.mapDimension(m)}),o,!0),l=0,d=v.length;l<d;l++)if(!isNaN(v[l])){var f=s.getIndicatorAxes();return s.coordToPoint(f[l].dataToCoord(v[l]),l)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),c=u;return Cu=c,Cu}var Mu,D0;function y5(){if(D0)return Mu;D0=1;var e=we,t=me,r=Z,a=Xt();function i(u){return r.isArray(u)||(u=[+u,+u]),u}var n=e.extendChartView({type:"radar",render:function(u,c,o){var h=u.coordinateSystem,s=this.group,v=u.getData(),l=this._data;function d(g,p){var y=g.getItemVisual(p,"symbol")||"circle",_=g.getItemVisual(p,"color");if(y!=="none"){var S=i(g.getItemVisual(p,"symbolSize")),T=a.createSymbol(y,-1,-1,2,2,_);return T.attr({style:{strokeNoScale:!0},z2:100,scale:[S[0]/2,S[1]/2]}),T}}function f(g,p,y,_,S,T){y.removeAll();for(var w=0;w<p.length-1;w++){var x=d(_,S);x&&(x.__dimIdx=w,g[w]?(x.attr("position",g[w]),t[T?"initProps":"updateProps"](x,{position:p[w]},u,S)):x.attr("position",p[w]),y.add(x))}}function m(g){return r.map(g,function(p){return[h.cx,h.cy]})}v.diff(l).add(function(g){var p=v.getItemLayout(g);if(p){var y=new t.Polygon,_=new t.Polyline,S={shape:{points:p}};y.shape.points=m(p),_.shape.points=m(p),t.initProps(y,S,u,g),t.initProps(_,S,u,g);var T=new t.Group,w=new t.Group;T.add(_),T.add(y),T.add(w),f(_.shape.points,p,w,v,g,!0),v.setItemGraphicEl(g,T)}}).update(function(g,p){var y=l.getItemGraphicEl(p),_=y.childAt(0),S=y.childAt(1),T=y.childAt(2),w={shape:{points:v.getItemLayout(g)}};w.shape.points&&(f(_.shape.points,w.shape.points,T,v,g,!1),t.updateProps(_,w,u),t.updateProps(S,w,u),v.setItemGraphicEl(g,y))}).remove(function(g){s.remove(l.getItemGraphicEl(g))}).execute(),v.eachItemGraphicEl(function(g,p){var y=v.getItemModel(p),_=g.childAt(0),S=g.childAt(1),T=g.childAt(2),w=v.getItemVisual(p,"color");s.add(g),_.useStyle(r.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:w})),_.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var x=y.getModel("areaStyle"),b=y.getModel("emphasis.areaStyle"),A=x.isEmpty()&&x.parentModel.isEmpty(),C=b.isEmpty()&&b.parentModel.isEmpty();C=C&&A,S.ignore=A,S.useStyle(r.defaults(x.getAreaStyle(),{fill:w,opacity:.7})),S.hoverStyle=b.getAreaStyle();var M=y.getModel("itemStyle").getItemStyle(["color"]),D=y.getModel("emphasis.itemStyle").getItemStyle(),L=y.getModel("label"),P=y.getModel("emphasis.label");T.eachChild(function(I){I.setStyle(M),I.hoverStyle=r.clone(D);var E=v.get(v.dimensions[I.__dimIdx],p);(E==null||isNaN(E))&&(E=""),t.setLabelStyle(I.style,I.hoverStyle,L,P,{labelFetcher:v.hostModel,labelDataIndex:p,labelDimIndex:I.__dimIdx,defaultText:E,autoColor:w,isRectText:!0})}),g.highDownOnUpdate=function(I,E){S.attr("ignore",E==="emphasis"?C:A)},t.setHoverStyle(g)}),this._data=v},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return Mu=n,Mu}var Du,L0;function _5(){if(L0)return Du;L0=1;var e=Z;function t(i){i.eachSeriesByType("radar",function(n){var u=n.getData(),c=[],o=n.coordinateSystem;if(o){var h=o.getIndicatorAxes();e.each(h,function(s,v){u.each(u.mapDimension(h[v].dim),function(l,d){c[d]=c[d]||[];var f=o.dataToPoint(l,v);c[d][v]=r(f)?f:a(o)})}),u.each(function(s){var v=e.find(c[s],function(l){return r(l)})||a(o);c[s].push(v.slice()),u.setItemLayout(s,c[s])})}})}function r(i){return!isNaN(i[0])&&!isNaN(i[1])}function a(i){return[i.cx,i.cy]}return Du=t,Du}var Lu,P0;function x5(){if(P0)return Lu;P0=1;var e=Z;function t(r){var a=r.polar;if(a){e.isArray(a)||(a=[a]);var i=[];e.each(a,function(n,u){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):i.push(n)}),r.polar=i}e.each(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}return Lu=t,Lu}var I0;function S5(){if(I0)return x0;I0=1;var e=we;p5(),m5(),y5();var t=ps(),r=Ma(),a=_5(),i=Rn(),n=x5();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(a),e.registerProcessor(i("radar")),e.registerPreprocessor(n),x0}var R0={},Pu,E0;function b5(){if(E0)return Pu;E0=1;for(var e=Z,t=hM(),r=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<a.length;i++)for(var n=0;n<a[i].length;n++)a[i][n][0]/=10.5,a[i][n][1]/=-10.5/.75,a[i][n][0]+=r[0],a[i][n][1]+=r[1];function u(c,o){c==="china"&&o.push(new t("南海诸岛",e.map(a,function(h){return{type:"polygon",exterior:h}}),r))}return Pu=u,Pu}var Iu,k0;function w5(){if(k0)return Iu;k0=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(r,a){if(r==="china"){var i=e[a.name];if(i){var n=a.center;n[0]+=i[0]/10.5,n[1]+=-i[1]/(10.5/.75)}}}return Iu=t,Iu}var Ru,O0;function A5(){if(O0)return Ru;O0=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(r,a){if(r==="world"){var i=e[a.name];if(i){var n=a.center;n[0]=i[0],n[1]=i[1]}}}return Ru=t,Ru}var Eu,z0;function T5(){if(z0)return Eu;z0=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r,a){r==="china"&&a.name==="台湾"&&a.geometries.push({type:"polygon",exterior:e[0]})}return Eu=t,Eu}var ku,B0;function C5(){if(B0)return ku;B0=1;var e=Z,t=e.each,r=cM(),a=Re,i=a.makeInner,n=b5(),u=w5(),c=A5(),o=T5(),h=i(),s={load:function(l,d){var f=h(d).parsed;if(f)return f;var m=d.specialAreas||{},g=d.geoJSON,p;try{p=g?r(g):[]}catch(y){throw new Error(`Invalid geoJson format
`+y.message)}return n(l,p),t(p,function(y){var _=y.name;u(l,y),c(l,y),o(l,y);var S=m[_];S&&y.transformTo(S.left,S.top,S.width,S.height)}),h(d).parsed={regions:p,boundingRect:v(p)}}};function v(l){for(var d,f=0;f<l.length;f++){var m=l[f].getBoundingRect();d=d||m.clone(),d.union(m)}return d}return ku=s,ku}var Ou,N0;function M5(){if(N0)return Ou;N0=1;var e=wn,t=e.parseSVG,r=e.makeViewBoxTransform,a=ba,i=Rd,n=Z,u=n.assert,c=n.createHashMap,o=Ke,h=Re,s=h.makeInner,v=s(),l={load:function(f,m){var g=v(m).originRoot;if(g)return{root:g,boundingRect:v(m).boundingRect};var p=d(m);return v(m).originRoot=p.root,v(m).boundingRect=p.boundingRect,p},makeGraphic:function(f,m,g){var p=v(m),y=p.rootMap||(p.rootMap=c()),_=y.get(g);if(_)return _;var S=p.originRoot,T=p.boundingRect;return p.originRootHostKey?_=d(m,T).root:(p.originRootHostKey=g,_=S),y.set(g,_)},removeGraphic:function(f,m,g){var p=v(m),y=p.rootMap;y&&y.removeKey(g),g===p.originRootHostKey&&(p.originRootHostKey=null)}};function d(f,m){var g=f.svgXML,p,y;try{p=g&&t(g,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=p.root,u(y!=null)}catch(b){throw new Error(`Invalid svg format
`+b.message)}var _=p.width,S=p.height,T=p.viewBoxRect;if(m||(m=_==null||S==null?y.getBoundingRect():new o(0,0,0,0),_!=null&&(m.width=_),S!=null&&(m.height=S)),T){var w=r(T,m.width,m.height),x=y;y=new a,y.add(x),x.scale=w.scale,x.position=w.position}return y.setClipPath(new i({shape:m.plain()})),{root:y,boundingRect:m}}return Ou=l,Ou}var zu,V0;function ms(){if(V0)return zu;V0=1;var e=Z,t=e.each,r=e.createHashMap,a=tg,i=C5(),n=M5(),u=Ke,c={geoJSON:i,svg:n},o={load:function(v,l){var d=[],f=r(),m=r(),g,p=s(v);return t(p,function(y){var _=c[y.type].load(v,y);t(_.regions,function(T){var w=T.name;l&&l.hasOwnProperty(w)&&(T=T.cloneShallow(w=l[w])),d.push(T),f.set(w,T),m.set(w,T.center)});var S=_.boundingRect;S&&(g?g.union(S):g=S.clone())}),{regions:d,regionsMap:f,nameCoordMap:m,boundingRect:g||new u(0,0,0,0)}},makeGraphic:h("makeGraphic"),removeGraphic:h("removeGraphic")};function h(v){return function(l,d){var f=s(l),m=[];return t(f,function(g){var p=c[g.type][v];p&&m.push(p(l,g,d))}),m}}function s(v){var l=a.retrieveMap(v)||[];return l}return zu=o,zu}var Bu,H0;function D5(){if(H0)return Bu;H0=1;var e=Z,t=Si(),r=dt,a=Qe(),i=a.encodeHTML,n=a.addCommas,u=ig(),c=sr,o=c.retrieveRawAttr,h=ms(),s=wt,v=s.makeSeriesEncodeForNameBased,l=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(f){for(var m=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(v,this)}),g=m.mapDimension("value"),p=e.createHashMap(),y=[],_=[],S=0,T=m.count();S<T;S++){var w=m.getName(S);p.set(w,!0),y.push({name:w,value:m.get(g,S),selected:o(m,S,"selected")})}var x=h.load(this.getMapType(),this.option.nameMap);return e.each(x.regions,function(b){var A=b.name;p.get(A)||(y.push({name:A}),_.push(A))}),this.updateSelectedMap(y),m.appendValues([],_),m},getHostGeoModel:function(){var f=this.option.geoIndex;return f!=null?this.dependentModels.geo[f]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(f){var m=this.getData();return m.get(m.mapDimension("value"),f)},getRegionModel:function(f){var m=this.getData();return m.getItemModel(m.indexOfName(f))},formatTooltip:function(f){for(var m=this.getData(),g=n(this.getRawValue(f)),p=m.getName(f),y=this.seriesGroup,_=[],S=0;S<y.length;S++){var T=y[S].originalData.indexOfName(p),w=m.mapDimension("value");isNaN(y[S].originalData.get(w,T))||_.push(i(y[S].name))}return _.join(", ")+"<br />"+i(p+" : "+g)},getTooltipPosition:function(f){if(f!=null){var m=this.getData().getName(f),g=this.coordinateSystem,p=g.getRegion(m);return p&&g.dataToPoint(p.center)}},setZoom:function(f){this.option.zoom=f},setCenter:function(f){this.option.center=f},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});e.mixin(l,u);var d=l;return Bu=d,Bu}var Hi={},q0;function wM(){if(q0)return Hi;q0=1;var e=we,t="\0_ec_interaction_mutex";function r(u,c,o){var h=n(u);h[c]=o}function a(u,c,o){var h=n(u),s=h[c];s===o&&(h[c]=null)}function i(u,c){return!!n(u)[c]}function n(u){return u[t]||(u[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Hi.take=r,Hi.release=a,Hi.isTaken=i,Hi}var Nu,G0;function En(){if(G0)return Nu;G0=1;var e=Z,t=Sa,r=ct,a=wM();function i(f){this.pointerChecker,this._zr=f,this._opt={};var m=e.bind,g=m(n,this),p=m(u,this),y=m(c,this),_=m(o,this),S=m(h,this);t.call(this),this.setPointerChecker=function(T){this.pointerChecker=T},this.enable=function(T,w){this.disable(),this._opt=e.defaults(e.clone(w)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),T==null&&(T=!0),(T===!0||T==="move"||T==="pan")&&(f.on("mousedown",g),f.on("mousemove",p),f.on("mouseup",y)),(T===!0||T==="scale"||T==="zoom")&&(f.on("mousewheel",_),f.on("pinch",S))},this.disable=function(){f.off("mousedown",g),f.off("mousemove",p),f.off("mouseup",y),f.off("mousewheel",_),f.off("pinch",S)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(i,t);function n(f){if(!(r.isMiddleOrRightButtonOnMouseUpDown(f)||f.target&&f.target.draggable)){var m=f.offsetX,g=f.offsetY;this.pointerChecker&&this.pointerChecker(f,m,g)&&(this._x=m,this._y=g,this._dragging=!0)}}function u(f){if(!(!this._dragging||!l("moveOnMouseMove",f,this._opt)||f.gestureEvent==="pinch"||a.isTaken(this._zr,"globalPan"))){var m=f.offsetX,g=f.offsetY,p=this._x,y=this._y,_=m-p,S=g-y;this._x=m,this._y=g,this._opt.preventDefaultMouseMove&&r.stop(f.event),v(this,"pan","moveOnMouseMove",f,{dx:_,dy:S,oldX:p,oldY:y,newX:m,newY:g})}}function c(f){r.isMiddleOrRightButtonOnMouseUpDown(f)||(this._dragging=!1)}function o(f){var m=l("zoomOnMouseWheel",f,this._opt),g=l("moveOnMouseWheel",f,this._opt),p=f.wheelDelta,y=Math.abs(p),_=f.offsetX,S=f.offsetY;if(!(p===0||!m&&!g)){if(m){var T=y>3?1.4:y>1?1.2:1.1,w=p>0?T:1/T;s(this,"zoom","zoomOnMouseWheel",f,{scale:w,originX:_,originY:S})}if(g){var x=Math.abs(p),b=(p>0?1:-1)*(x>3?.4:x>1?.15:.05);s(this,"scrollMove","moveOnMouseWheel",f,{scrollDelta:b,originX:_,originY:S})}}}function h(f){if(!a.isTaken(this._zr,"globalPan")){var m=f.pinchScale>1?1.1:1/1.1;s(this,"zoom",null,f,{scale:m,originX:f.pinchX,originY:f.pinchY})}}function s(f,m,g,p,y){f.pointerChecker&&f.pointerChecker(p,y.originX,y.originY)&&(r.stop(p.event),v(f,m,g,p,y))}function v(f,m,g,p,y){y.isAvailableBehavior=e.bind(l,null,g,p),f.trigger(m,y)}function l(f,m,g){var p=g[f];return!f||p&&(!e.isString(p)||m.event[p+"Key"])}var d=i;return Nu=d,Nu}var so={},F0;function ng(){if(F0)return so;F0=1;function e(r,a,i){var n=r.target,u=n.position;u[0]+=a,u[1]+=i,n.dirty()}function t(r,a,i,n){var u=r.target,c=r.zoomLimit,o=u.position,h=u.scale,s=r.zoom=r.zoom||1;if(s*=a,c){var v=c.min||0,l=c.max||1/0;s=Math.max(Math.min(l,s),v)}var d=s/r.zoom;r.zoom=s,o[0]-=(i-o[0])*(d-1),o[1]-=(n-o[1])*(d-1),h[0]*=d,h[1]*=d,u.dirty()}return so.updateViewOnPan=e,so.updateViewOnZoom=t,so}var Vu={},$0;function ys(){if($0)return Vu;$0=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,a,i){var n=a.getComponentByElement(r.topTarget),u=n&&n.coordinateSystem;return n&&n!==i&&!e[n.mainType]&&u&&u.model!==i}return Vu.onIrrelevantElement=t,Vu}var Hu,U0;function AM(){if(U0)return Hu;U0=1;var e=Z,t=En(),r=ng(),a=ys(),i=a.onIrrelevantElement,n=me,u=ms(),c=ta,o=c.getUID;function h(f){var m=f.getItemStyle(),g=f.get("areaColor");return g!=null&&(m.fill=g),m}function s(f,m,g,p,y){g.off("click"),g.off("mousedown"),m.get("selectedMode")&&(g.on("mousedown",function(){f._mouseDownFlag=!0}),g.on("click",function(_){if(f._mouseDownFlag){f._mouseDownFlag=!1;for(var S=_.target;!S.__regions;)S=S.parent;if(S){var T={type:(m.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(S.__regions,function(w){return{name:w.name,from:y.uid}})};T[m.mainType+"Id"]=m.id,p.dispatchAction(T),v(m,g)}}}))}function v(f,m){m.eachChild(function(g){e.each(g.__regions,function(p){g.trigger(f.isSelected(p.name)?"emphasis":"normal")})})}function l(f,m){var g=new n.Group;this.uid=o("ec_map_draw"),this._controller=new t(f.getZr()),this._controllerHost={target:m?g:null},this.group=g,this._updateGroup=m,this._mouseDownFlag,this._mapName,this._initialized,g.add(this._regionsGroup=new n.Group),g.add(this._backgroundGroup=new n.Group)}l.prototype={constructor:l,draw:function(f,m,g,p,y){var _=f.mainType==="geo",S=f.getData&&f.getData();_&&m.eachComponent({mainType:"series",subType:"map"},function(E){!S&&E.getHostGeoModel()===f&&(S=E.getData())});var T=f.coordinateSystem;this._updateBackground(T);var w=this._regionsGroup,x=this.group,b=T.getTransformInfo();x.transform=b.roamTransform,x.decomposeTransform(),x.dirty();var A=b.rawScale,C=b.rawPosition;w.removeAll();var M=["itemStyle"],D=["emphasis","itemStyle"],L=["label"],P=["emphasis","label"],I=e.createHashMap();e.each(T.regions,function(E){var O=I.get(E.name)||I.set(E.name,new n.Group),z=new n.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});O.add(z);var G=f.getRegionModel(E.name)||f,V=G.getModel(M),R=G.getModel(D),B=h(V),k=h(R),N=G.getModel(L),q=G.getModel(P),H;if(S){H=S.indexOfName(E.name);var F=S.getItemVisual(H,"color",!0);F&&(B.fill=F)}var U=function(_e){return[_e[0]*A[0]+C[0],_e[1]*A[1]+C[1]]};e.each(E.geometries,function(_e){if(_e.type==="polygon"){for(var ae=[],se=0;se<_e.exterior.length;++se)ae.push(U(_e.exterior[se]));z.shape.paths.push(new n.Polygon({segmentIgnoreThreshold:1,shape:{points:ae}}));for(var se=0;se<(_e.interiors?_e.interiors.length:0);++se){for(var De=_e.interiors[se],ae=[],oe=0;oe<De.length;++oe)ae.push(U(De[oe]));z.shape.paths.push(new n.Polygon({segmentIgnoreThreshold:1,shape:{points:ae}}))}}}),z.setStyle(B),z.style.strokeNoScale=!0,z.culling=!0;var W=N.get("show"),K=q.get("show"),J=S&&isNaN(S.get(S.mapDimension("value"),H)),j=S&&S.getItemLayout(H);if(_||J&&(W||K)||j&&j.showLabel){var ee=_?E.name:H,ie;(!S||H>=0)&&(ie=f);var re=new n.Text({position:U(E.center.slice()),scale:[1/x.scale[0],1/x.scale[1]],z2:10,silent:!0});n.setLabelStyle(re.style,re.hoverStyle={},N,q,{labelFetcher:ie,labelDataIndex:ee,defaultText:E.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),O.add(re)}if(S)S.setItemGraphicEl(H,O);else{var G=f.getRegionModel(E.name);z.eventData={componentType:"geo",componentIndex:f.componentIndex,geoIndex:f.componentIndex,name:E.name,region:G&&G.option||{}}}var he=O.__regions||(O.__regions=[]);he.push(E),O.highDownSilentOnTouch=!!f.get("selectedMode"),n.setHoverStyle(O,k),w.add(O)}),this._updateController(f,m,g),s(this,f,w,g,p),v(f,w)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&u.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(f){var m=f.map;this._mapName!==m&&e.each(u.makeGraphic(m,this.uid),function(g){this._backgroundGroup.add(g)},this),this._mapName=m},_updateController:function(f,m,g){var p=f.coordinateSystem,y=this._controller,_=this._controllerHost;_.zoomLimit=f.get("scaleLimit"),_.zoom=p.getZoom(),y.enable(f.get("roam")||!1);var S=f.mainType;function T(){var w={type:"geoRoam",componentType:S};return w[S+"Id"]=f.id,w}y.off("pan").on("pan",function(w){this._mouseDownFlag=!1,r.updateViewOnPan(_,w.dx,w.dy),g.dispatchAction(e.extend(T(),{dx:w.dx,dy:w.dy}))},this),y.off("zoom").on("zoom",function(w){if(this._mouseDownFlag=!1,r.updateViewOnZoom(_,w.scale,w.originX,w.originY),g.dispatchAction(e.extend(T(),{zoom:w.scale,originX:w.originX,originY:w.originY})),this._updateGroup){var x=this.group.scale;this._regionsGroup.traverse(function(b){b.type==="text"&&b.attr("scale",[1/x[0],1/x[1]])})}},this),y.setPointerChecker(function(w,x,b){return p.getViewRectAfterRoam().contain(x,b)&&!i(w,g,f)})}};var d=l;return Hu=d,Hu}var qu,W0;function L5(){if(W0)return qu;W0=1;var e=we,t=Z,r=me,a=AM(),i="__seriesMapHighDown",n="__seriesMapCallKey",u=e.extendChartView({type:"map",render:function(h,s,v,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var d=this.group;if(d.removeAll(),!h.getHostGeoModel()){if(l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===h.id){var f=this._mapDraw;f&&d.add(f.group)}else if(h.needsDrawMap){var f=this._mapDraw||new a(v,!0);d.add(f.group),f.draw(h,s,v,this,l),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;h.get("showLegendSymbol")&&s.getComponent("legend")&&this._renderSymbols(h,s,v)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(h,s,v){var l=h.originalData,d=this.group;l.each(l.mapDimension("value"),function(f,m){if(!isNaN(f)){var g=l.getItemLayout(m);if(!(!g||!g.point)){var p=g.point,y=g.offset,_=new r.Circle({style:{fill:h.getData().getVisual("color")},shape:{cx:p[0]+y*9,cy:p[1],r:3},silent:!0,z2:8+(y?0:r.Z2_EMPHASIS_LIFT+1)});if(!y){var S=h.mainSeries.getData(),T=l.getName(m),w=S.indexOfName(T),x=l.getItemModel(m),b=x.getModel("label"),A=x.getModel("emphasis.label"),C=S.getItemGraphicEl(w),M=t.retrieve2(h.getFormattedLabel(w,"normal"),T),D=t.retrieve2(h.getFormattedLabel(w,"emphasis"),M),L=C[i],P=Math.random();if(!L){L=C[i]={};var I=t.curry(c,!0),E=t.curry(c,!1);C.on("mouseover",I).on("mouseout",E).on("emphasis",I).on("normal",E)}C[n]=P,t.extend(L,{recordVersion:P,circle:_,labelModel:b,hoverLabelModel:A,emphasisText:D,normalText:M}),o(L,!1)}d.add(_)}}})}});function c(h){var s=this[i];s&&s.recordVersion===this[n]&&o(s,h)}function o(h,s){var v=h.circle,l=h.labelModel,d=h.hoverLabelModel,f=h.emphasisText,m=h.normalText;s?(v.style.extendFrom(r.setTextStyle({},d,{text:d.get("show")?f:null},{isRectText:!0,useInsideStyle:!1},!0)),v.__mapOriginalZ2=v.z2,v.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(v.style,l,{text:l.get("show")?m:null,textPosition:l.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),v.dirty(!1),v.__mapOriginalZ2!=null&&(v.z2=v.__mapOriginalZ2,v.__mapOriginalZ2=null))}return qu=u,qu}var Z0={},Gu={},Y0;function og(){if(Y0)return Gu;Y0=1;function e(t,r,a){var i=t.getZoom(),n=t.getCenter(),u=r.zoom,c=t.dataToPoint(n);if(r.dx!=null&&r.dy!=null){c[0]-=r.dx,c[1]-=r.dy;var n=t.pointToData(c);t.setCenter(n)}if(u!=null){if(a){var o=a.min||0,h=a.max||1/0;u=Math.max(Math.min(i*u,h),o)/i}t.scale[0]*=u,t.scale[1]*=u;var s=t.position,v=(r.originX-s[0])*(u-1),l=(r.originY-s[1])*(u-1);s[0]-=v,s[1]-=l,t.updateTransform();var n=t.pointToData(c);t.setCenter(n),t.setZoom(u*i)}return{center:t.getCenter(),zoom:t.getZoom()}}return Gu.updateCenterAndZoom=e,Gu}var X0;function TM(){if(X0)return Z0;X0=1;var e=we,t=Z,r=og(),a=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,n){var u=i.componentType||"series";n.eachComponent({mainType:u,query:i},function(c){var o=c.coordinateSystem;if(o.type==="geo"){var h=a(o,i,c.get("scaleLimit"));c.setCenter&&c.setCenter(h.center),c.setZoom&&c.setZoom(h.zoom),u==="series"&&t.each(c.seriesGroup,function(s){s.setCenter(h.center),s.setZoom(h.zoom)})}})}),Z0}var Fu,K0;function sg(){if(K0)return Fu;K0=1;var e=Z,t=Ye(),r=Rt(),a=Ke,i=nd,n=t.applyTransform;function u(){i.call(this)}e.mixin(u,i);function c(s){this.name=s,this.zoomLimit,i.call(this),this._roamTransformable=new u,this._rawTransformable=new u,this._center,this._zoom}c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(s,v,l,d){return this._rect=new a(s,v,l,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(s,v,l,d){this.transformTo(s,v,l,d),this._viewRect=new a(s,v,l,d)},transformTo:function(s,v,l,d){var f=this.getBoundingRect(),m=this._rawTransformable;m.transform=f.calculateTransform(new a(s,v,l,d)),m.decomposeTransform(),this._updateTransform()},setCenter:function(s){s&&(this._center=s,this._updateCenterAndZoom())},setZoom:function(s){s=s||1;var v=this.zoomLimit;v&&(v.max!=null&&(s=Math.min(v.max,s)),v.min!=null&&(s=Math.max(v.min,s))),this._zoom=s,this._updateCenterAndZoom()},getDefaultCenter:function(){var s=this.getBoundingRect(),v=s.x+s.width/2,l=s.y+s.height/2;return[v,l]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var s=this._rawTransformable.getLocalTransform(),v=this._roamTransformable,l=this.getDefaultCenter(),d=this.getCenter(),f=this.getZoom();d=t.applyTransform([],d,s),l=t.applyTransform([],l,s),v.origin=d,v.position=[l[0]-d[0],l[1]-d[1]],v.scale=[f,f],this._updateTransform()},_updateTransform:function(){var s=this._roamTransformable,v=this._rawTransformable;v.parent=s,s.updateTransform(),v.updateTransform(),r.copy(this.transform||(this.transform=[]),v.transform||r.create()),this._rawTransform=v.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var s=this._roamTransformable.transform,v=this._rawTransformable;return{roamTransform:s?e.slice(s):r.create(),rawScale:e.slice(v.scale),rawPosition:e.slice(v.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var s=this.getBoundingRect().clone();return s.applyTransform(this.transform),s},dataToPoint:function(s,v,l){var d=v?this._rawTransform:this.transform;return l=l||[],d?n(l,s,d):t.copy(l,s)},pointToData:function(s){var v=this.invTransform;return v?n([],s,v):[s[0],s[1]]},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData"),containPoint:function(s){return this.getViewRectAfterRoam().contain(s[0],s[1])}},e.mixin(c,i);function o(s,v,l,d){var f=l.seriesModel,m=f?f.coordinateSystem:null;return m===this?m[s](d):null}var h=c;return Fu=h,Fu}var $u,Q0;function P5(){if(Q0)return $u;Q0=1;var e=Z,t=Ke,r=sg(),a=ms();function i(c,o,h,s){r.call(this,c),this.map=o;var v=a.load(o,h);this._nameCoordMap=v.nameCoordMap,this._regionsMap=v.regionsMap,this._invertLongitute=s??!0,this.regions=v.regions,this._rect=v.boundingRect}i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(c){for(var o=this.regions,h=0;h<o.length;h++)if(o[h].contain(c))return!0;return!1},transformTo:function(c,o,h,s){var v=this.getBoundingRect(),l=this._invertLongitute;v=v.clone(),l&&(v.y=-v.y-v.height);var d=this._rawTransformable;if(d.transform=v.calculateTransform(new t(c,o,h,s)),d.decomposeTransform(),l){var f=d.scale;f[1]=-f[1]}d.updateTransform(),this._updateTransform()},getRegion:function(c){return this._regionsMap.get(c)},getRegionByCoord:function(c){for(var o=this.regions,h=0;h<o.length;h++)if(o[h].contain(c))return o[h]},addGeoCoord:function(c,o){this._nameCoordMap.set(c,o)},getGeoCoord:function(c){return this._nameCoordMap.get(c)},getBoundingRect:function(){return this._rect},dataToPoint:function(c,o,h){if(typeof c=="string"&&(c=this.getGeoCoord(c)),c)return r.prototype.dataToPoint.call(this,c,o,h)},convertToPixel:e.curry(n,"dataToPoint"),convertFromPixel:e.curry(n,"pointToData")},e.mixin(i,r);function n(c,o,h,s){var v=h.geoModel,l=h.seriesModel,d=v?v.coordinateSystem:l?l.coordinateSystem||(l.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return d===this?d[c](s):null}var u=i;return $u=u,$u}var Uu,J0;function lg(){if(J0)return Uu;J0=1;var e=we,t=Z,r=P5(),a=Ne,i=Oe(),n=ms(),u=tg;function c(v,l){var d=v.get("boundingCoords");if(d!=null){var f=d[0],m=d[1];isNaN(f[0])||isNaN(f[1])||isNaN(m[0])||isNaN(m[1])||this.setBoundingRect(f[0],f[1],m[0]-f[0],m[1]-f[1])}var g=this.getBoundingRect(),p,y=v.get("layoutCenter"),_=v.get("layoutSize"),S=l.getWidth(),T=l.getHeight(),w=g.width/g.height*this.aspectScale,x=!1;y&&_&&(y=[i.parsePercent(y[0],S),i.parsePercent(y[1],T)],_=i.parsePercent(_,Math.min(S,T)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(x=!0));var b;if(x){var b={};w>1?(b.width=_,b.height=_/w):(b.height=_,b.width=_*w),b.y=y[1]-b.height/2,b.x=y[0]-b.width/2}else p=v.getBoxLayoutParams(),p.aspect=w,b=a.getLayoutRect(p,{width:S,height:T});this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(v.get("center")),this.setZoom(v.get("zoom"))}function o(v,l){t.each(l.get("geoCoord"),function(d,f){v.addGeoCoord(f,d)})}var h={dimensions:r.prototype.dimensions,create:function(v,l){var d=[];v.eachComponent("geo",function(m,g){var p=m.get("map"),y=m.get("aspectScale"),_=!0,S=u.retrieveMap(p);S&&S[0]&&S[0].type==="svg"?(y==null&&(y=1),_=!1):y==null&&(y=.75);var T=new r(p+g,p,m.get("nameMap"),_);T.aspectScale=y,T.zoomLimit=m.get("scaleLimit"),d.push(T),o(T,m),m.coordinateSystem=T,T.model=m,T.resize=c,T.resize(m,l)}),v.eachSeries(function(m){var g=m.get("coordinateSystem");if(g==="geo"){var p=m.get("geoIndex")||0;m.coordinateSystem=d[p]}});var f={};return v.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var g=m.getMapType();f[g]=f[g]||[],f[g].push(m)}}),t.each(f,function(m,g){var p=t.map(m,function(_){return _.get("nameMap")}),y=new r(g,g,t.mergeAll(p));y.zoomLimit=t.retrieve.apply(null,t.map(m,function(_){return _.get("scaleLimit")})),d.push(y),y.resize=c,y.aspectScale=m[0].get("aspectScale"),y.resize(m[0],l),t.each(m,function(_){_.coordinateSystem=y,o(y,_)})}),d},getFilledRegions:function(v,l,d){for(var f=(v||[]).slice(),m=t.createHashMap(),g=0;g<f.length;g++)m.set(f[g].name,f[g]);var p=n.load(l,d);return t.each(p.regions,function(y){var _=y.name;!m.get(_)&&f.push({name:_})}),f}};e.registerCoordinateSystem("geo",h);var s=h;return Uu=s,Uu}var Wu,j0;function I5(){if(j0)return Wu;j0=1;var e=Z;function t(r){var a={};r.eachSeriesByType("map",function(i){var n=i.getMapType();if(!(i.getHostGeoModel()||a[n])){var u={};e.each(i.seriesGroup,function(o){var h=o.coordinateSystem,s=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&s.each(s.mapDimension("value"),function(v,l){var d=s.getName(l),f=h.getRegion(d);if(!(!f||isNaN(v))){var m=u[d]||0,g=h.dataToPoint(f.center);u[d]=m+1,s.setItemLayout(l,{point:g,offset:m})}})});var c=i.getData();c.each(function(o){var h=c.getName(o),s=c.getItemLayout(o)||{};s.showLabel=!u[h],c.setItemLayout(o,s)}),a[n]=!0}})}return Wu=t,Wu}var Zu,e_;function R5(){if(e_)return Zu;e_=1;function e(t){t.eachSeriesByType("map",function(r){var a=r.get("color"),i=r.getModel("itemStyle"),n=i.get("areaColor"),u=i.get("color")||a[r.seriesIndex%a.length];r.getData().setVisual({areaColor:n,color:u})})}return Zu=e,Zu}var Yu,t_;function E5(){if(t_)return Yu;t_=1;var e=Z;function t(a,i){var n={};return e.each(a,function(u){u.each(u.mapDimension("value"),function(c,o){var h="ec-"+u.getName(o);n[h]=n[h]||[],isNaN(c)||n[h].push(c)})}),a[0].map(a[0].mapDimension("value"),function(u,c){for(var o="ec-"+a[0].getName(c),h=0,s=1/0,v=-1/0,l=n[o].length,d=0;d<l;d++)s=Math.min(s,n[o][d]),v=Math.max(v,n[o][d]),h+=n[o][d];var f;return i==="min"?f=s:i==="max"?f=v:i==="average"?f=h/l:f=h,l===0?NaN:f})}function r(a){var i={};a.eachSeriesByType("map",function(n){var u=n.getHostGeoModel(),c=u?"o"+u.id:"i"+n.getMapType();(i[c]=i[c]||[]).push(n)}),e.each(i,function(n,u){for(var c=t(e.map(n,function(h){return h.getData()}),n[0].get("mapValueCalculation")),o=0;o<n.length;o++)n[o].originalData=n[o].getData();for(var o=0;o<n.length;o++)n[o].seriesGroup=n,n[o].needsDrawMap=o===0&&!n[o].getHostGeoModel(),n[o].setData(c.cloneShallow()),n[o].mainSeries=n[0]})}return Yu=r,Yu}var Xu,r_;function k5(){if(r_)return Xu;r_=1;var e=Z;function t(r){e.each(r.series,function(a){a&&a.type==="map"&&(a.map=a.map||a.mapType,e.defaults(a,a.mapLocation))})}return Xu=t,Xu}var a_;function O5(){if(a_)return R0;a_=1;var e=we;D5(),L5(),TM(),lg();var t=I5(),r=R5(),a=E5(),i=k5(),n=bM();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a),e.registerPreprocessor(i),n("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),R0}var i_={},Ku,n_;function CM(){if(n_)return Ku;n_=1;var e=Z,t=e.each,r="\0__link_datas",a="\0__link_mainData";function i(d){var f=d.mainData,m=d.datas;m||(m={main:f},d.datasAttr={main:"data"}),d.datas=d.mainData=null,s(f,m,d),t(m,function(g){t(f.TRANSFERABLE_METHODS,function(p){g.wrapMethod(p,e.curry(n,d))})}),f.wrapMethod("cloneShallow",e.curry(c,d)),t(f.CHANGABLE_METHODS,function(g){f.wrapMethod(g,e.curry(u,d))}),e.assert(m[f.dataType]===f)}function n(d,f){if(h(this)){var m=e.extend({},this[r]);m[this.dataType]=f,s(f,m,d)}else v(f,this.dataType,this[a],d);return f}function u(d,f){return d.struct&&d.struct.update(this),f}function c(d,f){return t(f[r],function(m,g){m!==f&&v(m.cloneShallow(),g,f,d)}),f}function o(d){var f=this[a];return d==null||f==null?f:f[r][d]}function h(d){return d[a]===d}function s(d,f,m){d[r]={},t(f,function(g,p){v(g,p,d,m)})}function v(d,f,m,g){m[r][f]=d,d[a]=m,d.dataType=f,g.struct&&(d[g.structAttr]=g.struct,g.struct[g.datasAttr[f]]=d),d.getLinkedData=o}var l=i;return Ku=l,Ku}var Qu,o_;function ug(){if(o_)return Qu;o_=1;var e=Z,t=ht(),r=CM(),a=Yt(),i=_i(),n=function(h,s){this.name=h||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=s};n.prototype={constructor:n,isRemoved:function(){return this.dataIndex<0},eachNode:function(h,s,v){typeof h=="function"&&(v=s,s=h,h=null),h=h||{},e.isString(h)&&(h={order:h});var l=h.order||"preorder",d=this[h.attr||"children"],f;l==="preorder"&&(f=s.call(v,this));for(var m=0;!f&&m<d.length;m++)d[m].eachNode(h,s,v);l==="postorder"&&s.call(v,this)},updateDepthAndHeight:function(h){var s=0;this.depth=h;for(var v=0;v<this.children.length;v++){var l=this.children[v];l.updateDepthAndHeight(h+1),l.height>s&&(s=l.height)}this.height=s+1},getNodeById:function(h){if(this.getId()===h)return this;for(var s=0,v=this.children,l=v.length;s<l;s++){var d=v[s].getNodeById(h);if(d)return d}},contains:function(h){if(h===this)return!0;for(var s=0,v=this.children,l=v.length;s<l;s++){var d=v[s].contains(h);if(d)return d}},getAncestors:function(h){for(var s=[],v=h?this:this.parentNode;v;)s.push(v),v=v.parentNode;return s.reverse(),s},getValue:function(h){var s=this.hostTree.data;return s.get(s.getDimension(h||"value"),this.dataIndex)},setLayout:function(h,s){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,h,s)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(h){if(!(this.dataIndex<0)){var s=this.hostTree,v=s.data.getItemModel(this.dataIndex),l=this.getLevelModel(),d;return!l&&(this.children.length===0||this.children.length!==0&&this.isExpand===!1)&&(d=this.getLeavesModel()),v.getModel(h,(l||d||s.hostModel).getModel(h))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(h,s){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,h,s)},getVisual:function(h,s){return this.hostTree.data.getItemVisual(this.dataIndex,h,s)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(h){for(var s=h.parentNode;s;){if(s===this)return!0;s=s.parentNode}return!1},isDescendantOf:function(h){return h!==this&&h.isAncestorOf(this)}};function u(h,s,v){this.root,this.data,this._nodes=[],this.hostModel=h,this.levelModels=e.map(s||[],function(l){return new t(l,h,h.ecModel)}),this.leavesModel=new t(v||{},h,h.ecModel)}u.prototype={constructor:u,type:"tree",eachNode:function(h,s,v){this.root.eachNode(h,s,v)},getNodeByDataIndex:function(h){var s=this.data.getRawIndex(h);return this._nodes[s]},getNodeByName:function(h){return this.root.getNodeByName(h)},update:function(){for(var h=this.data,s=this._nodes,v=0,l=s.length;v<l;v++)s[v].dataIndex=-1;for(var v=0,l=h.count();v<l;v++)s[h.getRawIndex(v)].dataIndex=v},clearLayouts:function(){this.data.clearItemLayouts()}},u.createTree=function(h,s,v,l){var d=new u(s,v.levels,v.leaves),f=[],m=1;g(h);function g(_,S){var T=_.value;m=Math.max(m,e.isArray(T)?T.length:1),f.push(_);var w=new n(_.name,d);S?c(w,S):d.root=w,d._nodes.push(w);var x=_.children;if(x)for(var b=0;b<x.length;b++)g(x[b],w)}d.root.updateDepthAndHeight(0);var p=i(f,{coordDimensions:["value"],dimensionsCount:m}),y=new a(p,s);return y.initData(f),r({mainData:y,struct:d,structAttr:"tree"}),d.update(),l&&l(y),d};function c(h,s){var v=s.children;h.parentNode!==s&&(v.push(h),h.parentNode=s)}var o=u;return Qu=o,Qu}var Ju,s_;function z5(){if(s_)return Ju;s_=1;var e=dt,t=ug(),r=Qe(),a=r.encodeHTML,i=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(n){var u={name:n.name,children:n.data},c=n.leaves||{},o={};o.leaves=c;var h=t.createTree(u,this,o,s);function s(f){f.wrapMethod("getItemModel",function(m,g){var p=h.getNodeByDataIndex(g),y=p.getLeavesModel();return(!p.children.length||!p.isExpand)&&(m.parentModel=y),m})}var v=0;h.eachNode("preorder",function(f){f.depth>v&&(v=f.depth)});var l=n.expandAndCollapse,d=l&&n.initialTreeDepth>=0?n.initialTreeDepth:v;return h.root.eachNode("preorder",function(f){var m=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=m&&m.collapsed!=null?!m.collapsed:f.depth<=d}),h.data},getOrient:function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},formatTooltip:function(n){for(var u=this.getData().tree,c=u.root.children[0],o=u.getNodeByDataIndex(n),h=o.getValue(),s=o.name;o&&o!==c;)s=o.parentNode.name+"."+s,o=o.parentNode;return a(s+(isNaN(h)||h==null?"":" : "+h))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return Ju=i,Ju}var $r={},l_;function MM(){if(l_)return $r;l_=1;var e=Ne;function t(f){f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var m=[f],g,p;g=m.pop();)if(p=g.children,g.isExpand&&p.length)for(var y=p.length,_=y-1;_>=0;_--){var S=p[_];S.hierNode={defaultAncestor:null,ancestor:S,prelim:0,modifier:0,change:0,shift:0,i:_,thread:null},m.push(S)}}function r(f,m){var g=f.isExpand?f.children:[],p=f.parentNode.children,y=f.hierNode.i?p[f.hierNode.i-1]:null;if(g.length){c(f);var _=(g[0].hierNode.prelim+g[g.length-1].hierNode.prelim)/2;y?(f.hierNode.prelim=y.hierNode.prelim+m(f,y),f.hierNode.modifier=f.hierNode.prelim-_):f.hierNode.prelim=_}else y&&(f.hierNode.prelim=y.hierNode.prelim+m(f,y));f.parentNode.hierNode.defaultAncestor=o(f,y,f.parentNode.hierNode.defaultAncestor||p[0],m)}function a(f){var m=f.hierNode.prelim+f.parentNode.hierNode.modifier;f.setLayout({x:m},!0),f.hierNode.modifier+=f.parentNode.hierNode.modifier}function i(f){return arguments.length?f:d}function n(f,m){var g={};return f-=Math.PI/2,g.x=m*Math.cos(f),g.y=m*Math.sin(f),g}function u(f,m){return e.getLayoutRect(f.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()})}function c(f){for(var m=f.children,g=m.length,p=0,y=0;--g>=0;){var _=m[g];_.hierNode.prelim+=p,_.hierNode.modifier+=p,y+=_.hierNode.change,p+=_.hierNode.shift+y}}function o(f,m,g,p){if(m){for(var y=f,_=f,S=_.parentNode.children[0],T=m,w=y.hierNode.modifier,x=_.hierNode.modifier,b=S.hierNode.modifier,A=T.hierNode.modifier;T=h(T),_=s(_),T&&_;){y=h(y),S=s(S),y.hierNode.ancestor=f;var C=T.hierNode.prelim+A-_.hierNode.prelim-x+p(T,_);C>0&&(l(v(T,f,g),f,C),x+=C,w+=C),A+=T.hierNode.modifier,x+=_.hierNode.modifier,w+=y.hierNode.modifier,b+=S.hierNode.modifier}T&&!h(y)&&(y.hierNode.thread=T,y.hierNode.modifier+=A-w),_&&!s(S)&&(S.hierNode.thread=_,S.hierNode.modifier+=x-b,g=f)}return g}function h(f){var m=f.children;return m.length&&f.isExpand?m[m.length-1]:f.hierNode.thread}function s(f){var m=f.children;return m.length&&f.isExpand?m[0]:f.hierNode.thread}function v(f,m,g){return f.hierNode.ancestor.parentNode===m.parentNode?f.hierNode.ancestor:g}function l(f,m,g){var p=g/(m.hierNode.i-f.hierNode.i);m.hierNode.change-=p,m.hierNode.shift+=g,m.hierNode.modifier+=g,m.hierNode.prelim+=g,f.hierNode.change+=p}function d(f,m){return f.parentNode===m.parentNode?1:2}return $r.init=t,$r.firstWalk=r,$r.secondWalk=a,$r.separation=i,$r.radialCoordinate=n,$r.getViewRect=u,$r}var ju,u_;function B5(){if(u_)return ju;u_=1;var e=Z,t=me,r=fs(),a=MM(),i=a.radialCoordinate,n=we,u=Jo(),c=sg(),o=ng(),h=En(),s=ys(),v=s.onIrrelevantElement,l=Oe(),d=l.parsePercent,f=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(w,x){var b=x.childPoints,A=b.length,C=x.parentPoint,M=b[0],D=b[A-1];if(A===1){w.moveTo(C[0],C[1]),w.lineTo(M[0],M[1]);return}var L=x.orient,P=L==="TB"||L==="BT"?0:1,I=1-P,E=d(x.forkPosition,1),O=[];O[P]=C[P],O[I]=C[I]+(D[I]-C[I])*E,w.moveTo(C[0],C[1]),w.lineTo(O[0],O[1]),w.moveTo(M[0],M[1]),O[P]=M[P],w.lineTo(O[0],O[1]),O[P]=D[P],w.lineTo(O[0],O[1]),w.lineTo(D[0],D[1]);for(var z=1;z<A-1;z++){var G=b[z];w.moveTo(G[0],G[1]),O[P]=G[P],w.lineTo(O[0],O[1])}}}),m=n.extendChartView({type:"tree",init:function(w,x){this._oldTree,this._mainGroup=new t.Group,this._controller=new h(x.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(w,x,b,A){var C=w.getData(),M=w.layoutInfo,D=this._mainGroup,L=w.get("layout");L==="radial"?D.attr("position",[M.x+M.width/2,M.y+M.height/2]):D.attr("position",[M.x,M.y]),this._updateViewCoordSys(w,M,L),this._updateController(w,x,b);var P=this._data,I={expandAndCollapse:w.get("expandAndCollapse"),layout:L,edgeShape:w.get("edgeShape"),edgeForkPosition:w.get("edgeForkPosition"),orient:w.getOrient(),curvature:w.get("lineStyle.curveness"),symbolRotate:w.get("symbolRotate"),symbolOffset:w.get("symbolOffset"),hoverAnimation:w.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};C.diff(P).add(function(E){g(C,E)&&y(C,E,null,D,w,I)}).update(function(E,O){var z=P.getItemGraphicEl(O);if(!g(C,E)){z&&S(P,O,z,D,w,I);return}y(C,E,z,D,w,I)}).remove(function(E){var O=P.getItemGraphicEl(E);O&&S(P,E,O,D,w,I)}).execute(),this._nodeScaleRatio=w.get("nodeScaleRatio"),this._updateNodeAndLinkScale(w),I.expandAndCollapse===!0&&C.eachItemGraphicEl(function(E,O){E.off("click").on("click",function(){b.dispatchAction({type:"treeExpandAndCollapse",seriesId:w.id,dataIndex:O})})}),this._data=C},_updateViewCoordSys:function(w){var x=w.getData(),b=[];x.each(function(P){var I=x.getItemLayout(P);I&&!isNaN(I.x)&&!isNaN(I.y)&&b.push([+I.x,+I.y])});var A=[],C=[];u.fromPoints(b,A,C);var M=this._min,D=this._max;C[0]-A[0]===0&&(A[0]=M?M[0]:A[0]-1,C[0]=D?D[0]:C[0]+1),C[1]-A[1]===0&&(A[1]=M?M[1]:A[1]-1,C[1]=D?D[1]:C[1]+1);var L=w.coordinateSystem=new c;L.zoomLimit=w.get("scaleLimit"),L.setBoundingRect(A[0],A[1],C[0]-A[0],C[1]-A[1]),L.setCenter(w.get("center")),L.setZoom(w.get("zoom")),this.group.attr({position:L.position,scale:L.scale}),this._viewCoordSys=L,this._min=A,this._max=C},_updateController:function(w,x,b){var A=this._controller,C=this._controllerHost,M=this.group;A.setPointerChecker(function(D,L,P){var I=M.getBoundingRect();return I.applyTransform(M.transform),I.contain(L,P)&&!v(D,b,w)}),A.enable(w.get("roam")),C.zoomLimit=w.get("scaleLimit"),C.zoom=w.coordinateSystem.getZoom(),A.off("pan").off("zoom").on("pan",function(D){o.updateViewOnPan(C,D.dx,D.dy),b.dispatchAction({seriesId:w.id,type:"treeRoam",dx:D.dx,dy:D.dy})},this).on("zoom",function(D){o.updateViewOnZoom(C,D.scale,D.originX,D.originY),b.dispatchAction({seriesId:w.id,type:"treeRoam",zoom:D.scale,originX:D.originX,originY:D.originY}),this._updateNodeAndLinkScale(w)},this)},_updateNodeAndLinkScale:function(w){var x=w.getData(),b=this._getNodeGlobalScale(w),A=[b,b];x.eachItemGraphicEl(function(C,M){C.attr("scale",A)})},_getNodeGlobalScale:function(w){var x=w.coordinateSystem;if(x.type!=="view")return 1;var b=this._nodeScaleRatio,A=x.scale,C=A&&A[0]||1,M=x.getZoom(),D=(M-1)*b+1;return D/C},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function g(w,x){var b=w.getItemLayout(x);return b&&!isNaN(b.x)&&!isNaN(b.y)&&w.getItemVisual(x,"symbol")!=="none"}function p(w,x,b){return b.itemModel=x,b.itemStyle=x.getModel("itemStyle").getItemStyle(),b.hoverItemStyle=x.getModel("emphasis.itemStyle").getItemStyle(),b.lineStyle=x.getModel("lineStyle").getLineStyle(),b.labelModel=x.getModel("label"),b.hoverLabelModel=x.getModel("emphasis.label"),w.isExpand===!1&&w.children.length!==0?b.symbolInnerColor=b.itemStyle.fill:b.symbolInnerColor="#fff",b}function y(w,x,b,A,C,I){var D=!b,L=w.tree.getNodeByDataIndex(x),P=L.getModel(),I=p(L,P,I),E=w.tree.root,O=L.parentNode===E?L:L.parentNode||L,z=w.getItemGraphicEl(O.dataIndex),G=O.getLayout(),V=z?{x:z.position[0],y:z.position[1],rawX:z.__radialOldRawX,rawY:z.__radialOldRawY}:G,R=L.getLayout();D?(b=new r(w,x,I),b.attr("position",[V.x,V.y])):b.updateData(w,x,I),b.__radialOldRawX=b.__radialRawX,b.__radialOldRawY=b.__radialRawY,b.__radialRawX=R.rawX,b.__radialRawY=R.rawY,A.add(b),w.setItemGraphicEl(x,b),t.updateProps(b,{position:[R.x,R.y]},C);var B=b.getSymbolPath();if(I.layout==="radial"){var k=E.children[0],N=k.getLayout(),q=k.children.length,H,F;if(R.x===N.x&&L.isExpand===!0){var U={};U.x=(k.children[0].getLayout().x+k.children[q-1].getLayout().x)/2,U.y=(k.children[0].getLayout().y+k.children[q-1].getLayout().y)/2,H=Math.atan2(U.y-N.y,U.x-N.x),H<0&&(H=Math.PI*2+H),F=U.x<N.x,F&&(H=H-Math.PI)}else H=Math.atan2(R.y-N.y,R.x-N.x),H<0&&(H=Math.PI*2+H),L.children.length===0||L.children.length!==0&&L.isExpand===!1?(F=R.x<N.x,F&&(H=H-Math.PI)):(F=R.x>N.x,F||(H=H-Math.PI));var W=F?"left":"right",K=I.labelModel.get("rotate"),J=K*(Math.PI/180);B.setStyle({textPosition:I.labelModel.get("position")||W,textRotation:K==null?-H:J,textOrigin:"center",verticalAlign:"middle"})}_(C,L,E,b,V,G,R,A,I)}function _(w,x,b,A,C,M,D,L,P){var I=P.edgeShape,E=A.__edge;if(I==="curve")x.parentNode&&x.parentNode!==b&&(E||(E=A.__edge=new t.BezierCurve({shape:T(P,C,C),style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(E,{shape:T(P,M,D),style:{opacity:1}},w));else if(I==="polyline"&&P.layout==="orthogonal"&&x!==b&&x.children&&x.children.length!==0&&x.isExpand===!0){for(var O=x.children,z=[],G=0;G<O.length;G++){var V=O[G].getLayout();z.push([V.x,V.y])}E||(E=A.__edge=new f({shape:{parentPoint:[D.x,D.y],childPoints:[[D.x,D.y]],orient:P.orient,forkPosition:P.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(E,{shape:{parentPoint:[D.x,D.y],childPoints:z},style:{opacity:1}},w)}L.add(E)}function S(w,x,b,A,C,I){for(var D=w.tree.getNodeByDataIndex(x),L=w.tree.root,P=D.getModel(),I=p(D,P,I),E=D.parentNode===L?D:D.parentNode||D,R=I.edgeShape,O;O=E.getLayout(),O==null;)E=E.parentNode===L?E:E.parentNode||E;t.updateProps(b,{position:[O.x+1,O.y+1]},C,function(){A.remove(b),w.setItemGraphicEl(x,null)}),b.fadeOut(null,{keepLabel:!0});var z=w.getItemGraphicEl(E.dataIndex),G=z.__edge,V=b.__edge||(E.isExpand===!1||E.children.length===1?G:void 0),R=I.edgeShape;V&&(R==="curve"?t.updateProps(V,{shape:T(I,O,O),style:{opacity:0}},C,function(){A.remove(V)}):R==="polyline"&&I.layout==="orthogonal"&&t.updateProps(V,{shape:{parentPoint:[O.x,O.y],childPoints:[[O.x,O.y]]},style:{opacity:0}},C,function(){A.remove(V)}))}function T(w,x,b){var A,C,M,D,L=w.orient,P,I,E,O;if(w.layout==="radial"){P=x.rawX,E=x.rawY,I=b.rawX,O=b.rawY;var z=i(P,E),G=i(P,E+(O-E)*w.curvature),V=i(I,O+(E-O)*w.curvature),R=i(I,O);return{x1:z.x,y1:z.y,x2:R.x,y2:R.y,cpx1:G.x,cpy1:G.y,cpx2:V.x,cpy2:V.y}}else P=x.x,E=x.y,I=b.x,O=b.y,(L==="LR"||L==="RL")&&(A=P+(I-P)*w.curvature,C=E,M=I+(P-I)*w.curvature,D=O),(L==="TB"||L==="BT")&&(A=P,C=E+(O-E)*w.curvature,M=I,D=O+(E-O)*w.curvature);return{x1:P,y1:E,x2:I,y2:O,cpx1:A,cpy1:C,cpx2:M,cpy2:D}}return ju=m,ju}var v_={},h_;function N5(){if(h_)return v_;h_=1;var e=we,t=og(),r=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(n){var u=a.dataIndex,c=n.getData().tree,o=c.getNodeByDataIndex(u);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(n){var u=n.coordinateSystem,c=r(u,a);n.setCenter&&n.setCenter(c.center),n.setZoom&&n.setZoom(c.zoom)})}),v_}var lo={},c_;function V5(){if(c_)return lo;c_=1;function e(r,a,i){for(var n=[r],u=[],c;c=n.pop();)if(u.push(c),c.isExpand){var o=c.children;if(o.length)for(var h=0;h<o.length;h++)n.push(o[h])}for(;c=u.pop();)a(c,i)}function t(r,a){for(var i=[r],n;n=i.pop();)if(a(n),n.isExpand){var u=n.children;if(u.length)for(var c=u.length-1;c>=0;c--)i.push(u[c])}}return lo.eachAfter=e,lo.eachBefore=t,lo}var ev,f_;function H5(){if(f_)return ev;f_=1;var e=V5(),t=e.eachAfter,r=e.eachBefore,a=MM(),i=a.init,n=a.firstWalk,u=a.secondWalk,c=a.separation,o=a.radialCoordinate,h=a.getViewRect;function s(l,d){l.eachSeriesByType("tree",function(f){v(f,d)})}function v(l,d){var f=h(l,d);l.layoutInfo=f;var m=l.get("layout"),g=0,p=0,y=null;m==="radial"?(g=2*Math.PI,p=Math.min(f.height,f.width)/2,y=c(function(I,E){return(I.parentNode===E.parentNode?1:2)/I.depth})):(g=f.width,p=f.height,y=c());var _=l.getData().tree.root,S=_.children[0];if(S){i(_),t(S,n,y),_.hierNode.modifier=-S.hierNode.prelim,r(S,u);var T=S,w=S,x=S;r(S,function(I){var E=I.getLayout().x;E<T.getLayout().x&&(T=I),E>w.getLayout().x&&(w=I),I.depth>x.depth&&(x=I)});var b=T===w?1:y(T,w)/2,A=b-T.getLayout().x,C=0,M=0,D=0,L=0;if(m==="radial")C=g/(w.getLayout().x+b+A),M=p/(x.depth-1||1),r(S,function(I){D=(I.getLayout().x+A)*C,L=(I.depth-1)*M;var E=o(D,L);I.setLayout({x:E.x,y:E.y,rawX:D,rawY:L},!0)});else{var P=l.getOrient();P==="RL"||P==="LR"?(M=p/(w.getLayout().x+b+A),C=g/(x.depth-1||1),r(S,function(I){L=(I.getLayout().x+A)*M,D=P==="LR"?(I.depth-1)*C:g-(I.depth-1)*C,I.setLayout({x:D,y:L},!0)})):(P==="TB"||P==="BT")&&(C=g/(w.getLayout().x+b+A),M=p/(x.depth-1||1),r(S,function(I){D=(I.getLayout().x+A)*C,L=P==="TB"?(I.depth-1)*M:p-(I.depth-1)*M,I.setLayout({x:D,y:L},!0)}))}}}return ev=s,ev}var d_;function q5(){if(d_)return i_;d_=1;var e=we;z5(),B5(),N5();var t=Ma(),r=H5();return e.registerVisual(t("tree","circle")),e.registerLayout(r),i_}var g_={},Ha={},p_;function La(){if(p_)return Ha;p_=1;var e=Z;function t(n,u,c){if(n&&e.indexOf(u,n.type)>=0){var o=c.getData().tree.root,h=n.targetNode;if(typeof h=="string"&&(h=o.getNodeById(h)),h&&o.contains(h))return{node:h};var s=n.targetNodeId;if(s!=null&&(h=o.getNodeById(s)))return{node:h}}}function r(n){for(var u=[];n;)n=n.parentNode,n&&u.push(n);return u.reverse()}function a(n,u){var c=r(n);return e.indexOf(c,u)>=0}function i(n,u){for(var c=[];n;){var o=n.dataIndex;c.push({name:n.name,dataIndex:o,value:u.getRawValue(o)}),n=n.parentNode}return c.reverse(),c}return Ha.retrieveTargetInfo=t,Ha.getPathToRoot=r,Ha.aboveViewRoot=a,Ha.wrapTreePathInfo=i,Ha}var tv,m_;function G5(){if(m_)return tv;m_=1;var e=Z,t=dt,r=ug(),a=ht(),i=Qe(),n=i.encodeHTML,u=i.addCommas,c=La(),o=c.wrapTreePathInfo,h=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(l,d){var f={name:l.name,children:l.data};s(f);var m=l.levels||[];m=l.levels=v(m,d);var g={};return g.levels=m,r.createTree(f,this,g).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(l){var d=this.getData(),f=this.getRawValue(l),m=e.isArray(f)?u(f[0]):u(f),g=d.getName(l);return n(g+": "+m)},getDataParams:function(l){var d=t.prototype.getDataParams.apply(this,arguments),f=this.getData().tree.getNodeByDataIndex(l);return d.treePathInfo=o(f,this),d},setLayoutInfo:function(l){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,l)},mapIdToIndex:function(l){var d=this._idIndexMap;d||(d=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var f=d.get(l);return f==null&&d.set(l,f=this._idIndexMapCount++),f},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(l){l?this._viewRoot=l:l=this._viewRoot;var d=this.getRawData().tree.root;(!l||l!==d&&!d.contains(l))&&(this._viewRoot=d)}});function s(l){var d=0;e.each(l.children,function(m){s(m);var g=m.value;e.isArray(g)&&(g=g[0]),d+=g});var f=l.value;e.isArray(f)&&(f=f[0]),(f==null||isNaN(f))&&(f=d),f<0&&(f=0),e.isArray(l.value)?l.value[0]=f:l.value=f}function v(l,d){var f=d.get("color");if(f){l=l||[];var m;if(e.each(l,function(p){var y=new a(p),_=y.get("color");(y.get("itemStyle.color")||_&&_!=="none")&&(m=!0)}),!m){var g=l[0]||(l[0]={});g.color=f.slice()}return l}}return tv=h,tv}var rv,y_;function F5(){if(y_)return rv;y_=1;var e=me,t=Ne,r=Z,a=La(),i=a.wrapTreePathInfo,n=8,u=8,c=5;function o(l){this.group=new e.Group,l.add(this.group)}o.prototype={constructor:o,render:function(l,d,f,m){var g=l.getModel("breadcrumb"),p=this.group;if(p.removeAll(),!(!g.get("show")||!f)){var y=g.getModel("itemStyle"),_=y.getModel("textStyle"),S={pos:{left:g.get("left"),right:g.get("right"),top:g.get("top"),bottom:g.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:g.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(f,S,_),this._renderContent(l,S,y,_,m),t.positionElement(p,S.pos,S.box)}},_prepare:function(l,d,f){for(var m=l;m;m=m.parentNode){var g=m.getModel().get("name"),p=f.getTextRect(g),y=Math.max(p.width+n*2,d.emptyItemWidth);d.totalWidth+=y+u,d.renderList.push({node:m,text:g,width:y})}},_renderContent:function(l,d,f,m,g){for(var p=0,y=d.emptyItemWidth,_=l.get("breadcrumb.height"),S=t.getAvailableSize(d.pos,d.box),T=d.totalWidth,w=d.renderList,x=w.length-1;x>=0;x--){var b=w[x],A=b.node,C=b.width,M=b.text;T>S.width&&(T-=C-y,C=y,M=null);var D=new e.Polygon({shape:{points:h(p,0,C,_,x===w.length-1,x===0)},style:r.defaults(f.getItemStyle(),{lineJoin:"bevel",text:M,textFill:m.getTextColor(),textFont:m.getFont()}),z:10,onclick:r.curry(g,A)});this.group.add(D),s(D,l,A),p+=C+u}},remove:function(){this.group.removeAll()}};function h(l,d,f,m,g,p){var y=[[g?l:l-c,d],[l+f,d],[l+f,d+m],[g?l:l-c,d+m]];return!p&&y.splice(2,0,[l+f+c,d+m/2]),!g&&y.push([l,d+m/2]),y}function s(l,d,f){l.eventData={componentType:"series",componentSubType:"treemap",componentIndex:d.componentIndex,seriesIndex:d.componentIndex,seriesName:d.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:f&&f.dataIndex,name:f&&f.name},treePathInfo:f&&i(f,d)}}var v=o;return rv=v,rv}var av={},__;function $5(){if(__)return av;__=1;var e=Z;function t(){var r=[],a={},i;return{add:function(n,u,c,o,h){return e.isString(o)&&(h=o,o=0),a[n.id]?!1:(a[n.id]=1,r.push({el:n,target:u,time:c,delay:o,easing:h}),!0)},done:function(n){return i=n,this},start:function(){for(var n=r.length,u=0,c=r.length;u<c;u++){var o=r[u];o.el.animateTo(o.target,o.time,o.delay,o.easing,h)}return this;function h(){n--,n||(r.length=0,a={},i&&i())}}}}return av.createWrap=t,av}var iv,x_;function U5(){if(x_)return iv;x_=1;var e=we,t=Z,r=me,a=Ca(),i=La(),n=F5(),u=En(),c=Ke,o=Rt(),h=$5(),s=ci(),v=t.bind,l=r.Group,d=r.Rect,f=t.each,m=3,g=["label"],p=["emphasis","label"],y=["upperLabel"],_=["emphasis","upperLabel"],S=10,T=1,w=2,x=s([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),b=function(L){var P=x(L);return P.stroke=P.fill=P.lineWidth=null,P},A=e.extendChartView({type:"treemap",init:function(L,P){this._containerGroup,this._storage=C(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(L,P,I,E){var O=P.findComponents({mainType:"series",subType:"treemap",query:E});if(!(t.indexOf(O,L)<0)){this.seriesModel=L,this.api=I,this.ecModel=P;var z=["treemapZoomToNode","treemapRootToNode"],G=i.retrieveTargetInfo(E,z,L),V=E&&E.type,R=L.layoutInfo,B=!this._oldTree,k=this._storage,N=V==="treemapRootToNode"&&G&&k?{rootNodeGroup:k.nodeGroup[G.node.getRawIndex()],direction:E.direction}:null,q=this._giveContainerGroup(R),H=this._doRender(q,L,N);!B&&(!V||V==="treemapZoomToNode"||V==="treemapRootToNode")?this._doAnimation(q,H,L,N):H.renderFinally(),this._resetController(I),this._renderBreadcrumb(L,I,G)}},_giveContainerGroup:function(L){var P=this._containerGroup;return P||(P=this._containerGroup=new l,this._initEvents(P),this.group.add(P)),P.attr("position",[L.x,L.y]),P},_doRender:function(L,P,I){var E=P.getData().tree,O=this._oldTree,z=C(),G=C(),V=this._storage,R=[],B=t.curry(M,P,G,V,I,z,R);N(E.root?[E.root]:[],O&&O.root?[O.root]:[],L,E===O||!O,0);var k=q(V);return this._oldTree=E,this._storage=G,{lastsForAnimation:z,willDeleteEls:k,renderFinally:H};function N(F,U,W,K,J){K?(U=F,f(F,function(ie,re){!ie.isRemoved()&&ee(re,re)})):new a(U,F,j,j).add(ee).update(ee).remove(t.curry(ee,null)).execute();function j(ie){return ie.getId()}function ee(ie,re){var he=ie!=null?F[ie]:null,_e=re!=null?U[re]:null,ae=B(he,_e,W,J);ae&&N(he&&he.viewChildren||[],_e&&_e.viewChildren||[],ae,K,J+1)}}function q(F){var U=C();return F&&f(F,function(W,K){var J=U[K];f(W,function(j){j&&(J.push(j),j.__tmWillDelete=1)})}),U}function H(){f(k,function(F){f(F,function(U){U.parent&&U.parent.remove(U)})}),f(R,function(F){F.invisible=!0,F.dirty()})}},_doAnimation:function(L,P,I,E){if(I.get("animation")){var O=I.get("animationDurationUpdate"),z=I.get("animationEasing"),G=h.createWrap();f(P.willDeleteEls,function(V,R){f(V,function(B,k){if(!B.invisible){var N=B.parent,q;if(E&&E.direction==="drillDown")q=N===E.rootNodeGroup?{shape:{x:0,y:0,width:N.__tmNodeWidth,height:N.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var H=0,F=0;N.__tmWillDelete||(H=N.__tmNodeWidth/2,F=N.__tmNodeHeight/2),q=R==="nodeGroup"?{position:[H,F],style:{opacity:0}}:{shape:{x:H,y:F,width:0,height:0},style:{opacity:0}}}q&&G.add(B,q,O,z)}})}),f(this._storage,function(V,R){f(V,function(B,k){var N=P.lastsForAnimation[R][k],q={};N&&(R==="nodeGroup"?N.old&&(q.position=B.position.slice(),B.attr("position",N.old)):(N.old&&(q.shape=t.extend({},B.shape),B.setShape(N.old)),N.fadein?(B.setStyle("opacity",0),q.style={opacity:1}):B.style.opacity!==1&&(q.style={opacity:1})),G.add(B,q,O,z))})},this),this._state="animating",G.done(v(function(){this._state="ready",P.renderFinally()},this)).start()}},_resetController:function(L){var P=this._controller;P||(P=this._controller=new u(L.getZr()),P.enable(this.seriesModel.get("roam")),P.on("pan",v(this._onPan,this)),P.on("zoom",v(this._onZoom,this)));var I=new c(0,0,L.getWidth(),L.getHeight());P.setPointerChecker(function(E,O,z){return I.contain(O,z)})},_clearController:function(){var L=this._controller;L&&(L.dispose(),L=null)},_onPan:function(L){if(this._state!=="animating"&&(Math.abs(L.dx)>m||Math.abs(L.dy)>m)){var P=this.seriesModel.getData().tree.root;if(!P)return;var I=P.getLayout();if(!I)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:I.x+L.dx,y:I.y+L.dy,width:I.width,height:I.height}})}},_onZoom:function(L){var P=L.originX,I=L.originY;if(this._state!=="animating"){var E=this.seriesModel.getData().tree.root;if(!E)return;var O=E.getLayout();if(!O)return;var z=new c(O.x,O.y,O.width,O.height),G=this.seriesModel.layoutInfo;P-=G.x,I-=G.y;var V=o.create();o.translate(V,V,[-P,-I]),o.scale(V,V,[L.scale,L.scale]),o.translate(V,V,[P,I]),z.applyTransform(V),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:z.x,y:z.y,width:z.width,height:z.height}})}},_initEvents:function(L){L.on("click",function(P){if(this._state==="ready"){var I=this.seriesModel.get("nodeClick",!0);if(I){var E=this.findTarget(P.offsetX,P.offsetY);if(E){var O=E.node;if(O.getLayout().isLeafRoot)this._rootToNode(E);else if(I==="zoomToNode")this._zoomToNode(E);else if(I==="link"){var z=O.hostTree.data.getItemModel(O.dataIndex),G=z.get("link",!0),V=z.get("target",!0)||"blank";G&&window.open(G,V)}}}}},this)},_renderBreadcrumb:function(L,P,I){I||(I=L.get("leafDepth",!0)!=null?{node:L.getViewRoot()}:this.findTarget(P.getWidth()/2,P.getHeight()/2),I||(I={node:L.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new n(this.group))).render(L,P,I.node,v(E,this));function E(O){this._state!=="animating"&&(i.aboveViewRoot(L.getViewRoot(),O)?this._rootToNode({node:O}):this._zoomToNode({node:O}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=C(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(L){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:L.node})},_rootToNode:function(L){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:L.node})},findTarget:function(L,P){var I,E=this.seriesModel.getViewRoot();return E.eachNode({attr:"viewChildren",order:"preorder"},function(O){var z=this._storage.background[O.getRawIndex()];if(z){var G=z.transformCoordToLocal(L,P),V=z.shape;if(V.x<=G[0]&&G[0]<=V.x+V.width&&V.y<=G[1]&&G[1]<=V.y+V.height)I={node:O,offsetX:G[0],offsetY:G[1]};else return!1}},this),I}});function C(){return{nodeGroup:[],background:[],content:[]}}function M(L,P,I,E,O,z,G,V,R,B){if(!G)return;var k=G.getLayout(),N=L.getData();if(N.setItemGraphicEl(G.dataIndex,null),!k||!k.isInView)return;var q=k.width,H=k.height,F=k.borderWidth,U=k.invisible,W=G.getRawIndex(),K=V&&V.getRawIndex(),J=G.viewChildren,j=k.upperHeight,ee=J&&J.length,ie=G.getModel("itemStyle"),re=G.getModel("emphasis.itemStyle"),he=Y("nodeGroup",l);if(!he)return;if(R.add(he),he.attr("position",[k.x||0,k.y||0]),he.__tmNodeWidth=q,he.__tmNodeHeight=H,k.isAboveViewRoot)return he;var _e=G.getModel(),ae=Y("background",d,B,T);if(ae&&De(he,ae,ee&&k.upperHeight),ee)r.isHighDownDispatcher(he)&&r.setAsHighDownDispatcher(he,!1),ae&&(r.setAsHighDownDispatcher(ae,!0),N.setItemGraphicEl(G.dataIndex,ae));else{var se=Y("content",d,B,w);se&&oe(he,se),ae&&r.isHighDownDispatcher(ae)&&r.setAsHighDownDispatcher(ae,!1),r.setAsHighDownDispatcher(he,!0),N.setItemGraphicEl(G.dataIndex,he)}return he;function De(ce,le,fe){if(le.dataIndex=G.dataIndex,le.seriesIndex=L.seriesIndex,le.setShape({x:0,y:0,width:q,height:H}),U)ue(le);else{le.invisible=!1;var ye=G.getVisual("borderColor",!0),Te=re.get("borderColor"),xe=b(ie);xe.fill=ye;var ge=x(re);if(ge.fill=Te,fe){var ve=q-2*F;be(xe,ge,ye,ve,j,{x:F,y:0,width:ve,height:j})}else xe.text=ge.text=null;le.setStyle(xe),r.setElementHoverStyle(le,ge)}ce.add(le)}function oe(ce,le){le.dataIndex=G.dataIndex,le.seriesIndex=L.seriesIndex;var fe=Math.max(q-2*F,0),ye=Math.max(H-2*F,0);if(le.culling=!0,le.setShape({x:F,y:F,width:fe,height:ye}),U)ue(le);else{le.invisible=!1;var Te=G.getVisual("color",!0),xe=b(ie);xe.fill=Te;var ge=x(re);be(xe,ge,Te,fe,ye),le.setStyle(xe),r.setElementHoverStyle(le,ge)}ce.add(le)}function ue(ce){!ce.invisible&&z.push(ce)}function be(ce,le,fe,ye,Te,xe){var ge=t.retrieve(L.getFormattedLabel(G.dataIndex,"normal",null,null,xe?"upperLabel":"label"),_e.get("name"));if(!xe&&k.isLeafRoot){var ve=L.get("drillDownIcon",!0);ge=ve?ve+" "+ge:ge}var pe=_e.getModel(xe?y:g),Me=_e.getModel(xe?_:p),Ee=pe.getShallow("show");r.setLabelStyle(ce,le,pe,Me,{defaultText:Ee?ge:null,autoColor:fe,isRectText:!0}),xe&&(ce.textRect=t.clone(xe)),ce.truncate=Ee&&pe.get("ellipsis")?{outerWidth:ye,outerHeight:Te,minChar:2}:null}function Y(ce,le,fe,ye){var Te=K!=null&&I[ce][K],xe=O[ce];return Te?(I[ce][K]=null,Q(xe,Te,ce)):U||(Te=new le({z:D(fe,ye)}),Te.__tmDepth=fe,Te.__tmStorageName=ce,te(xe,Te,ce)),P[ce][W]=Te}function Q(ce,le,fe){var ye=ce[W]={};ye.old=fe==="nodeGroup"?le.position.slice():t.extend({},le.shape)}function te(ce,le,fe){var ye=ce[W]={},Te=G.parentNode;if(Te&&(!E||E.direction==="drillDown")){var xe=0,ge=0,ve=O.background[Te.getRawIndex()];!E&&ve&&ve.old&&(xe=ve.old.width,ge=ve.old.height),ye.old=fe==="nodeGroup"?[0,ge]:{x:xe,y:ge,width:0,height:0}}ye.fadein=fe!=="nodeGroup"}}function D(L,P){var I=L*S+P;return(I-1)/I}return iv=A,iv}var S_={},b_;function W5(){if(b_)return S_;b_=1;for(var e=we,t=La(),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<a.length;i++)e.registerAction({type:a[i],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,u){u.eachComponent({mainType:"series",subType:"treemap",query:n},c);function c(o,h){var s=["treemapZoomToNode","treemapRootToNode"],v=t.retrieveTargetInfo(n,s,o);if(v){var l=o.getViewRoot();l&&(n.direction=t.aboveViewRoot(l,v.node)?"rollUp":"drillDown"),o.resetViewRoot(v.node)}}}),S_}var nv,w_;function Pa(){if(w_)return nv;w_=1;var e=Z,t=ut,r=Oe(),a=r.linearMap,i=e.each,n=e.isObject,u=-1,c=function(x){var b=x.mappingMethod,A=x.type,C=this.option=e.clone(x);this.type=A,this.mappingMethod=b,this._normalizeData=S[b];var M=o[A];this.applyVisual=M.applyVisual,this.getColorMapper=M.getColorMapper,this._doMap=M._doMap[b],b==="piecewise"?(v(C),h(C)):b==="category"?C.categories?s(C):v(C,!0):(e.assert(b!=="linear"||C.dataExtent),v(C))};c.prototype={constructor:c,mapValueToVisual:function(x){var b=this._normalizeData(x);return this._doMap(b,x)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var o=c.visualHandlers={color:{applyVisual:f("color"),getColorMapper:function(){var x=this.option;return e.bind(x.mappingMethod==="category"?function(b,A){return!A&&(b=this._normalizeData(b)),m.call(this,b)}:function(b,A,C){var M=!!C;return!A&&(b=this._normalizeData(b)),C=t.fastLerp(b,x.parsedVisual,C),M?C:t.stringify(C,"rgba")},this)},_doMap:{linear:function(x){return t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")},category:m,piecewise:function(x,b){var A=y.call(this,b);return A==null&&(A=t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")),A},fixed:g}},colorHue:l(function(x,b){return t.modifyHSL(x,b)}),colorSaturation:l(function(x,b){return t.modifyHSL(x,null,b)}),colorLightness:l(function(x,b){return t.modifyHSL(x,null,null,b)}),colorAlpha:l(function(x,b){return t.modifyAlpha(x,b)}),opacity:{applyVisual:f("opacity"),_doMap:p([0,1])},liftZ:{applyVisual:f("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(x,b,A){var C=this.mapValueToVisual(x);if(e.isString(C))A("symbol",C);else if(n(C))for(var M in C)C.hasOwnProperty(M)&&A(M,C[M])},_doMap:{linear:d,category:m,piecewise:function(x,b){var A=y.call(this,b);return A==null&&(A=d.call(this,x)),A},fixed:g}},symbolSize:{applyVisual:f("symbolSize"),_doMap:p([0,1])}};function h(x){var b=x.pieceList;x.hasSpecialVisual=!1,e.each(b,function(A,C){A.originIndex=C,A.visual!=null&&(x.hasSpecialVisual=!0)})}function s(x){var b=x.categories,A=x.visual,C=x.categoryMap={};if(i(b,function(L,P){C[L]=P}),!e.isArray(A)){var M=[];e.isObject(A)?i(A,function(L,P){var I=C[P];M[I??u]=L}):M[u]=A,A=_(x,M)}for(var D=b.length-1;D>=0;D--)A[D]==null&&(delete C[b[D]],b.pop())}function v(x,b){var A=x.visual,C=[];e.isObject(A)?i(A,function(D){C.push(D)}):A!=null&&C.push(A);var M={color:1,symbol:1};!b&&C.length===1&&!M.hasOwnProperty(x.type)&&(C[1]=C[0]),_(x,C)}function l(x){return{applyVisual:function(b,A,C){b=this.mapValueToVisual(b),C("color",x(A("color"),b))},_doMap:p([0,1])}}function d(x){var b=this.option.visual;return b[Math.round(a(x,[0,1],[0,b.length-1],!0))]||{}}function f(x){return function(b,A,C){C(x,this.mapValueToVisual(b))}}function m(x){var b=this.option.visual;return b[this.option.loop&&x!==u?x%b.length:x]}function g(){return this.option.visual[0]}function p(x){return{linear:function(b){return a(b,x,this.option.visual,!0)},category:m,piecewise:function(b,A){var C=y.call(this,A);return C==null&&(C=a(b,x,this.option.visual,!0)),C},fixed:g}}function y(x){var b=this.option,A=b.pieceList;if(b.hasSpecialVisual){var C=c.findPieceIndex(x,A),M=A[C];if(M&&M.visual)return M.visual[this.type]}}function _(x,b){return x.visual=b,x.type==="color"&&(x.parsedVisual=e.map(b,function(A){return t.parse(A)})),b}var S={linear:function(x){return a(x,this.option.dataExtent,[0,1],!0)},piecewise:function(x){var b=this.option.pieceList,A=c.findPieceIndex(x,b,!0);if(A!=null)return a(A,[0,b.length-1],[0,1],!0)},category:function(x){var b=this.option.categories?this.option.categoryMap[x]:x;return b??u},fixed:e.noop};c.listVisualTypes=function(){var x=[];return e.each(o,function(b,A){x.push(A)}),x},c.addVisualHandler=function(x,b){o[x]=b},c.isValidType=function(x){return o.hasOwnProperty(x)},c.eachVisual=function(x,b,A){e.isObject(x)?e.each(x,b,A):b.call(A,x)},c.mapVisual=function(x,b,A){var C,M=e.isArray(x)?[]:e.isObject(x)?{}:(C=!0,null);return c.eachVisual(x,function(D,L){var P=b.call(A,D,L);C?M=P:M[L]=P}),M},c.retrieveVisuals=function(x){var b={},A;return x&&i(o,function(C,M){x.hasOwnProperty(M)&&(b[M]=x[M],A=!0)}),A?b:null},c.prepareVisualTypes=function(x){if(n(x)){var b=[];i(x,function(A,C){b.push(C)}),x=b}else if(e.isArray(x))x=x.slice();else return[];return x.sort(function(A,C){return C==="color"&&A!=="color"&&A.indexOf("color")===0?1:-1}),x},c.dependsOn=function(x,b){return b==="color"?!!(x&&x.indexOf(b)===0):x===b},c.findPieceIndex=function(x,b,A){for(var C,M=1/0,D=0,L=b.length;D<L;D++){var P=b[D].value;if(P!=null){if(P===x||typeof P=="string"&&P===x+"")return D;A&&z(P,D)}}for(var D=0,L=b.length;D<L;D++){var I=b[D],E=I.interval,O=I.close;if(E){if(E[0]===-1/0){if(T(O[1],x,E[1]))return D}else if(E[1]===1/0){if(T(O[0],E[0],x))return D}else if(T(O[0],E[0],x)&&T(O[1],x,E[1]))return D;A&&z(E[0],D),A&&z(E[1],D)}}if(A)return x===1/0?b.length-1:x===-1/0?0:C;function z(G,V){var R=Math.abs(G-x);R<M&&(M=R,C=V)}};function T(x,b,A){return x?b<=A:b<A}var w=c;return nv=w,nv}var ov,A_;function Z5(){if(A_)return ov;A_=1;var e=Pa(),t=ut,r=Z,a=r.isArray,i="itemStyle",n={seriesType:"treemap",reset:function(f,m,g,p){var y=f.getData().tree,_=y.root,S=f.getModel(i);if(!_.isRemoved()){var T=r.map(y.levelModels,function(w){return w?w.get(i):null});u(_,{},T,S,f.getViewRoot().getAncestors(),f)}}};function u(f,m,g,p,y,_){var S=f.getModel(),T=f.getLayout();if(!(!T||T.invisible||!T.isInView)){var w=f.getModel(i),x=g[f.depth],b=c(w,m,x,p),A=w.get("borderColor"),C=w.get("borderColorSaturation"),M;C!=null&&(M=o(b),A=h(C,M)),f.setVisual("borderColor",A);var D=f.viewChildren;if(!D||!D.length)M=o(b),f.setVisual("color",M);else{var L=v(f,S,T,w,b,D);r.each(D,function(P,I){if(P.depth>=y.length||P===y[P.depth]){var E=d(S,b,P,I,L,_);u(P,E,g,p,y,_)}})}}}function c(f,m,g,p){var y=r.extend({},m);return r.each(["color","colorAlpha","colorSaturation"],function(_){var S=f.get(_,!0);S==null&&g&&(S=g[_]),S==null&&(S=m[_]),S==null&&(S=p.get(_)),S!=null&&(y[_]=S)}),y}function o(f){var m=s(f,"color");if(m){var g=s(f,"colorAlpha"),p=s(f,"colorSaturation");return p&&(m=t.modifyHSL(m,null,null,p)),g&&(m=t.modifyAlpha(m,g)),m}}function h(f,m){return m!=null?t.modifyHSL(m,null,null,f):null}function s(f,m){var g=f[m];if(g!=null&&g!=="none")return g}function v(f,m,g,p,y,_){if(!(!_||!_.length)){var S=l(m,"color")||y.color!=null&&y.color!=="none"&&(l(m,"colorAlpha")||l(m,"colorSaturation"));if(S){var T=m.get("visualMin"),w=m.get("visualMax"),x=g.dataExtent.slice();T!=null&&T<x[0]&&(x[0]=T),w!=null&&w>x[1]&&(x[1]=w);var b=m.get("colorMappingBy"),A={type:S.name,dataExtent:x,visual:S.range};A.type==="color"&&(b==="index"||b==="id")?(A.mappingMethod="category",A.loop=!0):A.mappingMethod="linear";var C=new e(A);return C.__drColorMappingBy=b,C}}}function l(f,m){var g=f.get(m);return a(g)&&g.length?{name:m,range:g}:null}function d(f,m,g,p,y,_){var S=r.extend({},m);if(y){var T=y.type,w=T==="color"&&y.__drColorMappingBy,x=w==="index"?p:w==="id"?_.mapIdToIndex(g.getId()):g.getValue(f.get("visualDimension"));S[T]=y.mapValueToVisual(x)}return S}return ov=n,ov}var sv,T_;function Y5(){if(T_)return sv;T_=1;var e=Z,t=Ke,r=Oe(),a=r.parsePercent,i=r.MAX_SAFE_INTEGER,n=Ne,u=La(),c=Math.max,o=Math.min,h=e.retrieve,s=e.each,v=["itemStyle","borderWidth"],l=["itemStyle","gapWidth"],d=["upperLabel","show"],f=["upperLabel","height"],m={seriesType:"treemap",reset:function(M,D,L,P){var I=L.getWidth(),E=L.getHeight(),O=M.option,z=n.getLayoutRect(M.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()}),G=O.size||[],V=a(h(z.width,G[0]),I),R=a(h(z.height,G[1]),E),B=P&&P.type,k=["treemapZoomToNode","treemapRootToNode"],N=u.retrieveTargetInfo(P,k,M),q=B==="treemapRender"||B==="treemapMove"?P.rootRect:null,H=M.getViewRoot(),F=u.getPathToRoot(H);if(B!=="treemapMove"){var U=B==="treemapZoomToNode"?x(M,N,H,V,R):q?[q.width,q.height]:[V,R],W=O.sort;W&&W!=="asc"&&W!=="desc"&&(W="desc");var K={squareRatio:O.squareRatio,sort:W,leafDepth:O.leafDepth};H.hostTree.clearLayouts();var J={x:0,y:0,width:U[0],height:U[1],area:U[0]*U[1]};H.setLayout(J),g(H,K,!1,0);var J=H.getLayout();s(F,function(ee,ie){var re=(F[ie+1]||H).getValue();ee.setLayout(e.extend({dataExtent:[re,re],borderWidth:0,upperHeight:0},J))})}var j=M.getData().tree.root;j.setLayout(b(z,q,N),!0),M.setLayoutInfo(z),A(j,new t(-z.x,-z.y,I,E),F,H,0)}};function g(M,D,L,P){var I,E;if(!M.isRemoved()){var O=M.getLayout();I=O.width,E=O.height;var N=M.getModel(),z=N.get(v),G=N.get(l)/2,V=C(N),R=Math.max(z,V),B=z-G,k=R-G,N=M.getModel();M.setLayout({borderWidth:z,upperHeight:R,upperLabelHeight:V},!0),I=c(I-2*B,0),E=c(E-B-k,0);var q=I*E,H=p(M,N,q,D,L,P);if(H.length){var F={x:B,y:k,width:I,height:E},U=o(I,E),W=1/0,K=[];K.area=0;for(var J=0,j=H.length;J<j;){var ee=H[J];K.push(ee),K.area+=ee.getLayout().area;var ie=T(K,U,D.squareRatio);ie<=W?(J++,W=ie):(K.area-=K.pop().getLayout().area,w(K,U,F,G,!1),U=o(F.width,F.height),K.length=K.area=0,W=1/0)}if(K.length&&w(K,U,F,G,!0),!L){var re=N.get("childrenVisibleMin");re!=null&&q<re&&(L=!0)}for(var J=0,j=H.length;J<j;J++)g(H[J],D,L,P+1)}}}function p(M,D,L,P,I,E){var O=M.children||[],z=P.sort;z!=="asc"&&z!=="desc"&&(z=null);var G=P.leafDepth!=null&&P.leafDepth<=E;if(I&&!G)return M.viewChildren=[];O=e.filter(O,function(N){return!N.isRemoved()}),_(O,z);var V=S(D,O,z);if(V.sum===0)return M.viewChildren=[];if(V.sum=y(D,L,V.sum,z,O),V.sum===0)return M.viewChildren=[];for(var R=0,B=O.length;R<B;R++){var k=O[R].getValue()/V.sum*L;O[R].setLayout({area:k})}return G&&(O.length&&M.setLayout({isLeafRoot:!0},!0),O.length=0),M.viewChildren=O,M.setLayout({dataExtent:V.dataExtent},!0),O}function y(M,D,L,P,I){if(!P)return L;for(var E=M.get("visibleMin"),O=I.length,z=O,G=O-1;G>=0;G--){var V=I[P==="asc"?O-G-1:G].getValue();V/L*D<E&&(z=G,L-=V)}return P==="asc"?I.splice(0,O-z):I.splice(z,O-z),L}function _(M,D){return D&&M.sort(function(L,P){var I=D==="asc"?L.getValue()-P.getValue():P.getValue()-L.getValue();return I===0?D==="asc"?L.dataIndex-P.dataIndex:P.dataIndex-L.dataIndex:I}),M}function S(M,D,L){for(var P=0,I=0,E=D.length;I<E;I++)P+=D[I].getValue();var O=M.get("visualDimension"),z;if(!D||!D.length)z=[NaN,NaN];else if(O==="value"&&L)z=[D[D.length-1].getValue(),D[0].getValue()],L==="asc"&&z.reverse();else{var z=[1/0,-1/0];s(D,function(V){var R=V.getValue(O);R<z[0]&&(z[0]=R),R>z[1]&&(z[1]=R)})}return{sum:P,dataExtent:z}}function T(M,D,L){for(var P=0,I=1/0,E=0,O,z=M.length;E<z;E++)O=M[E].getLayout().area,O&&(O<I&&(I=O),O>P&&(P=O));var G=M.area*M.area,V=D*D*L;return G?c(V*P/G,G/(V*I)):1/0}function w(M,D,L,P,I){var E=D===L.width?0:1,O=1-E,z=["x","y"],G=["width","height"],V=L[z[E]],R=D?M.area/D:0;(I||R>L[G[O]])&&(R=L[G[O]]);for(var B=0,k=M.length;B<k;B++){var N=M[B],q={},H=R?N.getLayout().area/R:0,F=q[G[O]]=c(R-2*P,0),U=L[z[E]]+L[G[E]]-V,W=B===k-1||U<H?U:H,K=q[G[E]]=c(W-2*P,0);q[z[O]]=L[z[O]]+o(P,F/2),q[z[E]]=V+o(P,K/2),V+=W,N.setLayout(q,!0)}L[z[O]]+=R,L[G[O]]-=R}function x(M,D,L,P,I){var E=(D||{}).node,O=[P,I];if(!E||E===L)return O;for(var z,G=P*I,V=G*M.option.zoomToNodeRatio;z=E.parentNode;){for(var R=0,B=z.children,k=0,N=B.length;k<N;k++)R+=B[k].getValue();var q=E.getValue();if(q===0)return O;V*=R/q;var H=z.getModel(),F=H.get(v),U=Math.max(F,C(H));V+=4*F*F+(3*F+U)*Math.pow(V,.5),V>i&&(V=i),E=z}V<G&&(V=G);var W=Math.pow(V/G,.5);return[P*W,I*W]}function b(M,D,L){if(D)return{x:D.x,y:D.y};var P={x:0,y:0};if(!L)return P;var I=L.node,E=I.getLayout();if(!E)return P;for(var O=[E.width/2,E.height/2],z=I;z;){var G=z.getLayout();O[0]+=G.x,O[1]+=G.y,z=z.parentNode}return{x:M.width/2-O[0],y:M.height/2-O[1]}}function A(M,D,L,P,I){var E=M.getLayout(),O=L[I],z=O&&O===M;if(!(O&&!z||I===L.length&&M!==P)){M.setLayout({isInView:!0,invisible:!z&&!D.intersect(E),isAboveViewRoot:z},!0);var G=new t(D.x-E.x,D.y-E.y,D.width,D.height);s(M.viewChildren||[],function(V){A(V,G,L,P,I+1)})}}function C(M){return M.get(d)?M.get(f):0}return sv=m,sv}var C_;function X5(){if(C_)return g_;C_=1;var e=we;G5(),U5(),W5();var t=Z5(),r=Y5();return e.registerVisual(t),e.registerLayout(r),g_}var M_={},lv,D_;function K5(){if(D_)return lv;D_=1;var e=Z,t=Bt,r=t.enableClassCheck;function a(s){return"_EC_"+s}var i=function(s){this._directed=s||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},n=i.prototype;n.type="graph",n.isDirected=function(){return this._directed},n.addNode=function(s,v){s=s==null?""+v:""+s;var l=this._nodesMap;if(!l[a(s)]){var d=new u(s,v);return d.hostGraph=this,this.nodes.push(d),l[a(s)]=d,d}},n.getNodeByIndex=function(s){var v=this.data.getRawIndex(s);return this.nodes[v]},n.getNodeById=function(s){return this._nodesMap[a(s)]},n.addEdge=function(s,v,l){var d=this._nodesMap,f=this._edgesMap;if(typeof s=="number"&&(s=this.nodes[s]),typeof v=="number"&&(v=this.nodes[v]),u.isInstance(s)||(s=d[a(s)]),u.isInstance(v)||(v=d[a(v)]),!(!s||!v)){var m=s.id+"-"+v.id;if(!f[m]){var g=new c(s,v,l);return g.hostGraph=this,this._directed&&(s.outEdges.push(g),v.inEdges.push(g)),s.edges.push(g),s!==v&&v.edges.push(g),this.edges.push(g),f[m]=g,g}}},n.getEdgeByIndex=function(s){var v=this.edgeData.getRawIndex(s);return this.edges[v]},n.getEdge=function(s,v){u.isInstance(s)&&(s=s.id),u.isInstance(v)&&(v=v.id);var l=this._edgesMap;return this._directed?l[s+"-"+v]:l[s+"-"+v]||l[v+"-"+s]},n.eachNode=function(s,v){for(var l=this.nodes,d=l.length,f=0;f<d;f++)l[f].dataIndex>=0&&s.call(v,l[f],f)},n.eachEdge=function(s,v){for(var l=this.edges,d=l.length,f=0;f<d;f++)l[f].dataIndex>=0&&l[f].node1.dataIndex>=0&&l[f].node2.dataIndex>=0&&s.call(v,l[f],f)},n.breadthFirstTraverse=function(s,v,l,d){if(u.isInstance(v)||(v=this._nodesMap[a(v)]),!!v){for(var f=l==="out"?"outEdges":l==="in"?"inEdges":"edges",m=0;m<this.nodes.length;m++)this.nodes[m].__visited=!1;if(!s.call(d,v,null))for(var g=[v];g.length;)for(var p=g.shift(),y=p[f],m=0;m<y.length;m++){var _=y[m],S=_.node1===p?_.node2:_.node1;if(!S.__visited){if(s.call(d,S,p))return;g.push(S),S.__visited=!0}}}},n.update=function(){for(var s=this.data,v=this.edgeData,l=this.nodes,d=this.edges,f=0,m=l.length;f<m;f++)l[f].dataIndex=-1;for(var f=0,m=s.count();f<m;f++)l[s.getRawIndex(f)].dataIndex=f;v.filterSelf(function(g){var p=d[v.getRawIndex(g)];return p.node1.dataIndex>=0&&p.node2.dataIndex>=0});for(var f=0,m=d.length;f<m;f++)d[f].dataIndex=-1;for(var f=0,m=v.count();f<m;f++)d[v.getRawIndex(f)].dataIndex=f},n.clone=function(){for(var s=new i(this._directed),v=this.nodes,l=this.edges,d=0;d<v.length;d++)s.addNode(v[d].id,v[d].dataIndex);for(var d=0;d<l.length;d++){var f=l[d];s.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return s};function u(s,v){this.id=s??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=v??-1}u.prototype={constructor:u,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(s){if(!(this.dataIndex<0)){var v=this.hostGraph,l=v.data.getItemModel(this.dataIndex);return l.getModel(s)}}};function c(s,v,l){this.node1=s,this.node2=v,this.dataIndex=l??-1}c.prototype.getModel=function(s){if(!(this.dataIndex<0)){var v=this.hostGraph,l=v.edgeData.getItemModel(this.dataIndex);return l.getModel(s)}};var o=function(s,v){return{getValue:function(l){var d=this[s][v];return d.get(d.getDimension(l||"value"),this.dataIndex)},setVisual:function(l,d){this.dataIndex>=0&&this[s][v].setItemVisual(this.dataIndex,l,d)},getVisual:function(l,d){return this[s][v].getItemVisual(this.dataIndex,l,d)},setLayout:function(l,d){this.dataIndex>=0&&this[s][v].setItemLayout(this.dataIndex,l,d)},getLayout:function(){return this[s][v].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[s][v].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[s][v].getRawIndex(this.dataIndex)}}};e.mixin(u,o("hostGraph","data")),e.mixin(c,o("hostGraph","edgeData")),i.Node=u,i.Edge=c,r(u),r(c);var h=i;return lv=h,lv}var uv,L_;function DM(){if(L_)return uv;L_=1;var e=Z,t=Yt(),r=K5(),a=CM(),i=_i(),n=wr,u=Br();function c(o,h,s,v,l){for(var d=new r(v),f=0;f<o.length;f++)d.addNode(e.retrieve(o[f].id,o[f].name,f),f);for(var m=[],g=[],p=0,f=0;f<h.length;f++){var y=h[f],_=y.source,S=y.target;d.addEdge(_,S,p)&&(g.push(y),m.push(e.retrieve(y.id,_+" > "+S)),p++)}var T=s.get("coordinateSystem"),w;if(T==="cartesian2d"||T==="polar")w=u(o,s);else{var x=n.get(T),b=x&&x.type!=="view"?x.dimensions||[]:[];e.indexOf(b,"value")<0&&b.concat(["value"]);var A=i(o,{coordDimensions:b});w=new t(A,s),w.initData(o)}var C=new t(["value"],s);return C.initData(g,m),l&&l(w,C),a({mainData:w,struct:d,structAttr:"graph",datas:{node:w,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}return uv=c,uv}var vv,P_;function Q5(){if(P_)return vv;P_=1;var e=we,t=Yt(),r=Z,a=Re,i=a.defaultEmphasis,n=ht(),u=Qe(),c=u.encodeHTML,o=DM(),h=In(),s=e.extendSeriesModel({type:"series.graph",init:function(l){s.superApply(this,"init",arguments);var d=this;function f(){return d._categoriesData}this.legendVisualProvider=new h(f,f),this.fillDataTextStyle(l.edges||l.links),this._updateCategoriesData()},mergeOption:function(l){s.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(l.edges||l.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(l){s.superApply(this,"mergeDefaultAndTheme",arguments),i(l,["edgeLabel"],["show"])},getInitialData:function(l,d){var f=l.edges||l.links||[],m=l.data||l.nodes||[],g=this;if(m&&f)return o(m,f,this,!0,p).data;function p(y,_){y.wrapMethod("getItemModel",function(A){var C=g._categoriesModels,M=A.getShallow("category"),D=C[M];return D&&(D.parentModel=A.parentModel,A.parentModel=D),A});var S=g.getModel("edgeLabel"),T=new n({label:S.option},S.parentModel,d),w=g.getModel("emphasis.edgeLabel"),x=new n({emphasis:{label:w.option}},w.parentModel,d);_.wrapMethod("getItemModel",function(A){return A.customizeGetParent(b),A});function b(A){return A=this.parsePath(A),A&&A[0]==="label"?T:A&&A[0]==="emphasis"&&A[1]==="label"?x:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(l,d,f){if(f==="edge"){var m=this.getData(),g=this.getDataParams(l,f),p=m.graph.getEdgeByIndex(l),y=m.getName(p.node1.dataIndex),_=m.getName(p.node2.dataIndex),S=[];return y!=null&&S.push(y),_!=null&&S.push(_),S=c(S.join(" > ")),g.value&&(S+=" : "+c(g.value)),S}else return s.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var l=r.map(this.option.categories||[],function(f){return f.value!=null?f:r.extend({value:0},f)}),d=new t(["value"],this);d.initData(l),this._categoriesData=d,this._categoriesModels=d.mapArray(function(f){return d.getItemModel(f,!0)})},setZoom:function(l){this.option.zoom=l},setCenter:function(l){this.option.center=l},isAnimationEnabled:function(){return s.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),v=s;return vv=v,vv}var hv,I_;function J5(){if(I_)return hv;I_=1;var e=me,t=Ye(),r=e.Line.prototype,a=e.BezierCurve.prototype;function i(u){return isNaN(+u.cpx1)||isNaN(+u.cpy1)}var n=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(u,c){this[i(c)?"_buildPathLine":"_buildPathCurve"](u,c)},_buildPathLine:r.buildPath,_buildPathCurve:a.buildPath,pointAt:function(u){return this[i(this.shape)?"_pointAtLine":"_pointAtCurve"](u)},_pointAtLine:r.pointAt,_pointAtCurve:a.pointAt,tangentAt:function(u){var c=this.shape,o=i(c)?[c.x2-c.x1,c.y2-c.y1]:this._tangentAtCurve(u);return t.normalize(o,o)},_tangentAtCurve:a.tangentAt});return hv=n,hv}var cv,R_;function vg(){if(R_)return cv;R_=1;var e=Z,t=Ye(),r=Xt(),a=J5(),i=me,n=Oe(),u=n.round,c=["fromSymbol","toSymbol"];function o(g){return"_"+g+"Type"}function h(g,p,y){var _=p.getItemVisual(y,"color"),S=p.getItemVisual(y,g),T=p.getItemVisual(y,g+"Size");if(!(!S||S==="none")){e.isArray(T)||(T=[T,T]);var w=r.createSymbol(S,-T[0]/2,-T[1]/2,T[0],T[1],_);return w.name=g,w}}function s(g){var p=new a({name:"line",subPixelOptimize:!0});return v(p.shape,g),p}function v(g,p){g.x1=p[0][0],g.y1=p[0][1],g.x2=p[1][0],g.y2=p[1][1],g.percent=1;var y=p[2];y?(g.cpx1=y[0],g.cpy1=y[1]):(g.cpx1=NaN,g.cpy1=NaN)}function l(){var g=this,p=g.childOfName("fromSymbol"),y=g.childOfName("toSymbol"),_=g.childOfName("label");if(!(!p&&!y&&_.ignore)){for(var S=1,T=this.parent;T;)T.scale&&(S/=T.scale[0]),T=T.parent;var w=g.childOfName("line");if(!(!this.__dirty&&!w.__dirty)){var x=w.shape.percent,b=w.pointAt(0),A=w.pointAt(x),C=t.sub([],A,b);if(t.normalize(C,C),p){p.attr("position",b);var M=w.tangentAt(0);p.attr("rotation",Math.PI/2-Math.atan2(M[1],M[0])),p.attr("scale",[S*x,S*x])}if(y){y.attr("position",A);var M=w.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(M[1],M[0])),y.attr("scale",[S*x,S*x])}if(!_.ignore){_.attr("position",A);var D,L,P,I,E=_.__labelDistance,O=E[0]*S,z=E[1]*S,G=x/2,M=w.tangentAt(G),V=[M[1],-M[0]],R=w.pointAt(G);V[1]>0&&(V[0]=-V[0],V[1]=-V[1]);var B=M[0]<0?-1:1;if(_.__position!=="start"&&_.__position!=="end"){var k=-Math.atan2(M[1],M[0]);A[0]<b[0]&&(k=Math.PI+k),_.attr("rotation",k)}var N;switch(_.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":N=-z,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":N=z,P="top";break;default:N=0,P="middle"}switch(_.__position){case"end":D=[C[0]*O+A[0],C[1]*z+A[1]],L=C[0]>.8?"left":C[0]<-.8?"right":"center",P=C[1]>.8?"top":C[1]<-.8?"bottom":"middle";break;case"start":D=[-C[0]*O+b[0],-C[1]*z+b[1]],L=C[0]>.8?"right":C[0]<-.8?"left":"center",P=C[1]>.8?"bottom":C[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":D=[O*B+b[0],b[1]+N],L=M[0]<0?"right":"left",I=[-O*B,-N];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":D=[R[0],R[1]+N],L="center",I=[0,-N];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":D=[-O*B+A[0],A[1]+N],L=M[0]>=0?"right":"left",I=[O*B,-N];break}_.attr({style:{textVerticalAlign:_.__verticalAlign||P,textAlign:_.__textAlign||L},position:D,scale:[S,S],origin:I})}}}}function d(g,p,y){i.Group.call(this),this._createLine(g,p,y)}var f=d.prototype;f.beforeUpdate=l,f._createLine=function(g,p,y){var _=g.hostModel,S=g.getItemLayout(p),T=s(S);T.shape.percent=0,i.initProps(T,{shape:{percent:1}},_,p),this.add(T);var w=new i.Text({name:"label",lineLabelOriginalOpacity:1});this.add(w),e.each(c,function(x){var b=h(x,g,p);this.add(b),this[o(x)]=g.getItemVisual(p,x)},this),this._updateCommonStl(g,p,y)},f.updateData=function(g,p,y){var _=g.hostModel,S=this.childOfName("line"),T=g.getItemLayout(p),w={shape:{}};v(w.shape,T),i.updateProps(S,w,_,p),e.each(c,function(x){var b=g.getItemVisual(p,x),A=o(x);if(this[A]!==b){this.remove(this.childOfName(x));var C=h(x,g,p);this.add(C)}this[A]=b},this),this._updateCommonStl(g,p,y)},f._updateCommonStl=function(g,p,y){var _=g.hostModel,S=this.childOfName("line"),T=y&&y.lineStyle,w=y&&y.hoverLineStyle,x=y&&y.labelModel,b=y&&y.hoverLabelModel;if(!y||g.hasItemOption){var A=g.getItemModel(p);T=A.getModel("lineStyle").getLineStyle(),w=A.getModel("emphasis.lineStyle").getLineStyle(),x=A.getModel("label"),b=A.getModel("emphasis.label")}var C=g.getItemVisual(p,"color"),M=e.retrieve3(g.getItemVisual(p,"opacity"),T.opacity,1);S.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:C,opacity:M},T)),S.hoverStyle=w,e.each(c,function(B){var k=this.childOfName(B);k&&(k.setColor(C),k.setStyle({opacity:M}))},this);var D=x.getShallow("show"),L=b.getShallow("show"),P=this.childOfName("label"),I,E;if((D||L)&&(I=C||"#000",E=_.getFormattedLabel(p,"normal",g.dataType),E==null)){var O=_.getRawValue(p);E=O==null?g.getName(p):isFinite(O)?u(O):O}var z=D?E:null,G=L?e.retrieve2(_.getFormattedLabel(p,"emphasis",g.dataType),E):null,V=P.style;if(z!=null||G!=null){i.setTextStyle(P.style,x,{text:z},{autoColor:I}),P.__textAlign=V.textAlign,P.__verticalAlign=V.textVerticalAlign,P.__position=x.get("position")||"middle";var R=x.get("distance");e.isArray(R)||(R=[R,R]),P.__labelDistance=R}G!=null?P.hoverStyle={text:G,textFill:b.getTextColor(!0),fontStyle:b.getShallow("fontStyle"),fontWeight:b.getShallow("fontWeight"),fontSize:b.getShallow("fontSize"),fontFamily:b.getShallow("fontFamily")}:P.hoverStyle={text:null},P.ignore=!D&&!L,i.setHoverStyle(this)},f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.updateLayout=function(g,p){this.setLinePoints(g.getItemLayout(p))},f.setLinePoints=function(g){var p=this.childOfName("line");v(p.shape,g),p.dirty()},e.inherits(d,i.Group);var m=d;return cv=m,cv}var fv,E_;function hg(){if(E_)return fv;E_=1;var e=me,t=vg();function r(s){this._ctor=s||t,this.group=new e.Group}var a=r.prototype;a.isPersistent=function(){return!0},a.updateData=function(s){var v=this,l=v.group,d=v._lineData;v._lineData=s,d||l.removeAll();var f=u(s);s.diff(d).add(function(m){i(v,s,m,f)}).update(function(m,g){n(v,d,s,g,m,f)}).remove(function(m){l.remove(d.getItemGraphicEl(m))}).execute()};function i(s,v,l,d){var f=v.getItemLayout(l);if(o(f)){var m=new s._ctor(v,l,d);v.setItemGraphicEl(l,m),s.group.add(m)}}function n(s,v,l,d,f,m){var g=v.getItemGraphicEl(d);if(!o(l.getItemLayout(f))){s.group.remove(g);return}g?g.updateData(l,f,m):g=new s._ctor(l,f,m),l.setItemGraphicEl(f,g),s.group.add(g)}a.updateLayout=function(){var s=this._lineData;s&&s.eachItemGraphicEl(function(v,l){v.updateLayout(s,l)},this)},a.incrementalPrepareUpdate=function(s){this._seriesScope=u(s),this._lineData=null,this.group.removeAll()},a.incrementalUpdate=function(s,v){function l(g){g.isGroup||(g.incremental=g.useHoverLayer=!0)}for(var d=s.start;d<s.end;d++){var f=v.getItemLayout(d);if(o(f)){var m=new this._ctor(v,d,this._seriesScope);m.traverse(l),this.group.add(m),v.setItemGraphicEl(d,m)}}};function u(s){var v=s.hostModel;return{lineStyle:v.getModel("lineStyle").getLineStyle(),hoverLineStyle:v.getModel("emphasis.lineStyle").getLineStyle(),labelModel:v.getModel("label"),hoverLabelModel:v.getModel("emphasis.label")}}a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var s=this._incremental;s&&s.clearDisplaybles()};function c(s){return isNaN(s[0])||isNaN(s[1])}function o(s){return!c(s[0])&&!c(s[1])}var h=r;return fv=h,fv}var uo={},k_;function cg(){if(k_)return uo;k_=1;function e(r){var a=r.coordinateSystem;if(a.type!=="view")return 1;var i=r.option.nodeScaleRatio,n=a.scale,u=n&&n[0]||1,c=a.getZoom(),o=(c-1)*i+1;return o/u}function t(r){var a=r.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}return uo.getNodeGlobalScale=e,uo.getSymbolSize=t,uo}var dv,O_;function j5(){if(O_)return dv;O_=1;var e=vt,t=Ye(),r=cg(),a=r.getSymbolSize,i=[],n=[],u=[],c=e.quadraticAt,o=t.distSquare,h=Math.abs;function s(l,d,f){for(var m=l[0],g=l[1],p=l[2],y=1/0,_,S=f*f,T=.1,w=.1;w<=.9;w+=.1){i[0]=c(m[0],g[0],p[0],w),i[1]=c(m[1],g[1],p[1],w);var x=h(o(i,d)-S);x<y&&(y=x,_=w)}for(var b=0;b<32;b++){var A=_+T;n[0]=c(m[0],g[0],p[0],_),n[1]=c(m[1],g[1],p[1],_),u[0]=c(m[0],g[0],p[0],A),u[1]=c(m[1],g[1],p[1],A);var x=o(n,d)-S;if(h(x)<.01)break;var C=o(u,d)-S;T/=2,x<0?C>=0?_=_+T:_=_-T:C>=0?_=_-T:_=_+T}return _}function v(l,d){var f=[],m=e.quadraticSubdivide,g=[[],[],[]],p=[[],[]],y=[];d/=2,l.eachEdge(function(_,S){var T=_.getLayout(),w=_.getVisual("fromSymbol"),x=_.getVisual("toSymbol");T.__original||(T.__original=[t.clone(T[0]),t.clone(T[1])],T[2]&&T.__original.push(t.clone(T[2])));var b=T.__original;if(T[2]!=null){if(t.copy(g[0],b[0]),t.copy(g[1],b[2]),t.copy(g[2],b[1]),w&&w!=="none"){var A=a(_.node1),C=s(g,b[0],A*d);m(g[0][0],g[1][0],g[2][0],C,f),g[0][0]=f[3],g[1][0]=f[4],m(g[0][1],g[1][1],g[2][1],C,f),g[0][1]=f[3],g[1][1]=f[4]}if(x&&x!=="none"){var A=a(_.node2),C=s(g,b[1],A*d);m(g[0][0],g[1][0],g[2][0],C,f),g[1][0]=f[1],g[2][0]=f[2],m(g[0][1],g[1][1],g[2][1],C,f),g[1][1]=f[1],g[2][1]=f[2]}t.copy(T[0],g[0]),t.copy(T[1],g[2]),t.copy(T[2],g[1])}else{if(t.copy(p[0],b[0]),t.copy(p[1],b[1]),t.sub(y,p[1],p[0]),t.normalize(y,y),w&&w!=="none"){var A=a(_.node1);t.scaleAndAdd(p[0],p[0],y,A*d)}if(x&&x!=="none"){var A=a(_.node2);t.scaleAndAdd(p[1],p[1],y,-A*d)}t.copy(T[0],p[0]),t.copy(T[1],p[1])}})}return dv=v,dv}var gv,z_;function e3(){if(z_)return gv;z_=1;var e=we,t=Z,r=Mn(),a=hg(),i=En(),n=ng(),u=ys(),c=u.onIrrelevantElement,o=me,h=j5(),s=cg(),v=s.getNodeGlobalScale,l="__focusNodeAdjacency",d="__unfocusNodeAdjacency",f=["itemStyle","opacity"],m=["lineStyle","opacity"];function g(S,T){var w=S.getVisual("opacity");return w??S.getModel().get(T)}function p(S,T,w){var x=S.getGraphicEl(),b=g(S,T);w!=null&&(b==null&&(b=1),b*=w),x.downplay&&x.downplay(),x.traverse(function(A){if(!A.isGroup){var C=A.lineLabelOriginalOpacity;(C==null||w!=null)&&(C=b),A.setStyle("opacity",C)}})}function y(S,T){var w=g(S,T),x=S.getGraphicEl();x.traverse(function(b){!b.isGroup&&b.setStyle("opacity",w)}),x.highlight&&x.highlight()}var _=e.extendChartView({type:"graph",init:function(S,T){var w=new r,x=new a,b=this.group;this._controller=new i(T.getZr()),this._controllerHost={target:b},b.add(w.group),b.add(x.group),this._symbolDraw=w,this._lineDraw=x,this._firstRender=!0},render:function(S,T,w){var x=this,b=S.coordinateSystem;this._model=S;var A=this._symbolDraw,C=this._lineDraw,M=this.group;if(b.type==="view"){var D={position:b.position,scale:b.scale};this._firstRender?M.attr(D):o.updateProps(M,D,S)}h(S.getGraph(),v(S));var L=S.getData();A.updateData(L);var P=S.getEdgeData();C.updateData(P),this._updateNodeAndLinkScale(),this._updateController(S,T,w),clearTimeout(this._layoutTimeout);var I=S.forceLayout,E=S.get("force.layoutAnimation");I&&this._startForceLayoutIteration(I,E),L.eachItemGraphicEl(function(V,R){var B=L.getItemModel(R);V.off("drag").off("dragend");var k=B.get("draggable");k&&V.on("drag",function(){I&&(I.warmUp(),!this._layouting&&this._startForceLayoutIteration(I,E),I.setFixed(R),L.setItemLayout(R,V.position))},this).on("dragend",function(){I&&I.setUnfixed(R)},this),V.setDraggable(k&&I),V[l]&&V.off("mouseover",V[l]),V[d]&&V.off("mouseout",V[d]),B.get("focusNodeAdjacency")&&(V.on("mouseover",V[l]=function(){x._clearTimer(),w.dispatchAction({type:"focusNodeAdjacency",seriesId:S.id,dataIndex:V.dataIndex})}),V.on("mouseout",V[d]=function(){x._dispatchUnfocus(w)}))},this),L.graph.eachEdge(function(V){var R=V.getGraphicEl();R[l]&&R.off("mouseover",R[l]),R[d]&&R.off("mouseout",R[d]),V.getModel().get("focusNodeAdjacency")&&(R.on("mouseover",R[l]=function(){x._clearTimer(),w.dispatchAction({type:"focusNodeAdjacency",seriesId:S.id,edgeDataIndex:V.dataIndex})}),R.on("mouseout",R[d]=function(){x._dispatchUnfocus(w)}))});var O=S.get("layout")==="circular"&&S.get("circular.rotateLabel"),z=L.getLayout("cx"),G=L.getLayout("cy");L.eachItemGraphicEl(function(V,R){var B=L.getItemModel(R),k=B.get("label.rotate")||0,N=V.getSymbolPath();if(O){var q=L.getItemLayout(R),H=Math.atan2(q[1]-G,q[0]-z);H<0&&(H=Math.PI*2+H);var F=q[0]<z;F&&(H=H-Math.PI);var U=F?"left":"right";o.modifyLabelStyle(N,{textRotation:-H,textPosition:U,textOrigin:"center"},{textPosition:U})}else o.modifyLabelStyle(N,{textRotation:k*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(S,T){var w=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){w._unfocusDelayTimer=null,S.dispatchAction({type:"unfocusNodeAdjacency",seriesId:w._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(S,T,w,x){var b=S.getData(),A=b.graph,C=x.dataIndex,M=x.edgeDataIndex,D=A.getNodeByIndex(C),L=A.getEdgeByIndex(M);!D&&!L||(A.eachNode(function(P){p(P,f,.1)}),A.eachEdge(function(P){p(P,m,.1)}),D&&(y(D,f),t.each(D.edges,function(P){P.dataIndex<0||(y(P,m),y(P.node1,f),y(P.node2,f))})),L&&(y(L,m),y(L.node1,f),y(L.node2,f)))},unfocusNodeAdjacency:function(S,T,w,x){var b=S.getData().graph;b.eachNode(function(A){p(A,f)}),b.eachEdge(function(A){p(A,m)})},_startForceLayoutIteration:function(S,T){var w=this;(function x(){S.step(function(b){w.updateLayout(w._model),(w._layouting=!b)&&(T?w._layoutTimeout=setTimeout(x,16):x())})})()},_updateController:function(S,T,w){var x=this._controller,b=this._controllerHost,A=this.group;if(x.setPointerChecker(function(C,M,D){var L=A.getBoundingRect();return L.applyTransform(A.transform),L.contain(M,D)&&!c(C,w,S)}),S.coordinateSystem.type!=="view"){x.disable();return}x.enable(S.get("roam")),b.zoomLimit=S.get("scaleLimit"),b.zoom=S.coordinateSystem.getZoom(),x.off("pan").off("zoom").on("pan",function(C){n.updateViewOnPan(b,C.dx,C.dy),w.dispatchAction({seriesId:S.id,type:"graphRoam",dx:C.dx,dy:C.dy})}).on("zoom",function(C){n.updateViewOnZoom(b,C.scale,C.originX,C.originY),w.dispatchAction({seriesId:S.id,type:"graphRoam",zoom:C.scale,originX:C.originX,originY:C.originY}),this._updateNodeAndLinkScale(),h(S.getGraph(),v(S)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var S=this._model,T=S.getData(),w=v(S),x=[w,w];T.eachItemGraphicEl(function(b,A){b.attr("scale",x)})},updateLayout:function(S){h(S.getGraph(),v(S)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(S,T){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return gv=_,gv}var B_={},N_={},V_;function LM(){if(V_)return N_;V_=1;var e=we;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),N_}var H_;function t3(){if(H_)return B_;H_=1;var e=we,t=og(),r=t.updateCenterAndZoom;LM();var a={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(a,function(i,n){n.eachComponent({mainType:"series",query:i},function(u){var c=u.coordinateSystem,o=r(c,i);u.setCenter&&u.setCenter(o.center),u.setZoom&&u.setZoom(o.zoom)})}),B_}var pv,q_;function r3(){if(q_)return pv;q_=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),n=a.getGraph(),u=n.data,c=i.mapArray(i.getName);u.filterSelf(function(o){var h=u.getItemModel(o),s=h.getShallow("category");if(s!=null){typeof s=="number"&&(s=c[s]);for(var v=0;v<r.length;v++)if(!r[v].isSelected(s))return!1}return!0})},this)}return pv=e,pv}var mv,G_;function a3(){if(G_)return mv;G_=1;function e(t){var r={};t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),n=a.getData(),u={};i.each(function(c){var o=i.getName(c);u["ec-"+o]=c;var h=i.getItemModel(c),s=h.get("itemStyle.color")||a.getColorFromPalette(o,r);i.setItemVisual(c,"color",s);for(var v=["opacity","symbol","symbolSize","symbolKeepAspect"],l=0;l<v.length;l++){var d=h.getShallow(v[l],!0);d!=null&&i.setItemVisual(c,v[l],d)}}),i.count()&&n.each(function(c){var o=n.getItemModel(c),h=o.getShallow("category");if(h!=null){typeof h=="string"&&(h=u["ec-"+h]);for(var s=["color","opacity","symbol","symbolSize","symbolKeepAspect"],v=0;v<s.length;v++)n.getItemVisual(c,s[v],!0)==null&&n.setItemVisual(c,s[v],i.getItemVisual(h,s[v]))}})})}return mv=e,mv}var yv,F_;function i3(){if(F_)return yv;F_=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(a){var i=a.getGraph(),n=a.getEdgeData(),u=e(a.get("edgeSymbol")),c=e(a.get("edgeSymbolSize")),o="lineStyle.color".split("."),h="lineStyle.opacity".split(".");n.setVisual("fromSymbol",u&&u[0]),n.setVisual("toSymbol",u&&u[1]),n.setVisual("fromSymbolSize",c&&c[0]),n.setVisual("toSymbolSize",c&&c[1]),n.setVisual("color",a.get(o)),n.setVisual("opacity",a.get(h)),n.each(function(s){var v=n.getItemModel(s),l=i.getEdgeByIndex(s),d=e(v.getShallow("symbol",!0)),f=e(v.getShallow("symbolSize",!0)),m=v.get(o),g=v.get(h);switch(m){case"source":m=l.node1.getVisual("color");break;case"target":m=l.node2.getVisual("color");break}d[0]&&l.setVisual("fromSymbol",d[0]),d[1]&&l.setVisual("toSymbol",d[1]),f[0]&&l.setVisual("fromSymbolSize",f[0]),f[1]&&l.setVisual("toSymbolSize",f[1]),l.setVisual("color",m),l.setVisual("opacity",g)})})}return yv=t,yv}var vo={},$_;function PM(){if($_)return vo;$_=1;var e=Ye();function t(a){var i=a.coordinateSystem;if(!(i&&i.type!=="view")){var n=a.getGraph();n.eachNode(function(u){var c=u.getModel();u.setLayout([+c.get("x"),+c.get("y")])}),r(n)}}function r(a){a.eachEdge(function(i){var n=i.getModel().get("lineStyle.curveness")||0,u=e.clone(i.node1.getLayout()),c=e.clone(i.node2.getLayout()),o=[u,c];+n&&o.push([(u[0]+c[0])/2-(u[1]-c[1])*n,(u[1]+c[1])/2-(c[0]-u[0])*n]),i.setLayout(o)})}return vo.simpleLayout=t,vo.simpleLayoutEdge=r,vo}var _v,U_;function n3(){if(U_)return _v;U_=1;var e=Z,t=e.each,r=PM(),a=r.simpleLayout,i=r.simpleLayoutEdge;function n(u,c){u.eachSeriesByType("graph",function(o){var h=o.get("layout"),s=o.coordinateSystem;if(s&&s.type!=="view"){var v=o.getData(),l=[];t(s.dimensions,function(y){l=l.concat(v.mapDimension(y,!0))});for(var d=0;d<v.count();d++){for(var f=[],m=!1,g=0;g<l.length;g++){var p=v.get(l[g],d);isNaN(p)||(m=!0),f.push(p)}m?v.setItemLayout(d,s.dataToPoint(f)):v.setItemLayout(d,[NaN,NaN])}i(v.graph)}else(!h||h==="none")&&a(o)})}return _v=n,_v}var xv={},W_;function IM(){if(W_)return xv;W_=1;var e=Ye(),t=cg(),r=t.getSymbolSize,a=t.getNodeGlobalScale,i=Math.PI,n=[];function u(o,h){var s=o.coordinateSystem;if(!(s&&s.type!=="view")){var v=s.getBoundingRect(),l=o.getData(),d=l.graph,f=v.width/2+v.x,m=v.height/2+v.y,g=Math.min(v.width,v.height)/2,p=l.count();l.setLayout({cx:f,cy:m}),p&&(c[h](o,s,d,l,g,f,m,p),d.eachEdge(function(y){var _=y.getModel().get("lineStyle.curveness")||0,S=e.clone(y.node1.getLayout()),T=e.clone(y.node2.getLayout()),w,x=(S[0]+T[0])/2,b=(S[1]+T[1])/2;+_&&(_*=3,w=[f*_+x*(1-_),m*_+b*(1-_)]),y.setLayout([S,T,w])}))}}var c={value:function(o,h,s,v,l,d,f,m){var g=0,p=v.getSum("value"),y=Math.PI*2/(p||m);s.eachNode(function(_){var S=_.getValue("value"),T=y*(p?S:1)/2;g+=T,_.setLayout([l*Math.cos(g)+d,l*Math.sin(g)+f]),g+=T})},symbolSize:function(o,h,s,v,l,d,f,m){var g=0;n.length=m;var p=a(o);s.eachNode(function(S){var T=r(S);isNaN(T)&&(T=2),T<0&&(T=0),T*=p;var w=Math.asin(T/2/l);isNaN(w)&&(w=i/2),n[S.dataIndex]=w,g+=w*2});var y=(2*i-g)/m/2,_=0;s.eachNode(function(S){var T=y+n[S.dataIndex];_+=T,S.setLayout([l*Math.cos(_)+d,l*Math.sin(_)+f]),_+=T})}};return xv.circularLayout=u,xv}var Sv,Z_;function o3(){if(Z_)return Sv;Z_=1;var e=IM(),t=e.circularLayout;function r(a){a.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&t(i,"symbolSize")})}return Sv=r,Sv}var bv={},Y_;function s3(){if(Y_)return bv;Y_=1;var e=Ye(),t=e.scaleAndAdd;function r(a,i,n){for(var u=n.rect,c=u.width,o=u.height,h=[u.x+c/2,u.y+o/2],s=n.gravity==null?.1:n.gravity,v=0;v<a.length;v++){var l=a[v];l.p||(l.p=e.create(c*(Math.random()-.5)+h[0],o*(Math.random()-.5)+h[1])),l.pp=e.clone(l.p),l.edges=null}var d=n.friction==null?.6:n.friction,f=d;return{warmUp:function(){f=d*.8},setFixed:function(m){a[m].fixed=!0},setUnfixed:function(m){a[m].fixed=!1},step:function(m){for(var g=[],p=a.length,y=0;y<i.length;y++){var _=i[y];if(!_.ignoreForceLayout){var S=_.n1,T=_.n2;e.sub(g,T.p,S.p);var w=e.len(g)-_.d,x=T.w/(S.w+T.w);isNaN(x)&&(x=0),e.normalize(g,g),!S.fixed&&t(S.p,S.p,g,x*w*f),!T.fixed&&t(T.p,T.p,g,-(1-x)*w*f)}}for(var y=0;y<p;y++){var b=a[y];b.fixed||(e.sub(g,h,b.p),t(b.p,b.p,g,s*f))}for(var y=0;y<p;y++)for(var S=a[y],A=y+1;A<p;A++){var T=a[A];e.sub(g,T.p,S.p);var w=e.len(g);w===0&&(e.set(g,Math.random()-.5,Math.random()-.5),w=1);var C=(S.rep+T.rep)/w/w;!S.fixed&&t(S.pp,S.pp,g,C),!T.fixed&&t(T.pp,T.pp,g,-C)}for(var M=[],y=0;y<p;y++){var b=a[y];b.fixed||(e.sub(M,b.p,b.pp),t(b.p,b.p,M,f),e.copy(b.pp,b.p))}f=f*.992,m&&m(a,i,f<.01)}}}return bv.forceLayout=r,bv}var wv,X_;function l3(){if(X_)return wv;X_=1;var e=s3(),t=e.forceLayout,r=PM(),a=r.simpleLayout,i=IM(),n=i.circularLayout,u=Oe(),c=u.linearMap,o=Ye(),h=Z;function s(v){v.eachSeriesByType("graph",function(l){var d=l.coordinateSystem;if(!(d&&d.type!=="view"))if(l.get("layout")==="force"){var f=l.preservedPoints||{},m=l.getGraph(),g=m.data,p=m.edgeData,y=l.getModel("force"),_=y.get("initLayout");l.preservedPoints?g.each(function(P){var I=g.getId(P);g.setItemLayout(P,f[I]||[NaN,NaN])}):!_||_==="none"?a(l):_==="circular"&&n(l,"value");var S=g.getDataExtent("value"),T=p.getDataExtent("value"),w=y.get("repulsion"),x=y.get("edgeLength");h.isArray(w)||(w=[w,w]),h.isArray(x)||(x=[x,x]),x=[x[1],x[0]];var b=g.mapArray("value",function(P,I){var E=g.getItemLayout(I),O=c(P,S,w);return isNaN(O)&&(O=(w[0]+w[1])/2),{w:O,rep:O,fixed:g.getItemModel(I).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),A=p.mapArray("value",function(P,I){var E=m.getEdgeByIndex(I),O=c(P,T,x);isNaN(O)&&(O=(x[0]+x[1])/2);var z=E.getModel();return{n1:b[E.node1.dataIndex],n2:b[E.node2.dataIndex],d:O,curveness:z.get("lineStyle.curveness")||0,ignoreForceLayout:z.get("ignoreForceLayout")}}),d=l.coordinateSystem,C=d.getBoundingRect(),M=t(b,A,{rect:C,gravity:y.get("gravity"),friction:y.get("friction")}),D=M.step;M.step=function(P){for(var I=0,E=b.length;I<E;I++)b[I].fixed&&o.copy(b[I].p,m.getNodeByIndex(I).getLayout());D(function(O,z,G){for(var V=0,R=O.length;V<R;V++)O[V].fixed||m.getNodeByIndex(V).setLayout(O[V].p),f[g.getId(V)]=O[V].p;for(var V=0,R=z.length;V<R;V++){var B=z[V],k=m.getEdgeByIndex(V),N=B.n1.p,q=B.n2.p,H=k.getLayout();H=H?H.slice():[],H[0]=H[0]||[],H[1]=H[1]||[],o.copy(H[0],N),o.copy(H[1],q),+B.curveness&&(H[2]=[(N[0]+q[0])/2-(N[1]-q[1])*B.curveness,(N[1]+q[1])/2-(q[0]-N[0])*B.curveness]),k.setLayout(H)}P&&P(G)})},l.forceLayout=M,l.preservedPoints=f,M.step()}else l.forceLayout=null})}return wv=s,wv}var Av,K_;function u3(){if(K_)return Av;K_=1;var e=sg(),t=Ne,r=t.getLayoutRect,a=Jo();function i(u,c,o){var h=u.getBoxLayoutParams();return h.aspect=o,r(h,{width:c.getWidth(),height:c.getHeight()})}function n(u,c){var o=[];return u.eachSeriesByType("graph",function(h){var s=h.get("coordinateSystem");if(!s||s==="view"){var v=h.getData(),l=v.mapArray(function(w){var x=v.getItemModel(w);return[+x.get("x"),+x.get("y")]}),d=[],f=[];a.fromPoints(l,d,f),f[0]-d[0]===0&&(f[0]+=1,d[0]-=1),f[1]-d[1]===0&&(f[1]+=1,d[1]-=1);var m=(f[0]-d[0])/(f[1]-d[1]),g=i(h,c,m);isNaN(m)&&(d=[g.x,g.y],f=[g.x+g.width,g.y+g.height]);var p=f[0]-d[0],y=f[1]-d[1],_=g.width,S=g.height,T=h.coordinateSystem=new e;T.zoomLimit=h.get("scaleLimit"),T.setBoundingRect(d[0],d[1],p,y),T.setViewRect(g.x,g.y,_,S),T.setCenter(h.get("center")),T.setZoom(h.get("zoom")),o.push(T)}}),o}return Av=n,Av}var Q_;function v3(){if(Q_)return M_;Q_=1;var e=we;Q5(),e3(),t3();var t=r3(),r=Ma(),a=a3(),i=i3(),n=n3(),u=o3(),c=l3(),o=u3();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(a),e.registerVisual(i),e.registerLayout(n),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,u),e.registerLayout(c),e.registerCoordinateSystem("graphView",{create:o}),M_}var J_={},Tv,j_;function h3(){if(j_)return Tv;j_=1;var e=Si(),t=dt,r=t.extend({type:"series.gauge",getInitialData:function(i,n){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),a=r;return Tv=a,Tv}var Cv,e1;function c3(){if(e1)return Cv;e1=1;var e=it,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,a){var i=Math.cos,n=Math.sin,u=a.r,c=a.width,o=a.angle,h=a.x-i(o)*c*(c>=u/3?1:2),s=a.y-n(o)*c*(c>=u/3?1:2);o=a.angle-Math.PI/2,r.moveTo(h,s),r.lineTo(a.x+i(o)*c,a.y+n(o)*c),r.lineTo(a.x+i(a.angle)*u,a.y+n(a.angle)*u),r.lineTo(a.x-i(o)*c,a.y-n(o)*c),r.lineTo(h,s)}});return Cv=t,Cv}var Mv,t1;function f3(){if(t1)return Mv;t1=1;var e=c3(),t=me,r=Ar,a=Oe(),i=a.parsePercent,n=a.round,u=a.linearMap;function c(l,d){var f=l.get("center"),m=d.getWidth(),g=d.getHeight(),p=Math.min(m,g),y=i(f[0],d.getWidth()),_=i(f[1],d.getHeight()),S=i(l.get("radius"),p/2);return{cx:y,cy:_,r:S}}function o(l,d){return d&&(typeof d=="string"?l=d.replace("{value}",l??""):typeof d=="function"&&(l=d(l))),l}var h=Math.PI*2,s=r.extend({type:"gauge",render:function(l,d,f){this.group.removeAll();var m=l.get("axisLine.lineStyle.color"),g=c(l,f);this._renderMain(l,d,f,m,g)},dispose:function(){},_renderMain:function(l,d,f,m,g){for(var p=this.group,y=l.getModel("axisLine"),_=y.getModel("lineStyle"),S=l.get("clockwise"),T=-l.get("startAngle")/180*Math.PI,w=-l.get("endAngle")/180*Math.PI,x=(w-T)%h,b=T,A=_.get("width"),C=y.get("show"),M=0;C&&M<m.length;M++){var D=Math.min(Math.max(m[M][0],0),1),w=T+x*D,L=new t.Sector({shape:{startAngle:b,endAngle:w,cx:g.cx,cy:g.cy,clockwise:S,r0:g.r-A,r:g.r},silent:!0});L.setStyle({fill:m[M][1]}),L.setStyle(_.getLineStyle(["color","borderWidth","borderColor"])),p.add(L),b=w}var P=function(E){if(E<=0)return m[0][1];for(var O=0;O<m.length;O++)if(m[O][0]>=E&&(O===0?0:m[O-1][0])<E)return m[O][1];return m[O-1][1]};if(!S){var I=T;T=w,w=I}this._renderTicks(l,d,f,P,g,T,w,S),this._renderPointer(l,d,f,P,g,T,w,S),this._renderTitle(l,d,f,P,g),this._renderDetail(l,d,f,P,g)},_renderTicks:function(l,d,f,m,g,p,y,_){for(var S=this.group,T=g.cx,w=g.cy,x=g.r,b=+l.get("min"),A=+l.get("max"),C=l.getModel("splitLine"),M=l.getModel("axisTick"),D=l.getModel("axisLabel"),L=l.get("splitNumber"),P=M.get("splitNumber"),I=i(C.get("length"),x),E=i(M.get("length"),x),O=p,z=(y-p)/L,G=z/P,V=C.getModel("lineStyle").getLineStyle(),R=M.getModel("lineStyle").getLineStyle(),B=0;B<=L;B++){var k=Math.cos(O),N=Math.sin(O);if(C.get("show")){var q=new t.Line({shape:{x1:k*x+T,y1:N*x+w,x2:k*(x-I)+T,y2:N*(x-I)+w},style:V,silent:!0});V.stroke==="auto"&&q.setStyle({stroke:m(B/L)}),S.add(q)}if(D.get("show")){var H=o(n(B/L*(A-b)+b),D.get("formatter")),F=D.get("distance"),U=m(B/L);S.add(new t.Text({style:t.setTextStyle({},D,{text:H,x:k*(x-I-F)+T,y:N*(x-I-F)+w,textVerticalAlign:N<-.4?"top":N>.4?"bottom":"middle",textAlign:k<-.4?"left":k>.4?"right":"center"},{autoColor:U}),silent:!0}))}if(M.get("show")&&B!==L){for(var W=0;W<=P;W++){var k=Math.cos(O),N=Math.sin(O),K=new t.Line({shape:{x1:k*x+T,y1:N*x+w,x2:k*(x-E)+T,y2:N*(x-E)+w},silent:!0,style:R});R.stroke==="auto"&&K.setStyle({stroke:m((B+W/P)/L)}),S.add(K),O+=G}O-=G}else O+=z}},_renderPointer:function(l,d,f,m,g,p,y,_){var S=this.group,T=this._data;if(!l.get("pointer.show")){T&&T.eachItemGraphicEl(function(C){S.remove(C)});return}var w=[+l.get("min"),+l.get("max")],x=[p,y],b=l.getData(),A=b.mapDimension("value");b.diff(T).add(function(C){var M=new e({shape:{angle:p}});t.initProps(M,{shape:{angle:u(b.get(A,C),w,x,!0)}},l),S.add(M),b.setItemGraphicEl(C,M)}).update(function(C,M){var D=T.getItemGraphicEl(M);t.updateProps(D,{shape:{angle:u(b.get(A,C),w,x,!0)}},l),S.add(D),b.setItemGraphicEl(C,D)}).remove(function(C){var M=T.getItemGraphicEl(C);S.remove(M)}).execute(),b.eachItemGraphicEl(function(C,M){var D=b.getItemModel(M),L=D.getModel("pointer");C.setShape({x:g.cx,y:g.cy,width:i(L.get("width"),g.r),r:i(L.get("length"),g.r)}),C.useStyle(D.getModel("itemStyle").getItemStyle()),C.style.fill==="auto"&&C.setStyle("fill",m(u(b.get(A,M),w,[0,1],!0))),t.setHoverStyle(C,D.getModel("emphasis.itemStyle").getItemStyle())}),this._data=b},_renderTitle:function(l,d,f,m,g){var p=l.getData(),y=p.mapDimension("value"),_=l.getModel("title");if(_.get("show")){var S=_.get("offsetCenter"),T=g.cx+i(S[0],g.r),w=g.cy+i(S[1],g.r),x=+l.get("min"),b=+l.get("max"),A=l.getData().get(y,0),C=m(u(A,[x,b],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},_,{x:T,y:w,text:p.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:C,forceRich:!0})}))}},_renderDetail:function(l,d,f,m,g){var p=l.getModel("detail"),y=+l.get("min"),_=+l.get("max");if(p.get("show")){var S=p.get("offsetCenter"),T=g.cx+i(S[0],g.r),w=g.cy+i(S[1],g.r),x=i(p.get("width"),g.r),b=i(p.get("height"),g.r),A=l.getData(),C=A.get(A.mapDimension("value"),0),M=m(u(C,[y,_],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},p,{x:T,y:w,text:o(C,p.get("formatter")),textWidth:isNaN(x)?null:x,textHeight:isNaN(b)?null:b,textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}}}),v=s;return Mv=v,Mv}var r1;function d3(){return r1||(r1=1,h3(),f3()),J_}var a1={},Dv,i1;function g3(){if(i1)return Dv;i1=1;var e=we,t=Z,r=Si(),a=Re,i=a.defaultEmphasis,n=wt,u=n.makeSeriesEncodeForNameBased,c=In(),o=e.extendSeriesModel({type:"series.funnel",init:function(s){o.superApply(this,"init",arguments),this.legendVisualProvider=new c(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(s)},getInitialData:function(s,v){return r(this,{coordDimensions:["value"],encodeDefaulter:t.curry(u,this)})},_defaultLabelLine:function(s){i(s,"labelLine",["show"]);var v=s.labelLine,l=s.emphasis.labelLine;v.show=v.show&&s.label.show,l.show=l.show&&s.emphasis.label.show},getDataParams:function(s){var v=this.getData(),l=o.superCall(this,"getDataParams",s),d=v.mapDimension("value"),f=v.getSum(d);return l.percent=f?+(v.get(d,s)/f*100).toFixed(2):0,l.$vars.push("percent"),l},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),h=o;return Dv=h,Dv}var Lv,n1;function p3(){if(n1)return Lv;n1=1;var e=me,t=Z,r=Ar;function a(o,h){e.Group.call(this);var s=new e.Polygon,v=new e.Polyline,l=new e.Text;this.add(s),this.add(v),this.add(l),this.highDownOnUpdate=function(d,f){f==="emphasis"?(v.ignore=v.hoverIgnore,l.ignore=l.hoverIgnore):(v.ignore=v.normalIgnore,l.ignore=l.normalIgnore)},this.updateData(o,h,!0)}var i=a.prototype,n=["itemStyle","opacity"];i.updateData=function(o,h,s){var v=this.childAt(0),l=o.hostModel,d=o.getItemModel(h),f=o.getItemLayout(h),m=o.getItemModel(h).get(n);m=m??1,v.useStyle({}),s?(v.setShape({points:f.points}),v.setStyle({opacity:0}),e.initProps(v,{style:{opacity:m}},l,h)):e.updateProps(v,{style:{opacity:m},shape:{points:f.points}},l,h);var g=d.getModel("itemStyle"),p=o.getItemVisual(h,"color");v.setStyle(t.defaults({lineJoin:"round",fill:p},g.getItemStyle(["opacity"]))),v.hoverStyle=g.getModel("emphasis").getItemStyle(),this._updateLabel(o,h),e.setHoverStyle(this)},i._updateLabel=function(o,h){var s=this.childAt(1),v=this.childAt(2),l=o.hostModel,d=o.getItemModel(h),f=o.getItemLayout(h),m=f.label,S=o.getItemVisual(h,"color");e.updateProps(s,{shape:{points:m.linePoints||m.linePoints}},l,h),e.updateProps(v,{style:{x:m.x,y:m.y}},l,h),v.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var g=d.getModel("label"),p=d.getModel("emphasis.label"),y=d.getModel("labelLine"),_=d.getModel("emphasis.labelLine"),S=o.getItemVisual(h,"color");e.setLabelStyle(v.style,v.hoverStyle={},g,p,{labelFetcher:o.hostModel,labelDataIndex:h,defaultText:o.getName(h),autoColor:S,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign}),v.ignore=v.normalIgnore=!g.get("show"),v.hoverIgnore=!p.get("show"),s.ignore=s.normalIgnore=!y.get("show"),s.hoverIgnore=!_.get("show"),s.setStyle({stroke:S}),s.setStyle(y.getModel("lineStyle").getLineStyle()),s.hoverStyle=_.getModel("lineStyle").getLineStyle()},t.inherits(a,e.Group);var u=r.extend({type:"funnel",render:function(o,h,s){var v=o.getData(),l=this._data,d=this.group;v.diff(l).add(function(f){var m=new a(v,f);v.setItemGraphicEl(f,m),d.add(m)}).update(function(f,m){var g=l.getItemGraphicEl(m);g.updateData(v,f),d.add(g),v.setItemGraphicEl(f,g)}).remove(function(f){var m=l.getItemGraphicEl(f);d.remove(m)}).execute(),this._data=v},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),c=u;return Lv=c,Lv}var Pv,o1;function m3(){if(o1)return Pv;o1=1;var e=Ne,t=Oe(),r=t.parsePercent,a=t.linearMap;function i(o,h){return e.getLayoutRect(o.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})}function n(o,h){for(var s=o.mapDimension("value"),v=o.mapArray(s,function(g){return g}),l=[],d=h==="ascending",f=0,m=o.count();f<m;f++)l[f]=f;return typeof h=="function"?l.sort(h):h!=="none"&&l.sort(function(g,p){return d?v[g]-v[p]:v[p]-v[g]}),l}function u(o){o.each(function(h){var s=o.getItemModel(h),v=s.getModel("label"),l=v.get("position"),d=s.getModel("labelLine"),f=o.getItemLayout(h),m=f.points,g=l==="inner"||l==="inside"||l==="center"||l==="insideLeft"||l==="insideRight",p,y,_,S;if(g)l==="insideLeft"?(y=(m[0][0]+m[3][0])/2+5,_=(m[0][1]+m[3][1])/2,p="left"):l==="insideRight"?(y=(m[1][0]+m[2][0])/2-5,_=(m[1][1]+m[2][1])/2,p="right"):(y=(m[0][0]+m[1][0]+m[2][0]+m[3][0])/4,_=(m[0][1]+m[1][1]+m[2][1]+m[3][1])/4,p="center"),S=[[y,_],[y,_]];else{var T,w,x,b=d.get("length");l==="left"?(T=(m[3][0]+m[0][0])/2,w=(m[3][1]+m[0][1])/2,x=T-b,y=x-5,p="right"):l==="right"?(T=(m[1][0]+m[2][0])/2,w=(m[1][1]+m[2][1])/2,x=T+b,y=x+5,p="left"):l==="rightTop"?(T=m[1][0],w=m[1][1],x=T+b,y=x+5,p="top"):l==="rightBottom"?(T=m[2][0],w=m[2][1],x=T+b,y=x+5,p="bottom"):l==="leftTop"?(T=m[0][0],w=m[1][1],x=T-b,y=x-5,p="right"):l==="leftBottom"?(T=m[3][0],w=m[2][1],x=T-b,y=x-5,p="right"):(T=(m[1][0]+m[2][0])/2,w=(m[1][1]+m[2][1])/2,x=T+b,y=x+5,p="left");var A=w;S=[[T,w],[x,A]],_=A}f.label={linePoints:S,x:y,y:_,verticalAlign:"middle",textAlign:p,inside:g}})}function c(o,h,s){o.eachSeriesByType("funnel",function(v){var l=v.getData(),d=l.mapDimension("value"),f=v.get("sort"),m=i(v,h),g=n(l,f),p=[r(v.get("minSize"),m.width),r(v.get("maxSize"),m.width)],y=l.getDataExtent(d),_=v.get("min"),S=v.get("max");_==null&&(_=Math.min(y[0],0)),S==null&&(S=y[1]);var T=v.get("funnelAlign"),w=v.get("gap"),x=(m.height-w*(l.count()-1))/l.count(),b=m.y,A=function(O,z){var G=l.get(d,O)||0,V=a(G,[_,S],p,!0),R;switch(T){case"left":R=m.x;break;case"center":R=m.x+(m.width-V)/2;break;case"right":R=m.x+m.width-V;break}return[[R,z],[R+V,z]]};f==="ascending"&&(x=-x,w=-w,b+=m.height,g=g.reverse());for(var C=0;C<g.length;C++){var M=g[C],D=g[C+1],L=l.getItemModel(M),P=L.get("itemStyle.height");P==null?P=x:(P=r(P,m.height),f==="ascending"&&(P=-P));var I=A(M,b),E=A(D,b+P);b+=P+w,l.setItemLayout(M,{points:I.concat(E.slice().reverse())})}u(l)})}return Pv=c,Pv}var s1;function y3(){if(s1)return a1;s1=1;var e=we;g3(),p3();var t=ps(),r=m3(),a=Rn();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(a("funnel")),a1}var l1={},u1={},Iv,v1;function _3(){if(v1)return Iv;v1=1;var e=Z,t=Re;function r(n){a(n),i(n)}function a(n){if(!n.parallel){var u=!1;e.each(n.series,function(c){c&&c.type==="parallel"&&(u=!0)}),u&&(n.parallel=[{}])}}function i(n){var u=t.normalizeToArray(n.parallelAxis);e.each(u,function(c){if(e.isObject(c)){var o=c.parallelIndex||0,h=t.normalizeToArray(n.parallel)[o];h&&h.parallelAxisDefault&&e.merge(c,h.parallelAxisDefault,!1)}})}return Iv=r,Iv}var h1={},Rv,c1;function x3(){if(c1)return Rv;c1=1;var e=Z,t=ia(),r=function(i,n,u,c,o){t.call(this,i,n,u),this.type=c||"value",this.axisIndex=o};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var a=r;return Rv=a,Rv}var Ev,f1;function bi(){if(f1)return Ev;f1=1;function e(a,i,n,u,c,o){a=a||0;var h=n[1]-n[0];if(c!=null&&(c=r(c,[0,h])),o!=null&&(o=Math.max(o,c??0)),u==="all"){var s=Math.abs(i[1]-i[0]);s=r(s,[0,h]),c=o=r(s,[c,o]),u=0}i[0]=r(i[0],n),i[1]=r(i[1],n);var v=t(i,u);i[u]+=a;var l=c||0,d=n.slice();v.sign<0?d[0]+=l:d[1]-=l,i[u]=r(i[u],d);var f=t(i,u);c!=null&&(f.sign!==v.sign||f.span<c)&&(i[1-u]=i[u]+v.sign*c);var f=t(i,u);return o!=null&&f.span>o&&(i[1-u]=i[u]+f.sign*o),i}function t(a,i){var n=a[i]-a[1-i];return{span:Math.abs(n),sign:n>0?-1:n<0?1:i?-1:1}}function r(a,i){return Math.min(i[1]!=null?i[1]:1/0,Math.max(i[0]!=null?i[0]:-1/0,a))}return Ev=e,Ev}var kv,d1;function S3(){if(d1)return kv;d1=1;var e=Z,t=Rt(),r=Ne,a=ur(),i=x3(),n=me,u=Oe(),c=bi(),o=e.each,h=Math.min,s=Math.max,v=Math.floor,l=Math.ceil,d=u.round,f=Math.PI;function m(S,T,w){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=S.dimensions,this._rect,this._model=S,this._init(S,T,w)}m.prototype={type:"parallel",constructor:m,_init:function(S,T,w){var x=S.dimensions,b=S.parallelAxisIndex;o(x,function(A,C){var M=b[C],D=T.getComponent("parallelAxis",M),L=this._axesMap.set(A,new i(A,a.createScaleByModel(D),[0,0],D.get("type"),M)),P=L.type==="category";L.onBand=P&&D.get("boundaryGap"),L.inverse=D.get("inverse"),D.axis=L,L.model=D,L.coordinateSystem=D.coordinateSystem=this},this)},update:function(S,T){this._updateAxesFromSeries(this._model,S)},containPoint:function(S){var T=this._makeLayoutInfo(),w=T.axisBase,x=T.layoutBase,b=T.pixelDimIndex,A=S[1-b],C=S[b];return A>=w&&A<=w+T.axisLength&&C>=x&&C<=x+T.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(S,T){T.eachSeries(function(w){if(S.contains(w,T)){var x=w.getData();o(this.dimensions,function(b){var A=this._axesMap.get(b);A.scale.unionExtentFromData(x,x.mapDimension(b)),a.niceScaleExtent(A.scale,A.model)},this)}},this)},resize:function(S,T){this._rect=r.getLayoutRect(S.getBoxLayoutParams(),{width:T.getWidth(),height:T.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var S=this._model,T=this._rect,w=["x","y"],x=["width","height"],b=S.get("layout"),A=b==="horizontal"?0:1,C=T[x[A]],M=[0,C],D=this.dimensions.length,L=g(S.get("axisExpandWidth"),M),P=g(S.get("axisExpandCount")||0,[0,D]),I=S.get("axisExpandable")&&D>3&&D>P&&P>1&&L>0&&C>0,E=S.get("axisExpandWindow"),O;if(E)O=g(E[1]-E[0],M),E[1]=E[0]+O;else{O=g(L*(P-1),M);var z=S.get("axisExpandCenter")||v(D/2);E=[L*z-O/2],E[1]=E[0]+O}var G=(C-O)/(D-P);G<3&&(G=0);var V=[v(d(E[0]/L,1))+1,l(d(E[1]/L,1))-1],R=G/L*E[0];return{layout:b,pixelDimIndex:A,layoutBase:T[w[A]],layoutLength:C,axisBase:T[w[1-A]],axisLength:T[x[1-A]],axisExpandable:I,axisExpandWidth:L,axisCollapseWidth:G,axisExpandWindow:E,axisCount:D,winInnerIndices:V,axisExpandWindow0Pos:R}},_layoutAxes:function(){var S=this._rect,T=this._axesMap,w=this.dimensions,x=this._makeLayoutInfo(),b=x.layout;T.each(function(A){var C=[0,x.axisLength],M=A.inverse?1:0;A.setExtent(C[M],C[1-M])}),o(w,function(A,C){var M=(x.axisExpandable?y:p)(C,x),D={horizontal:{x:M.position,y:x.axisLength},vertical:{x:0,y:M.position}},L={horizontal:f/2,vertical:0},P=[D[b].x+S.x,D[b].y+S.y],I=L[b],E=t.create();t.rotate(E,E,I),t.translate(E,E,P),this._axesLayout[A]={position:P,rotation:I,transform:E,axisNameAvailableWidth:M.axisNameAvailableWidth,axisLabelShow:M.axisLabelShow,nameTruncateMaxWidth:M.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(S){return this._axesMap.get(S)},dataToPoint:function(S,T){return this.axisCoordToPoint(this._axesMap.get(T).dataToCoord(S),T)},eachActiveState:function(S,T,w,x){w==null&&(w=0),x==null&&(x=S.count());var b=this._axesMap,A=this.dimensions,C=[],M=[];e.each(A,function(G){C.push(S.mapDimension(G)),M.push(b.get(G).model)});for(var D=this.hasAxisBrushed(),L=w;L<x;L++){var P;if(!D)P="normal";else{P="active";for(var I=S.getValues(C,L),E=0,O=A.length;E<O;E++){var z=M[E].getActiveState(I[E]);if(z==="inactive"){P="inactive";break}}}T(P,L)}},hasAxisBrushed:function(){for(var S=this.dimensions,T=this._axesMap,w=!1,x=0,b=S.length;x<b;x++)T.get(S[x]).model.getActiveState()!=="normal"&&(w=!0);return w},axisCoordToPoint:function(S,T){var w=this._axesLayout[T];return n.applyTransform([S,0],w.transform)},getAxisLayout:function(S){return e.clone(this._axesLayout[S])},getSlidedAxisExpandWindow:function(S){var T=this._makeLayoutInfo(),w=T.pixelDimIndex,x=T.axisExpandWindow.slice(),b=x[1]-x[0],A=[0,T.axisExpandWidth*(T.axisCount-1)];if(!this.containPoint(S))return{behavior:"none",axisExpandWindow:x};var C=S[w]-T.layoutBase-T.axisExpandWindow0Pos,M,D="slide",L=T.axisCollapseWidth,P=this._model.get("axisExpandSlideTriggerArea"),I=P[0]!=null;if(L)I&&L&&C<b*P[0]?(D="jump",M=C-b*P[2]):I&&L&&C>b*(1-P[0])?(D="jump",M=C-b*(1-P[2])):(M=C-b*P[1])>=0&&(M=C-b*(1-P[1]))<=0&&(M=0),M*=T.axisExpandWidth/L,M?c(M,x,A,"all"):D="none";else{var b=x[1]-x[0],E=A[1]*C/b;x=[s(0,E-b/2)],x[1]=h(A[1],x[0]+b),x[0]=x[1]-b}return{axisExpandWindow:x,behavior:D}}};function g(S,T){return h(s(S,T[0]),T[1])}function p(S,T){var w=T.layoutLength/(T.axisCount-1);return{position:w*S,axisNameAvailableWidth:w,axisLabelShow:!0}}function y(S,T){var w=T.layoutLength,x=T.axisExpandWidth,b=T.axisCount,A=T.axisCollapseWidth,C=T.winInnerIndices,M,D=A,L=!1,P;return S<C[0]?(M=S*A,P=A):S<=C[1]?(M=T.axisExpandWindow0Pos+S*x-T.axisExpandWindow[0],D=x,L=!0):(M=w-(b-1-S)*A,P=A),{position:M,axisNameAvailableWidth:D,axisLabelShow:L,nameTruncateMaxWidth:P}}var _=m;return kv=_,kv}var g1;function RM(){if(g1)return h1;g1=1;var e=S3(),t=wr;function r(a,i){var n=[];return a.eachComponent("parallel",function(u,c){var o=new e(u,a,i);o.name="parallel_"+c,o.resize(u,i),u.coordinateSystem=o,o.model=u,n.push(o)}),a.eachSeries(function(u){if(u.get("coordinateSystem")==="parallel"){var c=a.queryComponents({mainType:"parallel",index:u.get("parallelIndex"),id:u.get("parallelId")})[0];u.coordinateSystem=c.coordinateSystem}}),n}return t.register("parallel",{create:r}),h1}var Ov,p1;function b3(){if(p1)return Ov;p1=1;var e=Z,t=ft,r=ci(),a=ds(),i=Oe(),n=xi(),u=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(s){var v=this.activeIntervals=e.clone(s);if(v)for(var l=v.length-1;l>=0;l--)i.asc(v[l])},getActiveState:function(s){var v=this.activeIntervals;if(!v.length)return"normal";if(s==null||isNaN(s))return"inactive";if(v.length===1){var l=v[0];if(l[0]<=s&&s<=l[1])return"active"}else for(var d=0,f=v.length;d<f;d++)if(v[d][0]<=s&&s<=v[d][1])return"active";return"inactive"}}),c={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(u.prototype,n);function o(s,v){return v.type||(v.data?"category":"value")}a("parallel",u,o,c);var h=u;return Ov=h,Ov}var zv,m1;function w3(){if(m1)return zv;m1=1;var e=Z,t=ft;b3();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var i=this.option;a&&e.merge(i,a,!0),this._initDimensions()},contains:function(a,i){var n=a.get("parallelIndex");return n!=null&&i.getComponent("parallel",n)===this},setAxisExpand:function(a){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){a.hasOwnProperty(i)&&(this.option[i]=a[i])},this)},_initDimensions:function(){var a=this.dimensions=[],i=this.parallelAxisIndex=[],n=e.filter(this.dependentModels.parallelAxis,function(u){return(u.get("parallelIndex")||0)===this.componentIndex},this);e.each(n,function(u){a.push("dim"+u.get("dim")),i.push(u.componentIndex)})}});return zv=r,zv}var y1={},_1={},x1;function A3(){if(x1)return _1;x1=1;var e=we,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"parallelAxis",query:r},function(i){i.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,a){a.eachComponent({mainType:"parallel",query:r},function(i){i.setAxisExpand(r)})}),_1}var Bv,S1;function fg(){if(S1)return Bv;S1=1;var e=Z,t=Sa,r=me,a=wM(),i=Ca(),n=e.curry,u=e.each,c=e.map,o=Math.min,h=Math.max,s=Math.pow,v=1e4,l=6,d=6,f="globalPan",m={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},g={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},p={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function _(Y){t.call(this),this._zr=Y,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},u(ae,function(Q,te){this._handlers[te]=e.bind(Q,this)},this)}_.prototype={constructor:_,enableBrush:function(Y){return this._brushType&&T(this),Y.brushType&&S(this,Y),this},setPanels:function(Y){if(Y&&Y.length){var Q=this._panels={};e.each(Y,function(te){Q[te.panelId]=e.clone(te)})}else this._panels=null;return this},mount:function(Y){Y=Y||{},this._enableGlobalPan=Y.enableGlobalPan;var Q=this.group;return this._zr.add(Q),Q.attr({position:Y.position||[0,0],rotation:Y.rotation||0,scale:Y.scale||[1,1]}),this._transform=Q.getLocalTransform(),this},eachCover:function(Y,Q){u(this._covers,Y,Q)},updateCovers:function(Y){Y=e.map(Y,function(ve){return e.merge(e.clone(p),ve,!0)});var Q="\0-brush-index-",te=this._covers,ce=this._covers=[],le=this,fe=this._creatingCover;return new i(te,Y,Te,ye).add(xe).update(xe).remove(ge).execute(),this;function ye(ve,pe){return(ve.id!=null?ve.id:Q+pe)+"-"+ve.brushType}function Te(ve,pe){return ye(ve.__brushOption,pe)}function xe(ve,pe){var Me=Y[ve];if(pe!=null&&te[pe]===fe)ce[ve]=te[pe];else{var Ee=ce[ve]=pe!=null?(te[pe].__brushOption=Me,te[pe]):A(le,b(le,Me));D(le,Ee)}}function ge(ve){te[ve]!==fe&&le.group.remove(te[ve])}},unmount:function(){return this.enableBrush(!1),E(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(_,t);function S(Y,Q){var te=Y._zr;Y._enableGlobalPan||a.take(te,f,Y._uid),w(te,Y._handlers),Y._brushType=Q.brushType,Y._brushOption=e.merge(e.clone(p),Q,!0)}function T(Y){var Q=Y._zr;a.release(Q,f,Y._uid),x(Q,Y._handlers),Y._brushType=Y._brushOption=null}function w(Y,Q){u(Q,function(te,ce){Y.on(ce,te)})}function x(Y,Q){u(Q,function(te,ce){Y.off(ce,te)})}function b(Y,Q){var te=oe[Q.brushType].createCover(Y,Q);return te.__brushOption=Q,M(te,Q),Y.group.add(te),te}function A(Y,Q){var te=L(Q);return te.endCreating&&(te.endCreating(Y,Q),M(Q,Q.__brushOption)),Q}function C(Y,Q){var te=Q.__brushOption;L(Q).updateCoverShape(Y,Q,te.range,te)}function M(Y,Q){var te=Q.z;te==null&&(te=v),Y.traverse(function(ce){ce.z=te,ce.z2=te})}function D(Y,Q){L(Q).updateCommon(Y,Q),C(Y,Q)}function L(Y){return oe[Y.__brushOption.brushType]}function P(Y,Q,te){var ce=Y._panels;if(!ce)return!0;var le,fe=Y._transform;return u(ce,function(ye){ye.isTargetByCursor(Q,te,fe)&&(le=ye)}),le}function I(Y,Q){var te=Y._panels;if(!te)return!0;var ce=Q.__brushOption.panelId;return ce!=null?te[ce]:!0}function E(Y){var Q=Y._covers,te=Q.length;return u(Q,function(ce){Y.group.remove(ce)},Y),Q.length=0,!!te}function O(Y,Q){var te=c(Y._covers,function(ce){var le=ce.__brushOption,fe=e.clone(le.range);return{brushType:le.brushType,panelId:le.panelId,range:fe}});Y.trigger("brush",te,{isEnd:!!Q.isEnd,removeOnClick:!!Q.removeOnClick})}function z(Y){var Q=Y._track;if(!Q.length)return!1;var te=Q[Q.length-1],ce=Q[0],le=te[0]-ce[0],fe=te[1]-ce[1],ye=s(le*le+fe*fe,.5);return ye>l}function G(Y){var Q=Y.length-1;return Q<0&&(Q=0),[Y[0],Y[Q]]}function V(Y,Q,te,ce){var le=new r.Group;return le.add(new r.Rect({name:"main",style:N(te),silent:!0,draggable:!0,cursor:"move",drift:n(Y,Q,le,"nswe"),ondragend:n(O,Q,{isEnd:!0})})),u(ce,function(fe){le.add(new r.Rect({name:fe,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:n(Y,Q,le,fe),ondragend:n(O,Q,{isEnd:!0})}))}),le}function R(Y,Q,te,ce){var le=ce.brushStyle.lineWidth||0,fe=h(le,d),ye=te[0][0],Te=te[1][0],xe=ye-le/2,ge=Te-le/2,ve=te[0][1],pe=te[1][1],Me=ve-fe+le/2,Ee=pe-fe+le/2,$e=ve-ye,He=pe-Te,Ge=$e+le,Je=He+le;k(Y,Q,"main",ye,Te,$e,He),ce.transformable&&(k(Y,Q,"w",xe,ge,fe,Je),k(Y,Q,"e",Me,ge,fe,Je),k(Y,Q,"n",xe,ge,Ge,fe),k(Y,Q,"s",xe,Ee,Ge,fe),k(Y,Q,"nw",xe,ge,fe,fe),k(Y,Q,"ne",Me,ge,fe,fe),k(Y,Q,"sw",xe,Ee,fe,fe),k(Y,Q,"se",Me,Ee,fe,fe))}function B(Y,Q){var te=Q.__brushOption,ce=te.transformable,le=Q.childAt(0);le.useStyle(N(te)),le.attr({silent:!ce,cursor:ce?"move":"default"}),u(["w","e","n","s","se","sw","ne","nw"],function(fe){var ye=Q.childOfName(fe),Te=F(Y,fe);ye&&ye.attr({silent:!ce,invisible:!ce,cursor:ce?g[Te]+"-resize":null})})}function k(Y,Q,te,ce,le,fe,ye){var Te=Q.childOfName(te);Te&&Te.setShape(j(J(Y,Q,[[ce,le],[ce+fe,le+ye]])))}function N(Y){return e.defaults({strokeNoScale:!0},Y.brushStyle)}function q(Y,Q,te,ce){var le=[o(Y,te),o(Q,ce)],fe=[h(Y,te),h(Q,ce)];return[[le[0],fe[0]],[le[1],fe[1]]]}function H(Y){return r.getTransform(Y.group)}function F(Y,Q){if(Q.length>1){Q=Q.split("");var te=[F(Y,Q[0]),F(Y,Q[1])];return(te[0]==="e"||te[0]==="w")&&te.reverse(),te.join("")}else{var ce={w:"left",e:"right",n:"top",s:"bottom"},le={left:"w",right:"e",top:"n",bottom:"s"},te=r.transformDirection(ce[Q],H(Y));return le[te]}}function U(Y,Q,te,ce,le,fe,ye,Te){var xe=ce.__brushOption,ge=Y(xe.range),ve=K(te,fe,ye);u(le.split(""),function(pe){var Me=m[pe];ge[Me[0]][Me[1]]+=ve[Me[0]]}),xe.range=Q(q(ge[0][0],ge[1][0],ge[0][1],ge[1][1])),D(te,ce),O(te,{isEnd:!1})}function W(Y,Q,te,ce,le){var fe=Q.__brushOption.range,ye=K(Y,te,ce);u(fe,function(Te){Te[0]+=ye[0],Te[1]+=ye[1]}),D(Y,Q),O(Y,{isEnd:!1})}function K(Y,Q,te){var ce=Y.group,le=ce.transformCoordToLocal(Q,te),fe=ce.transformCoordToLocal(0,0);return[le[0]-fe[0],le[1]-fe[1]]}function J(Y,Q,te){var ce=I(Y,Q);return ce&&ce!==!0?ce.clipPath(te,Y._transform):e.clone(te)}function j(Y){var Q=o(Y[0][0],Y[1][0]),te=o(Y[0][1],Y[1][1]),ce=h(Y[0][0],Y[1][0]),le=h(Y[0][1],Y[1][1]);return{x:Q,y:te,width:ce-Q,height:le-te}}function ee(Y,Q,te){if(!(!Y._brushType||De(Y,Q))){var ce=Y._zr,le=Y._covers,fe=P(Y,Q,te);if(!Y._dragging)for(var ye=0;ye<le.length;ye++){var Te=le[ye].__brushOption;if(fe&&(fe===!0||Te.panelId===fe.panelId)&&oe[Te.brushType].contain(le[ye],te[0],te[1]))return}fe&&ce.setCursorStyle("crosshair")}}function ie(Y){var Q=Y.event;Q.preventDefault&&Q.preventDefault()}function re(Y,Q,te){return Y.childOfName("main").contain(Q,te)}function he(Y,Q,te,ce){var le=Y._creatingCover,fe=Y._creatingPanel,ye=Y._brushOption,Te;if(Y._track.push(te.slice()),z(Y)||le){if(fe&&!le){ye.brushMode==="single"&&E(Y);var xe=e.clone(ye);xe.brushType=_e(xe.brushType,fe),xe.panelId=fe===!0?null:fe.panelId,le=Y._creatingCover=b(Y,xe),Y._covers.push(le)}if(le){var ge=oe[_e(Y._brushType,fe)],ve=le.__brushOption;ve.range=ge.getCreatingRange(J(Y,le,Y._track)),ce&&(A(Y,le),ge.updateCommon(Y,le)),C(Y,le),Te={isEnd:ce}}}else ce&&ye.brushMode==="single"&&ye.removeOnClick&&P(Y,Q,te)&&E(Y)&&(Te={isEnd:ce,removeOnClick:!0});return Te}function _e(Y,Q){return Y==="auto"?Q.defaultBrushType:Y}var ae={mousedown:function(Y){if(this._dragging)se(this,Y);else if(!Y.target||!Y.target.draggable){ie(Y);var Q=this.group.transformCoordToLocal(Y.offsetX,Y.offsetY);this._creatingCover=null;var te=this._creatingPanel=P(this,Y,Q);te&&(this._dragging=!0,this._track=[Q.slice()])}},mousemove:function(Y){var Q=Y.offsetX,te=Y.offsetY,ce=this.group.transformCoordToLocal(Q,te);if(ee(this,Y,ce),this._dragging){ie(Y);var le=he(this,Y,ce,!1);le&&O(this,le)}},mouseup:function(Y){se(this,Y)}};function se(Y,Q){if(Y._dragging){ie(Q);var te=Q.offsetX,ce=Q.offsetY,le=Y.group.transformCoordToLocal(te,ce),fe=he(Y,Q,le,!0);Y._dragging=!1,Y._track=[],Y._creatingCover=null,fe&&O(Y,fe)}}function De(Y,Q,te){var ce=Y._zr;return Q<0||Q>ce.getWidth()||te<0||te>ce.getHeight()}var oe={lineX:ue(0),lineY:ue(1),rect:{createCover:function(Y,Q){return V(n(U,function(te){return te},function(te){return te}),Y,Q,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(Y){var Q=G(Y);return q(Q[1][0],Q[1][1],Q[0][0],Q[0][1])},updateCoverShape:function(Y,Q,te,ce){R(Y,Q,te,ce)},updateCommon:B,contain:re},polygon:{createCover:function(Y,Q){var te=new r.Group;return te.add(new r.Polyline({name:"main",style:N(Q),silent:!0})),te},getCreatingRange:function(Y){return Y},endCreating:function(Y,Q){Q.remove(Q.childAt(0)),Q.add(new r.Polygon({name:"main",draggable:!0,drift:n(W,Y,Q),ondragend:n(O,Y,{isEnd:!0})}))},updateCoverShape:function(Y,Q,te,ce){Q.childAt(0).setShape({points:J(Y,Q,te)})},updateCommon:B,contain:re}};function ue(Y){return{createCover:function(Q,te){return V(n(U,function(ce){var le=[ce,[0,100]];return Y&&le.reverse(),le},function(ce){return ce[Y]}),Q,te,[["w","e"],["n","s"]][Y])},getCreatingRange:function(Q){var te=G(Q),ce=o(te[0][Y],te[1][Y]),le=h(te[0][Y],te[1][Y]);return[ce,le]},updateCoverShape:function(Q,te,ce,le){var fe,ye=I(Q,te);if(ye!==!0&&ye.getLinearBrushOtherExtent)fe=ye.getLinearBrushOtherExtent(Y,Q._transform);else{var Te=Q._zr;fe=[0,[Te.getWidth(),Te.getHeight()][1-Y]]}var xe=[ce,fe];Y&&xe.reverse(),R(Q,te,xe,le)},updateCommon:B,contain:re}}var be=_;return Bv=be,Bv}var qi={},b1;function EM(){if(b1)return qi;b1=1;var e=Ke,t=ys(),r=t.onIrrelevantElement,a=me;function i(o){return o=c(o),function(h,s){return a.clipPointsByRect(h,o)}}function n(o,h){return o=c(o),function(s){var v=h??s,l=v?o.width:o.height,d=v?o.x:o.y;return[d,d+(l||0)]}}function u(o,h,s){return o=c(o),function(v,l,d){return o.contain(l[0],l[1])&&!r(v,h,s)}}function c(o){return e.create(o)}return qi.makeRectPanelClipPath=i,qi.makeLinearBrushOtherExtent=n,qi.makeRectIsTargetByCursor=u,qi}var Nv,w1;function T3(){if(w1)return Nv;w1=1;var e=we,t=Z,r=na(),a=fg(),i=EM(),n=me,u=["axisLine","axisTickLabel","axisName"],c=e.extendComponentView({type:"parallelAxis",init:function(l,d){c.superApply(this,"init",arguments),(this._brushController=new a(d.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(l,d,f,m){if(!o(l,d,m)){this.axisModel=l,this.api=f,this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new n.Group,this.group.add(this._axisGroup),!!l.get("show")){var p=s(l,d),y=p.coordinateSystem,_=l.getAreaSelectStyle(),S=_.width,T=l.axis.dim,w=y.getAxisLayout(T),x=t.extend({strokeContainThreshold:S},w),b=new r(l,x);t.each(u,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(x,_,l,p,S,f);var A=m&&m.animation===!1?null:l;n.groupTransition(g,this._axisGroup,A)}}},_refreshBrushController:function(l,d,f,m,g,p){var y=f.axis.getExtent(),_=y[1]-y[0],S=Math.min(30,Math.abs(_)*.1),T=n.BoundingRect.create({x:y[0],y:-g/2,width:_,height:g});T.x-=S,T.width+=2*S,this._brushController.mount({enableGlobalPan:!0,rotation:l.rotation,position:l.position}).setPanels([{panelId:"pl",clipPath:i.makeRectPanelClipPath(T),isTargetByCursor:i.makeRectIsTargetByCursor(T,p,m),getLinearBrushOtherExtent:i.makeLinearBrushOtherExtent(T,0)}]).enableBrush({brushType:"lineX",brushStyle:d,removeOnClick:!0}).updateCovers(h(f))},_onBrush:function(l,d){var f=this.axisModel,m=f.axis,g=t.map(l,function(p){return[m.coordToData(p.range[0],!0),m.coordToData(p.range[1],!0)]});(!f.option.realtime===d.isEnd||d.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:f.id,intervals:g})},dispose:function(){this._brushController.dispose()}});function o(l,d,f){return f&&f.type==="axisAreaSelect"&&d.findComponents({mainType:"parallelAxis",query:f})[0]===l}function h(l){var d=l.axis;return t.map(l.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(f[0],!0),d.dataToCoord(f[1],!0)]}})}function s(l,d){return d.getComponent("parallel",l.get("parallelIndex"))}var v=c;return Nv=v,Nv}var A1;function C3(){return A1||(A1=1,RM(),A3(),T3()),y1}var T1;function kM(){if(T1)return u1;T1=1;var e=we,t=Z,r=lr,a=_3();RM(),w3(),C3();var i=5;e.extendComponentView({type:"parallel",render:function(c,o,h){this._model=c,this._api=h,this._handlers||(this._handlers={},t.each(n,function(s,v){h.getZr().on(v,this._handlers[v]=t.bind(s,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",c.get("axisExpandRate"),"fixRate")},dispose:function(c,o){t.each(this._handlers,function(h,s){o.getZr().off(s,h)}),this._handlers=null},_throttledDispatchExpand:function(c){this._dispatchExpand(c)},_dispatchExpand:function(c){c&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},c))}});var n={mousedown:function(c){u(this,"click")&&(this._mouseDownPoint=[c.offsetX,c.offsetY])},mouseup:function(c){var o=this._mouseDownPoint;if(u(this,"click")&&o){var h=[c.offsetX,c.offsetY],s=Math.pow(o[0]-h[0],2)+Math.pow(o[1]-h[1],2);if(s>i)return;var v=this._model.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]);v.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:v.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(c){if(!(this._mouseDownPoint||!u(this,"mousemove"))){var o=this._model,h=o.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]),s=h.behavior;s==="jump"&&this._throttledDispatchExpand.debounceNextCall(o.get("axisExpandDebounce")),this._throttledDispatchExpand(s==="none"?null:{axisExpandWindow:h.axisExpandWindow,animation:s==="jump"?null:!1})}}};function u(c,o){var h=c._model;return h.get("axisExpandable")&&h.get("axisExpandTriggerOn")===o}return e.registerPreprocessor(a),u1}var Vv,C1;function M3(){if(C1)return Vv;C1=1;var e=Z,t=e.each,r=e.createHashMap,a=dt,i=Br(),n=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(o,h){var s=this.getSource();return u(s,this),i(s,this)},getRawIndicesByActiveState:function(o){var h=this.coordinateSystem,s=this.getData(),v=[];return h.eachActiveState(s,function(l,d){o===l&&v.push(s.getRawIndex(d))}),v},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function u(o,h){if(!o.encodeDefine){var s=h.ecModel.getComponent("parallel",h.get("parallelIndex"));if(s){var v=o.encodeDefine=r();t(s.dimensions,function(l){var d=c(l);v.set(l,d)})}}}function c(o){return+o.replace("dim","")}return Vv=n,Vv}var Hv,M1;function D3(){if(M1)return Hv;M1=1;var e=me,t=Ar,r=.3,a=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(v,l,d,f){var m=this._dataGroup,g=v.getData(),p=this._data,y=v.coordinateSystem,_=y.dimensions,S=c(v);g.diff(p).add(T).update(w).remove(x).execute();function T(A){var C=u(g,m,A,_,y);o(C,g,A,S)}function w(A,C){var M=p.getItemGraphicEl(C),D=n(g,A,_,y);g.setItemGraphicEl(A,M);var L=f&&f.animation===!1?null:v;e.updateProps(M,{shape:{points:D}},L,A),o(M,g,A,S)}function x(A){var C=p.getItemGraphicEl(A);m.remove(C)}if(!this._initialized){this._initialized=!0;var b=i(y,v,function(){setTimeout(function(){m.removeClipPath()})});m.setClipPath(b)}this._data=g},incrementalPrepareRender:function(v,l,d){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(v,l,d){for(var f=l.getData(),m=l.coordinateSystem,g=m.dimensions,p=c(l),y=v.start;y<v.end;y++){var _=u(f,this._dataGroup,y,g,m);_.incremental=!0,o(_,f,y,p)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function i(v,l,d){var f=v.model,m=v.getRect(),g=new e.Rect({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),p=f.get("layout")==="horizontal"?"width":"height";return g.setShape(p,0),e.initProps(g,{shape:{width:m.width,height:m.height}},l,d),g}function n(v,l,d,f){for(var m=[],g=0;g<d.length;g++){var p=d[g],y=v.get(v.mapDimension(p),l);h(y,f.getAxis(p).type)||m.push(f.dataToPoint(y,p))}return m}function u(v,l,d,f,m){var g=n(v,d,f,m),p=new e.Polyline({shape:{points:g},silent:!0,z2:10});return l.add(p),v.setItemGraphicEl(d,p),p}function c(v){var l=v.get("smooth",!0);return l===!0&&(l=r),{lineStyle:v.getModel("lineStyle").getLineStyle(),smooth:l??r}}function o(v,l,d,f){var m=f.lineStyle;if(l.hasItemOption){var g=l.getItemModel(d).getModel("lineStyle");m=g.getLineStyle()}v.useStyle(m);var p=v.style;p.fill=null,p.stroke=l.getItemVisual(d,"color"),p.opacity=l.getItemVisual(d,"opacity"),f.smooth&&(v.shape.smooth=f.smooth)}function h(v,l){return l==="category"?v==null:v==null||isNaN(v)}var s=a;return Hv=s,Hv}var qv,D1;function L3(){if(D1)return qv;D1=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,a,i){var n=r.getModel("itemStyle"),u=r.getModel("lineStyle"),c=a.get("color"),o=u.get("color")||n.get("color")||c[r.seriesIndex%c.length],h=r.get("inactiveOpacity"),s=r.get("activeOpacity"),v=r.getModel("lineStyle").getLineStyle(),l=r.coordinateSystem,d=r.getData(),f={normal:v.opacity,active:s,inactive:h};d.setVisual("color",o);function m(g,p){l.eachActiveState(p,function(y,_){var S=f[y];if(y==="normal"&&p.hasItemOption){var T=p.getItemModel(_).get(e,!0);T!=null&&(S=T)}p.setItemVisual(_,"opacity",S)},g.start,g.end)}return{progress:m}}};return qv=t,qv}var L1;function P3(){if(L1)return l1;L1=1;var e=we;kM(),M3(),D3();var t=L3();return e.registerVisual(t),l1}var P1={},Gv,I1;function I3(){if(I1)return Gv;I1=1;var e=dt,t=DM(),r=Qe(),a=r.encodeHTML,i=ht(),n=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(c,o){for(var h=c.edges||c.links,s=c.data||c.nodes,v=c.levels,l=this.levelModels={},d=0;d<v.length;d++)v[d].depth!=null&&v[d].depth>=0&&(l[v[d].depth]=new i(v[d],this,o));if(s&&h){var f=t(s,h,this,!0,m);return f.data}function m(g,p){g.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(S){var T=this.parentModel,w=T.getData().getItemLayout(_).depth,x=T.levelModels[w];return x||this.parentModel}),y}),p.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(S){var T=this.parentModel,w=T.getGraph().getEdgeByIndex(_),x=w.node1.getLayout().depth,b=T.levelModels[x];return b||this.parentModel}),y})}},setNodePosition:function(c,o){var h=this.option.data[c];h.localX=o[0],h.localY=o[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(c,o,h){if(h==="edge"){var s=this.getDataParams(c,h),v=s.data,l=v.source+" -- "+v.target;return s.value&&(l+=" : "+s.value),a(l)}else if(h==="node"){var d=this.getGraph().getNodeByIndex(c),f=d.getLayout().value,m=this.getDataParams(c,h).data.name;if(f)var l=m+" : "+f;return a(l)}return n.superCall(this,"formatTooltip",c,o)},optionUpdated:function(){var c=this.option;c.focusNodeAdjacency===!0&&(c.focusNodeAdjacency="allEdges")},getDataParams:function(c,o){var h=n.superCall(this,"getDataParams",c,o);if(h.value==null&&o==="node"){var s=this.getGraph().getNodeByIndex(c),v=s.getLayout().value;h.value=v}return h},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),u=n;return Gv=u,Gv}var Fv,R1;function R3(){if(R1)return Fv;R1=1;var e=me,t=we,r=Z,a=["itemStyle","opacity"],i=["emphasis","itemStyle","opacity"],n=["lineStyle","opacity"],u=["emphasis","lineStyle","opacity"];function c(d,f){return d.getVisual("opacity")||d.getModel().get(f)}function o(d,f,m){var g=d.getGraphicEl(),p=c(d,f);m!=null&&(p==null&&(p=1),p*=m),g.downplay&&g.downplay(),g.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",p)})}function h(d,f){var m=c(d,f),g=d.getGraphicEl();g.traverse(function(p){p.type!=="group"&&p.setStyle("opacity",m)}),g.highlight&&g.highlight()}var s=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(d,f){var m=f.extent;d.moveTo(f.x1,f.y1),d.bezierCurveTo(f.cpx1,f.cpy1,f.cpx2,f.cpy2,f.x2,f.y2),f.orient==="vertical"?(d.lineTo(f.x2+m,f.y2),d.bezierCurveTo(f.cpx2+m,f.cpy2,f.cpx1+m,f.cpy1,f.x1+m,f.y1)):(d.lineTo(f.x2,f.y2+m),d.bezierCurveTo(f.cpx2,f.cpy2+m,f.cpx1,f.cpy1+m,f.x1,f.y1+m)),d.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),v=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(d,f,m){var g=this,p=d.getGraph(),y=this.group,_=d.layoutInfo,S=_.width,T=_.height,w=d.getData(),x=d.getData("edge"),b=d.get("orient");this._model=d,y.removeAll(),y.attr("position",[_.x,_.y]),p.eachEdge(function(A){var C=new s;C.dataIndex=A.dataIndex,C.seriesIndex=d.seriesIndex,C.dataType="edge";var M=A.getModel("lineStyle"),D=M.get("curveness"),L=A.node1.getLayout(),P=A.node1.getModel(),I=P.get("localX"),E=P.get("localY"),O=A.node2.getLayout(),z=A.node2.getModel(),G=z.get("localX"),V=z.get("localY"),R=A.getLayout(),B,k,N,q,H,F,U,W;switch(C.shape.extent=Math.max(1,R.dy),C.shape.orient=b,b==="vertical"?(B=(I!=null?I*S:L.x)+R.sy,k=(E!=null?E*T:L.y)+L.dy,N=(G!=null?G*S:O.x)+R.ty,q=V!=null?V*T:O.y,H=B,F=k*(1-D)+q*D,U=N,W=k*D+q*(1-D)):(B=(I!=null?I*S:L.x)+L.dx,k=(E!=null?E*T:L.y)+R.sy,N=G!=null?G*S:O.x,q=(V!=null?V*T:O.y)+R.ty,H=B*(1-D)+N*D,F=k,U=B*D+N*(1-D),W=q),C.setShape({x1:B,y1:k,x2:N,y2:q,cpx1:H,cpy1:F,cpx2:U,cpy2:W}),C.setStyle(M.getItemStyle()),C.style.fill){case"source":C.style.fill=A.node1.getVisual("color");break;case"target":C.style.fill=A.node2.getVisual("color");break}e.setHoverStyle(C,A.getModel("emphasis.lineStyle").getItemStyle()),y.add(C),x.setItemGraphicEl(A.dataIndex,C)}),p.eachNode(function(A){var C=A.getLayout(),M=A.getModel(),D=M.get("localX"),L=M.get("localY"),P=M.getModel("label"),I=M.getModel("emphasis.label"),E=new e.Rect({shape:{x:D!=null?D*S:C.x,y:L!=null?L*T:C.y,width:C.dx,height:C.dy},style:M.getModel("itemStyle").getItemStyle()}),O=A.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(E.style,O,P,I,{labelFetcher:d,labelDataIndex:A.dataIndex,defaultText:A.id,isRectText:!0}),E.setStyle("fill",A.getVisual("color")),e.setHoverStyle(E,O),y.add(E),w.setItemGraphicEl(A.dataIndex,E),E.dataType="node"}),w.eachItemGraphicEl(function(A,C){var M=w.getItemModel(C);M.get("draggable")&&(A.drift=function(D,L){g._focusAdjacencyDisabled=!0,this.shape.x+=D,this.shape.y+=L,this.dirty(),m.dispatchAction({type:"dragNode",seriesId:d.id,dataIndex:w.getRawIndex(C),localX:this.shape.x/S,localY:this.shape.y/T})},A.ondragend=function(){g._focusAdjacencyDisabled=!1},A.draggable=!0,A.cursor="move"),A.highlight=function(){this.trigger("emphasis")},A.downplay=function(){this.trigger("normal")},A.focusNodeAdjHandler&&A.off("mouseover",A.focusNodeAdjHandler),A.unfocusNodeAdjHandler&&A.off("mouseout",A.unfocusNodeAdjHandler),M.get("focusNodeAdjacency")&&(A.on("mouseover",A.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,dataIndex:A.dataIndex}))}),A.on("mouseout",A.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(m)}))}),x.eachItemGraphicEl(function(A,C){var M=x.getItemModel(C);A.focusNodeAdjHandler&&A.off("mouseover",A.focusNodeAdjHandler),A.unfocusNodeAdjHandler&&A.off("mouseout",A.unfocusNodeAdjHandler),M.get("focusNodeAdjacency")&&(A.on("mouseover",A.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,edgeDataIndex:A.dataIndex}))}),A.on("mouseout",A.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(m)}))}),!this._data&&d.get("animation")&&y.setClipPath(l(y.getBoundingRect(),d,function(){y.removeClipPath()})),this._data=d.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(d){var f=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){f._unfocusDelayTimer=null,d.dispatchAction({type:"unfocusNodeAdjacency",seriesId:f._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(d,f,m,g){var p=d.getData(),y=p.graph,_=g.dataIndex,S=p.getItemModel(_),T=g.edgeDataIndex;if(!(_==null&&T==null)){var w=y.getNodeByIndex(_),x=y.getEdgeByIndex(T);if(y.eachNode(function(A){o(A,a,.1)}),y.eachEdge(function(A){o(A,n,.1)}),w){h(w,i);var b=S.get("focusNodeAdjacency");b==="outEdges"?r.each(w.outEdges,function(A){A.dataIndex<0||(h(A,u),h(A.node2,i))}):b==="inEdges"?r.each(w.inEdges,function(A){A.dataIndex<0||(h(A,u),h(A.node1,i))}):b==="allEdges"&&r.each(w.edges,function(A){A.dataIndex<0||(h(A,u),A.node1!==w&&h(A.node1,i),A.node2!==w&&h(A.node2,i))})}x&&(h(x,u),h(x.node1,i),h(x.node2,i))}},unfocusNodeAdjacency:function(d,f,m,g){var p=d.getGraph();p.eachNode(function(y){o(y,a)}),p.eachEdge(function(y){o(y,n)})}});function l(d,f,m){var g=new e.Rect({shape:{x:d.x-10,y:d.y-10,width:0,height:d.height+20}});return e.initProps(g,{shape:{width:d.width+20}},f,m),g}return Fv=v,Fv}var E1={},k1;function E3(){if(k1)return E1;k1=1;var e=we;return LM(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),E1}var $v,O1;function k3(){if(O1)return $v;O1=1;var e=Ne,t=Z,r=Re,a=r.groupData;function i(A,C,M){A.eachSeriesByType("sankey",function(D){var L=D.get("nodeWidth"),P=D.get("nodeGap"),I=n(D,C);D.layoutInfo=I;var E=I.width,O=I.height,z=D.getGraph(),G=z.nodes,V=z.edges;c(G);var R=t.filter(G,function(q){return q.getLayout().value===0}),B=R.length!==0?0:D.get("layoutIterations"),k=D.get("orient"),N=D.get("nodeAlign");u(G,V,L,P,E,O,B,k,N)})}function n(A,C){return e.getLayoutRect(A.getBoxLayoutParams(),{width:C.getWidth(),height:C.getHeight()})}function u(A,C,M,D,L,P,I,E,O){o(A,C,M,L,P,E,O),d(A,C,P,L,D,I,E),b(A,E)}function c(A){t.each(A,function(C){var M=w(C.outEdges,T),D=w(C.inEdges,T),L=C.getValue()||0,P=Math.max(M,D,L);C.setLayout({value:P},!0)})}function o(A,C,M,D,L,P,I){for(var E=[],O=[],z=[],G=[],V=0,ee=0,R=0;R<C.length;R++)E[R]=1;for(R=0;R<A.length;R++)O[R]=A[R].inEdges.length,O[R]===0&&z.push(A[R]);for(var B=-1;z.length;){for(var k=0;k<z.length;k++){var N=z[k],q=N.hostGraph.data.getRawDataItem(N.dataIndex),H=q.depth!=null&&q.depth>=0;H&&q.depth>B&&(B=q.depth),N.setLayout({depth:H?q.depth:V},!0),P==="vertical"?N.setLayout({dy:M},!0):N.setLayout({dx:M},!0);for(var F=0;F<N.outEdges.length;F++){var U=N.outEdges[F],W=C.indexOf(U);E[W]=0;var K=U.node2,J=A.indexOf(K);--O[J]===0&&G.indexOf(K)<0&&G.push(K)}}++V,z=G,G=[]}for(R=0;R<E.length;R++)if(E[R]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var j=B>V-1?B:V-1;I&&I!=="left"&&s(A,I,P,j);var ee=P==="vertical"?(L-M)/j:(D-M)/j;l(A,ee,P)}function h(A){var C=A.hostGraph.data.getRawDataItem(A.dataIndex);return C.depth!=null&&C.depth>=0}function s(A,C,M,D){if(C==="right"){for(var L=[],P=A,I=0;P.length;){for(var E=0;E<P.length;E++){var O=P[E];O.setLayout({skNodeHeight:I},!0);for(var z=0;z<O.inEdges.length;z++){var G=O.inEdges[z];L.indexOf(G.node1)<0&&L.push(G.node1)}}P=L,L=[],++I}t.each(A,function(V){h(V)||V.setLayout({depth:Math.max(0,D-V.getLayout().skNodeHeight)},!0)})}else C==="justify"&&v(A,D)}function v(A,C){t.each(A,function(M){!h(M)&&!M.outEdges.length&&M.setLayout({depth:C},!0)})}function l(A,C,M){t.each(A,function(D){var L=D.getLayout().depth*C;M==="vertical"?D.setLayout({y:L},!0):D.setLayout({x:L},!0)})}function d(A,C,M,D,L,P,I){var E=f(A,I);m(E,C,M,D,L,I),g(E,L,M,D,I);for(var O=1;P>0;P--)O*=.99,p(E,O,I),g(E,L,M,D,I),x(E,O,I),g(E,L,M,D,I)}function f(A,C){var M=[],D=C==="vertical"?"y":"x",L=a(A,function(P){return P.getLayout()[D]});return L.keys.sort(function(P,I){return P-I}),t.each(L.keys,function(P){M.push(L.buckets.get(P))}),M}function m(A,C,M,D,L,P){var I=1/0;t.each(A,function(E){var O=E.length,z=0;t.each(E,function(V){z+=V.getLayout().value});var G=P==="vertical"?(D-(O-1)*L)/z:(M-(O-1)*L)/z;G<I&&(I=G)}),t.each(A,function(E){t.each(E,function(O,z){var G=O.getLayout().value*I;P==="vertical"?(O.setLayout({x:z},!0),O.setLayout({dx:G},!0)):(O.setLayout({y:z},!0),O.setLayout({dy:G},!0))})}),t.each(C,function(E){var O=+E.getValue()*I;E.setLayout({dy:O},!0)})}function g(A,C,M,D,L){var P=L==="vertical"?"x":"y";t.each(A,function(I){I.sort(function(N,q){return N.getLayout()[P]-q.getLayout()[P]});for(var E,O,z,G=0,V=I.length,R=L==="vertical"?"dx":"dy",B=0;B<V;B++)O=I[B],z=G-O.getLayout()[P],z>0&&(E=O.getLayout()[P]+z,L==="vertical"?O.setLayout({x:E},!0):O.setLayout({y:E},!0)),G=O.getLayout()[P]+O.getLayout()[R]+C;var k=L==="vertical"?D:M;if(z=G-C-k,z>0)for(E=O.getLayout()[P]-z,L==="vertical"?O.setLayout({x:E},!0):O.setLayout({y:E},!0),G=E,B=V-2;B>=0;--B)O=I[B],z=O.getLayout()[P]+O.getLayout()[R]+C-G,z>0&&(E=O.getLayout()[P]-z,L==="vertical"?O.setLayout({x:E},!0):O.setLayout({y:E},!0)),G=O.getLayout()[P]})}function p(A,C,M){t.each(A.slice().reverse(),function(D){t.each(D,function(L){if(L.outEdges.length){var P=w(L.outEdges,y,M)/w(L.outEdges,T,M);if(M==="vertical"){var I=L.getLayout().x+(P-S(L,M))*C;L.setLayout({x:I},!0)}else{var E=L.getLayout().y+(P-S(L,M))*C;L.setLayout({y:E},!0)}}})})}function y(A,C){return S(A.node2,C)*A.getValue()}function _(A,C){return S(A.node1,C)*A.getValue()}function S(A,C){return C==="vertical"?A.getLayout().x+A.getLayout().dx/2:A.getLayout().y+A.getLayout().dy/2}function T(A){return A.getValue()}function w(A,C,M){for(var D=0,L=A.length,P=-1;++P<L;){var I=+C.call(A,A[P],M);isNaN(I)||(D+=I)}return D}function x(A,C,M){t.each(A,function(D){t.each(D,function(L){if(L.inEdges.length){var P=w(L.inEdges,_,M)/w(L.inEdges,T,M);if(M==="vertical"){var I=L.getLayout().x+(P-S(L,M))*C;L.setLayout({x:I},!0)}else{var E=L.getLayout().y+(P-S(L,M))*C;L.setLayout({y:E},!0)}}})})}function b(A,C){var M=C==="vertical"?"x":"y";t.each(A,function(D){D.outEdges.sort(function(L,P){return L.node2.getLayout()[M]-P.node2.getLayout()[M]}),D.inEdges.sort(function(L,P){return L.node1.getLayout()[M]-P.node1.getLayout()[M]})}),t.each(A,function(D){var L=0,P=0;t.each(D.outEdges,function(I){I.setLayout({sy:L},!0),L+=I.getLayout().dy}),t.each(D.inEdges,function(I){I.setLayout({ty:P},!0),P+=I.getLayout().dy})})}return $v=i,$v}var Uv,z1;function O3(){if(z1)return Uv;z1=1;var e=Pa(),t=Z;function r(a,i){a.eachSeriesByType("sankey",function(n){var u=n.getGraph(),c=u.nodes;if(c.length){var o=1/0,h=-1/0;t.each(c,function(s){var v=s.getLayout().value;v<o&&(o=v),v>h&&(h=v)}),t.each(c,function(s){var v=new e({type:"color",mappingMethod:"linear",dataExtent:[o,h],visual:n.get("color")}),l=v.mapValueToVisual(s.getLayout().value),d=s.getModel().get("itemStyle.color");d!=null?s.setVisual("color",d):s.setVisual("color",l)})}})}return Uv=r,Uv}var B1;function z3(){if(B1)return P1;B1=1;var e=we;I3(),R3(),E3();var t=k3(),r=O3();return e.registerLayout(t),e.registerVisual(r),P1}var N1={},Wv={},V1;function OM(){if(V1)return Wv;V1=1;var e=Si(),t=Z,r=Cn(),a=r.getDimensionTypeByAxis,i=wt,n=i.makeSeriesEncodeForAxisCoordSys,u={_baseAxisDim:null,getInitialData:function(c,o){var h,s=o.getComponent("xAxis",this.get("xAxisIndex")),v=o.getComponent("yAxis",this.get("yAxisIndex")),l=s.get("type"),d=v.get("type"),f;l==="category"?(c.layout="horizontal",h=s.getOrdinalMeta(),f=!0):d==="category"?(c.layout="vertical",h=v.getOrdinalMeta(),f=!0):c.layout=c.layout||"horizontal";var m=["x","y"],g=c.layout==="horizontal"?0:1,p=this._baseAxisDim=m[g],y=m[1-g],_=[s,v],S=_[g].get("type"),T=_[1-g].get("type"),w=c.data;if(w&&f){var x=[];t.each(w,function(C,M){var D;C.value&&t.isArray(C.value)?(D=C.value.slice(),C.value.unshift(M)):t.isArray(C)?(D=C.slice(),C.unshift(M)):D=C,x.push(D)}),c.data=x}var b=this.defaultValueDimensions,A=[{name:p,type:a(S),ordinalMeta:h,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:a(T),dimsDef:b.slice()}];return e(this,{coordDimensions:A,dimensionsCount:b.length+1,encodeDefaulter:t.curry(n,A,this)})},getBaseAxis:function(){var c=this._baseAxisDim;return this.ecModel.getComponent(c+"Axis",this.get(c+"AxisIndex")).axis}};return Wv.seriesModelMixin=u,Wv}var Zv,H1;function B3(){if(H1)return Zv;H1=1;var e=Z,t=dt,r=OM(),a=r.seriesModelMixin,i=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(i,a,!0);var n=i;return Zv=n,Zv}var Yv,q1;function N3(){if(q1)return Yv;q1=1;var e=Z,t=Ar,r=me,a=it,i=["itemStyle"],n=["emphasis","itemStyle"],u=t.extend({type:"boxplot",render:function(l,d,f){var m=l.getData(),g=this.group,p=this._data;this._data||g.removeAll();var y=l.get("layout")==="horizontal"?1:0;m.diff(p).add(function(_){if(m.hasValue(_)){var S=m.getItemLayout(_),T=o(S,m,_,y,!0);m.setItemGraphicEl(_,T),g.add(T)}}).update(function(_,S){var T=p.getItemGraphicEl(S);if(!m.hasValue(_)){g.remove(T);return}var w=m.getItemLayout(_);T?h(w,T,m,_):T=o(w,m,_,y),g.add(T),m.setItemGraphicEl(_,T)}).remove(function(_){var S=p.getItemGraphicEl(_);S&&g.remove(S)}).execute(),this._data=m},remove:function(l){var d=this.group,f=this._data;this._data=null,f&&f.eachItemGraphicEl(function(m){m&&d.remove(m)})},dispose:e.noop}),c=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(l,d){var f=d.points,m=0;for(l.moveTo(f[m][0],f[m][1]),m++;m<4;m++)l.lineTo(f[m][0],f[m][1]);for(l.closePath();m<f.length;m++)l.moveTo(f[m][0],f[m][1]),m++,l.lineTo(f[m][0],f[m][1])}});function o(l,d,f,m,g){var p=l.ends,y=new c({shape:{points:g?s(p,m,l):p}});return h(l,y,d,f,g),y}function h(l,d,f,m,g){var p=f.hostModel,y=r[g?"initProps":"updateProps"];y(d,{shape:{points:l.ends}},p,m);var _=f.getItemModel(m),S=_.getModel(i),T=f.getItemVisual(m,"color"),w=S.getItemStyle(["borderColor"]);w.stroke=T,w.strokeNoScale=!0,d.useStyle(w),d.z2=100;var x=_.getModel(n).getItemStyle();r.setHoverStyle(d,x)}function s(l,d,f){return e.map(l,function(m){return m=m.slice(),m[d]=f.initBaseline,m})}var v=u;return Yv=v,Yv}var Xv,G1;function V3(){if(G1)return Xv;G1=1;var e=["itemStyle","borderColor"];function t(r,a){var i=r.get("color");r.eachRawSeriesByType("boxplot",function(n){var u=i[n.seriesIndex%i.length],c=n.getData();c.setVisual({legendSymbol:"roundRect",color:n.get(e)||u}),r.isSeriesFiltered(n)||c.each(function(o){var h=c.getItemModel(o);c.setItemVisual(o,{color:h.get(e,!0)})})})}return Xv=t,Xv}var Kv,F1;function H3(){if(F1)return Kv;F1=1;var e=Z,t=Oe(),r=t.parsePercent,a=e.each;function i(o){var h=n(o);a(h,function(s){var v=s.seriesModels;v.length&&(u(s),a(v,function(l,d){c(l,s.boxOffsetList[d],s.boxWidthList[d])}))})}function n(o){var h=[],s=[];return o.eachSeriesByType("boxplot",function(v){var l=v.getBaseAxis(),d=e.indexOf(s,l);d<0&&(d=s.length,s[d]=l,h[d]={axis:l,seriesModels:[]}),h[d].seriesModels.push(v)}),h}function u(o){var h,s=o.axis,v=o.seriesModels,l=v.length,d=o.boxWidthList=[],f=o.boxOffsetList=[],m=[],g;if(s.type==="category")g=s.getBandWidth();else{var p=0;a(v,function(w){p=Math.max(p,w.getData().count())}),h=s.getExtent(),Math.abs(h[1]-h[0])/p}a(v,function(w){var x=w.get("boxWidth");e.isArray(x)||(x=[x,x]),m.push([r(x[0],g)||0,r(x[1],g)||0])});var y=g*.8-2,_=y/l*.3,S=(y-_*(l-1))/l,T=S/2-y/2;a(v,function(w,x){f.push(T),T+=_+S,d.push(Math.min(Math.max(S,m[x][0]),m[x][1]))})}function c(o,h,s){var v=o.coordinateSystem,l=o.getData(),d=s/2,f=o.get("layout")==="horizontal"?0:1,m=1-f,g=["x","y"],p=l.mapDimension(g[f]),y=l.mapDimension(g[m],!0);if(p==null||y.length<5)return;for(var _=0;_<l.count();_++){var S=l.get(p,_),T=M(S,y[2],_),w=M(S,y[0],_),x=M(S,y[1],_),b=M(S,y[3],_),A=M(S,y[4],_),C=[];D(C,x,0),D(C,b,1),C.push(w,x,A,b),L(C,w),L(C,A),L(C,T),l.setItemLayout(_,{initBaseline:T[m],ends:C})}function M(P,I,E){var O=l.get(I,E),z=[];z[f]=P,z[m]=O;var G;return isNaN(P)||isNaN(O)?G=[NaN,NaN]:(G=v.dataToPoint(z),G[f]+=h),G}function D(P,I,E){var O=I.slice(),z=I.slice();O[f]+=d,z[f]-=d,E?P.push(O,z):P.push(z,O)}function L(P,I){var E=I.slice(),O=I.slice();E[f]-=d,O[f]+=d,P.push(E,O)}}return Kv=i,Kv}var $1;function q3(){if($1)return N1;$1=1;var e=we;B3(),N3();var t=V3(),r=H3();return e.registerVisual(t),e.registerLayout(r),N1}var U1={},Qv,W1;function G3(){if(W1)return Qv;W1=1;var e=Z,t=dt,r=OM(),a=r.seriesModelMixin,i=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(u,c,o){var h=c.getItemLayout(u);return h&&o.rect(h.brushRect)}});e.mixin(i,a,!0);var n=i;return Qv=n,Qv}var Jv,Z1;function F3(){if(Z1)return Jv;Z1=1;var e=Z,t=Ar,r=me,a=it,i=Dn(),n=i.createClipPath,u=["itemStyle"],c=["emphasis","itemStyle"],o=["color","color0","borderColor","borderColor0"],h=t.extend({type:"candlestick",render:function(_,S,T){this.group.removeClipPath(),this._updateDrawMode(_),this._isLargeDraw?this._renderLarge(_):this._renderNormal(_)},incrementalPrepareRender:function(_,S,T){this._clear(),this._updateDrawMode(_)},incrementalRender:function(_,S,T,w){this._isLargeDraw?this._incrementalRenderLarge(_,S):this._incrementalRenderNormal(_,S)},_updateDrawMode:function(_){var S=_.pipelineContext.large;(this._isLargeDraw==null||S^this._isLargeDraw)&&(this._isLargeDraw=S,this._clear())},_renderNormal:function(_){var S=_.getData(),T=this._data,w=this.group,x=S.getLayout("isSimpleBox"),b=_.get("clip",!0),A=_.coordinateSystem,C=A.getArea&&A.getArea();this._data||w.removeAll(),S.diff(T).add(function(M){if(S.hasValue(M)){var D,L=S.getItemLayout(M);if(b&&l(C,L))return;D=v(L,M,!0),r.initProps(D,{shape:{points:L.ends}},_,M),d(D,S,M,x),w.add(D),S.setItemGraphicEl(M,D)}}).update(function(M,D){var L=T.getItemGraphicEl(D);if(!S.hasValue(M)){w.remove(L);return}var P=S.getItemLayout(M);if(b&&l(C,P)){w.remove(L);return}L?r.updateProps(L,{shape:{points:P.ends}},_,M):L=v(P),d(L,S,M,x),w.add(L),S.setItemGraphicEl(M,L)}).remove(function(M){var D=T.getItemGraphicEl(M);D&&w.remove(D)}).execute(),this._data=S},_renderLarge:function(_){this._clear(),g(_,this.group);var S=_.get("clip",!0)?n(_.coordinateSystem,!1,_):null;S?this.group.setClipPath(S):this.group.removeClipPath()},_incrementalRenderNormal:function(_,S){for(var T=S.getData(),w=T.getLayout("isSimpleBox"),x;(x=_.next())!=null;){var b,A=T.getItemLayout(x);b=v(A),d(b,T,x,w),b.incremental=!0,this.group.add(b)}},_incrementalRenderLarge:function(_,S){g(S,this.group,!0)},remove:function(_){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),s=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(_,S){var T=S.points;this.__simpleBox?(_.moveTo(T[4][0],T[4][1]),_.lineTo(T[6][0],T[6][1])):(_.moveTo(T[0][0],T[0][1]),_.lineTo(T[1][0],T[1][1]),_.lineTo(T[2][0],T[2][1]),_.lineTo(T[3][0],T[3][1]),_.closePath(),_.moveTo(T[4][0],T[4][1]),_.lineTo(T[5][0],T[5][1]),_.moveTo(T[6][0],T[6][1]),_.lineTo(T[7][0],T[7][1]))}});function v(_,S,T){var w=_.ends;return new s({shape:{points:T?f(w,_):w},z2:100})}function l(_,S){for(var T=!0,w=0;w<S.ends.length;w++)if(_.contain(S.ends[w][0],S.ends[w][1])){T=!1;break}return T}function d(_,S,T,w){var x=S.getItemModel(T),b=x.getModel(u),A=S.getItemVisual(T,"color"),C=S.getItemVisual(T,"borderColor")||A,M=b.getItemStyle(o);_.useStyle(M),_.style.strokeNoScale=!0,_.style.fill=A,_.style.stroke=C,_.__simpleBox=w;var D=x.getModel(c).getItemStyle();r.setHoverStyle(_,D)}function f(_,S){return e.map(_,function(T){return T=T.slice(),T[1]=S.initBaseline,T})}var m=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(_,S){for(var T=S.points,w=0;w<T.length;)if(this.__sign===T[w++]){var x=T[w++];_.moveTo(x,T[w++]),_.lineTo(x,T[w++])}else w+=3}});function g(_,S,T){var w=_.getData(),x=w.getLayout("largePoints"),b=new m({shape:{points:x},__sign:1});S.add(b);var A=new m({shape:{points:x},__sign:-1});S.add(A),p(1,b,_,w),p(-1,A,_,w),T&&(b.incremental=!0,A.incremental=!0)}function p(_,S,T,w){var x=_>0?"P":"N",b=w.getVisual("borderColor"+x)||w.getVisual("color"+x),A=T.getModel(u).getItemStyle(o);S.useStyle(A),S.style.fill=null,S.style.stroke=b}var y=h;return Jv=y,Jv}var jv,Y1;function $3(){if(Y1)return jv;Y1=1;var e=Z;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(a){e.isObject(a)&&a.type==="k"&&(a.type="candlestick")})}return jv=t,jv}var eh,X1;function U3(){if(X1)return eh;X1=1;var e=mi,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],a=["itemStyle","color"],i=["itemStyle","color0"],n={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(u,c){var o=u.getData();if(o.setVisual({legendSymbol:"roundRect",colorP:v(1,u),colorN:v(-1,u),borderColorP:l(1,u),borderColorN:l(-1,u)}),c.isSeriesFiltered(u))return;var h=u.pipelineContext.large;return!h&&{progress:s};function s(d,f){for(var m;(m=d.next())!=null;){var g=f.getItemModel(m),p=f.getItemLayout(m).sign;f.setItemVisual(m,{color:v(p,g),borderColor:l(p,g)})}}function v(d,f){return f.get(d>0?a:i)}function l(d,f){return f.get(d>0?t:r)}}};return eh=n,eh}var th,K1;function W3(){if(K1)return th;K1=1;var e=me,t=e.subPixelOptimize,r=mi,a=Oe(),i=a.parsePercent,n=Z,u=n.retrieve2,c=typeof Float32Array<"u"?Float32Array:Array,o={seriesType:"candlestick",plan:r(),reset:function(v){var l=v.coordinateSystem,d=v.getData(),f=s(v,d),m=0,g=1,p=["x","y"],y=d.mapDimension(p[m]),_=d.mapDimension(p[g],!0),S=_[0],T=_[1],w=_[2],x=_[3];if(d.setLayout({candleWidth:f,isSimpleBox:f<=1.3}),y==null||_.length<4)return;return{progress:v.pipelineContext.large?A:b};function b(C,M){for(var D;(D=C.next())!=null;){var L=M.get(y,D),P=M.get(S,D),I=M.get(T,D),E=M.get(w,D),O=M.get(x,D),z=Math.min(P,I),G=Math.max(P,I),V=q(z,L),R=q(G,L),B=q(E,L),k=q(O,L),N=[];H(N,R,0),H(N,V,1),N.push(U(k),U(R),U(B),U(V)),M.setItemLayout(D,{sign:h(M,D,P,I,T),initBaseline:P>I?R[g]:V[g],ends:N,brushRect:F(E,O,L)})}function q(W,K){var J=[];return J[m]=K,J[g]=W,isNaN(K)||isNaN(W)?[NaN,NaN]:l.dataToPoint(J)}function H(W,K,J){var j=K.slice(),ee=K.slice();j[m]=t(j[m]+f/2,1,!1),ee[m]=t(ee[m]-f/2,1,!0),J?W.push(j,ee):W.push(ee,j)}function F(W,K,J){var j=q(W,J),ee=q(K,J);return j[m]-=f/2,ee[m]-=f/2,{x:j[0],y:j[1],width:f,height:ee[1]-j[1]}}function U(W){return W[m]=t(W[m],1),W}}function A(C,M){for(var D=new c(C.count*4),L=0,P,I=[],E=[],O;(O=C.next())!=null;){var z=M.get(y,O),G=M.get(S,O),V=M.get(T,O),R=M.get(w,O),B=M.get(x,O);if(isNaN(z)||isNaN(R)||isNaN(B)){D[L++]=NaN,L+=3;continue}D[L++]=h(M,O,G,V,T),I[m]=z,I[g]=R,P=l.dataToPoint(I,null,E),D[L++]=P?P[0]:NaN,D[L++]=P?P[1]:NaN,I[g]=B,P=l.dataToPoint(I,null,E),D[L++]=P?P[1]:NaN}M.setLayout("largePoints",D)}}};function h(v,l,d,f,m){var g;return d>f?g=-1:d<f?g=1:g=l>0?v.get(m,l-1)<=f?1:-1:1,g}function s(v,l){var d=v.getBaseAxis(),f,m=d.type==="category"?d.getBandWidth():(f=d.getExtent(),Math.abs(f[1]-f[0])/l.count()),g=i(u(v.get("barMaxWidth"),m),m),p=i(u(v.get("barMinWidth"),1),m),y=v.get("barWidth");return y!=null?i(y,m):Math.max(Math.min(m/2,g),p)}return th=o,th}var Q1;function Z3(){if(Q1)return U1;Q1=1;var e=we;G3(),F3();var t=$3(),r=U3(),a=W3();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(a),U1}var J1={},rh,j1;function Y3(){if(j1)return rh;j1=1;var e=Br(),t=dt,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return rh=r,rh}var ah,ex;function X3(){if(ex)return ah;ex=1;var e=Z,t=Xt(),r=t.createSymbol,a=me,i=a.Group,n=Oe(),u=n.parsePercent,c=fs(),o=3;function h(f){return e.isArray(f)||(f=[+f,+f]),f}function s(f,m){var g=m.rippleEffectColor||m.color;f.eachChild(function(p){p.attr({z:m.z,zlevel:m.zlevel,style:{stroke:m.brushType==="stroke"?g:null,fill:m.brushType==="fill"?g:null}})})}function v(f,m){i.call(this);var g=new c(f,m),p=new i;this.add(g),this.add(p),p.beforeUpdate=function(){this.attr(g.getScale())},this.updateData(f,m)}var l=v.prototype;l.stopEffectAnimation=function(){this.childAt(1).removeAll()},l.startEffectAnimation=function(f){for(var m=f.symbolType,g=f.color,p=this.childAt(1),y=0;y<o;y++){var _=r(m,-1,-1,2,2,g);_.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var S=-y/o*f.period+f.effectOffset;_.animate("",!0).when(f.period,{scale:[f.rippleScale/2,f.rippleScale/2]}).delay(S).start(),_.animateStyle(!0).when(f.period,{opacity:0}).delay(S).start(),p.add(_)}s(p,f)},l.updateEffectAnimation=function(f){for(var m=this._effectCfg,g=this.childAt(1),p=["symbolType","period","rippleScale"],y=0;y<p.length;y++){var _=p[y];if(m[_]!==f[_]){this.stopEffectAnimation(),this.startEffectAnimation(f);return}}s(g,f)},l.highlight=function(){this.trigger("emphasis")},l.downplay=function(){this.trigger("normal")},l.updateData=function(f,m){var g=f.hostModel;this.childAt(0).updateData(f,m);var p=this.childAt(1),y=f.getItemModel(m),_=f.getItemVisual(m,"symbol"),S=h(f.getItemVisual(m,"symbolSize")),T=f.getItemVisual(m,"color");p.attr("scale",S),p.traverse(function(D){D.attr({fill:T})});var w=y.getShallow("symbolOffset");if(w){var x=p.position;x[0]=u(w[0],S[0]),x[1]=u(w[1],S[1])}p.rotation=(y.getShallow("symbolRotate")||0)*Math.PI/180||0;var b={};if(b.showEffectOn=g.get("showEffectOn"),b.rippleScale=y.get("rippleEffect.scale"),b.brushType=y.get("rippleEffect.brushType"),b.period=y.get("rippleEffect.period")*1e3,b.effectOffset=m/f.count(),b.z=y.getShallow("z")||0,b.zlevel=y.getShallow("zlevel")||0,b.symbolType=_,b.color=T,b.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),b.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(b):this.startEffectAnimation(b),this._effectCfg=b;else{this._effectCfg=null,this.stopEffectAnimation();var A=this.childAt(0),C=function(){A.highlight(),b.showEffectOn!=="render"&&this.startEffectAnimation(b)},M=function(){A.downplay(),b.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",C,this).on("mouseout",M,this).on("emphasis",C,this).on("normal",M,this)}this._effectCfg=b},l.fadeOut=function(f){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),f&&f()},e.inherits(v,i);var d=v;return ah=d,ah}var ih,tx;function K3(){if(tx)return ih;tx=1;var e=we,t=Mn(),r=X3(),a=Rt(),i=Ln(),n=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(u,c,o){var h=u.getData(),s=this._symbolDraw;s.updateData(h),this.group.add(s.group)},updateTransform:function(u,c,o){var h=u.getData();this.group.dirty();var s=i().reset(u);s.progress&&s.progress({start:0,end:h.count()},h),this._symbolDraw.updateLayout(h)},_updateGroupTransform:function(u){var c=u.coordinateSystem;c&&c.getRoamTransform&&(this.group.transform=a.clone(c.getRoamTransform()),this.group.decomposeTransform())},remove:function(u,c){this._symbolDraw&&this._symbolDraw.remove(c)},dispose:function(){}});return ih=n,ih}var rx;function Q3(){if(rx)return J1;rx=1;var e=we;Y3(),K3();var t=Ma(),r=Ln();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),J1}var ax={},nh,ix;function J3(){if(ix)return nh;ix=1;var e=dt,t=Yt(),r=Z,a=r.concatArray,i=r.mergeAll,n=r.map,u=Qe(),c=u.encodeHTML,o=typeof Uint32Array>"u"?Array:Uint32Array,h=typeof Float64Array>"u"?Array:Float64Array;function s(d){var f=d.data;f&&f[0]&&f[0][0]&&f[0][0].coord&&(d.data=n(f,function(m){var g=[m[0].coord,m[1].coord],p={coords:g};return m[0].name&&(p.fromName=m[0].name),m[1].name&&(p.toName=m[1].name),i([p,m[0],m[1]])}))}var v=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(d){d.data=d.data||[],s(d);var f=this._processFlatCoordsArray(d.data);this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset,f.flatCoords&&(d.data=new Float32Array(f.count)),v.superApply(this,"init",arguments)},mergeOption:function(d){if(d.data=d.data||[],s(d),d.data){var f=this._processFlatCoordsArray(d.data);this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset,f.flatCoords&&(d.data=new Float32Array(f.count))}v.superApply(this,"mergeOption",arguments)},appendData:function(d){var f=this._processFlatCoordsArray(d.data);f.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,f.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,f.flatCoordsOffset)):(this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset),d.data=new Float32Array(f.count)),this.getRawData().appendData(d.data)},_getCoordsFromItemModel:function(d){var f=this.getData().getItemModel(d),m=f.option instanceof Array?f.option:f.getShallow("coords");return m},getLineCoordsCount:function(d){return this._flatCoordsOffset?this._flatCoordsOffset[d*2+1]:this._getCoordsFromItemModel(d).length},getLineCoords:function(d,f){if(this._flatCoordsOffset){for(var m=this._flatCoordsOffset[d*2],g=this._flatCoordsOffset[d*2+1],p=0;p<g;p++)f[p]=f[p]||[],f[p][0]=this._flatCoords[m+p*2],f[p][1]=this._flatCoords[m+p*2+1];return g}else{for(var y=this._getCoordsFromItemModel(d),p=0;p<y.length;p++)f[p]=f[p]||[],f[p][0]=y[p][0],f[p][1]=y[p][1];return y.length}},_processFlatCoordsArray:function(d){var f=0;if(this._flatCoords&&(f=this._flatCoords.length),typeof d[0]=="number"){for(var m=d.length,g=new o(m),p=new h(m),y=0,_=0,S=0,T=0;T<m;){S++;var w=d[T++];g[_++]=y+f,g[_++]=w;for(var x=0;x<w;x++){var b=d[T++],A=d[T++];p[y++]=b,p[y++]=A}}return{flatCoordsOffset:new Uint32Array(g.buffer,0,_),flatCoords:p,count:S}}return{flatCoordsOffset:null,flatCoords:null,count:d.length}},getInitialData:function(d,f){var m=new t(["value"],this);return m.hasItemOption=!1,m.initData(d.data,[],function(g,p,y,_){if(g instanceof Array)return NaN;m.hasItemOption=!0;var S=g.value;if(S!=null)return S instanceof Array?S[_]:S}),m},formatTooltip:function(d){var f=this.getData(),m=f.getItemModel(d),g=m.get("name");if(g)return g;var p=m.get("fromName"),y=m.get("toName"),_=[];return p!=null&&_.push(p),y!=null&&_.push(y),c(_.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var d=this.option.progressive;return d??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var d=this.option.progressiveThreshold;return d??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),l=v;return nh=l,nh}var oh,nx;function zM(){if(nx)return oh;nx=1;var e=me,t=vg(),r=Z,a=Xt(),i=a.createSymbol,n=Ye(),u=vt;function c(s,v,l){e.Group.call(this),this.add(this.createLine(s,v,l)),this._updateEffectSymbol(s,v)}var o=c.prototype;o.createLine=function(s,v,l){return new t(s,v,l)},o._updateEffectSymbol=function(s,v){var l=s.getItemModel(v),d=l.getModel("effect"),f=d.get("symbolSize"),m=d.get("symbol");r.isArray(f)||(f=[f,f]);var g=d.get("color")||s.getItemVisual(v,"color"),p=this.childAt(1);this._symbolType!==m&&(this.remove(p),p=i(m,-.5,-.5,1,1,g),p.z2=100,p.culling=!0,this.add(p)),p&&(p.setStyle("shadowColor",g),p.setStyle(d.getItemStyle(["color"])),p.attr("scale",f),p.setColor(g),p.attr("scale",f),this._symbolType=m,this._symbolScale=f,this._updateEffectAnimation(s,d,v))},o._updateEffectAnimation=function(s,v,l){var d=this.childAt(1);if(d){var f=this,m=s.getItemLayout(l),g=v.get("period")*1e3,p=v.get("loop"),y=v.get("constantSpeed"),_=r.retrieve(v.get("delay"),function(x){return x/s.count()*g/3}),S=typeof _=="function";if(d.ignore=!0,this.updateAnimationPoints(d,m),y>0&&(g=this.getLineLength(d)/y*1e3),g!==this._period||p!==this._loop){d.stopAnimation();var T=_;S&&(T=_(l)),d.__t>0&&(T=-g*d.__t),d.__t=0;var w=d.animate("",p).when(g,{__t:1}).delay(T).during(function(){f.updateSymbolPosition(d)});p||w.done(function(){f.remove(d)}),w.start()}this._period=g,this._loop=p}},o.getLineLength=function(s){return n.dist(s.__p1,s.__cp1)+n.dist(s.__cp1,s.__p2)},o.updateAnimationPoints=function(s,v){s.__p1=v[0],s.__p2=v[1],s.__cp1=v[2]||[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]},o.updateData=function(s,v,l){this.childAt(0).updateData(s,v,l),this._updateEffectSymbol(s,v)},o.updateSymbolPosition=function(s){var v=s.__p1,l=s.__p2,d=s.__cp1,f=s.__t,m=s.position,g=[m[0],m[1]],p=u.quadraticAt,y=u.quadraticDerivativeAt;m[0]=p(v[0],d[0],l[0],f),m[1]=p(v[1],d[1],l[1],f);var _=y(v[0],d[0],l[0],f),S=y(v[1],d[1],l[1],f);if(s.rotation=-Math.atan2(S,_)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(s.__lastT!==void 0&&s.__lastT<s.__t){var T=n.dist(g,m)*1.05;s.attr("scale",[s.scale[0],T]),f===1&&(m[0]=g[0]+(m[0]-g[0])/2,m[1]=g[1]+(m[1]-g[1])/2)}else if(s.__lastT===1){var T=2*n.dist(v,m);s.attr("scale",[s.scale[0],T])}else s.attr("scale",this._symbolScale);s.__lastT=s.__t,s.ignore=!1},o.updateLayout=function(s,v){this.childAt(0).updateLayout(s,v);var l=s.getItemModel(v).getModel("effect");this._updateEffectAnimation(s,l,v)},r.inherits(c,e.Group);var h=c;return oh=h,oh}var sh,ox;function BM(){if(ox)return sh;ox=1;var e=me,t=Z;function r(n,u,c){e.Group.call(this),this._createPolyline(n,u,c)}var a=r.prototype;a._createPolyline=function(n,u,c){var o=n.getItemLayout(u),h=new e.Polyline({shape:{points:o}});this.add(h),this._updateCommonStl(n,u,c)},a.updateData=function(n,u,c){var o=n.hostModel,h=this.childAt(0),s={shape:{points:n.getItemLayout(u)}};e.updateProps(h,s,o,u),this._updateCommonStl(n,u,c)},a._updateCommonStl=function(n,u,c){var o=this.childAt(0),h=n.getItemModel(u),s=n.getItemVisual(u,"color"),v=c&&c.lineStyle,l=c&&c.hoverLineStyle;(!c||n.hasItemOption)&&(v=h.getModel("lineStyle").getLineStyle(),l=h.getModel("emphasis.lineStyle").getLineStyle()),o.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:s},v)),o.hoverStyle=l,e.setHoverStyle(this)},a.updateLayout=function(n,u){var c=this.childAt(0);c.setShape("points",n.getItemLayout(u))},t.inherits(r,e.Group);var i=r;return sh=i,sh}var lh,sx;function j3(){if(sx)return lh;sx=1;var e=BM(),t=Z,r=zM(),a=Ye();function i(c,o,h){r.call(this,c,o,h),this._lastFrame=0,this._lastFramePercent=0}var n=i.prototype;n.createLine=function(c,o,h){return new e(c,o,h)},n.updateAnimationPoints=function(c,o){this._points=o;for(var h=[0],s=0,v=1;v<o.length;v++){var l=o[v-1],d=o[v];s+=a.dist(l,d),h.push(s)}if(s!==0){for(var v=0;v<h.length;v++)h[v]/=s;this._offsets=h,this._length=s}},n.getLineLength=function(c){return this._length},n.updateSymbolPosition=function(c){var o=c.__t,h=this._points,s=this._offsets,v=h.length;if(s){var l=this._lastFrame,d;if(o<this._lastFramePercent){var f=Math.min(l+1,v-1);for(d=f;d>=0&&!(s[d]<=o);d--);d=Math.min(d,v-2)}else{for(var d=l;d<v&&!(s[d]>o);d++);d=Math.min(d-1,v-2)}a.lerp(c.position,h[d],h[d+1],(o-s[d])/(s[d+1]-s[d]));var m=h[d+1][0]-h[d][0],g=h[d+1][1]-h[d][1];c.rotation=-Math.atan2(g,m)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,c.ignore=!1}},t.inherits(i,r);var u=i;return lh=u,lh}var uh,lx;function eH(){if(lx)return uh;lx=1;var e=me,t=kd,r=Td,a=Cd,i=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(o,h){var s=h.segs,v=h.curveness;if(h.polyline)for(var l=0;l<s.length;){var d=s[l++];if(d>0){o.moveTo(s[l++],s[l++]);for(var f=1;f<d;f++)o.lineTo(s[l++],s[l++])}}else for(var l=0;l<s.length;){var m=s[l++],g=s[l++],p=s[l++],y=s[l++];if(o.moveTo(m,g),v>0){var _=(m+p)/2-(g-y)*v,S=(g+y)/2-(p-m)*v;o.quadraticCurveTo(_,S,p,y)}else o.lineTo(p,y)}},findDataIndex:function(o,h){var s=this.shape,v=s.segs,l=s.curveness;if(s.polyline)for(var d=0,f=0;f<v.length;){var m=v[f++];if(m>0)for(var g=v[f++],p=v[f++],y=1;y<m;y++){var _=v[f++],S=v[f++];if(r.containStroke(g,p,_,S))return d}d++}else for(var d=0,f=0;f<v.length;){var g=v[f++],p=v[f++],_=v[f++],S=v[f++];if(l>0){var T=(g+_)/2-(p-S)*l,w=(p+S)/2-(_-g)*l;if(a.containStroke(g,p,T,w,_,S))return d}else if(r.containStroke(g,p,_,S))return d;d++}return-1}});function n(){this.group=new e.Group}var u=n.prototype;u.isPersistent=function(){return!this._incremental},u.updateData=function(o){this.group.removeAll();var h=new i({rectHover:!0,cursor:"default"});h.setShape({segs:o.getLayout("linesPoints")}),this._setCommon(h,o),this.group.add(h),this._incremental=null},u.incrementalPrepareUpdate=function(o){this.group.removeAll(),this._clearIncremental(),o.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},u.incrementalUpdate=function(o,h){var s=new i;s.setShape({segs:h.getLayout("linesPoints")}),this._setCommon(s,h,!!this._incremental),this._incremental?this._incremental.addDisplayable(s,!0):(s.rectHover=!0,s.cursor="default",s.__startIndex=o.start,this.group.add(s))},u.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},u._setCommon=function(o,h,s){var v=h.hostModel;o.setShape({polyline:v.get("polyline"),curveness:v.get("lineStyle.curveness")}),o.useStyle(v.getModel("lineStyle").getLineStyle()),o.style.strokeNoScale=!0;var l=h.getVisual("color");l&&o.setStyle("stroke",l),o.setStyle("fill"),s||(o.seriesIndex=v.seriesIndex,o.on("mousemove",function(d){o.dataIndex=null;var f=o.findDataIndex(d.offsetX,d.offsetY);f>0&&(o.dataIndex=f+o.__startIndex)}))},u._clearIncremental=function(){var o=this._incremental;o&&o.clearDisplaybles()};var c=n;return uh=c,uh}var vh,ux;function NM(){if(ux)return vh;ux=1;var e=mi,t={seriesType:"lines",plan:e(),reset:function(r){var a=r.coordinateSystem,i=r.get("polyline"),n=r.pipelineContext.large;function u(c,o){var h=[];if(n){var s,v=c.end-c.start;if(i){for(var l=0,d=c.start;d<c.end;d++)l+=r.getLineCoordsCount(d);s=new Float32Array(v+l*2)}else s=new Float32Array(v*4);for(var f=0,m=[],d=c.start;d<c.end;d++){var g=r.getLineCoords(d,h);i&&(s[f++]=g);for(var p=0;p<g;p++)m=a.dataToPoint(h[p],!1,m),s[f++]=m[0],s[f++]=m[1]}o.setLayout("linesPoints",s)}else for(var d=c.start;d<c.end;d++){var y=o.getItemModel(d),g=r.getLineCoords(d,h),_=[];if(i)for(var S=0;S<g;S++)_.push(a.dataToPoint(h[S]));else{_[0]=a.dataToPoint(h[0]),_[1]=a.dataToPoint(h[1]);var T=y.get("lineStyle.curveness");+T&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*T,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*T])}o.setItemLayout(d,_)}}return{progress:u}}};return vh=t,vh}var hh,vx;function tH(){if(vx)return hh;vx=1;var e=we,t=hg(),r=zM(),a=vg(),i=BM(),n=j3(),u=eH(),c=NM(),o=Dn(),h=o.createClipPath,s=e.extendChartView({type:"lines",init:function(){},render:function(v,l,d){var f=v.getData(),m=this._updateLineDraw(f,v),g=v.get("zlevel"),p=v.get("effect.trailLength"),y=d.getZr(),_=y.painter.getType()==="svg";_||y.painter.getLayer(g).clear(!0),this._lastZlevel!=null&&!_&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(v)&&p&&(_||y.configLayer(g,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})),m.updateData(f);var S=v.get("clip",!0)&&h(v.coordinateSystem,!1,v);S?this.group.setClipPath(S):this.group.removeClipPath(),this._lastZlevel=g,this._finished=!0},incrementalPrepareRender:function(v,l,d){var f=v.getData(),m=this._updateLineDraw(f,v);m.incrementalPrepareUpdate(f),this._clearLayer(d),this._finished=!1},incrementalRender:function(v,l,d){this._lineDraw.incrementalUpdate(v,l.getData()),this._finished=v.end===l.getData().count()},updateTransform:function(v,l,d){var f=v.getData(),m=v.pipelineContext;if(!this._finished||m.large||m.progressiveRender)return{update:!0};var g=c.reset(v);g.progress&&g.progress({start:0,end:f.count()},f),this._lineDraw.updateLayout(),this._clearLayer(d)},_updateLineDraw:function(v,l){var d=this._lineDraw,f=this._showEffect(l),m=!!l.get("polyline"),g=l.pipelineContext,p=g.large;return(!d||f!==this._hasEffet||m!==this._isPolyline||p!==this._isLargeDraw)&&(d&&d.remove(),d=this._lineDraw=p?new u:new t(m?f?n:i:f?r:a),this._hasEffet=f,this._isPolyline=m,this._isLargeDraw=p,this.group.removeAll()),this.group.add(d.group),d},_showEffect:function(v){return!!v.get("effect.show")},_clearLayer:function(v){var l=v.getZr(),d=l.painter.getType()==="svg";!d&&this._lastZlevel!=null&&l.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(v,l){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(l)},dispose:function(){}});return hh=s,hh}var ch,hx;function rH(){if(hx)return ch;hx=1;function e(a){return a instanceof Array||(a=[a,a]),a}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(a,i,n){var u=e(a.get("symbol")),c=e(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",u&&u[0]),o.setVisual("toSymbol",u&&u[1]),o.setVisual("fromSymbolSize",c&&c[0]),o.setVisual("toSymbolSize",c&&c[1]),o.setVisual("opacity",a.get(t));function h(s,v){var l=s.getItemModel(v),d=e(l.getShallow("symbol",!0)),f=e(l.getShallow("symbolSize",!0)),m=l.get(t);d[0]&&s.setItemVisual(v,"fromSymbol",d[0]),d[1]&&s.setItemVisual(v,"toSymbol",d[1]),f[0]&&s.setItemVisual(v,"fromSymbolSize",f[0]),f[1]&&s.setItemVisual(v,"toSymbolSize",f[1]),s.setItemVisual(v,"opacity",m)}return{dataEach:o.hasItemOption?h:null}}};return ch=r,ch}var cx;function aH(){if(cx)return ax;cx=1;var e=we;J3(),tH();var t=NM(),r=rH();return e.registerLayout(t),e.registerVisual(r),ax}var fx={},fh,dx;function iH(){if(dx)return fh;dx=1;var e=dt,t=Br(),r=wr,a=e.extend({type:"series.heatmap",getInitialData:function(i,n){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var i=r.get(this.get("coordinateSystem"));if(i&&i.dimensions)return i.dimensions[0]==="lng"&&i.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return fh=a,fh}var dh,gx;function nH(){if(gx)return dh;gx=1;var e=Z,t=256;function r(){var i=e.createCanvas();this.canvas=i,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(i,n,u,c,o,h){var s=this._getBrush(),v=this._getGradient(i,o,"inRange"),l=this._getGradient(i,o,"outOfRange"),d=this.pointSize+this.blurSize,f=this.canvas,m=f.getContext("2d"),g=i.length;f.width=n,f.height=u;for(var p=0;p<g;++p){var y=i[p],_=y[0],S=y[1],T=y[2],w=c(T);m.globalAlpha=w,m.drawImage(s,_-d,S-d)}if(!f.width||!f.height)return f;for(var x=m.getImageData(0,0,f.width,f.height),b=x.data,A=0,C=b.length,M=this.minOpacity,D=this.maxOpacity,L=D-M;A<C;){var w=b[A+3]/256,P=Math.floor(w*(t-1))*4;if(w>0){var I=h(w)?v:l;w>0&&(w=w*L+M),b[A++]=I[P],b[A++]=I[P+1],b[A++]=I[P+2],b[A++]=I[P+3]*w*256}else A+=4}return m.putImageData(x,0,0),f},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=e.createCanvas()),n=this.pointSize+this.blurSize,u=n*2;i.width=u,i.height=u;var c=i.getContext("2d");return c.clearRect(0,0,u,u),c.shadowOffsetX=u,c.shadowBlur=this.blurSize,c.shadowColor="#000",c.beginPath(),c.arc(-n,n,this.pointSize,0,Math.PI*2,!0),c.closePath(),c.fill(),i},_getGradient:function(i,n,u){for(var c=this._gradientPixels,o=c[u]||(c[u]=new Uint8ClampedArray(256*4)),h=[0,0,0,0],s=0,v=0;v<256;v++)n[u](v/255,!0,h),o[s++]=h[0],o[s++]=h[1],o[s++]=h[2],o[s++]=h[3];return o}};var a=r;return dh=a,dh}var gh,px;function oH(){if(px)return gh;px=1;var e=we,t=me,r=nH(),a=Z;function i(o,h,s){var v=o[1]-o[0];h=a.map(h,function(f){return{interval:[(f.interval[0]-o[0])/v,(f.interval[1]-o[0])/v]}});var l=h.length,d=0;return function(f){for(var m=d;m<l;m++){var g=h[m].interval;if(g[0]<=f&&f<=g[1]){d=m;break}}if(m===l)for(var m=d-1;m>=0;m--){var g=h[m].interval;if(g[0]<=f&&f<=g[1]){d=m;break}}return m>=0&&m<l&&s[m]}}function n(o,h){var s=o[1]-o[0];return h=[(h[0]-o[0])/s,(h[1]-o[0])/s],function(v){return v>=h[0]&&v<=h[1]}}function u(o){var h=o.dimensions;return h[0]==="lng"&&h[1]==="lat"}var c=e.extendChartView({type:"heatmap",render:function(o,h,s){var v;h.eachComponent("visualMap",function(d){d.eachTargetSeries(function(f){f===o&&(v=d)})}),this.group.removeAll(),this._incrementalDisplayable=null;var l=o.coordinateSystem;l.type==="cartesian2d"||l.type==="calendar"?this._renderOnCartesianAndCalendar(o,s,0,o.getData().count()):u(l)&&this._renderOnGeo(l,o,v,s)},incrementalPrepareRender:function(o,h,s){this.group.removeAll()},incrementalRender:function(o,h,s,v){var l=h.coordinateSystem;l&&this._renderOnCartesianAndCalendar(h,v,o.start,o.end,!0)},_renderOnCartesianAndCalendar:function(o,h,s,v,l){var d=o.coordinateSystem,f,m;if(d.type==="cartesian2d"){var g=d.getAxis("x"),p=d.getAxis("y");f=g.getBandWidth(),m=p.getBandWidth()}for(var y=this.group,_=o.getData(),S="itemStyle",T="emphasis.itemStyle",w="label",x="emphasis.label",b=o.getModel(S).getItemStyle(["color"]),A=o.getModel(T).getItemStyle(),C=o.getModel(w),M=o.getModel(x),D=d.type,L=D==="cartesian2d"?[_.mapDimension("x"),_.mapDimension("y"),_.mapDimension("value")]:[_.mapDimension("time"),_.mapDimension("value")],P=s;P<v;P++){var I;if(D==="cartesian2d"){if(isNaN(_.get(L[2],P)))continue;var E=d.dataToPoint([_.get(L[0],P),_.get(L[1],P)]);I=new t.Rect({shape:{x:Math.floor(E[0]-f/2),y:Math.floor(E[1]-m/2),width:Math.ceil(f),height:Math.ceil(m)},style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}else{if(isNaN(_.get(L[1],P)))continue;I=new t.Rect({z2:1,shape:d.dataToRect([_.get(L[0],P)]).contentShape,style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}var O=_.getItemModel(P);_.hasItemOption&&(b=O.getModel(S).getItemStyle(["color"]),A=O.getModel(T).getItemStyle(),C=O.getModel(w),M=O.getModel(x));var z=o.getRawValue(P),G="-";z&&z[2]!=null&&(G=z[2]),t.setLabelStyle(b,A,C,M,{labelFetcher:o,labelDataIndex:P,defaultText:G,isRectText:!0}),I.setStyle(b),t.setHoverStyle(I,_.hasItemOption?A:a.extend({},A)),I.incremental=l,l&&(I.useHoverLayer=!0),y.add(I),_.setItemGraphicEl(P,I)}},_renderOnGeo:function(o,h,s,v){var l=s.targetVisuals.inRange,d=s.targetVisuals.outOfRange,f=h.getData(),m=this._hmLayer||this._hmLayer||new r;m.blurSize=h.get("blurSize"),m.pointSize=h.get("pointSize"),m.minOpacity=h.get("minOpacity"),m.maxOpacity=h.get("maxOpacity");var g=o.getViewRect().clone(),p=o.getRoamTransform();g.applyTransform(p);var y=Math.max(g.x,0),_=Math.max(g.y,0),S=Math.min(g.width+g.x,v.getWidth()),T=Math.min(g.height+g.y,v.getHeight()),w=S-y,x=T-_,b=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],A=f.mapArray(b,function(L,P,I){var E=o.dataToPoint([L,P]);return E[0]-=y,E[1]-=_,E.push(I),E}),C=s.getExtent(),M=s.type==="visualMap.continuous"?n(C,s.option.range):i(C,s.getPieceList(),s.option.selected);m.update(A,w,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:d.color.getColorMapper()},M);var D=new t.Image({style:{width:w,height:x,x:y,y:_,image:m.canvas},silent:!0});this.group.add(D)},dispose:function(){}});return gh=c,gh}var mx;function sH(){return mx||(mx=1,iH(),oH()),fx}var yx={},ph,_x;function lH(){if(_x)return ph;_x=1;var e=xM(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return ph=r,ph}var mh,xx;function uH(){if(xx)return mh;xx=1;var e=we,t=Z,r=me,a=Xt(),i=a.createSymbol,n=Oe(),u=n.parsePercent,c=n.isNumeric,o=SM(),h=o.setLabel,s=["itemStyle","borderWidth"],v=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],l=new r.Circle,d=e.extendChartView({type:"pictorialBar",render:function(B,k,N){var q=this.group,H=B.getData(),F=this._data,U=B.coordinateSystem,W=U.getBaseAxis(),K=!!W.isHorizontal(),J=U.grid.getRect(),j={ecSize:{width:N.getWidth(),height:N.getHeight()},seriesModel:B,coordSys:U,coordSysExtent:[[J.x,J.x+J.width],[J.y,J.y+J.height]],isHorizontal:K,valueDim:v[+K],categoryDim:v[1-K]};return H.diff(F).add(function(ee){if(H.hasValue(ee)){var ie=A(H,ee),re=f(H,ee,ie,j),he=L(H,j,re);H.setItemGraphicEl(ee,he),q.add(he),G(he,j,re)}}).update(function(ee,ie){var re=F.getItemGraphicEl(ie);if(!H.hasValue(ee)){q.remove(re);return}var he=A(H,ee),_e=f(H,ee,he,j),ae=E(H,_e);re&&ae!==re.__pictorialShapeStr&&(q.remove(re),H.setItemGraphicEl(ee,null),re=null),re?P(re,j,_e):re=L(H,j,_e,!0),H.setItemGraphicEl(ee,re),re.__pictorialSymbolMeta=_e,q.add(re),G(re,j,_e)}).remove(function(ee){var ie=F.getItemGraphicEl(ee);ie&&I(F,ee,ie.__pictorialSymbolMeta.animationModel,ie)}).execute(),this._data=H,this.group},dispose:t.noop,remove:function(B,k){var N=this.group,q=this._data;B.get("animation")?q&&q.eachItemGraphicEl(function(H){I(q,H.dataIndex,B,H)}):N.removeAll()}});function f(B,k,N,q){var H=B.getItemLayout(k),F=N.get("symbolRepeat"),U=N.get("symbolClip"),W=N.get("symbolPosition")||"start",K=N.get("symbolRotate"),J=(K||0)*Math.PI/180||0,j=N.get("symbolPatternSize")||2,ee=N.isAnimationEnabled(),ie={dataIndex:k,layout:H,itemModel:N,symbolType:B.getItemVisual(k,"symbol")||"circle",color:B.getItemVisual(k,"color"),symbolClip:U,symbolRepeat:F,symbolRepeatDirection:N.get("symbolRepeatDirection"),symbolPatternSize:j,rotation:J,animationModel:ee?N:null,hoverAnimation:ee&&N.get("hoverAnimation"),z2:N.getShallow("z",!0)||0};m(N,F,H,q,ie),p(B,k,H,F,U,ie.boundingLength,ie.pxSign,j,q,ie),y(N,ie.symbolScale,J,q,ie);var re=ie.symbolSize,he=N.get("symbolOffset");return t.isArray(he)&&(he=[u(he[0],re[0]),u(he[1],re[1])]),_(N,re,H,F,U,he,W,ie.valueLineWidth,ie.boundingLength,ie.repeatCutLength,q,ie),ie}function m(B,k,N,q,H){var F=q.valueDim,U=B.get("symbolBoundingData"),W=q.coordSys.getOtherAxis(q.coordSys.getBaseAxis()),K=W.toGlobalCoord(W.dataToCoord(0)),J=1-+(N[F.wh]<=0),j;if(t.isArray(U)){var ee=[g(W,U[0])-K,g(W,U[1])-K];ee[1]<ee[0]&&ee.reverse(),j=ee[J]}else U!=null?j=g(W,U)-K:k?j=q.coordSysExtent[F.index][J]-K:j=N[F.wh];H.boundingLength=j,k&&(H.repeatCutLength=N[F.wh]),H.pxSign=j>0?1:j<0?-1:0}function g(B,k){return B.toGlobalCoord(B.dataToCoord(B.scale.parse(k)))}function p(B,k,N,q,H,F,U,W,K,J){var j=K.valueDim,ee=K.categoryDim,ie=Math.abs(N[ee.wh]),re=B.getItemVisual(k,"symbolSize");t.isArray(re)?re=re.slice():(re==null&&(re="100%"),re=[re,re]),re[ee.index]=u(re[ee.index],ie),re[j.index]=u(re[j.index],q?ie:Math.abs(F)),J.symbolSize=re;var he=J.symbolScale=[re[0]/W,re[1]/W];he[j.index]*=(K.isHorizontal?-1:1)*U}function y(B,k,N,q,H){var F=B.get(s)||0;F&&(l.attr({scale:k.slice(),rotation:N}),l.updateTransform(),F/=l.getLineScale(),F*=k[q.valueDim.index]),H.valueLineWidth=F}function _(B,k,N,q,H,F,U,W,K,J,j,ee){var ie=j.categoryDim,re=j.valueDim,he=ee.pxSign,_e=Math.max(k[re.index]+W,0),ae=_e;if(q){var se=Math.abs(K),De=t.retrieve(B.get("symbolMargin"),"15%")+"",oe=!1;De.lastIndexOf("!")===De.length-1&&(oe=!0,De=De.slice(0,De.length-1)),De=u(De,k[re.index]);var ue=Math.max(_e+De*2,0),be=oe?0:De*2,Y=c(q),Q=Y?q:V((se+be)/ue),te=se-Q*_e;De=te/2/(oe?Q:Q-1),ue=_e+De*2,be=oe?0:De*2,!Y&&q!=="fixed"&&(Q=J?V((Math.abs(J)+be)/ue):0),ae=Q*ue-be,ee.repeatTimes=Q,ee.symbolMargin=De}var ce=he*(ae/2),le=ee.pathPosition=[];le[ie.index]=N[ie.wh]/2,le[re.index]=U==="start"?ce:U==="end"?K-ce:K/2,F&&(le[0]+=F[0],le[1]+=F[1]);var fe=ee.bundlePosition=[];fe[ie.index]=N[ie.xy],fe[re.index]=N[re.xy];var ye=ee.barRectShape=t.extend({},N);ye[re.wh]=he*Math.max(Math.abs(N[re.wh]),Math.abs(le[re.index]+ce)),ye[ie.wh]=N[ie.wh];var Te=ee.clipShape={};Te[ie.xy]=-N[ie.xy],Te[ie.wh]=j.ecSize[ie.wh],Te[re.xy]=0,Te[re.wh]=N[re.wh]}function S(B){var k=B.symbolPatternSize,N=i(B.symbolType,-k/2,-k/2,k,k,B.color);return N.attr({culling:!0}),N.type!=="image"&&N.setStyle({strokeNoScale:!0}),N}function T(B,k,N,q){var H=B.__pictorialBundle,F=N.symbolSize,U=N.valueLineWidth,W=N.pathPosition,K=k.valueDim,J=N.repeatTimes||0,j=0,ee=F[k.valueDim.index]+U+N.symbolMargin*2;for(O(B,function(se){se.__pictorialAnimationIndex=j,se.__pictorialRepeatTimes=J,j<J?z(se,null,he(j),N,q):z(se,null,{scale:[0,0]},N,q,function(){H.remove(se)}),D(se,N),j++});j<J;j++){var ie=S(N);ie.__pictorialAnimationIndex=j,ie.__pictorialRepeatTimes=J,H.add(ie);var re=he(j);z(ie,{position:re.position,scale:[0,0]},{scale:re.scale,rotation:re.rotation},N,q),ie.on("mouseover",_e).on("mouseout",ae),D(ie,N)}function he(se){var De=W.slice(),oe=N.pxSign,ue=se;return(N.symbolRepeatDirection==="start"?oe>0:oe<0)&&(ue=J-1-se),De[K.index]=ee*(ue-J/2+.5)+W[K.index],{position:De,scale:N.symbolScale.slice(),rotation:N.rotation}}function _e(){O(B,function(se){se.trigger("emphasis")})}function ae(){O(B,function(se){se.trigger("normal")})}}function w(B,k,N,q){var H=B.__pictorialBundle,F=B.__pictorialMainPath;F?z(F,null,{position:N.pathPosition.slice(),scale:N.symbolScale.slice(),rotation:N.rotation},N,q):(F=B.__pictorialMainPath=S(N),H.add(F),z(F,{position:N.pathPosition.slice(),scale:[0,0],rotation:N.rotation},{scale:N.symbolScale.slice()},N,q),F.on("mouseover",U).on("mouseout",W)),D(F,N);function U(){this.trigger("emphasis")}function W(){this.trigger("normal")}}function x(B,k,N){var q=t.extend({},k.barRectShape),H=B.__pictorialBarRect;H?z(H,null,{shape:q},k,N):(H=B.__pictorialBarRect=new r.Rect({z2:2,shape:q,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),B.add(H))}function b(B,k,N,q){if(N.symbolClip){var H=B.__pictorialClipPath,F=t.extend({},N.clipShape),U=k.valueDim,W=N.animationModel,K=N.dataIndex;if(H)r.updateProps(H,{shape:F},W,K);else{F[U.wh]=0,H=new r.Rect({shape:F}),B.__pictorialBundle.setClipPath(H),B.__pictorialClipPath=H;var J={};J[U.wh]=N.clipShape[U.wh],r[q?"updateProps":"initProps"](H,{shape:J},W,K)}}}function A(B,k){var N=B.getItemModel(k);return N.getAnimationDelayParams=C,N.isAnimationEnabled=M,N}function C(B){return{index:B.__pictorialAnimationIndex,count:B.__pictorialRepeatTimes}}function M(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function D(B,k){B.off("emphasis").off("normal");var N=k.symbolScale.slice();k.hoverAnimation&&B.on("emphasis",function(){this.animateTo({scale:[N[0]*1.1,N[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:N.slice()},400,"elasticOut")})}function L(B,k,N,q){var H=new r.Group,F=new r.Group;return H.add(F),H.__pictorialBundle=F,F.attr("position",N.bundlePosition.slice()),N.symbolRepeat?T(H,k,N):w(H,k,N),x(H,N,q),b(H,k,N,q),H.__pictorialShapeStr=E(B,N),H.__pictorialSymbolMeta=N,H}function P(B,k,N){var q=N.animationModel,H=N.dataIndex,F=B.__pictorialBundle;r.updateProps(F,{position:N.bundlePosition.slice()},q,H),N.symbolRepeat?T(B,k,N,!0):w(B,k,N,!0),x(B,N,!0),b(B,k,N,!0)}function I(B,k,N,q){var H=q.__pictorialBarRect;H&&(H.style.text=null);var F=[];O(q,function(U){F.push(U)}),q.__pictorialMainPath&&F.push(q.__pictorialMainPath),q.__pictorialClipPath&&(N=null),t.each(F,function(U){r.updateProps(U,{scale:[0,0]},N,k,function(){q.parent&&q.parent.remove(q)})}),B.setItemGraphicEl(k,null)}function E(B,k){return[B.getItemVisual(k.dataIndex,"symbol")||"none",!!k.symbolRepeat,!!k.symbolClip].join(":")}function O(B,k,N){t.each(B.__pictorialBundle.children(),function(q){q!==B.__pictorialBarRect&&k.call(N,q)})}function z(B,k,N,q,H,F){k&&B.attr(k),q.symbolClip&&!H?N&&B.attr(N):N&&r[H?"updateProps":"initProps"](B,N,q.animationModel,q.dataIndex,F)}function G(B,k,N){var q=N.color,H=N.dataIndex,F=N.itemModel,U=F.getModel("itemStyle").getItemStyle(["color"]),W=F.getModel("emphasis.itemStyle").getItemStyle(),K=F.getShallow("cursor");O(B,function(ie){ie.setColor(q),ie.setStyle(t.defaults({fill:q,opacity:N.opacity},U)),r.setHoverStyle(ie,W),K&&(ie.cursor=K),ie.z2=N.z2});var J={},j=k.valueDim.posDesc[+(N.boundingLength>0)],ee=B.__pictorialBarRect;h(ee.style,J,F,q,k.seriesModel,H,j),r.setHoverStyle(ee,J)}function V(B){var k=Math.round(B);return Math.abs(B-k)<1e-4?k:Math.ceil(B)}var R=d;return mh=R,mh}var Sx;function vH(){if(Sx)return yx;Sx=1;var e=we,t=Z;ag(),lH(),uH();var r=cs(),a=r.layout,i=Ma();return Pn(),e.registerLayout(t.curry(a,"pictorialBar")),e.registerVisual(i("pictorialBar","roundRect")),yx}var bx={},Ax={},Tx={},yh,Cx;function hH(){if(Cx)return yh;Cx=1;var e=Z,t=ia(),r=function(i,n,u,c,o){t.call(this,i,n,u),this.type=c||"value",this.position=o||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},pointToData:function(i,n){return this.coordinateSystem.pointToData(i,n)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var a=r;return yh=a,yh}var _h,Mx;function cH(){if(Mx)return _h;Mx=1;var e=hH(),t=ur(),r=Ne,a=r.getLayoutRect,i=Z,n=i.each;function u(o,h,s){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(o,h,s),this.model=o}u.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:u,_init:function(o,h,s){var v=this.dimension,l=new e(v,t.createScaleByModel(o),[0,0],o.get("type"),o.get("position")),d=l.type==="category";l.onBand=d&&o.get("boundaryGap"),l.inverse=o.get("inverse"),l.orient=o.get("orient"),o.axis=l,l.model=o,l.coordinateSystem=this,this._axis=l},update:function(o,h){o.eachSeries(function(s){if(s.coordinateSystem===this){var v=s.getData();n(v.mapDimension(this.dimension,!0),function(l){this._axis.scale.unionExtentFromData(v,l)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(o,h){this._rect=a({left:o.get("left"),top:o.get("top"),right:o.get("right"),bottom:o.get("bottom"),width:o.get("width"),height:o.get("height")},{width:h.getWidth(),height:h.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var o=this._rect,h=this._axis,s=h.isHorizontal(),v=s?[0,o.width]:[0,o.height],l=h.reverse?1:0;h.setExtent(v[l],v[1-l]),this._updateAxisTransform(h,s?o.x:o.y)},_updateAxisTransform:function(o,h){var s=o.getExtent(),v=s[0]+s[1],l=o.isHorizontal();o.toGlobalCoord=l?function(d){return d+h}:function(d){return v-d+h},o.toLocalCoord=l?function(d){return d-h}:function(d){return v-d+h}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(o){var h=this.getRect(),s=this.getAxis(),v=s.orient;return v==="horizontal"?s.contain(s.toLocalCoord(o[0]))&&o[1]>=h.y&&o[1]<=h.y+h.height:s.contain(s.toLocalCoord(o[1]))&&o[0]>=h.y&&o[0]<=h.y+h.height},pointToData:function(o){var h=this.getAxis();return[h.coordToData(h.toLocalCoord(o[h.orient==="horizontal"?0:1]))]},dataToPoint:function(o){var h=this.getAxis(),s=this.getRect(),v=[],l=h.orient==="horizontal"?0:1;return o instanceof Array&&(o=o[0]),v[l]=h.toGlobalCoord(h.dataToCoord(+o)),v[1-l]=l===0?s.y+s.height/2:s.x+s.width/2,v}};var c=u;return _h=c,_h}var Dx;function fH(){if(Dx)return Tx;Dx=1;var e=cH(),t=wr;function r(a,i){var n=[];return a.eachComponent("singleAxis",function(u,c){var o=new e(u,a,i);o.name="single_"+c,o.resize(u,i),u.coordinateSystem=o,n.push(o)}),a.eachSeries(function(u){if(u.get("coordinateSystem")==="singleAxis"){var c=a.queryComponents({mainType:"singleAxis",index:u.get("singleAxisIndex"),id:u.get("singleAxisId")})[0];u.coordinateSystem=c&&c.coordinateSystem}}),n}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),Tx}var xh={},Lx;function VM(){if(Lx)return xh;Lx=1;var e=Z;function t(r,a){a=a||{};var i=r.coordinateSystem,n=r.axis,u={},c=n.position,o=n.orient,h=i.getRect(),s=[h.x,h.x+h.width,h.y,h.y+h.height],v={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};u.position=[o==="vertical"?v.vertical[c]:s[0],o==="horizontal"?v.horizontal[c]:s[3]];var l={horizontal:0,vertical:1};u.rotation=Math.PI/2*l[o];var d={top:-1,bottom:1,right:1,left:-1};u.labelDirection=u.tickDirection=u.nameDirection=d[c],r.get("axisTick.inside")&&(u.tickDirection=-u.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(u.labelDirection=-u.labelDirection);var f=a.rotate;return f==null&&(f=r.get("axisLabel.rotate")),u.labelRotation=c==="top"?-f:f,u.z2=1,u}return xh.layout=t,xh}var Sh,Px;function dH(){if(Px)return Sh;Px=1;var e=Z,t=na(),r=me,a=VM(),i=Da(),n=_M(),u=n.rectCoordAxisBuildSplitArea,c=n.rectCoordAxisHandleRemove,o=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],s=i.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(l,d,f,m){var g=this.group;g.removeAll();var p=this._axisGroup;this._axisGroup=new r.Group;var y=a.layout(l),_=new t(l,y);e.each(o,_.add,_),g.add(this._axisGroup),g.add(_.getGroup()),e.each(h,function(S){l.get(S+".show")&&this["_"+S](l)},this),r.groupTransition(p,this._axisGroup,l),s.superCall(this,"render",l,d,f,m)},remove:function(){c(this)},_splitLine:function(l){var d=l.axis;if(!d.scale.isBlank()){var f=l.getModel("splitLine"),m=f.getModel("lineStyle"),g=m.get("width"),p=m.get("color");p=p instanceof Array?p:[p];for(var y=l.coordinateSystem.getRect(),_=d.isHorizontal(),S=[],T=0,w=d.getTicksCoords({tickModel:f}),x=[],b=[],A=0;A<w.length;++A){var C=d.toGlobalCoord(w[A].coord);_?(x[0]=C,x[1]=y.y,b[0]=C,b[1]=y.y+y.height):(x[0]=y.x,x[1]=C,b[0]=y.x+y.width,b[1]=C);var M=T++%p.length;S[M]=S[M]||[],S[M].push(new r.Line({subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:b[0],y2:b[1]},style:{lineWidth:g},silent:!0}))}for(var A=0;A<S.length;++A)this.group.add(r.mergePath(S[A],{style:{stroke:p[A%p.length],lineDash:m.getLineDash(g),lineWidth:g},silent:!0}))}},_splitArea:function(l){u(this,this._axisGroup,l,l)}}),v=s;return Sh=v,Sh}var bh,Ix;function gH(){if(Ix)return bh;Ix=1;var e=Z,t=ft,r=ds(),a=xi(),i=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),n={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function u(o,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a),r("single",i,u,n);var c=i;return bh=c,bh}var Rx={},wh,Ex;function HM(){if(Ex)return wh;Ex=1;var e=Z,t=Re;function r(a,i){var n=[],u=a.seriesIndex,c;if(u==null||!(c=i.getSeriesByIndex(u)))return{point:[]};var o=c.getData(),h=t.queryDataIndex(o,a);if(h==null||h<0||e.isArray(h))return{point:[]};var s=o.getItemGraphicEl(h),v=c.coordinateSystem;if(c.getTooltipPosition)n=c.getTooltipPosition(h)||[];else if(v&&v.dataToPoint)n=v.dataToPoint(o.getValues(e.map(v.dimensions,function(d){return o.mapDimension(d)}),h,!0))||[];else if(s){var l=s.getBoundingRect().clone();l.applyTransform(s.transform),n=[l.x+l.width/2,l.y+l.height/2]}return{point:n,el:s}}return wh=r,wh}var Ah,kx;function pH(){if(kx)return Ah;kx=1;var e=Z,t=Re,r=t.makeInner,a=gs(),i=HM(),n=e.each,u=e.curry,c=r();function o(_,S,T){var w=_.currTrigger,x=[_.x,_.y],b=_,A=_.dispatchAction||e.bind(T.dispatchAction,T),C=S.getComponent("axisPointer").coordSysAxesInfo;if(C){y(x)&&(x=i({seriesIndex:b.seriesIndex,dataIndex:b.dataIndex},S).point);var M=y(x),D=b.axesInfo,L=C.axesInfo,P=w==="leave"||y(x),I={},E={},O={list:[],map:{}},z={showPointer:u(v,E),showTooltip:u(l,O)};n(C.coordSysMap,function(V,R){var B=M||V.containPoint(x);n(C.coordSysAxesInfo[R],function(k,N){var q=k.axis,H=g(D,k);if(!P&&B&&(!D||H)){var F=H&&H.value;F==null&&!M&&(F=q.pointToData(x)),F!=null&&h(k,F,z,!1,I)}})});var G={};return n(L,function(V,R){var B=V.linkGroup;B&&!E[R]&&n(B.axesInfo,function(k,N){var q=E[N];if(k!==V&&q){var H=q.value;B.mapper&&(H=V.axis.scale.parse(B.mapper(H,p(k),p(V)))),G[V.key]=H}})}),n(G,function(V,R){h(L[R],V,z,!0,I)}),d(E,L,I),f(O,x,_,A),m(L,A,T),I}}function h(_,S,T,w,x){var b=_.axis;if(!(b.scale.isBlank()||!b.containData(S))){if(!_.involveSeries){T.showPointer(_,S);return}var A=s(S,_),C=A.payloadBatch,M=A.snapToValue;C[0]&&x.seriesIndex==null&&e.extend(x,C[0]),!w&&_.snap&&b.containData(M)&&M!=null&&(S=M),T.showPointer(_,S,C,x),T.showTooltip(_,A,M)}}function s(_,S){var T=S.axis,w=T.dim,x=_,b=[],A=Number.MAX_VALUE,C=-1;return n(S.seriesModels,function(M,D){var L=M.getData().mapDimension(w,!0),P,I;if(M.getAxisTooltipData){var E=M.getAxisTooltipData(L,_,T);I=E.dataIndices,P=E.nestestValue}else{if(I=M.getData().indicesOfNearest(L[0],_,T.type==="category"?.5:null),!I.length)return;P=M.getData().get(L[0],I[0])}if(!(P==null||!isFinite(P))){var O=_-P,z=Math.abs(O);z<=A&&((z<A||O>=0&&C<0)&&(A=z,C=O,x=P,b.length=0),n(I,function(G){b.push({seriesIndex:M.seriesIndex,dataIndexInside:G,dataIndex:M.getData().getRawIndex(G)})}))}}),{payloadBatch:b,snapToValue:x}}function v(_,S,T,w){_[S.key]={value:T,payloadBatch:w}}function l(_,S,T,w){var x=T.payloadBatch,b=S.axis,A=b.model,C=S.axisPointerModel;if(!(!S.triggerTooltip||!x.length)){var M=S.coordSys.model,D=a.makeKey(M),L=_.map[D];L||(L=_.map[D]={coordSysId:M.id,coordSysIndex:M.componentIndex,coordSysType:M.type,coordSysMainType:M.mainType,dataByAxis:[]},_.list.push(L)),L.dataByAxis.push({axisDim:b.dim,axisIndex:A.componentIndex,axisType:A.type,axisId:A.id,value:w,valueLabelOpt:{precision:C.get("label.precision"),formatter:C.get("label.formatter")},seriesDataIndices:x.slice()})}}function d(_,S,T){var w=T.axesInfo=[];n(S,function(x,b){var A=x.axisPointerModel.option,C=_[b];C?(!x.useHandle&&(A.status="show"),A.value=C.value,A.seriesDataIndices=(C.payloadBatch||[]).slice()):!x.useHandle&&(A.status="hide"),A.status==="show"&&w.push({axisDim:x.axis.dim,axisIndex:x.axis.model.componentIndex,value:A.value})})}function f(_,S,T,w){if(y(S)||!_.list.length){w({type:"hideTip"});return}var x=((_.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};w({type:"showTip",escapeConnect:!0,x:S[0],y:S[1],tooltipOption:T.tooltipOption,position:T.position,dataIndexInside:x.dataIndexInside,dataIndex:x.dataIndex,seriesIndex:x.seriesIndex,dataByCoordSys:_.list})}function m(_,S,T){var w=T.getZr(),x="axisPointerLastHighlights",b=c(w)[x]||{},A=c(w)[x]={};n(_,function(D,L){var P=D.axisPointerModel.option;P.status==="show"&&n(P.seriesDataIndices,function(I){var E=I.seriesIndex+" | "+I.dataIndex;A[E]=I})});var C=[],M=[];e.each(b,function(D,L){!A[L]&&M.push(D)}),e.each(A,function(D,L){!b[L]&&C.push(D)}),M.length&&T.dispatchAction({type:"downplay",escapeConnect:!0,batch:M}),C.length&&T.dispatchAction({type:"highlight",escapeConnect:!0,batch:C})}function g(_,S){for(var T=0;T<(_||[]).length;T++){var w=_[T];if(S.axis.dim===w.axisDim&&S.axis.model.componentIndex===w.axisIndex)return w}}function p(_){var S=_.axis.model,T={},w=T.axisDim=_.axis.dim;return T.axisIndex=T[w+"AxisIndex"]=S.componentIndex,T.axisName=T[w+"AxisName"]=S.name,T.axisId=T[w+"AxisId"]=S.id,T}function y(_){return!_||_[0]==null||isNaN(_[0])||_[1]==null||isNaN(_[1])}return Ah=o,Ah}var Th,Ox;function mH(){if(Ox)return Th;Ox=1;var e=we,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return Th=r,Th}var ho={},zx;function qM(){if(zx)return ho;zx=1;var e=Z,t=ot,r=Re,a=r.makeInner,i=a(),n=e.each;function u(d,f,m){if(!t.node){var g=f.getZr();i(g).records||(i(g).records={}),c(g,f);var p=i(g).records[d]||(i(g).records[d]={});p.handler=m}}function c(d,f){if(i(d).initialized)return;i(d).initialized=!0,m("click",e.curry(s,"click")),m("mousemove",e.curry(s,"mousemove")),m("globalout",h);function m(g,p){d.on(g,function(y){var _=v(f);n(i(d).records,function(S){S&&p(S,y,_.dispatchAction)}),o(_.pendings,f)})}}function o(d,f){var m=d.showTip.length,g=d.hideTip.length,p;m?p=d.showTip[m-1]:g&&(p=d.hideTip[g-1]),p&&(p.dispatchAction=null,f.dispatchAction(p))}function h(d,f,m){d.handler("leave",null,m)}function s(d,f,m,g){f.handler(d,m,g)}function v(d){var f={showTip:[],hideTip:[]},m=function(g){var p=f[g.type];p?p.push(g):(g.dispatchAction=m,d.dispatchAction(g))};return{dispatchAction:m,pendings:f}}function l(d,f){if(!t.node){var m=f.getZr(),g=(i(m).records||{})[d];g&&(i(m).records[d]=null)}}return ho.register=u,ho.unregister=l,ho}var Ch,Bx;function yH(){if(Bx)return Ch;Bx=1;var e=we,t=qM(),r=e.extendComponentView({type:"axisPointer",render:function(i,n,u){var c=n.getComponent("tooltip"),o=i.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";t.register("axisPointer",u,function(h,s,v){o!=="none"&&(h==="leave"||o.indexOf(h)>=0)&&v({type:"updateAxisPointer",currTrigger:h,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(i,n){t.unregister(n.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(i,n){t.unregister("axisPointer",n),r.superApply(this._model,"dispose",arguments)}}),a=r;return Ch=a,Ch}var Mh,Nx;function dg(){if(Nx)return Mh;Nx=1;var e=Z,t=Bt,r=me,a=gs(),i=ct,n=lr,u=Re,c=u.makeInner,o=c(),h=e.clone,s=e.bind;function v(){}v.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,_,S,T){var w=_.get("value"),x=_.get("status");if(this._axisModel=y,this._axisPointerModel=_,this._api=S,!(!T&&this._lastValue===w&&this._lastStatus===x)){this._lastValue=w,this._lastStatus=x;var b=this._group,A=this._handle;if(!x||x==="hide"){b&&b.hide(),A&&A.hide();return}b&&b.show(),A&&A.show();var C={};this.makeElOption(C,w,y,_,S);var M=C.graphicKey;M!==this._lastGraphicKey&&this.clear(S),this._lastGraphicKey=M;var D=this._moveAnimation=this.determineAnimation(y,_);if(!b)b=this._group=new r.Group,this.createPointerEl(b,C,y,_),this.createLabelEl(b,C,y,_),S.getZr().add(b);else{var L=e.curry(l,_,D);this.updatePointerEl(b,C,L,_),this.updateLabelEl(b,C,L,_)}g(b,_,!0),this._renderHandle(w)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,_){var S=_.get("animation"),T=y.axis,w=T.type==="category",x=_.get("snap");if(!x&&!w)return!1;if(S==="auto"||S==null){var b=this.animationThreshold;if(w&&T.getBandWidth()>b)return!0;if(x){var A=a.getAxisInfo(y).seriesDataCount,C=T.getExtent();return Math.abs(C[0]-C[1])/A>b}return!1}return S===!0},makeElOption:function(y,_,S,T,w){},createPointerEl:function(y,_,S,T){var w=_.pointer;if(w){var x=o(y).pointerEl=new r[w.type](h(_.pointer));y.add(x)}},createLabelEl:function(y,_,S,T){if(_.label){var w=o(y).labelEl=new r.Rect(h(_.label));y.add(w),f(w,T)}},updatePointerEl:function(y,_,S){var T=o(y).pointerEl;T&&_.pointer&&(T.setStyle(_.pointer.style),S(T,{shape:_.pointer.shape}))},updateLabelEl:function(y,_,S,T){var w=o(y).labelEl;w&&(w.setStyle(_.label.style),S(w,{shape:_.label.shape,position:_.label.position}),f(w,T))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var _=this._axisPointerModel,S=this._api.getZr(),T=this._handle,w=_.getModel("handle"),x=_.get("status");if(!w.get("show")||!x||x==="hide"){T&&S.remove(T),this._handle=null;return}var b;this._handle||(b=!0,T=this._handle=r.createIcon(w.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(M){i.stop(M.event)},onmousedown:s(this._onHandleDragMove,this,0,0),drift:s(this._onHandleDragMove,this),ondragend:s(this._onHandleDragEnd,this)}),S.add(T)),g(T,_,!1);var A=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];T.setStyle(w.getItemStyle(null,A));var C=w.get("size");e.isArray(C)||(C=[C,C]),T.attr("scale",[C[0]/2,C[1]/2]),n.createOrUpdate(this,"_doDispatchAxisPointer",w.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,b)}},_moveHandleToValue:function(y,_){l(this._axisPointerModel,!_&&this._moveAnimation,this._handle,m(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,_){var S=this._handle;if(S){this._dragging=!0;var T=this.updateHandleTransform(m(S),[y,_],this._axisModel,this._axisPointerModel);this._payloadInfo=T,S.stopAnimation(),S.attr(m(T)),o(S).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var _=this._payloadInfo,S=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:_.cursorPoint[0],y:_.cursorPoint[1],tooltipOption:_.tooltipOption,axesInfo:[{axisDim:S.axis.dim,axisIndex:S.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var _=this._handle;if(_){var S=this._axisPointerModel.get("value");this._moveHandleToValue(S),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var _=y.getZr(),S=this._group,T=this._handle;_&&S&&(this._lastGraphicKey=null,S&&_.remove(S),T&&_.remove(T),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,_,S){return S=S||0,{x:y[S],y:y[1-S],width:_[S],height:_[1-S]}}},v.prototype.constructor=v;function l(y,_,S,T){d(o(S).lastProp,T)||(o(S).lastProp=T,_?r.updateProps(S,T,y):(S.stopAnimation(),S.attr(T)))}function d(y,_){if(e.isObject(y)&&e.isObject(_)){var S=!0;return e.each(_,function(T,w){S=S&&d(y[w],T)}),!!S}else return y===_}function f(y,_){y[_.get("label.show")?"show":"hide"]()}function m(y){return{position:y.position.slice(),rotation:y.rotation||0}}function g(y,_,S){var T=_.get("z"),w=_.get("zlevel");y&&y.traverse(function(x){x.type!=="group"&&(T!=null&&(x.z=T),w!=null&&(x.zlevel=w),x.silent=S)})}t.enableClassExtend(v);var p=v;return Mh=p,Mh}var gr={},Vx;function _s(){if(Vx)return gr;Vx=1;var e=Z,t=me,r=Xe,a=Qe(),i=Rt(),n=ur(),u=na();function c(g){var p=g.get("type"),y=g.getModel(p+"Style"),_;return p==="line"?(_=y.getLineStyle(),_.fill=null):p==="shadow"&&(_=y.getAreaStyle(),_.stroke=null),_}function o(g,p,y,_,S){var T=y.get("value"),w=s(T,p.axis,p.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),x=y.getModel("label"),b=a.normalizeCssArray(x.get("padding")||0),A=x.getFont(),C=r.getBoundingRect(w,A),M=S.position,D=C.width+b[1]+b[3],L=C.height+b[0]+b[2],P=S.align;P==="right"&&(M[0]-=D),P==="center"&&(M[0]-=D/2);var I=S.verticalAlign;I==="bottom"&&(M[1]-=L),I==="middle"&&(M[1]-=L/2),h(M,D,L,_);var E=x.get("backgroundColor");(!E||E==="auto")&&(E=p.get("axisLine.lineStyle.color")),g.label={shape:{x:0,y:0,width:D,height:L,r:x.get("borderRadius")},position:M.slice(),style:{text:w,textFont:A,textFill:x.getTextColor(),textPosition:"inside",textPadding:b,fill:E,stroke:x.get("borderColor")||"transparent",lineWidth:x.get("borderWidth")||0,shadowBlur:x.get("shadowBlur"),shadowColor:x.get("shadowColor"),shadowOffsetX:x.get("shadowOffsetX"),shadowOffsetY:x.get("shadowOffsetY")},z2:10}}function h(g,p,y,_){var S=_.getWidth(),T=_.getHeight();g[0]=Math.min(g[0]+p,S)-p,g[1]=Math.min(g[1]+y,T)-y,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function s(g,p,y,_,S){g=p.scale.parse(g);var T=p.scale.getLabel(g,{precision:S.precision}),w=S.formatter;if(w){var x={value:n.getAxisRawValue(p,g),axisDimension:p.dim,axisIndex:p.index,seriesData:[]};e.each(_,function(b){var A=y.getSeriesByIndex(b.seriesIndex),C=b.dataIndexInside,M=A&&A.getDataParams(C);M&&x.seriesData.push(M)}),e.isString(w)?T=w.replace("{value}",T):e.isFunction(w)&&(T=w(x))}return T}function v(g,p,y){var _=i.create();return i.rotate(_,_,y.rotation),i.translate(_,_,y.position),t.applyTransform([g.dataToCoord(p),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],_)}function l(g,p,y,_,S,T){var w=u.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=S.get("label.margin"),o(p,_,S,T,{position:v(_.axis,g,y),align:w.textAlign,verticalAlign:w.textVerticalAlign})}function d(g,p,y){return y=y||0,{x1:g[y],y1:g[1-y],x2:p[y],y2:p[1-y]}}function f(g,p,y){return y=y||0,{x:g[y],y:g[1-y],width:p[y],height:p[1-y]}}function m(g,p,y,_,S,T){return{cx:g,cy:p,r0:y,r:_,startAngle:S,endAngle:T,clockwise:!0}}return gr.buildElStyle=c,gr.buildLabelElOption=o,gr.getValueLabel=s,gr.getTransformedPosition=v,gr.buildCartesianSingleLabelElOption=l,gr.makeLineShape=d,gr.makeRectShape=f,gr.makeSectorShape=m,gr}var Dh,Hx;function GM(){if(Hx)return Dh;Hx=1;var e=dg(),t=_s(),r=yM(),a=Da(),i=e.extend({makeElOption:function(h,s,v,l,d){var f=v.axis,m=f.grid,g=l.get("type"),p=n(m,f).getOtherAxis(f).getGlobalExtent(),y=f.toGlobalCoord(f.dataToCoord(s,!0));if(g&&g!=="none"){var _=t.buildElStyle(l),S=u[g](f,y,p);S.style=_,h.graphicKey=S.type,h.pointer=S}var T=r.layout(m.model,v);t.buildCartesianSingleLabelElOption(s,h,T,v,l,d)},getHandleTransform:function(h,s,v){var l=r.layout(s.axis.grid.model,s,{labelInside:!1});return l.labelMargin=v.get("handle.margin"),{position:t.getTransformedPosition(s.axis,h,l),rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,s,v,l){var d=v.axis,f=d.grid,m=d.getGlobalExtent(!0),g=n(f,d).getOtherAxis(d).getGlobalExtent(),p=d.dim==="x"?0:1,y=h.position;y[p]+=s[p],y[p]=Math.min(m[1],y[p]),y[p]=Math.max(m[0],y[p]);var _=(g[1]+g[0])/2,S=[_,_];S[p]=y[p];var T=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:h.rotation,cursorPoint:S,tooltipOption:T[p]}}});function n(h,s){var v={};return v[s.dim+"AxisIndex"]=s.index,h.getCartesian(v)}var u={line:function(h,s,v){var l=t.makeLineShape([s,v[0]],[s,v[1]],c(h));return{type:"Line",subPixelOptimize:!0,shape:l}},shadow:function(h,s,v){var l=Math.max(1,h.getBandWidth()),d=v[1]-v[0];return{type:"Rect",shape:t.makeRectShape([s-l/2,v[0]],[l,d],c(h))}}};function c(h){return h.dim==="x"?0:1}a.registerAxisPointerClass("CartesianAxisPointer",i);var o=i;return Dh=o,Dh}var qx;function kn(){if(qx)return Rx;qx=1;var e=we,t=Z,r=gs(),a=pH();return mH(),yH(),GM(),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var n=i.axisPointer.link;n&&!t.isArray(n)&&(i.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,n){i.getComponent("axisPointer").coordSysAxesInfo=r.collect(i,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a),Rx}var Lh,Gx;function _H(){if(Gx)return Lh;Gx=1;var e=dg(),t=_s(),r=VM(),a=Da(),i=["x","y"],n=["width","height"],u=e.extend({makeElOption:function(v,l,d,f,m){var g=d.axis,p=g.coordinateSystem,y=h(p,1-o(g)),_=p.dataToPoint(l)[0],S=f.get("type");if(S&&S!=="none"){var T=t.buildElStyle(f),w=c[S](g,_,y);w.style=T,v.graphicKey=w.type,v.pointer=w}var x=r.layout(d);t.buildCartesianSingleLabelElOption(l,v,x,d,f,m)},getHandleTransform:function(v,l,d){var f=r.layout(l,{labelInside:!1});return f.labelMargin=d.get("handle.margin"),{position:t.getTransformedPosition(l.axis,v,f),rotation:f.rotation+(f.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(v,l,d,f){var m=d.axis,g=m.coordinateSystem,p=o(m),y=h(g,p),_=v.position;_[p]+=l[p],_[p]=Math.min(y[1],_[p]),_[p]=Math.max(y[0],_[p]);var S=h(g,1-p),T=(S[1]+S[0])/2,w=[T,T];return w[p]=_[p],{position:_,rotation:v.rotation,cursorPoint:w,tooltipOption:{verticalAlign:"middle"}}}}),c={line:function(v,l,d){var f=t.makeLineShape([l,d[0]],[l,d[1]],o(v));return{type:"Line",subPixelOptimize:!0,shape:f}},shadow:function(v,l,d){var f=v.getBandWidth(),m=d[1]-d[0];return{type:"Rect",shape:t.makeRectShape([l-f/2,d[0]],[f,m],o(v))}}};function o(v){return v.isHorizontal()?0:1}function h(v,l){var d=v.getRect();return[d[i[l]],d[i[l]]+d[n[l]]]}a.registerAxisPointerClass("SingleAxisPointer",u);var s=u;return Lh=s,Lh}var Fx;function FM(){if(Fx)return Ax;Fx=1;var e=we;return fH(),dH(),gH(),kn(),_H(),e.extendComponentView({type:"single"}),Ax}var Ph,$x;function xH(){if($x)return Ph;$x=1;var e=dt,t=_i(),r=Cn(),a=r.getDimensionTypeByAxis,i=Yt(),n=Z,u=Re,c=u.groupData,o=Qe(),h=o.encodeHTML,s=In(),v=2,l=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(f){l.superApply(this,"init",arguments),this.legendVisualProvider=new s(n.bind(this.getData,this),n.bind(this.getRawData,this))},fixData:function(f){var m=f.length,g=c(f,function(I){return I[2]}),p=[];g.buckets.each(function(I,E){p.push({name:E,dataList:I})});for(var y=p.length,_=-1,S=-1,T=0;T<y;++T){var w=p[T].dataList.length;w>_&&(_=w,S=T)}for(var x=0;x<y;++x)if(x!==S)for(var b=p[x].name,A=0;A<_;++A){for(var C=p[S].dataList[A][0],M=p[x].dataList.length,D=-1,L=0;L<M;++L){var P=p[x].dataList[L][0];if(P===C){D=L;break}}D===-1&&(f[m]=[],f[m][0]=C,f[m][1]=0,f[m][2]=b,m++)}return f},getInitialData:function(f,m){for(var g=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],p=g.get("type"),y=n.filter(f.data,function(C){return C[2]!==void 0}),_=this.fixData(y||[]),S=[],T=this.nameMap=n.createHashMap(),w=0,x=0;x<_.length;++x)S.push(_[x][v]),T.get(_[x][v])||(T.set(_[x][v],w),w++);var b=t(_,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a(p)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),A=new i(b,this);return A.initData(_),A},getLayerSeries:function(){for(var f=this.getData(),m=f.count(),g=[],p=0;p<m;++p)g[p]=p;var y=f.mapDimension("single"),_=c(g,function(T){return f.get("name",T)}),S=[];return _.buckets.each(function(T,w){T.sort(function(x,b){return f.get(y,x)-f.get(y,b)}),S.push({name:w,indices:T})}),S},getAxisTooltipData:function(f,m,g){n.isArray(f)||(f=f?[f]:[]);for(var p=this.getData(),y=this.getLayerSeries(),_=[],S=y.length,T,w=0;w<S;++w){for(var x=Number.MAX_VALUE,b=-1,A=y[w].indices.length,C=0;C<A;++C){var M=p.get(f[0],y[w].indices[C]),D=Math.abs(M-m);D<=x&&(T=M,x=D,b=y[w].indices[C])}_.push(b)}return{dataIndices:_,nestestValue:T}},formatTooltip:function(f){var m=this.getData(),g=m.getName(f),p=m.get(m.mapDimension("value"),f);return(isNaN(p)||p==null)&&(p="-"),h(g+" : "+p)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),d=l;return Ph=d,Ph}var Ih,Ux;function SH(){if(Ux)return Ih;Ux=1;var e=we,t=gM(),r=t.Polygon,a=me,i=Z,n=i.bind,u=i.extend,c=Ca(),o=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(s,v,l){var d=s.getData(),f=this.group,m=s.getLayerSeries(),g=d.getLayout("layoutInfo"),p=g.rect,y=g.boundaryGap;f.attr("position",[0,p.y+y[0]]);function _(x){return x.name}var S=new c(this._layersSeries||[],m,_,_),T={};S.add(n(w,this,"add")).update(n(w,this,"update")).remove(n(w,this,"remove")).execute();function w(x,b,A){var C=this._layers;if(x==="remove"){f.remove(C[b]);return}for(var M=[],D=[],L,P=m[b].indices,I=0;I<P.length;I++){var E=d.getItemLayout(P[I]),O=E.x,z=E.y0,G=E.y;M.push([O,z]),D.push([O,z+G]),L=d.getItemVisual(P[I],"color")}var V,R,B=d.getItemLayout(P[0]),k=d.getItemModel(P[I-1]),N=k.getModel("label"),q=N.get("margin");if(x==="add"){var H=T[b]=new a.Group;V=new r({shape:{points:M,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R=new a.Text({style:{x:B.x-q,y:B.y0+B.y/2}}),H.add(V),H.add(R),f.add(H),V.setClipPath(h(V.getBoundingRect(),s,function(){V.removeClipPath()}))}else{var H=C[A];V=H.childAt(0),R=H.childAt(1),f.add(H),T[b]=H,a.updateProps(V,{shape:{points:M,stackedOnPoints:D}},s),a.updateProps(R,{style:{x:B.x-q,y:B.y0+B.y/2}},s)}var F=k.getModel("emphasis.itemStyle"),U=k.getModel("itemStyle");a.setTextStyle(R.style,N,{text:N.get("show")?s.getFormattedLabel(P[I-1],"normal")||d.getName(P[I-1]):null,textVerticalAlign:"middle"}),V.setStyle(u({fill:L},U.getItemStyle(["color"]))),a.setHoverStyle(V,F.getItemStyle())}this._layersSeries=m,this._layers=T},dispose:function(){}});function h(s,v,l){var d=new a.Rect({shape:{x:s.x-10,y:s.y-10,width:0,height:s.height+20}});return a.initProps(d,{shape:{width:s.width+20,height:s.height+20}},v,l),d}return Ih=o,Ih}var Rh,Wx;function bH(){if(Wx)return Rh;Wx=1;var e=Z,t=Oe();function r(n,u){n.eachSeriesByType("themeRiver",function(c){var o=c.getData(),h=c.coordinateSystem,s={},v=h.getRect();s.rect=v;var l=c.get("boundaryGap"),d=h.getAxis();if(s.boundaryGap=l,d.orient==="horizontal"){l[0]=t.parsePercent(l[0],v.height),l[1]=t.parsePercent(l[1],v.height);var f=v.height-l[0]-l[1];a(o,c,f)}else{l[0]=t.parsePercent(l[0],v.width),l[1]=t.parsePercent(l[1],v.width);var m=v.width-l[0]-l[1];a(o,c,m)}o.setLayout("layoutInfo",s)})}function a(n,u,c){if(n.count())for(var o=u.coordinateSystem,h=u.getLayerSeries(),s=n.mapDimension("single"),v=n.mapDimension("value"),l=e.map(h,function(T){return e.map(T.indices,function(w){var x=o.dataToPoint(n.get(s,w));return x[1]=n.get(v,w),x})}),d=i(l),f=d.y0,m=c/d.max,g=h.length,p=h[0].indices.length,y,_=0;_<p;++_){y=f[_]*m,n.setItemLayout(h[0].indices[_],{layerIndex:0,x:l[0][_][0],y0:y,y:l[0][_][1]*m});for(var S=1;S<g;++S)y+=l[S-1][_][1]*m,n.setItemLayout(h[S].indices[_],{layerIndex:S,x:l[S][_][0],y0:y,y:l[S][_][1]*m})}}function i(n){for(var u=n.length,c=n[0].length,o=[],h=[],s=0,v,l={},d=0;d<c;++d){for(var f=0,v=0;f<u;++f)v+=n[f][d][1];v>s&&(s=v),o.push(v)}for(var m=0;m<c;++m)h[m]=(s-o[m])/2;s=0;for(var g=0;g<c;++g){var p=o[g]+h[g];p>s&&(s=p)}return l.y0=h,l.max=s,l}return Rh=r,Rh}var Eh,Zx;function wH(){if(Zx)return Eh;Zx=1;var e=Z,t=e.createHashMap;function r(a){a.eachSeriesByType("themeRiver",function(i){var n=i.getData(),u=i.getRawData(),c=i.get("color"),o=t();n.each(function(h){o.set(n.getRawIndex(h),h)}),u.each(function(h){var s=u.getName(h),v=c[(i.nameMap.get(s)-1)%c.length];u.setItemVisual(h,"color",v);var l=o.get(h);l!=null&&n.setItemVisual(l,"color",v)})})}return Eh=r,Eh}var Yx;function AH(){if(Yx)return bx;Yx=1;var e=we;FM(),xH(),SH();var t=bH(),r=wH(),a=Rn();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(a("themeRiver")),bx}var Xx={},kh,Kx;function TH(){if(Kx)return kh;Kx=1;var e=Z,t=dt,r=ug(),a=La(),i=a.wrapTreePathInfo,n=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(c,o){var h={name:c.name,children:c.data};u(h);var s=c.levels||[],v={};return v.levels=s,r.createTree(h,this,v).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(c){var o=t.prototype.getDataParams.apply(this,arguments),h=this.getData().tree.getNodeByDataIndex(c);return o.treePathInfo=i(h,this),o},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(c){c?this._viewRoot=c:c=this._viewRoot;var o=this.getRawData().tree.root;(!c||c!==o&&!o.contains(c))&&(this._viewRoot=o)}});function u(c){var o=0;e.each(c.children,function(s){u(s);var v=s.value;e.isArray(v)&&(v=v[0]),o+=v});var h=c.value;e.isArray(h)&&(h=h[0]),(h==null||isNaN(h))&&(h=o),h<0&&(h=0),e.isArray(c.value)?c.value[0]=h:c.value=h}return kh=n,kh}var Oh,Qx;function CH(){if(Qx)return Oh;Qx=1;var e=Z,t=me,r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},a=2,i=4;function n(l,d,f){t.Group.call(this);var m=new t.Sector({z2:a});m.seriesIndex=d.seriesIndex;var g=new t.Text({z2:i,silent:l.getModel("label").get("silent")});this.add(m),this.add(g),this.updateData(!0,l,"normal",d,f);function p(){g.ignore=g.hoverIgnore}function y(){g.ignore=g.normalIgnore}this.on("emphasis",p).on("normal",y).on("mouseover",p).on("mouseout",y)}var u=n.prototype;u.updateData=function(l,d,f,m,g){this.node=d,d.piece=this,m=m||this._seriesModel,g=g||this._ecModel;var p=this.childAt(0);p.dataIndex=d.dataIndex;var y=d.getModel(),_=d.getLayout(),S=e.extend({},_);S.label=null;var T=o(d,m,g);v(d,m,T);var w=y.getModel("itemStyle").getItemStyle(),x;if(f==="normal")x=w;else{var b=y.getModel(f+".itemStyle").getItemStyle();x=e.merge(b,w)}x=e.defaults({lineJoin:"bevel",fill:x.fill||T},x),l?(p.setShape(S),p.shape.r=_.r0,t.updateProps(p,{shape:{r:_.r}},m,d.dataIndex),p.useStyle(x)):typeof x.fill=="object"&&x.fill.type||typeof p.style.fill=="object"&&p.style.fill.type?(t.updateProps(p,{shape:S},m),p.useStyle(x)):t.updateProps(p,{shape:S,style:x},m),this._updateLabel(m,T,f);var A=y.getShallow("cursor");if(A&&p.attr("cursor",A),l){var C=m.getShallow("highlightPolicy");this._initEvents(p,d,m,C)}this._seriesModel=m||this._seriesModel,this._ecModel=g||this._ecModel},u.onEmphasis=function(l){var d=this;this.node.hostTree.root.eachNode(function(f){f.piece&&(d.node===f?f.piece.updateData(!1,f,"emphasis"):s(f,d.node,l)?f.piece.childAt(0).trigger("highlight"):l!==r.NONE&&f.piece.childAt(0).trigger("downplay"))})},u.onNormal=function(){this.node.hostTree.root.eachNode(function(l){l.piece&&l.piece.updateData(!1,l,"normal")})},u.onHighlight=function(){this.updateData(!1,this.node,"highlight")},u.onDownplay=function(){this.updateData(!1,this.node,"downplay")},u._updateLabel=function(l,d,f){var m=this.node.getModel(),g=m.getModel("label"),p=f==="normal"||f==="emphasis"?g:m.getModel(f+".label"),y=m.getModel("emphasis.label"),_=e.retrieve(l.getFormattedLabel(this.node.dataIndex,f,null,null,"label"),this.node.name);G("show")===!1&&(_="");var S=this.node.getLayout(),T=p.get("minAngle");T==null&&(T=g.get("minAngle")),T=T/180*Math.PI;var w=S.endAngle-S.startAngle;T!=null&&Math.abs(w)<T&&(_="");var x=this.childAt(1);t.setLabelStyle(x.style,x.hoverStyle||{},g,y,{defaultText:p.getShallow("show")?_:null,autoColor:d,useInsideStyle:!0});var b=(S.startAngle+S.endAngle)/2,A=Math.cos(b),C=Math.sin(b),M,D=G("position"),L=G("distance")||0,P=G("align");D==="outside"?(M=S.r+L,P=b>Math.PI/2?"right":"left"):!P||P==="center"?(M=(S.r+S.r0)/2,P="center"):P==="left"?(M=S.r0+L,b>Math.PI/2&&(P="right")):P==="right"&&(M=S.r-L,b>Math.PI/2&&(P="left")),x.attr("style",{text:_,textAlign:P,textVerticalAlign:G("verticalAlign")||"middle",opacity:G("opacity")});var I=M*A+S.cx,E=M*C+S.cy;x.attr("position",[I,E]);var O=G("rotate"),z=0;O==="radial"?(z=-b,z<-Math.PI/2&&(z+=Math.PI)):O==="tangential"?(z=Math.PI/2-b,z>Math.PI/2?z-=Math.PI:z<-Math.PI/2&&(z+=Math.PI)):typeof O=="number"&&(z=O*Math.PI/180),x.attr("rotation",z);function G(V){var R=p.get(V);return R??g.get(V)}},u._initEvents=function(l,d,f,m){l.off("mouseover").off("mouseout").off("emphasis").off("normal");var g=this,p=function(){g.onEmphasis(m)},y=function(){g.onNormal()},_=function(){g.onDownplay()},S=function(){g.onHighlight()};f.isAnimationEnabled()&&l.on("mouseover",p).on("mouseout",y).on("emphasis",p).on("normal",y).on("downplay",_).on("highlight",S)},e.inherits(n,t.Group);var c=n;function o(l,d,f){var m=l.getVisual("color"),g=l.getVisual("visualMeta");(!g||g.length===0)&&(m=null);var p=l.getModel("itemStyle").get("color");if(p)return p;if(m)return m;if(l.depth===0)return f.option.color[0];var y=f.option.color.length;return p=f.option.color[h(l)%y],p}function h(l){for(var d=l;d.depth>1;)d=d.parentNode;var f=l.getAncestors()[0];return e.indexOf(f.children,d)}function s(l,d,f){return f===r.NONE?!1:f===r.SELF?l===d:f===r.ANCESTOR?l===d||l.isAncestorOf(d):l===d||l.isDescendantOf(d)}function v(l,d,f){var m=d.getData();m.setItemVisual(l.dataIndex,"color",f)}return Oh=c,Oh}var zh,Jx;function MH(){if(Jx)return zh;Jx=1;var e=Z,t=Ar,r=CH(),a=Ca(),i="sunburstRootToNode",n=t.extend({type:"sunburst",init:function(){},render:function(c,o,h,s){var v=this;this.seriesModel=c,this.api=h,this.ecModel=o;var l=c.getData(),d=l.tree.root,f=c.getViewRoot(),m=this.group,g=c.get("renderLabelForZeroData"),p=[];f.eachNode(function(A){p.push(A)});var y=this._oldChildren||[];if(T(p,y),b(d,f),s&&s.highlight&&s.highlight.piece){var _=c.getShallow("highlightPolicy");s.highlight.piece.onEmphasis(_)}else if(s&&s.unhighlight){var S=this.virtualPiece;!S&&d.children.length&&(S=d.children[0].piece),S&&S.onNormal()}this._initEvents(),this._oldChildren=p;function T(A,C){if(A.length===0&&C.length===0)return;new a(C,A,M,M).add(D).update(D).remove(e.curry(D,null)).execute();function M(L){return L.getId()}function D(L,P){var I=L==null?null:A[L],E=P==null?null:C[P];w(I,E)}}function w(A,C){if(!g&&A&&!A.getValue()&&(A=null),A!==d&&C!==d){if(C&&C.piece)A?(C.piece.updateData(!1,A,"normal",c,o),l.setItemGraphicEl(A.dataIndex,C.piece)):x(C);else if(A){var M=new r(A,c,o);m.add(M),l.setItemGraphicEl(A.dataIndex,M)}}}function x(A){A&&A.piece&&(m.remove(A.piece),A.piece=null)}function b(A,C){if(C.depth>0){v.virtualPiece?v.virtualPiece.updateData(!1,A,"normal",c,o):(v.virtualPiece=new r(A,c,o),m.add(v.virtualPiece)),C.piece._onclickEvent&&C.piece.off("click",C.piece._onclickEvent);var M=function(D){v._rootToNode(C.parentNode)};C.piece._onclickEvent=M,v.virtualPiece.on("click",M)}else v.virtualPiece&&(m.remove(v.virtualPiece),v.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var c=this,o=function(h){var s=!1,v=c.seriesModel.getViewRoot();v.eachNode(function(l){if(!s&&l.piece&&l.piece.childAt(0)===h.target){var d=l.getModel().get("nodeClick");if(d==="rootToNode")c._rootToNode(l);else if(d==="link"){var f=l.getModel(),m=f.get("link");if(m){var g=f.get("target",!0)||"_blank";window.open(m,g)}}s=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",o),this.group._onclickEvent=o},_rootToNode:function(c){c!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:i,from:this.uid,seriesId:this.seriesModel.id,targetNode:c})},containPoint:function(c,o){var h=o.getData(),s=h.getItemLayout(0);if(s){var v=c[0]-s.cx,l=c[1]-s.cy,d=Math.sqrt(v*v+l*l);return d<=s.r&&d>=s.r0}}}),u=n;return zh=u,zh}var jx={},eS;function DH(){if(eS)return jx;eS=1;var e=we,t=La(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(n,u){u.eachComponent({mainType:"series",subType:"sunburst",query:n},c);function c(o,h){var s=t.retrieveTargetInfo(n,[r],o);if(s){var v=o.getViewRoot();v&&(n.direction=t.aboveViewRoot(v,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}}});var a="sunburstHighlight";e.registerAction({type:a,update:"updateView"},function(n,u){u.eachComponent({mainType:"series",subType:"sunburst",query:n},c);function c(o,h){var s=t.retrieveTargetInfo(n,[a],o);s&&(n.highlight=s.node)}});var i="sunburstUnhighlight";return e.registerAction({type:i,update:"updateView"},function(n,u){u.eachComponent({mainType:"series",subType:"sunburst",query:n},c);function c(o,h){n.unhighlight=!0}}),jx}var Bh,tS;function LH(){if(tS)return Bh;tS=1;var e=Oe(),t=e.parsePercent,r=Z,a=Math.PI/180;function i(c,o,h,s){o.eachSeriesByType(c,function(v){var l=v.get("center"),d=v.get("radius");r.isArray(d)||(d=[0,d]),r.isArray(l)||(l=[l,l]);var f=h.getWidth(),m=h.getHeight(),g=Math.min(f,m),p=t(l[0],f),y=t(l[1],m),_=t(d[0],g/2),S=t(d[1],g/2),T=-v.get("startAngle")*a,w=v.get("minAngle")*a,x=v.getData().tree.root,b=v.getViewRoot(),A=b.depth,C=v.get("sort");C!=null&&n(b,C);var M=0;r.each(b.children,function(N){!isNaN(N.getValue())&&M++});var D=b.getValue(),L=Math.PI/(D||M)*2,P=b.depth>0,I=b.height-(P?-1:1),E=(S-_)/(I||1),O=v.get("clockwise"),z=v.get("stillShowZeroSum"),G=O?1:-1,V=function(N,q){if(N){var H=q;if(N!==x){var F=N.getValue(),U=D===0&&z?L:F*L;U<w&&(U=w),H=q+G*U;var W=N.depth-A-(P?-1:1),K=_+E*W,J=_+E*(W+1),j=N.getModel();j.get("r0")!=null&&(K=t(j.get("r0"),g/2)),j.get("r")!=null&&(J=t(j.get("r"),g/2)),N.setLayout({angle:U,startAngle:q,endAngle:H,clockwise:O,cx:p,cy:y,r0:K,r:J})}if(N.children&&N.children.length){var ee=0;r.each(N.children,function(ie){ee+=V(ie,q+ee)})}return H-q}};if(P){var R=_,B=_+E,k=Math.PI*2;x.setLayout({angle:k,startAngle:T,endAngle:T+k,clockwise:O,cx:p,cy:y,r0:R,r:B})}V(b,T)})}function n(c,o){var h=c.children||[];c.children=u(h,o),h.length&&r.each(c.children,function(s){n(s,o)})}function u(c,o){if(typeof o=="function")return c.sort(o);var h=o==="asc";return c.sort(function(s,v){var l=(s.getValue()-v.getValue())*(h?1:-1);return l===0?(s.dataIndex-v.dataIndex)*(h?-1:1):l})}return Bh=i,Bh}var rS;function PH(){if(rS)return Xx;rS=1;var e=we,t=Z;TH(),MH(),DH();var r=ps(),a=LH(),i=Rn();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(a,"sunburst")),e.registerProcessor(t.curry(i,"sunburst")),Xx}var aS={},Nh,iS;function IH(){if(iS)return Nh;iS=1;var e=Z;function t(a,i){return i=i||[0,0],e.map(["x","y"],function(n,u){var c=this.getAxis(n),o=i[u],h=a[u]/2;return c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(o-h)-c.dataToCoord(o+h))},this)}function r(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Nh=r,Nh}var Vh,nS;function RH(){if(nS)return Vh;nS=1;var e=Z;function t(a,i){return i=i||[0,0],e.map([0,1],function(n){var u=i[n],c=a[n]/2,o=[],h=[];return o[n]=u-c,h[n]=u+c,o[1-n]=h[1-n]=i[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(h)[n])},this)}function r(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:a.getZoom()},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Vh=r,Vh}var Hh,oS;function EH(){if(oS)return Hh;oS=1;var e=Z;function t(a,i){var n=this.getAxis(),u=i instanceof Array?i[0]:i,c=(a instanceof Array?a[0]:a)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(u-c)-n.dataToCoord(u+c))}function r(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Hh=r,Hh}var qh,sS;function kH(){if(sS)return qh;sS=1;var e=Z;function t(a,i){return e.map(["Radius","Angle"],function(n,u){var c=this["get"+n+"Axis"](),o=i[u],h=a[u]/2,s="dataTo"+n,v=c.type==="category"?c.getBandWidth():Math.abs(c[s](o-h)-c[s](o+h));return n==="Angle"&&(v=v*Math.PI/180),v},this)}function r(a){var i=a.getRadiusAxis(),n=a.getAngleAxis(),u=i.getExtent();return u[0]>u[1]&&u.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:u[1],r0:u[0]},api:{coord:e.bind(function(c){var o=i.dataToRadius(c[0]),h=n.dataToAngle(c[1]),s=a.coordToPoint([o,h]);return s.push(o,h*Math.PI/180),s}),size:e.bind(t,a)}}}return qh=r,qh}var Gh,lS;function OH(){if(lS)return Gh;lS=1;function e(t){var r=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(i,n){return t.dataToPoint(i,n)}}}}return Gh=e,Gh}var uS;function zH(){if(uS)return aS;uS=1;var e=Z,t=me,r=rg(),a=r.getDefaultLabel,i=Br(),n=cs(),u=n.getLayoutOnAxis,c=Ca(),o=dt,h=ht(),s=Ar,v=Dn(),l=v.createClipPath,d=IH(),f=RH(),m=EH(),g=kH(),p=OH(),y=t.CACHED_LABEL_STYLE_PROPERTIES,_=["itemStyle"],S=["emphasis","itemStyle"],T=["label"],w=["emphasis","label"],x="e\0\0",b={cartesian2d:d,geo:f,singleAxis:m,polar:g,calendar:p};o.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(H,F){return i(this.getSource(),this)},getDataParams:function(H,F,U){var W=o.prototype.getDataParams.apply(this,arguments);return U&&(W.info=U.info),W}}),s.extend({type:"custom",_data:null,render:function(H,F,U,W){var K=this._data,J=H.getData(),j=this.group,ee=D(H,J,F,U);J.diff(K).add(function(re){P(null,re,ee(re,W),H,j,J)}).update(function(re,he){var _e=K.getItemGraphicEl(he);P(_e,re,ee(re,W),H,j,J)}).remove(function(re){var he=K.getItemGraphicEl(re);he&&j.remove(he)}).execute();var ie=H.get("clip",!0)?l(H.coordinateSystem,!1,H):null;ie?j.setClipPath(ie):j.removeClipPath(),this._data=J},incrementalPrepareRender:function(H,F,U){this.group.removeAll(),this._data=null},incrementalRender:function(H,F,U,W,K){var J=F.getData(),j=D(F,J,U,W);function ee(he){he.isGroup||(he.incremental=!0,he.useHoverLayer=!0)}for(var ie=H.start;ie<H.end;ie++){var re=P(null,ie,j(ie,K),F,this.group,J);re.traverse(ee)}},dispose:e.noop,filterForExposedEvent:function(H,F,U,W){var K=F.element;if(K==null||U.name===K)return!0;for(;(U=U.parent)&&U!==this.group;)if(U.name===K)return!0;return!1}});function A(H){var F=H.type,U;if(F==="path"){var W=H.shape,K=W.width!=null&&W.height!=null?{x:W.x||0,y:W.y||0,width:W.width,height:W.height}:null,J=k(W);U=t.makePath(J,null,K,W.layout||"center"),U.__customPathData=J}else if(F==="image")U=new t.Image({}),U.__customImagePath=H.style.image;else if(F==="text")U=new t.Text({}),U.__customText=H.style.text;else if(F==="group")U=new t.Group;else{if(F==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var j=t.getShapeClass(F);U=new j}return U.__customGraphicType=F,U.name=H.name,U}function C(H,F,U,W,K,J,j){var ee={},ie=U.style||{};if(U.shape&&(ee.shape=e.clone(U.shape)),U.position&&(ee.position=U.position.slice()),U.scale&&(ee.scale=U.scale.slice()),U.origin&&(ee.origin=U.origin.slice()),U.rotation&&(ee.rotation=U.rotation),H.type==="image"&&U.style){var re=ee.style={};e.each(["x","y","width","height"],function(ae){M(ae,re,ie,H.style,J)})}if(H.type==="text"&&U.style){var re=ee.style={};e.each(["x","y"],function(se){M(se,re,ie,H.style,J)}),!ie.hasOwnProperty("textFill")&&ie.fill&&(ie.textFill=ie.fill),!ie.hasOwnProperty("textStroke")&&ie.stroke&&(ie.textStroke=ie.stroke)}if(H.type!=="group"&&(H.useStyle(ie),J)){H.style.opacity=0;var he=ie.opacity;he==null&&(he=1),t.initProps(H,{style:{opacity:he}},W,F)}J?H.attr(ee):t.updateProps(H,ee,W,F),U.hasOwnProperty("z2")&&H.attr("z2",U.z2||0),U.hasOwnProperty("silent")&&H.attr("silent",U.silent),U.hasOwnProperty("invisible")&&H.attr("invisible",U.invisible),U.hasOwnProperty("ignore")&&H.attr("ignore",U.ignore),U.hasOwnProperty("info")&&H.attr("info",U.info);var _e=U.styleEmphasis;t.setElementHoverStyle(H,_e),j&&t.setAsHighDownDispatcher(H,_e!==!1)}function M(H,F,U,W,K){U[H]!=null&&!K&&(F[H]=U[H],U[H]=W[H])}function D(H,F,U,W){var K=H.get("renderItem"),J=H.coordinateSystem,j={};J&&(j=J.prepareCustoms?J.prepareCustoms():b[J.type](J));var ee=e.defaults({getWidth:W.getWidth,getHeight:W.getHeight,getZr:W.getZr,getDevicePixelRatio:W.getDevicePixelRatio,value:ue,style:be,styleEmphasis:Y,visual:Q,barLayout:te,currentSeriesIndices:ce,font:le},j.api||{}),ie={context:{},seriesId:H.id,seriesName:H.name,seriesIndex:H.seriesIndex,coordSys:j.coordSys,dataInsideLength:F.count(),encode:L(H.getData())},re,he=!0,_e,ae,se,De;return function(fe,ye){return re=fe,he=!0,K&&K(e.defaults({dataIndexInside:fe,dataIndex:F.getRawIndex(fe),actionType:ye?ye.type:null},ie),ee)};function oe(fe){fe==null&&(fe=re),he&&(_e=F.getItemModel(fe),ae=_e.getModel(T),se=_e.getModel(w),De=F.getItemVisual(fe,"color"),he=!1)}function ue(fe,ye){return ye==null&&(ye=re),F.get(F.getDimension(fe||0),ye)}function be(fe,ye){ye==null&&(ye=re),oe(ye);var Te=_e.getModel(_).getItemStyle();De!=null&&(Te.fill=De);var xe=F.getItemVisual(ye,"opacity");xe!=null&&(Te.opacity=xe);var ge=fe?V(fe,ae):ae;return t.setTextStyle(Te,ge,null,{autoColor:De,isRectText:!0}),Te.text=ge.getShallow("show")?e.retrieve2(H.getFormattedLabel(ye,"normal"),a(F,ye)):null,fe&&R(Te,fe),Te}function Y(fe,ye){ye==null&&(ye=re),oe(ye);var Te=_e.getModel(S).getItemStyle(),xe=fe?V(fe,se):se;return t.setTextStyle(Te,xe,null,{isRectText:!0},!0),Te.text=xe.getShallow("show")?e.retrieve3(H.getFormattedLabel(ye,"emphasis"),H.getFormattedLabel(ye,"normal"),a(F,ye)):null,fe&&R(Te,fe),Te}function Q(fe,ye){return ye==null&&(ye=re),F.getItemVisual(ye,fe)}function te(fe){if(J.getBaseAxis){var ye=J.getBaseAxis();return u(e.defaults({axis:ye},fe),W)}}function ce(){return U.getCurrentSeriesIndices()}function le(fe){return t.getFont(fe,U)}}function L(H){var F={};return e.each(H.dimensions,function(U,W){var K=H.getDimensionInfo(U);if(!K.isExtraCoord){var J=K.coordDim,j=F[J]=F[J]||[];j[K.coordDimIndex]=W}}),F}function P(H,F,U,W,K,J){return H=I(H,F,U,W,K,J,!0),H&&J.setItemGraphicEl(F,H),H}function I(H,F,U,W,K,J,j){var ee=!U;U=U||{};var ie=U.type,re=U.shape,he=U.style;if(H&&(ee||ie!=null&&ie!==H.__customGraphicType||ie==="path"&&N(re)&&k(re)!==H.__customPathData||ie==="image"&&q(he,"image")&&he.image!==H.__customImagePath||ie==="text"&&q(re,"text")&&he.text!==H.__customText)&&(K.remove(H),H=null),!ee){var _e=!H;return!H&&(H=A(U)),C(H,F,U,W,J,_e,j),ie==="group"&&E(H,F,U,W,J),K.add(H),H}}function E(H,F,U,W,K){var J=U.children,j=J?J.length:0,ee=U.$mergeChildren,ie=ee==="byName"||U.diffChildrenByName,re=ee===!1;if(!(!j&&!ie&&!re)){if(ie){O({oldChildren:H.children()||[],newChildren:J||[],dataIndex:F,animatableModel:W,group:H,data:K});return}re&&H.removeAll();for(var he=0;he<j;he++)J[he]&&I(H.childAt(he),F,J[he],W,H,K)}}function O(H){new c(H.oldChildren,H.newChildren,z,z,H).add(G).update(G).remove(B).execute()}function z(H,F){var U=H&&H.name;return U??x+F}function G(H,F){var U=this.context,W=H!=null?U.newChildren[H]:null,K=F!=null?U.oldChildren[F]:null;I(K,U.dataIndex,W,U.animatableModel,U.group,U.data)}function V(H,F){var U=new h({},F);return e.each(y,function(W,K){H.hasOwnProperty(W)&&(U.option[K]=H[W])}),U}function R(H,F){for(var U in F)(F.hasOwnProperty(U)||!y.hasOwnProperty(U))&&(H[U]=F[U])}function B(H){var F=this.context,U=F.oldChildren[H];U&&F.group.remove(U)}function k(H){return H&&(H.pathData||H.d)}function N(H){return H&&(H.hasOwnProperty("pathData")||H.hasOwnProperty("d"))}function q(H,F){return H&&H.hasOwnProperty(F)}return aS}var vS={},hS;function BH(){return hS||(hS=1,Pn(),GM(),kn()),vS}var cS={},Fh,fS;function NH(){if(fS)return Fh;fS=1;var e=Z,t=Oe(),r=t.parsePercent,a=Tr(),i=a.isDimensionStacked;function n(s){return s.get("stack")||"__ec_stack_"+s.seriesIndex}function u(s,v){return v.dim+s.model.componentIndex}function c(s,v,l){var d={},f=o(e.filter(v.getSeriesByType(s),function(m){return!v.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));v.eachSeriesByType(s,function(m){if(m.coordinateSystem.type==="polar"){var g=m.getData(),p=m.coordinateSystem,y=p.getBaseAxis(),_=u(p,y),S=n(m),T=f[_][S],w=T.offset,x=T.width,b=p.getOtherAxis(y),A=m.coordinateSystem.cx,C=m.coordinateSystem.cy,M=m.get("barMinHeight")||0,D=m.get("barMinAngle")||0;d[S]=d[S]||[];for(var L=g.mapDimension(b.dim),P=g.mapDimension(y.dim),I=i(g,L),E=y.dim!=="radius"||!m.get("roundCap",!0),O=b.getExtent()[0],z=0,G=g.count();z<G;z++){var V=g.get(L,z),R=g.get(P,z),B=V>=0?"p":"n",k=O;I&&(d[S][R]||(d[S][R]={p:O,n:O}),k=d[S][R][B]);var N,q,H,F;if(b.dim==="radius"){var U=b.dataToRadius(V)-O,W=y.dataToAngle(R);Math.abs(U)<M&&(U=(U<0?-1:1)*M),N=k,q=k+U,H=W-w,F=H-x,I&&(d[S][R][B]=q)}else{var K=b.dataToAngle(V,E)-O,J=y.dataToRadius(R);Math.abs(K)<D&&(K=(K<0?-1:1)*D),N=J+w,q=N+x,H=k,F=k+K,I&&(d[S][R][B]=F)}g.setItemLayout(z,{cx:A,cy:C,r0:N,r:q,startAngle:-H*Math.PI/180,endAngle:-F*Math.PI/180})}}},this)}function o(s,v){var l={};e.each(s,function(f,m){var g=f.getData(),p=f.coordinateSystem,y=p.getBaseAxis(),_=u(p,y),S=y.getExtent(),T=y.type==="category"?y.getBandWidth():Math.abs(S[1]-S[0])/g.count(),w=l[_]||{bandWidth:T,remainedWidth:T,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},x=w.stacks;l[_]=w;var b=n(f);x[b]||w.autoWidthCount++,x[b]=x[b]||{width:0,maxWidth:0};var A=r(f.get("barWidth"),T),C=r(f.get("barMaxWidth"),T),M=f.get("barGap"),D=f.get("barCategoryGap");A&&!x[b].width&&(A=Math.min(w.remainedWidth,A),x[b].width=A,w.remainedWidth-=A),C&&(x[b].maxWidth=C),M!=null&&(w.gap=M),D!=null&&(w.categoryGap=D)});var d={};return e.each(l,function(f,m){d[m]={};var g=f.stacks,p=f.bandWidth,y=r(f.categoryGap,p),_=r(f.gap,1),S=f.remainedWidth,T=f.autoWidthCount,w=(S-y)/(T+(T-1)*_);w=Math.max(w,0),e.each(g,function(C,M){var D=C.maxWidth;D&&D<w&&(D=Math.min(D,S),C.width&&(D=Math.min(D,C.width)),S-=D,C.width=D,T--)}),w=(S-y)/(T+(T-1)*_),w=Math.max(w,0);var x=0,b;e.each(g,function(C,M){C.width||(C.width=w),b=C,x+=C.width*(1+_)}),b&&(x-=b.width*_);var A=-x/2;e.each(g,function(C,M){d[m][M]=d[m][M]||{offset:A,width:C.width},A+=C.width*(1+_)})}),d}var h=c;return Fh=h,Fh}var dS={},$h,gS;function VH(){if(gS)return $h;gS=1;var e=Z,t=ia();function r(i,n){t.call(this,"radius",i,n),this.type="category"}r.prototype={constructor:r,pointToData:function(i,n){return this.polar.pointToData(i,n)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return $h=a,$h}var Uh,pS;function HH(){if(pS)return Uh;pS=1;var e=Z,t=Xe,r=ia(),a=Re,i=a.makeInner,n=i();function u(o,h){h=h||[0,360],r.call(this,"angle",o,h),this.type="category"}u.prototype={constructor:u,pointToData:function(o,h){return this.polar.pointToData(o,h)[this.dim==="radius"?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var o=this,h=o.getLabelModel(),s=o.scale,v=s.getExtent(),l=s.count();if(v[1]-v[0]<1)return 0;var d=v[0],f=o.dataToCoord(d+1)-o.dataToCoord(d),m=Math.abs(f),g=t.getBoundingRect(d,h.getFont(),"center","top"),p=Math.max(g.height,7),y=p/m;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),S=n(o.model),T=S.lastAutoInterval,w=S.lastTickCount;return T!=null&&w!=null&&Math.abs(T-_)<=1&&Math.abs(w-l)<=1&&T>_?_=T:(S.lastTickCount=l,S.lastAutoInterval=_),_}},e.inherits(u,r);var c=u;return Uh=c,Uh}var Wh,mS;function qH(){if(mS)return Wh;mS=1;var e=VH(),t=HH(),r=function(i){this.name=i||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(i){var n=this.pointToCoord(i);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},containData:function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},getAxis:function(i){return this["_"+i+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(i){var n=[],u=this._angleAxis,c=this._radiusAxis;return u.scale.type===i&&n.push(u),c.scale.type===i&&n.push(c),n},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var n=this._angleAxis;return i===n?this._radiusAxis:n},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var n=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},dataToPoint:function(i,n){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],n),this._angleAxis.dataToAngle(i[1],n)])},pointToData:function(i,n){var u=this.pointToCoord(i);return[this._radiusAxis.radiusToData(u[0],n),this._angleAxis.angleToData(u[1],n)]},pointToCoord:function(i){var n=i[0]-this.cx,u=i[1]-this.cy,c=this.getAngleAxis(),o=c.getExtent(),h=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);c.inverse?h=s-360:s=h+360;var v=Math.sqrt(n*n+u*u);n/=v,u/=v;for(var l=Math.atan2(-u,n)/Math.PI*180,d=l<h?1:-1;l<h||l>s;)l+=d*360;return[v,l]},coordToPoint:function(i){var n=i[0],u=i[1]/180*Math.PI,c=Math.cos(u)*n+this.cx,o=-Math.sin(u)*n+this.cy;return[c,o]},getArea:function(){var i=this.getAngleAxis(),n=this.getRadiusAxis(),u=n.getExtent().slice();u[0]>u[1]&&u.reverse();var c=i.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:u[0],r:u[1],startAngle:-c[0]*o,endAngle:-c[1]*o,clockwise:i.inverse,contain:function(h,s){var v=h-this.cx,l=s-this.cy,d=v*v+l*l,f=this.r,m=this.r0;return d<=f*f&&d>=m*m}}}};var a=r;return Wh=a,Wh}var yS={},_S;function GH(){if(_S)return yS;_S=1;var e=Z,t=ft,r=ds(),a=xi(),i=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(i.prototype,a);var n={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function u(c,o){return o.type||(o.data?"category":"value")}return r("angle",i,u,n.angle),r("radius",i,u,n.radius),yS}var Zh,xS;function FH(){if(xS)return Zh;xS=1;var e=we;GH();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var a,i=this.ecModel;return i.eachComponent(r,function(n){n.getCoordSysModel()===this&&(a=n)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return Zh=t,Zh}var SS;function gg(){if(SS)return dS;SS=1;var e=Z,t=qH(),r=Oe(),a=r.parsePercent,i=ur(),n=i.createScaleByModel,u=i.niceScaleExtent,c=wr,o=Tr(),h=o.getStackedDimension;FH();function s(f,m,g){var p=m.get("center"),y=g.getWidth(),_=g.getHeight();f.cx=a(p[0],y),f.cy=a(p[1],_);var S=f.getRadiusAxis(),T=Math.min(y,_)/2,w=m.get("radius");w==null?w=[0,"100%"]:e.isArray(w)||(w=[0,w]),w=[a(w[0],T),a(w[1],T)],S.inverse?S.setExtent(w[1],w[0]):S.setExtent(w[0],w[1])}function v(f,m){var g=this,p=g.getAngleAxis(),y=g.getRadiusAxis();if(p.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),f.eachSeries(function(T){if(T.coordinateSystem===g){var w=T.getData();e.each(w.mapDimension("radius",!0),function(x){y.scale.unionExtentFromData(w,h(w,x))}),e.each(w.mapDimension("angle",!0),function(x){p.scale.unionExtentFromData(w,h(w,x))})}}),u(p.scale,p.model),u(y.scale,y.model),p.type==="category"&&!p.onBand){var _=p.getExtent(),S=360/p.scale.count();p.inverse?_[1]+=S:_[1]-=S,p.setExtent(_[0],_[1])}}function l(f,m){if(f.type=m.get("type"),f.scale=n(m),f.onBand=m.get("boundaryGap")&&f.type==="category",f.inverse=m.get("inverse"),m.mainType==="angleAxis"){f.inverse^=m.get("clockwise");var g=m.get("startAngle");f.setExtent(g,g+(f.inverse?-360:360))}m.axis=f,f.model=m}var d={dimensions:t.prototype.dimensions,create:function(f,m){var g=[];return f.eachComponent("polar",function(p,y){var _=new t(y);_.update=v;var S=_.getRadiusAxis(),T=_.getAngleAxis(),w=p.findAxisModel("radiusAxis"),x=p.findAxisModel("angleAxis");l(S,w),l(T,x),s(_,p,m),g.push(_),p.coordinateSystem=_,_.model=p}),f.eachSeries(function(p){if(p.get("coordinateSystem")==="polar"){var y=f.queryComponents({mainType:"polar",index:p.get("polarIndex"),id:p.get("polarId")})[0];p.coordinateSystem=y.coordinateSystem}}),g}};return c.register("polar",d),dS}var bS={},Yh,wS;function $H(){if(wS)return Yh;wS=1;var e=Z,t=me,r=ht(),a=Da(),i=na(),n=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function u(s,v,l){v[1]>v[0]&&(v=v.slice().reverse());var d=s.coordToPoint([v[0],l]),f=s.coordToPoint([v[1],l]);return{x1:d[0],y1:d[1],x2:f[0],y2:f[1]}}function c(s){var v=s.getRadiusAxis();return v.inverse?0:1}function o(s){var v=s[0],l=s[s.length-1];v&&l&&Math.abs(Math.abs(v.coord-l.coord)-360)<1e-4&&s.pop()}var h=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(s,v){if(this.group.removeAll(),!!s.get("show")){var l=s.axis,d=l.polar,f=d.getRadiusAxis().getExtent(),m=l.getTicksCoords(),g=l.getMinorTicksCoords(),p=e.map(l.getViewLabels(),function(_){var _=e.clone(_);return _.coord=l.dataToCoord(_.tickValue),_});o(p),o(m),e.each(n,function(y){s.get(y+".show")&&(!l.scale.isBlank()||y==="axisLine")&&this["_"+y](s,d,m,g,f,p)},this)}},_axisLine:function(s,v,l,d,f){var m=s.getModel("axisLine.lineStyle"),g=c(v),p=g?0:1,y;f[p]===0?y=new t.Circle({shape:{cx:v.cx,cy:v.cy,r:f[g]},style:m.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:v.cx,cy:v.cy,r:f[g],r0:f[p]},style:m.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(s,v,l,d,f){var m=s.getModel("axisTick"),g=(m.get("inside")?-1:1)*m.get("length"),p=f[c(v)],y=e.map(l,function(_){return new t.Line({shape:u(v,[p,p+g],_.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(m.getModel("lineStyle").getLineStyle(),{stroke:s.get("axisLine.lineStyle.color")})}))},_minorTick:function(s,v,l,d,f){if(d.length){for(var m=s.getModel("axisTick"),g=s.getModel("minorTick"),p=(m.get("inside")?-1:1)*g.get("length"),y=f[c(v)],_=[],S=0;S<d.length;S++)for(var T=0;T<d[S].length;T++)_.push(new t.Line({shape:u(v,[y,y+p],d[S][T].coord)}));this.group.add(t.mergePath(_,{style:e.defaults(g.getModel("lineStyle").getLineStyle(),e.defaults(m.getLineStyle(),{stroke:s.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(s,v,l,d,f,m){var g=s.getCategories(!0),p=s.getModel("axisLabel"),y=p.get("margin"),_=s.get("triggerEvent");e.each(m,function(S,T){var w=p,x=S.tickValue,b=f[c(v)],A=v.coordToPoint([b+y,S.coord]),C=v.cx,M=v.cy,D=Math.abs(A[0]-C)/b<.3?"center":A[0]>C?"left":"right",L=Math.abs(A[1]-M)/b<.3?"middle":A[1]>M?"top":"bottom";g&&g[x]&&g[x].textStyle&&(w=new r(g[x].textStyle,p,p.ecModel));var P=new t.Text({silent:i.isLabelSilent(s)});this.group.add(P),t.setTextStyle(P.style,w,{x:A[0],y:A[1],textFill:w.getTextColor()||s.get("axisLine.lineStyle.color"),text:S.formattedLabel,textAlign:D,textVerticalAlign:L}),_&&(P.eventData=i.makeAxisEventDataBase(s),P.eventData.targetType="axisLabel",P.eventData.value=S.rawLabel)},this)},_splitLine:function(s,v,l,d,f){var m=s.getModel("splitLine"),g=m.getModel("lineStyle"),p=g.get("color"),y=0;p=p instanceof Array?p:[p];for(var _=[],S=0;S<l.length;S++){var T=y++%p.length;_[T]=_[T]||[],_[T].push(new t.Line({shape:u(v,f,l[S].coord)}))}for(var S=0;S<_.length;S++)this.group.add(t.mergePath(_[S],{style:e.defaults({stroke:p[S%p.length]},g.getLineStyle()),silent:!0,z:s.get("z")}))},_minorSplitLine:function(s,v,l,d,f){if(d.length){for(var m=s.getModel("minorSplitLine"),g=m.getModel("lineStyle"),p=[],y=0;y<d.length;y++)for(var _=0;_<d[y].length;_++)p.push(new t.Line({shape:u(v,f,d[y][_].coord)}));this.group.add(t.mergePath(p,{style:g.getLineStyle(),silent:!0,z:s.get("z")}))}},_splitArea:function(s,v,l,d,f){if(l.length){var m=s.getModel("splitArea"),g=m.getModel("areaStyle"),p=g.get("color"),y=0;p=p instanceof Array?p:[p];for(var _=[],S=Math.PI/180,T=-l[0].coord*S,w=Math.min(f[0],f[1]),x=Math.max(f[0],f[1]),b=s.get("clockwise"),A=1;A<l.length;A++){var C=y++%p.length;_[C]=_[C]||[],_[C].push(new t.Sector({shape:{cx:v.cx,cy:v.cy,r0:w,r:x,startAngle:T,endAngle:-l[A].coord*S,clockwise:b},silent:!0})),T=-l[A].coord*S}for(var A=0;A<_.length;A++)this.group.add(t.mergePath(_[A],{style:e.defaults({fill:p[A%p.length]},g.getAreaStyle()),silent:!0}))}}});return Yh=h,Yh}var AS;function UH(){return AS||(AS=1,gg(),$H()),bS}var TS={},Xh,CS;function WH(){if(CS)return Xh;CS=1;var e=Z,t=me,r=na(),a=Da(),i=["axisLine","axisTickLabel","axisName"],n=["splitLine","splitArea","minorSplitLine"],u=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(o,h){if(this.group.removeAll(),!!o.get("show")){var s=o.axis,v=s.polar,l=v.getAngleAxis(),d=s.getTicksCoords(),f=s.getMinorTicksCoords(),m=l.getExtent()[0],g=s.getExtent(),p=c(v,o,m),y=new r(o,p);e.each(i,y.add,y),this.group.add(y.getGroup()),e.each(n,function(_){o.get(_+".show")&&!s.scale.isBlank()&&this["_"+_](o,v,m,g,d,f)},this)}},_splitLine:function(o,h,s,v,l){var d=o.getModel("splitLine"),f=d.getModel("lineStyle"),m=f.get("color"),g=0;m=m instanceof Array?m:[m];for(var p=[],y=0;y<l.length;y++){var _=g++%m.length;p[_]=p[_]||[],p[_].push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:l[y].coord}}))}for(var y=0;y<p.length;y++)this.group.add(t.mergePath(p[y],{style:e.defaults({stroke:m[y%m.length],fill:null},f.getLineStyle()),silent:!0}))},_minorSplitLine:function(o,h,s,v,l,d){if(d.length){for(var f=o.getModel("minorSplitLine"),m=f.getModel("lineStyle"),g=[],p=0;p<d.length;p++)for(var y=0;y<d[p].length;y++)g.push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:d[p][y].coord}}));this.group.add(t.mergePath(g,{style:e.defaults({fill:null},m.getLineStyle()),silent:!0}))}},_splitArea:function(o,h,s,v,l){if(l.length){var d=o.getModel("splitArea"),f=d.getModel("areaStyle"),m=f.get("color"),g=0;m=m instanceof Array?m:[m];for(var p=[],y=l[0].coord,_=1;_<l.length;_++){var S=g++%m.length;p[S]=p[S]||[],p[S].push(new t.Sector({shape:{cx:h.cx,cy:h.cy,r0:y,r:l[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[_].coord}for(var _=0;_<p.length;_++)this.group.add(t.mergePath(p[_],{style:e.defaults({fill:m[_%m.length]},f.getAreaStyle()),silent:!0}))}}});function c(o,h,s){return{position:[o.cx,o.cy],rotation:s/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:h.getModel("axisLabel").get("rotate"),z2:1}}return Xh=u,Xh}var MS;function ZH(){return MS||(MS=1,gg(),WH()),TS}var Kh,DS;function YH(){if(DS)return Kh;DS=1;var e=Qe(),t=dg(),r=me,a=_s(),i=Rt(),n=na(),u=Da(),c=t.extend({makeElOption:function(v,l,d,f,m){var g=d.axis;g.dim==="angle"&&(this.animationThreshold=Math.PI/18);var p=g.polar,y=p.getOtherAxis(g),_=y.getExtent(),S;S=g["dataTo"+e.capitalFirst(g.dim)](l);var T=f.get("type");if(T&&T!=="none"){var w=a.buildElStyle(f),x=h[T](g,p,S,_,w);x.style=w,v.graphicKey=x.type,v.pointer=x}var b=f.get("label.margin"),A=o(l,d,f,p,b);a.buildLabelElOption(v,d,f,m,A)}});function o(v,l,d,f,m){var g=l.axis,p=g.dataToCoord(v),y=f.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var _=f.getRadiusAxis().getExtent(),S,T,w;if(g.dim==="radius"){var x=i.create();i.rotate(x,x,y),i.translate(x,x,[f.cx,f.cy]),S=r.applyTransform([p,-m],x);var b=l.getModel("axisLabel").get("rotate")||0,A=n.innerTextLayout(y,b*Math.PI/180,-1);T=A.textAlign,w=A.textVerticalAlign}else{var C=_[1];S=f.coordToPoint([C+m,p]);var M=f.cx,D=f.cy;T=Math.abs(S[0]-M)/C<.3?"center":S[0]>M?"left":"right",w=Math.abs(S[1]-D)/C<.3?"middle":S[1]>D?"top":"bottom"}return{position:S,align:T,verticalAlign:w}}var h={line:function(v,l,d,f,m){return v.dim==="angle"?{type:"Line",shape:a.makeLineShape(l.coordToPoint([f[0],d]),l.coordToPoint([f[1],d]))}:{type:"Circle",shape:{cx:l.cx,cy:l.cy,r:d}}},shadow:function(v,l,d,f,m){var g=Math.max(1,v.getBandWidth()),p=Math.PI/180;return v.dim==="angle"?{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,f[0],f[1],(-d-g/2)*p,(-d+g/2)*p)}:{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,d-g/2,d+g/2,0,Math.PI*2)}}};u.registerAxisPointerClass("PolarAxisPointer",c);var s=c;return Kh=s,Kh}var LS;function XH(){if(LS)return cS;LS=1;var e=we,t=Z,r=NH();return gg(),UH(),ZH(),kn(),YH(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),cS}var PS={},Qh,IS;function KH(){if(IS)return Qh;IS=1;var e=Z,t=Re,r=ft,a=ht(),i=ig(),n=lg(),u=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(o){r.prototype.init.apply(this,arguments),t.defaultEmphasis(o,"label",["show"])},optionUpdated:function(){var o=this.option,h=this;o.regions=n.getFilledRegions(o.regions,o.map,o.nameMap),this._optionModelMap=e.reduce(o.regions||[],function(s,v){return v.name&&s.set(v.name,new a(v,h)),s},e.createHashMap()),this.updateSelectedMap(o.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(o){return this._optionModelMap.get(o)||new a(null,this,this.ecModel)},getFormattedLabel:function(o,h){var s=this.getRegionModel(o),v=s.get("label"+(h==="normal"?".":h+".")+"formatter"),l={name:o};if(typeof v=="function")return l.status=h,v(l);if(typeof v=="string")return v.replace("{a}",o??"")},setZoom:function(o){this.option.zoom=o},setCenter:function(o){this.option.center=o}});e.mixin(u,i);var c=u;return Qh=c,Qh}var Jh,RS;function QH(){if(RS)return Jh;RS=1;var e=AM(),t=we,r=t.extendComponentView({type:"geo",init:function(a,i){var n=new e(i,!0);this._mapDraw=n,this.group.add(n.group)},render:function(a,i,n,u){if(!(u&&u.type==="geoToggleSelect"&&u.from===this.uid)){var c=this._mapDraw;a.get("show")?c.draw(a,i,n,this,u):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return Jh=r,Jh}var ES;function JH(){if(ES)return PS;ES=1;var e=we,t=Z;KH(),lg(),QH(),TM();function r(a,i){i.update="updateView",e.registerAction(i,function(n,u){var c={};return u.eachComponent({mainType:"geo",query:n},function(o){o[a](n.name);var h=o.coordinateSystem;t.each(h.regions,function(s){c[s.name]=o.isSelected(s.name)||!1})}),{selected:c,name:n.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),PS}var kS={},jh,OS;function jH(){if(OS)return jh;OS=1;var e=Z,t=Ne,r=Oe(),a=wr,i=864e5;function n(o,h,s){this._model=o}n.prototype={constructor:n,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(o){o=r.parseDate(o);var h=o.getFullYear(),s=o.getMonth()+1;s=s<10?"0"+s:s;var v=o.getDate();v=v<10?"0"+v:v;var l=o.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:h,m:s,d:v,day:l,time:o.getTime(),formatedDate:h+"-"+s+"-"+v,date:o}},getNextNDay:function(o,h){return h=h||0,h===0?this.getDateInfo(o):(o=new Date(this.getDateInfo(o).time),o.setDate(o.getDate()+h),this.getDateInfo(o))},update:function(o,h){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var s=this._rangeInfo.weeks||1,v=["width","height"],l=this._model.get("cellSize").slice(),d=this._model.getBoxLayoutParams(),f=this._orient==="horizontal"?[s,7]:[7,s];e.each([0,1],function(y){p(l,y)&&(d[v[y]]=l[y]*f[y])});var m={width:h.getWidth(),height:h.getHeight()},g=this._rect=t.getLayoutRect(d,m);e.each([0,1],function(y){p(l,y)||(l[y]=g[v[y]]/f[y])});function p(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=l[0],this._sh=l[1]},dataToPoint:function(o,h){e.isArray(o)&&(o=o[0]),h==null&&(h=!0);var s=this.getDateInfo(o),v=this._rangeInfo,l=s.formatedDate;if(h&&!(s.time>=v.start.time&&s.time<v.end.time+i))return[NaN,NaN];var d=s.day,f=this._getRangeInfo([v.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+d*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]},pointToData:function(o){var h=this.pointToDate(o);return h&&h.time},dataToRect:function(o,h){var s=this.dataToPoint(o,h);return{contentShape:{x:s[0]-(this._sw-this._lineWidth)/2,y:s[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:s,tl:[s[0]-this._sw/2,s[1]-this._sh/2],tr:[s[0]+this._sw/2,s[1]-this._sh/2],br:[s[0]+this._sw/2,s[1]+this._sh/2],bl:[s[0]-this._sw/2,s[1]+this._sh/2]}},pointToDate:function(o){var h=Math.floor((o[0]-this._rect.x)/this._sw)+1,s=Math.floor((o[1]-this._rect.y)/this._sh)+1,v=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(s,h-1,v):this._getDateByWeeksAndDay(h,s-1,v)},convertToPixel:e.curry(u,"dataToPoint"),convertFromPixel:e.curry(u,"pointToData"),_initRangeOption:function(){var o=this._model.get("range"),h=o;if(e.isArray(h)&&h.length===1&&(h=h[0]),/^\d{4}$/.test(h)&&(o=[h+"-01-01",h+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(h)){var s=this.getDateInfo(h),v=s.date;v.setMonth(v.getMonth()+1);var l=this.getNextNDay(v,-1);o=[s.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(h)&&(o=[h,h]);var d=this._getRangeInfo(o);return d.start.time>d.end.time&&o.reverse(),o},_getRangeInfo:function(o){o=[this.getDateInfo(o[0]),this.getDateInfo(o[1])];var h;o[0].time>o[1].time&&(h=!0,o.reverse());var s=Math.floor(o[1].time/i)-Math.floor(o[0].time/i)+1,v=new Date(o[0].time),l=v.getDate(),d=o[1].date.getDate();if(v.setDate(l+s-1),v.getDate()!==d)for(var f=v.getTime()-o[1].time>0?1:-1;v.getDate()!==d&&(v.getTime()-o[1].time)*f>0;)s-=f,v.setDate(l+s-1);var m=Math.floor((s+o[0].day+6)/7),g=h?-m+1:m-1;return h&&o.reverse(),{range:[o[0].formatedDate,o[1].formatedDate],start:o[0],end:o[1],allDay:s,weeks:m,nthWeek:g,fweek:o[0].day,lweek:o[1].day}},_getDateByWeeksAndDay:function(o,h,s){var v=this._getRangeInfo(s);if(o>v.weeks||o===0&&h<v.fweek||o===v.weeks&&h>v.lweek)return!1;var l=(o-1)*7-v.fweek+h,d=new Date(v.start.time);return d.setDate(v.start.d+l),this.getDateInfo(d)}},n.dimensions=n.prototype.dimensions,n.getDimensionsInfo=n.prototype.getDimensionsInfo,n.create=function(o,h){var s=[];return o.eachComponent("calendar",function(v){var l=new n(v);s.push(l),v.coordinateSystem=l}),o.eachSeries(function(v){v.get("coordinateSystem")==="calendar"&&(v.coordinateSystem=s[v.get("calendarIndex")||0])}),s};function u(o,h,s,v){var l=s.calendarModel,d=s.seriesModel,f=l?l.coordinateSystem:d?d.coordinateSystem:null;return f===this?f[o](v):null}a.register("calendar",n);var c=n;return jh=c,jh}var ec,zS;function eq(){if(zS)return ec;zS=1;var e=Z,t=ft,r=Ne,a=r.getLayoutParams,i=r.sizeCalculable,n=r.mergeLayoutParam,u=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(h,s,v,l){var d=a(h);u.superApply(this,"init",arguments),c(h,d)},mergeOption:function(h,s){u.superApply(this,"mergeOption",arguments),c(this.option,h)}});function c(h,s){var v=h.cellSize;e.isArray(v)?v.length===1&&(v[1]=v[0]):v=h.cellSize=[v,v];var l=e.map([0,1],function(d){return i(s,d)&&(v[d]="auto"),v[d]!=null&&v[d]!=="auto"});n(h,s,{type:"box",ignoreSize:l})}var o=u;return ec=o,ec}var tc,BS;function tq(){if(BS)return tc;BS=1;var e=we,t=Z,r=me,a=Qe(),i=Oe(),n={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},u={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},c=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(o,h,s){var v=this.group;v.removeAll();var l=o.coordinateSystem,d=l.getRangeInfo(),f=l.getOrient();this._renderDayRect(o,d,v),this._renderLines(o,d,f,v),this._renderYearText(o,d,f,v),this._renderMonthText(o,f,v),this._renderWeekText(o,d,f,v)},_renderDayRect:function(o,h,s){for(var v=o.coordinateSystem,l=o.getModel("itemStyle").getItemStyle(),d=v.getCellWidth(),f=v.getCellHeight(),m=h.start.time;m<=h.end.time;m=v.getNextNDay(m,1).time){var g=v.dataToRect([m],!1).tl,p=new r.Rect({shape:{x:g[0],y:g[1],width:d,height:f},cursor:"default",style:l});s.add(p)}},_renderLines:function(o,h,s,v){var l=this,d=o.coordinateSystem,f=o.getModel("splitLine.lineStyle").getLineStyle(),m=o.get("splitLine.show"),g=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=h.start,y=0;p.time<=h.end.time;y++){S(p.formatedDate),y===0&&(p=d.getDateInfo(h.start.y+"-"+h.start.m));var _=p.date;_.setMonth(_.getMonth()+1),p=d.getDateInfo(_)}S(d.getNextNDay(h.end.time,1).formatedDate);function S(T){l._firstDayOfMonth.push(d.getDateInfo(T)),l._firstDayPoints.push(d.dataToRect([T],!1).tl);var w=l._getLinePointsOfOneWeek(o,T,s);l._tlpoints.push(w[0]),l._blpoints.push(w[w.length-1]),m&&l._drawSplitline(w,f,v)}m&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,g,s),f,v),m&&this._drawSplitline(l._getEdgesPoints(l._blpoints,g,s),f,v)},_getEdgesPoints:function(o,h,s){var v=[o[0].slice(),o[o.length-1].slice()],l=s==="horizontal"?0:1;return v[0][l]=v[0][l]-h/2,v[1][l]=v[1][l]+h/2,v},_drawSplitline:function(o,h,s){var v=new r.Polyline({z2:20,shape:{points:o},style:h});s.add(v)},_getLinePointsOfOneWeek:function(o,h,s){var v=o.coordinateSystem;h=v.getDateInfo(h);for(var l=[],d=0;d<7;d++){var f=v.getNextNDay(h.time,d),m=v.dataToRect([f.time],!1);l[2*f.day]=m.tl,l[2*f.day+1]=m[s==="horizontal"?"bl":"tr"]}return l},_formatterLabel:function(o,h){return typeof o=="string"&&o?a.formatTplSimple(o,h):typeof o=="function"?o(h):h.nameMap},_yearTextPositionControl:function(o,h,s,v,l){h=h.slice();var d=["center","bottom"];v==="bottom"?(h[1]+=l,d=["center","top"]):v==="left"?h[0]-=l:v==="right"?(h[0]+=l,d=["center","top"]):h[1]-=l;var f=0;return(v==="left"||v==="right")&&(f=Math.PI/2),{rotation:f,position:h,style:{textAlign:d[0],textVerticalAlign:d[1]}}},_renderYearText:function(o,h,s,v){var l=o.getModel("yearLabel");if(l.get("show")){var d=l.get("margin"),f=l.get("position");f||(f=s!=="horizontal"?"top":"left");var m=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(m[0][0]+m[1][0])/2,p=(m[0][1]+m[1][1])/2,y=s==="horizontal"?0:1,_={top:[g,m[y][1]],bottom:[g,m[1-y][1]],left:[m[1-y][0],p],right:[m[y][0],p]},S=h.start.y;+h.end.y>+h.start.y&&(S=S+"-"+h.end.y);var T=l.get("formatter"),w={start:h.start.y,end:h.end.y,nameMap:S},x=this._formatterLabel(T,w),b=new r.Text({z2:30});r.setTextStyle(b.style,l,{text:x}),b.attr(this._yearTextPositionControl(b,_[f],s,f,d)),v.add(b)}},_monthTextPositionControl:function(o,h,s,v,l){var d="left",f="top",m=o[0],g=o[1];return s==="horizontal"?(g=g+l,h&&(d="center"),v==="start"&&(f="bottom")):(m=m+l,h&&(f="middle"),v==="start"&&(d="right")),{x:m,y:g,textAlign:d,textVerticalAlign:f}},_renderMonthText:function(o,h,s){var v=o.getModel("monthLabel");if(v.get("show")){var l=v.get("nameMap"),d=v.get("margin"),f=v.get("position"),m=v.get("align"),g=[this._tlpoints,this._blpoints];t.isString(l)&&(l=n[l.toUpperCase()]||[]);var p=f==="start"?0:1,y=h==="horizontal"?0:1;d=f==="start"?-d:d;for(var _=m==="center",S=0;S<g[p].length-1;S++){var T=g[p][S].slice(),w=this._firstDayOfMonth[S];if(_){var x=this._firstDayPoints[S];T[y]=(x[y]+g[0][S+1][y])/2}var b=v.get("formatter"),A=l[+w.m-1],C={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:A},M=this._formatterLabel(b,C),D=new r.Text({z2:30});t.extend(r.setTextStyle(D.style,v,{text:M}),this._monthTextPositionControl(T,_,h,f,d)),s.add(D)}}},_weekTextPositionControl:function(o,h,s,v,l){var d="center",f="middle",m=o[0],g=o[1],p=s==="start";return h==="horizontal"?(m=m+v+(p?1:-1)*l[0]/2,d=p?"right":"left"):(g=g+v+(p?1:-1)*l[1]/2,f=p?"bottom":"top"),{x:m,y:g,textAlign:d,textVerticalAlign:f}},_renderWeekText:function(o,h,s,v){var l=o.getModel("dayLabel");if(l.get("show")){var d=o.coordinateSystem,f=l.get("position"),m=l.get("nameMap"),g=l.get("margin"),p=d.getFirstDayOfWeek();t.isString(m)&&(m=u[m.toUpperCase()]||[]);var y=d.getNextNDay(h.end.time,7-h.lweek).time,_=[d.getCellWidth(),d.getCellHeight()];g=i.parsePercent(g,_[s==="horizontal"?0:1]),f==="start"&&(y=d.getNextNDay(h.start.time,-(7+h.fweek)).time,g=-g);for(var S=0;S<7;S++){var T=d.getNextNDay(y,S),w=d.dataToRect([T.time],!1).center,x=S;x=Math.abs((S+p)%7);var b=new r.Text({z2:30});t.extend(r.setTextStyle(b.style,l,{text:m[x]}),this._weekTextPositionControl(w,s,f,g,_)),v.add(b)}}}});return tc=c,tc}var NS;function rq(){return NS||(NS=1,jH(),eq(),tq()),kS}var VS={},HS;function aq(){if(HS)return VS;HS=1;var e=we,t=Z,r=Re,a=me,i=Ne,n=Oe(),u=n.parsePercent,c={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};e.registerPreprocessor(function(p){var y=p.graphic;t.isArray(y)?!y[0]||!y[0].elements?p.graphic=[{elements:y}]:p.graphic=[p.graphic[0]]:y&&!y.elements&&(p.graphic=[{elements:[y]}])});var o=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(p){var y=this.option.elements;this.option.elements=null,o.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(p,y){var _=this.option,S=(y?_:p).elements,T=_.elements=y?[]:_.elements,w=[];this._flatten(S,w);var x=r.mappingToExists(T,w);r.makeIdAndName(x);var b=this._elOptionsToUpdate=[];t.each(x,function(C,M){var D=C.option;D&&(b.push(D),d(C,D),f(T,M,D),m(T[M],D))},this);for(var A=T.length-1;A>=0;A--)T[A]==null?T.splice(A,1):delete T[A].$action},_flatten:function(p,y,_){t.each(p,function(S){if(S){_&&(S.parentOption=_),y.push(S);var T=S.children;S.type==="group"&&T&&this._flatten(T,y,S),delete S.children}},this)},useElOptionsToUpdate:function(){var p=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,p}});e.extendComponentView({type:"graphic",init:function(p,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(p,y,_){p!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=p,this._updateElements(p),this._relocate(p,_)},_updateElements:function(p){var y=p.useElOptionsToUpdate();if(y){var _=this._elMap,S=this.group;t.each(y,function(T){var w=T.$action,x=T.id,b=_.get(x),A=T.parentId,C=A!=null?_.get(A):S,M=T.style;T.type==="text"&&M&&(T.hv&&T.hv[1]&&(M.textVerticalAlign=M.textBaseline=null),!M.hasOwnProperty("textFill")&&M.fill&&(M.textFill=M.fill),!M.hasOwnProperty("textStroke")&&M.stroke&&(M.textStroke=M.stroke));var D=v(T);!w||w==="merge"?b?b.attr(D):h(x,C,D,_):w==="replace"?(s(b,_),h(x,C,D,_)):w==="remove"&&s(b,_);var L=_.get(x);L&&(L.__ecGraphicWidthOption=T.width,L.__ecGraphicHeightOption=T.height,g(L,p))})}},_relocate:function(p,y){for(var _=p.option.elements,S=this.group,T=this._elMap,w=y.getWidth(),x=y.getHeight(),b=0;b<_.length;b++){var A=_[b],C=T.get(A.id);if(!(!C||!C.isGroup)){var M=C.parent,D=M===S;C.__ecGraphicWidth=u(C.__ecGraphicWidthOption,D?w:M.__ecGraphicWidth)||0,C.__ecGraphicHeight=u(C.__ecGraphicHeightOption,D?x:M.__ecGraphicHeight)||0}}for(var b=_.length-1;b>=0;b--){var A=_[b],C=T.get(A.id);if(C){var M=C.parent,L=M===S?{width:w,height:x}:{width:M.__ecGraphicWidth,height:M.__ecGraphicHeight};i.positionElement(C,A,L,null,{hv:A.hv,boundingMode:A.bounding})}}},_clear:function(){var p=this._elMap;p.each(function(y){s(y,p)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function h(p,y,_,S){var T=_.type,w=c.hasOwnProperty(T)?c[T]:a.getShapeClass(T),x=new w(_);y.add(x),S.set(p,x),x.__ecGraphicId=p}function s(p,y){var _=p&&p.parent;_&&(p.type==="group"&&p.traverse(function(S){s(S,y)}),y.removeKey(p.__ecGraphicId),_.remove(p))}function v(p){return p=t.extend({},p),t.each(["id","parentId","$action","hv","bounding"].concat(i.LOCATION_PARAMS),function(y){delete p[y]}),p}function l(p,y){var _;return t.each(y,function(S){p[S]!=null&&p[S]!=="auto"&&(_=!0)}),_}function d(p,y){var _=p.exist;if(y.id=p.keyInfo.id,!y.type&&_&&(y.type=_.type),y.parentId==null){var S=y.parentOption;S?y.parentId=S.id:_&&(y.parentId=_.parentId)}y.parentOption=null}function f(p,y,_){var S=t.extend({},_),T=p[y],w=_.$action||"merge";w==="merge"?T?(t.merge(T,S,!0),i.mergeLayoutParam(T,S,{ignoreSize:!0}),i.copyLayoutParams(_,T)):p[y]=S:w==="replace"?p[y]=S:w==="remove"&&T&&(p[y]=null)}function m(p,y){p&&(p.hv=y.hv=[l(y,["left","right"]),l(y,["top","bottom"])],p.type==="group"&&(p.width==null&&(p.width=y.width=0),p.height==null&&(p.height=y.height=0)))}function g(p,y,_){var S=p.eventData;!p.silent&&!p.ignore&&!S&&(S=p.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:p.name}),S&&(S.info=p.info)}return VS}var qS={},co={},GS;function oa(){if(GS)return co;GS=1;var e={};function t(a,i){e[a]=i}function r(a){return e[a]}return co.register=t,co.get=r,co}var rc,FS;function iq(){if(FS)return rc;FS=1;var e=we,t=Z,r=oa(),a=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(n,u){var c=r.get(u);c&&t.merge(n,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),i=a;return rc=i,rc}var fo={},$S;function $M(){if($S)return fo;$S=1;var e=Ne,t=e.getLayoutRect,r=e.box,a=e.positionElement,i=Qe(),n=me;function u(o,h,s){var v=h.getBoxLayoutParams(),l=h.get("padding"),d={width:s.getWidth(),height:s.getHeight()},f=t(v,d,l);r(h.get("orient"),o,h.get("itemGap"),f.width,f.height),a(o,v,d,l)}function c(l,h){var s=i.normalizeCssArray(h.get("padding")),v=h.getItemStyle(["color","opacity"]);v.fill=h.get("backgroundColor");var l=new n.Rect({shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[1]+s[3],height:l.height+s[0]+s[2],r:h.get("borderRadius")},style:v,silent:!0,z2:-1});return l}return fo.layout=u,fo.makeBackground=c,fo}var ac,US;function nq(){if(US)return ac;US=1;var e=we,t=Z,r=Xe,a=oa(),i=me,n=ht(),u=Ca(),c=$M(),o=e.extendComponentView({type:"toolbox",render:function(s,v,l,d){var f=this.group;if(f.removeAll(),!s.get("show"))return;var m=+s.get("itemSize"),g=s.get("feature")||{},p=this._features||(this._features={}),y=[];t.each(g,function(T,w){y.push(w)}),new u(this._featureNames||[],y).add(_).update(_).remove(t.curry(_,null)).execute(),this._featureNames=y;function _(T,w){var x=y[T],b=y[w],A=g[x],C=new n(A,s,s.ecModel),M;if(d&&d.newTitle!=null&&(A.title=d.newTitle),x&&!b){if(h(x))M={model:C,onclick:C.option.onclick,featureName:x};else{var D=a.get(x);if(!D)return;M=new D(C,v,l)}p[x]=M}else{if(M=p[b],!M)return;M.model=C,M.ecModel=v,M.api=l}if(!x&&b){M.dispose&&M.dispose(v,l);return}if(!C.get("show")||M.unusable){M.remove&&M.remove(v,l);return}S(C,M,x),C.setIconStatus=function(L,P){var I=this.option,E=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[L]=P,E[L]&&E[L].trigger(P)},M.render&&M.render(C,v,l,d)}function S(T,w,x){var b=T.getModel("iconStyle"),A=T.getModel("emphasis.iconStyle"),C=w.getIcons?w.getIcons():T.get("icon"),M=T.get("title")||{};if(typeof C=="string"){var D=C,L=M;C={},M={},C[x]=D,M[x]=L}var P=T.iconPaths={};t.each(C,function(I,E){var O=i.createIcon(I,{},{x:-m/2,y:-m/2,width:m,height:m});O.setStyle(b.getItemStyle()),O.hoverStyle=A.getItemStyle(),O.setStyle({text:M[E],textAlign:A.get("textAlign"),textBorderRadius:A.get("textBorderRadius"),textPadding:A.get("textPadding"),textFill:null});var z=s.getModel("tooltip");z&&z.get("show")&&O.attr("tooltip",t.extend({content:M[E],formatter:z.get("formatter",!0)||function(){return M[E]},formatterParams:{componentType:"toolbox",name:E,title:M[E],$vars:["name","title"]},position:z.get("position",!0)||"bottom"},z.option)),i.setHoverStyle(O),s.get("showTitle")&&(O.__title=M[E],O.on("mouseover",function(){var G=A.getItemStyle(),V=s.get("orient")==="vertical"?s.get("right")==null?"right":"left":s.get("bottom")==null?"bottom":"top";O.setStyle({textFill:A.get("textFill")||G.fill||G.stroke||"#000",textBackgroundColor:A.get("textBackgroundColor"),textPosition:A.get("textPosition")||V})}).on("mouseout",function(){O.setStyle({textFill:null,textBackgroundColor:null})})),O.trigger(T.get("iconStatus."+E)||"normal"),f.add(O),O.on("click",t.bind(w.onclick,w,v,l,E)),P[E]=O})}c.layout(f,s,l),f.add(c.makeBackground(f.getBoundingRect(),s)),f.eachChild(function(T){var w=T.__title,x=T.hoverStyle;if(x&&w){var b=r.getBoundingRect(w,r.makeFont(x)),A=T.position[0]+f.position[0],C=T.position[1]+f.position[1]+m,M=!1;C+b.height>l.getHeight()&&(x.textPosition="top",M=!0);var D=M?-5-b.height:m+8;A+b.width/2>l.getWidth()?(x.textPosition=["100%",D],x.textAlign="right"):A-b.width/2<0&&(x.textPosition=[0,D],x.textAlign="left")}})},updateView:function(s,v,l,d){t.each(this._features,function(f){f.updateView&&f.updateView(f.model,v,l,d)})},remove:function(s,v){t.each(this._features,function(l){l.remove&&l.remove(s,v)}),this.group.removeAll()},dispose:function(s,v){t.each(this._features,function(l){l.dispose&&l.dispose(s,v)})}});function h(s){return s.indexOf("my")===0}return ac=o,ac}var ic,WS;function oq(){if(WS)return ic;WS=1;var e=ot,t=aa,r=oa(),a=t.toolbox.saveAsImage;function i(c){this.model=c}i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},i.prototype.unusable=!e.canvasSupported;var n=i.prototype;n.onclick=function(c,o){var h=this.model,s=h.get("name")||c.get("title.0.text")||"echarts",v=h.get("type",!0)||"png",l=o.getConnectedDataURL({type:v,backgroundColor:h.get("backgroundColor",!0)||c.get("backgroundColor")||"#fff",connectedBackgroundColor:h.get("connectedBackgroundColor"),excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var d=document.createElement("a");d.download=s+"."+v,d.target="_blank",d.href=l;var f=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});d.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob){for(var m=atob(l.split(",")[1]),g=m.length,p=new Uint8Array(g);g--;)p[g]=m.charCodeAt(g);var y=new Blob([p]);window.navigator.msSaveOrOpenBlob(y,s+"."+v)}else{var _=h.get("lang"),S='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',T=window.open();T.document.write(S)}},r.register("saveAsImage",i);var u=i;return ic=u,ic}var nc,ZS;function sq(){if(ZS)return nc;ZS=1;var e=we,t=Z,r=aa,a=oa(),i=r.toolbox.magicType,n="__ec_magicType_stack__";function u(v){this.model=v}u.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(i.title),option:{},seriesIndex:{}};var c=u.prototype;c.getIcons=function(){var v=this.model,l=v.get("icon"),d={};return t.each(v.get("type"),function(f){l[f]&&(d[f]=l[f])}),d};var o={line:function(v,l,d,f){if(v==="bar")return t.merge({id:l,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},f.get("option.line")||{},!0)},bar:function(v,l,d,f){if(v==="line")return t.merge({id:l,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},f.get("option.bar")||{},!0)},stack:function(v,l,d,f){var m=d.get("stack")===n;if(v==="line"||v==="bar")return f.setIconStatus("stack",m?"normal":"emphasis"),t.merge({id:l,stack:m?"":n},f.get("option.stack")||{},!0)}},h=[["line","bar"],["stack"]];c.onclick=function(v,l,d){var f=this.model,m=f.get("seriesIndex."+d);if(o[d]){var g={series:[]},p=function(S){var T=S.subType,w=S.id,x=o[d](T,w,S,f);x&&(t.defaults(x,S.option),g.series.push(x));var b=S.coordinateSystem;if(b&&b.type==="cartesian2d"&&(d==="line"||d==="bar")){var A=b.getAxesByScale("ordinal")[0];if(A){var C=A.dim,M=C+"Axis",D=v.queryComponents({mainType:M,index:S.get(name+"Index"),id:S.get(name+"Id")})[0],L=D.componentIndex;g[M]=g[M]||[];for(var P=0;P<=L;P++)g[M][L]=g[M][L]||{};g[M][L].boundaryGap=d==="bar"}}};t.each(h,function(S){t.indexOf(S,d)>=0&&t.each(S,function(T){f.setIconStatus(T,"normal")})}),f.setIconStatus(d,"emphasis"),v.eachComponent({mainType:"series",query:m==null?null:{seriesIndex:m}},p);var y;if(d==="stack"){var _=g.series&&g.series[0]&&g.series[0].stack===n;y=_?t.merge({stack:i.title.tiled},i.title):t.clone(i.title)}l.dispatchAction({type:"changeMagicType",currentType:d,newOption:g,newTitle:y})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(v,l){l.mergeOption(v.newOption)}),a.register("magicType",u);var s=u;return nc=s,nc}var oc,YS;function lq(){if(YS)return oc;YS=1;var e=we,t=Z,r=ct,a=aa,i=oa(),n=a.toolbox.dataView,u=new Array(60).join("-"),c="	";function o(T){var w={},x=[],b=[];return T.eachRawSeries(function(A){var C=A.coordinateSystem;if(C&&(C.type==="cartesian2d"||C.type==="polar")){var M=C.getBaseAxis();if(M.type==="category"){var D=M.dim+"_"+M.index;w[D]||(w[D]={categoryAxis:M,valueAxis:C.getOtherAxis(M),series:[]},b.push({axisDim:M.dim,axisIndex:M.index})),w[D].series.push(A)}else x.push(A)}else x.push(A)}),{seriesGroupByCategoryAxis:w,other:x,meta:b}}function h(T){var w=[];return t.each(T,function(x,b){var A=x.categoryAxis,C=x.valueAxis,M=C.dim,D=[" "].concat(t.map(x.series,function(z){return z.name})),L=[A.model.getCategories()];t.each(x.series,function(z){L.push(z.getRawData().mapArray(M,function(G){return G}))});for(var P=[D.join(c)],I=0;I<L[0].length;I++){for(var E=[],O=0;O<L.length;O++)E.push(L[O][I]);P.push(E.join(c))}w.push(P.join(`
`))}),w.join(`

`+u+`

`)}function s(T){return t.map(T,function(w){var x=w.getRawData(),b=[w.name],A=[];return x.each(x.dimensions,function(){for(var C=arguments.length,M=arguments[C-1],D=x.getName(M),L=0;L<C-1;L++)A[L]=arguments[L];b.push((D?D+c:"")+A.join(c))}),b.join(`
`)}).join(`

`+u+`

`)}function v(T){var w=o(T);return{value:t.filter([h(w.seriesGroupByCategoryAxis),s(w.other)],function(x){return x.replace(/[\n\t\s]/g,"")}).join(`

`+u+`

`),meta:w.meta}}function l(T){return T.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(T){var w=T.slice(0,T.indexOf(`
`));if(w.indexOf(c)>=0)return!0}var f=new RegExp("["+c+"]+","g");function m(T){for(var w=T.split(/\n+/g),x=l(w.shift()).split(f),b=[],A=t.map(x,function(L){return{name:L,data:[]}}),C=0;C<w.length;C++){var M=l(w[C]).split(f);b.push(M.shift());for(var D=0;D<M.length;D++)A[D]&&(A[D].data[C]=M[D])}return{series:A,categories:b}}function g(T){for(var w=T.split(/\n+/g),x=l(w.shift()),b=[],A=0;A<w.length;A++){var C=l(w[A]).split(f),M="",D,L=!1;isNaN(C[0])?(L=!0,M=C[0],C=C.slice(1),b[A]={name:M,value:[]},D=b[A].value):D=b[A]=[];for(var P=0;P<C.length;P++)D.push(+C[P]);D.length===1&&(L?b[A].value=D[0]:b[A]=D[0])}return{name:x,data:b}}function p(T,w){var x=T.split(new RegExp(`
*`+u+`
*`,"g")),b={series:[]};return t.each(x,function(A,C){if(d(A)){var M=m(A),D=w[C],L=D.axisDim+"Axis";D&&(b[L]=b[L]||[],b[L][D.axisIndex]={data:M.categories},b.series=b.series.concat(M.series))}else{var M=g(A);b.series.push(M)}}),b}function y(T){this._dom=null,this.model=T}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(n.title),lang:t.clone(n.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(T,w){var x=w.getDom(),b=this.model;this._dom&&x.removeChild(this._dom);var A=document.createElement("div");A.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",A.style.backgroundColor=b.get("backgroundColor")||"#fff";var C=document.createElement("h4"),M=b.get("lang")||[];C.innerHTML=M[0]||b.get("title"),C.style.cssText="margin: 10px 20px;",C.style.color=b.get("textColor");var D=document.createElement("div"),L=document.createElement("textarea");D.style.cssText="display:block;width:100%;overflow:auto;";var P=b.get("optionToContent"),I=b.get("contentToOption"),E=v(T);if(typeof P=="function"){var O=P(w.getOption());typeof O=="string"?D.innerHTML=O:t.isDom(O)&&D.appendChild(O)}else D.appendChild(L),L.readOnly=b.get("readOnly"),L.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",L.style.color=b.get("textColor"),L.style.borderColor=b.get("textareaBorderColor"),L.style.backgroundColor=b.get("textareaColor"),L.value=E.value;var z=E.meta,G=document.createElement("div");G.style.cssText="position:absolute;bottom:0;left:0;right:0;";var V="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",R=document.createElement("div"),B=document.createElement("div");V+=";background-color:"+b.get("buttonColor"),V+=";color:"+b.get("buttonTextColor");var k=this;function N(){x.removeChild(A),k._dom=null}r.addEventListener(R,"click",N),r.addEventListener(B,"click",function(){var q;try{typeof I=="function"?q=I(D,w.getOption()):q=p(L.value,z)}catch(H){throw N(),new Error("Data view format error "+H)}q&&w.dispatchAction({type:"changeDataView",newOption:q}),N()}),R.innerHTML=M[1],B.innerHTML=M[2],B.style.cssText=V,R.style.cssText=V,!b.get("readOnly")&&G.appendChild(B),G.appendChild(R),A.appendChild(C),A.appendChild(D),A.appendChild(G),D.style.height=x.clientHeight-80+"px",x.appendChild(A),this._dom=A},y.prototype.remove=function(T,w){this._dom&&w.getDom().removeChild(this._dom)},y.prototype.dispose=function(T,w){this.remove(T,w)};function _(T,w){return t.map(T,function(x,b){var A=w&&w[b];return t.isObject(A)&&!t.isArray(A)?(t.isObject(x)&&!t.isArray(x)&&(x=x.value),t.defaults({value:x},A)):x})}i.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(T,w){var x=[];t.each(T.newOption.series,function(b){var A=w.getSeriesByName(b.name)[0];if(!A)x.push(t.extend({type:"scatter"},b));else{var C=A.get("data");x.push({name:b.name,data:_(b.data,C)})}}),w.mergeOption(t.defaults({series:x},T.newOption))});var S=y;return oc=S,oc}var sc,XS;function UM(){if(XS)return sc;XS=1;var e=Z,t=me,r=Re,a=EM(),i=e.each,n=e.indexOf,u=e.curry,c=["dataToPoint","pointToData"],o=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function h(x,b,A){var C=this._targetInfoList=[],M={},D=l(b,x);i(d,function(L,P){(!A||!A.include||n(A.include,P)>=0)&&L(D,C,M)})}var s=h.prototype;s.setOutputRanges=function(x,b){this.matchOutputRanges(x,b,function(A,C,M){if((A.coordRanges||(A.coordRanges=[])).push(C),!A.coordRange){A.coordRange=C;var D=g[A.brushType](0,M,C);A.__rangeOffset={offset:y[A.brushType](D.values,A.range,[1,1]),xyMinMax:D.xyMinMax}}})},s.matchOutputRanges=function(x,b,A){i(x,function(C){var M=this.findTargetInfo(C,b);M&&M!==!0&&e.each(M.coordSyses,function(D){var L=g[C.brushType](1,D,C.range);A(C,L.values,D,b)})},this)},s.setInputRanges=function(x,b){i(x,function(A){var C=this.findTargetInfo(A,b);if(A.range=A.range||[],C&&C!==!0){A.panelId=C.panelId;var M=g[A.brushType](0,C.coordSys,A.coordRange),D=A.__rangeOffset;A.range=D?y[A.brushType](M.values,D.offset,S(M.xyMinMax,D.xyMinMax)):M.values}},this)},s.makePanelOpts=function(x,b){return e.map(this._targetInfoList,function(A){var C=A.getPanelRect();return{panelId:A.panelId,defaultBrushType:b&&b(A),clipPath:a.makeRectPanelClipPath(C),isTargetByCursor:a.makeRectIsTargetByCursor(C,x,A.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(C)}})},s.controlSeries=function(x,b,A){var C=this.findTargetInfo(x,A);return C===!0||C&&n(C.coordSyses,b.coordinateSystem)>=0},s.findTargetInfo=function(x,b){for(var A=this._targetInfoList,C=l(b,x),M=0;M<A.length;M++){var D=A[M],L=x.panelId;if(L){if(D.panelId===L)return D}else for(var M=0;M<f.length;M++)if(f[M](C,D))return D}return!0};function v(x){return x[0]>x[1]&&x.reverse(),x}function l(x,b){return r.parseFinder(x,b,{includeMainTypes:o})}var d={grid:function(x,b){var A=x.xAxisModels,C=x.yAxisModels,M=x.gridModels,D=e.createHashMap(),L={},P={};!A&&!C&&!M||(i(A,function(I){var E=I.axis.grid.model;D.set(E.id,E),L[E.id]=!0}),i(C,function(I){var E=I.axis.grid.model;D.set(E.id,E),P[E.id]=!0}),i(M,function(I){D.set(I.id,I),L[I.id]=!0,P[I.id]=!0}),D.each(function(I){var E=I.coordinateSystem,O=[];i(E.getCartesians(),function(z,G){(n(A,z.getAxis("x").model)>=0||n(C,z.getAxis("y").model)>=0)&&O.push(z)}),b.push({panelId:"grid--"+I.id,gridModel:I,coordSysModel:I,coordSys:O[0],coordSyses:O,getPanelRect:m.grid,xAxisDeclared:L[I.id],yAxisDeclared:P[I.id]})}))},geo:function(x,b){i(x.geoModels,function(A){var C=A.coordinateSystem;b.push({panelId:"geo--"+A.id,geoModel:A,coordSysModel:A,coordSys:C,coordSyses:[C],getPanelRect:m.geo})})}},f=[function(x,b){var A=x.xAxisModel,C=x.yAxisModel,M=x.gridModel;return!M&&A&&(M=A.axis.grid.model),!M&&C&&(M=C.axis.grid.model),M&&M===b.gridModel},function(x,b){var A=x.geoModel;return A&&A===b.geoModel}],m={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var x=this.coordSys,b=x.getBoundingRect().clone();return b.applyTransform(t.getTransform(x)),b}},g={lineX:u(p,0),lineY:u(p,1),rect:function(x,b,A){var C=b[c[x]]([A[0][0],A[1][0]]),M=b[c[x]]([A[0][1],A[1][1]]),D=[v([C[0],M[0]]),v([C[1],M[1]])];return{values:D,xyMinMax:D}},polygon:function(x,b,A){var C=[[1/0,-1/0],[1/0,-1/0]],M=e.map(A,function(D){var L=b[c[x]](D);return C[0][0]=Math.min(C[0][0],L[0]),C[1][0]=Math.min(C[1][0],L[1]),C[0][1]=Math.max(C[0][1],L[0]),C[1][1]=Math.max(C[1][1],L[1]),L});return{values:M,xyMinMax:C}}};function p(x,b,A,C){var M=A.getAxis(["x","y"][x]),D=v(e.map([0,1],function(P){return b?M.coordToData(M.toLocalCoord(C[P])):M.toGlobalCoord(M.dataToCoord(C[P]))})),L=[];return L[x]=D,L[1-x]=[NaN,NaN],{values:D,xyMinMax:L}}var y={lineX:u(_,0),lineY:u(_,1),rect:function(x,b,A){return[[x[0][0]-A[0]*b[0][0],x[0][1]-A[0]*b[0][1]],[x[1][0]-A[1]*b[1][0],x[1][1]-A[1]*b[1][1]]]},polygon:function(x,b,A){return e.map(x,function(C,M){return[C[0]-A[0]*b[M][0],C[1]-A[1]*b[M][1]]})}};function _(x,b,A,C){return[b[0]-C[x]*A[0],b[1]-C[x]*A[1]]}function S(x,b){var A=T(x),C=T(b),M=[A[0]/C[0],A[1]/C[1]];return isNaN(M[0])&&(M[0]=1),isNaN(M[1])&&(M[1]=1),M}function T(x){return x?[x[0][1]-x[0][0],x[1][1]-x[1][0]]:[NaN,NaN]}var w=h;return sc=w,sc}var qa={},KS;function WM(){if(KS)return qa;KS=1;var e=Z,t=e.each,r="\0_ec_hist_store";function a(o,h){var s=c(o);t(h,function(v,l){for(var d=s.length-1;d>=0;d--){var f=s[d];if(f[l])break}if(d<0){var m=o.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(m){var g=m.getPercentRange();s[0][l]={dataZoomId:l,start:g[0],end:g[1]}}}}),s.push(h)}function i(o){var h=c(o),s=h[h.length-1];h.length>1&&h.pop();var v={};return t(s,function(l,d){for(var f=h.length-1;f>=0;f--){var l=h[f][d];if(l){v[d]=l;break}}}),v}function n(o){o[r]=null}function u(o){return c(o).length}function c(o){var h=o[r];return h||(h=o[r]=[{}]),h}return qa.push=a,qa.pop=i,qa.clear=n,qa.count=u,qa}var QS={},JS={},jS;function pg(){if(jS)return JS;jS=1;var e=ft;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),JS}var Ga={},eb;function mg(){if(eb)return Ga;eb=1;var e=Z,t=Qe(),r=["x","y","z","radius","angle","single"],a=["cartesian2d","polar","singleAxis"];function i(o){return e.indexOf(a,o)>=0}function n(o,h){o=o.slice();var s=e.map(o,t.capitalFirst);h=(h||[]).slice();var v=e.map(h,t.capitalFirst);return function(l,d){e.each(o,function(f,m){for(var g={name:f,capital:s[m]},p=0;p<h.length;p++)g[h[p]]=f+v[p];l.call(d,g)})}}var u=n(r,["axisIndex","axis","index","id"]);function c(o,h,s){return function(f){var m={nodes:[],records:{}};if(h(function(y){m.records[y.name]={}}),!f)return m;d(f,m);var g;do g=!1,o(p);while(g);function p(y){!v(y,m)&&l(y,m)&&(d(y,m),g=!0)}return m};function v(f,m){return e.indexOf(m.nodes,f)>=0}function l(f,m){var g=!1;return h(function(p){e.each(s(f,p)||[],function(y){m.records[p.name][y]&&(g=!0)})}),g}function d(f,m){m.nodes.push(f),h(function(g){e.each(s(f,g)||[],function(p){m.records[g.name][p]=!0})})}}return Ga.isCoordSupported=i,Ga.createNameEach=n,Ga.eachAxisDim=u,Ga.createLinkedNodesFinder=c,Ga}var lc,tb;function uq(){if(tb)return lc;tb=1;var e=Z,t=Oe(),r=mg(),a=bi(),i=e.each,n=t.asc,u=function(l,d,f,m){this._dimName=l,this._axisIndex=d,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=m,this._dataZoomModel=f};u.prototype={constructor:u,hostedBy:function(l){return this._dataZoomModel===l},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var l=[],d=this.ecModel;return d.eachSeries(function(f){if(r.isCoordSupported(f.get("coordinateSystem"))){var m=this._dimName,g=d.queryComponents({mainType:m+"Axis",index:f.get(m+"AxisIndex"),id:f.get(m+"AxisId")})[0];this._axisIndex===(g&&g.componentIndex)&&l.push(f)}},this),l},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var l=this._dimName,d=this.ecModel,f=this.getAxisModel(),m=l==="x"||l==="y",g,p;m?(p="gridIndex",g=l==="x"?"y":"x"):(p="polarIndex",g=l==="angle"?"radius":"angle");var y;return d.eachComponent(g+"Axis",function(_){(_.get(p)||0)===(f.get(p)||0)&&(y=_)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(l){var d=this._dataExtent,f=this.getAxisModel(),m=f.axis.scale,g=this._dataZoomModel.getRangePropMode(),p=[0,100],y=[],_=[],S;i(["start","end"],function(x,b){var A=l[x],C=l[x+"Value"];g[b]==="percent"?(A==null&&(A=p[b]),C=m.parse(t.linearMap(A,p,d))):(S=!0,C=C==null?d[b]:m.parse(C),A=t.linearMap(C,d,p)),_[b]=C,y[b]=A}),n(_),n(y);var T=this._minMaxSpan;S?w(_,y,d,p,!1):w(y,_,p,d,!0);function w(x,b,A,C,M){var D=M?"Span":"ValueSpan";a(0,x,A,"all",T["min"+D],T["max"+D]);for(var L=0;L<2;L++)b[L]=t.linearMap(x[L],A,C,!0),M&&(b[L]=m.parse(b[L]))}return{valueWindow:_,percentWindow:y}},reset:function(l){if(l===this._dataZoomModel){var d=this.getTargetSeriesModels();this._dataExtent=c(this,this._dimName,d),s(this);var f=this.calculateDataWindow(l.settledOption);this._valueWindow=f.valueWindow,this._percentWindow=f.percentWindow,h(this)}},restore:function(l){l===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(l,d){if(l!==this._dataZoomModel)return;var f=this._dimName,m=this.getTargetSeriesModels(),g=l.get("filterMode"),p=this._valueWindow;if(g==="none")return;i(m,function(_){var S=_.getData(),T=S.mapDimension(f,!0);T.length&&(g==="weakFilter"?S.filterSelf(function(w){for(var x,b,A,C=0;C<T.length;C++){var M=S.get(T[C],w),D=!isNaN(M),L=M<p[0],P=M>p[1];if(D&&!L&&!P)return!0;D&&(A=!0),L&&(x=!0),P&&(b=!0)}return A&&x&&b}):i(T,function(w){if(g==="empty")_.setData(S=S.map(w,function(b){return y(b)?b:NaN}));else{var x={};x[w]=p,S.selectRange(x)}}),i(T,function(w){S.setApproximateExtent(p,w)}))});function y(_){return _>=p[0]&&_<=p[1]}}};function c(l,d,f){var m=[1/0,-1/0];return i(f,function(g){var p=g.getData();p&&i(p.mapDimension(d,!0),function(y){var _=p.getApproximateExtent(y);_[0]<m[0]&&(m[0]=_[0]),_[1]>m[1]&&(m[1]=_[1])})}),m[1]<m[0]&&(m=[NaN,NaN]),o(l,m),m}function o(l,d){var f=l.getAxisModel(),m=f.getMin(!0),g=f.get("type")==="category",p=g&&f.getCategories().length;m!=null&&m!=="dataMin"&&typeof m!="function"?d[0]=m:g&&(d[0]=p>0?0:NaN);var y=f.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?d[1]=y:g&&(d[1]=p>0?p-1:NaN),f.get("scale",!0)||(d[0]>0&&(d[0]=0),d[1]<0&&(d[1]=0)),d}function h(l,d){var f=l.getAxisModel(),m=l._percentWindow,g=l._valueWindow;if(m){var p=t.getPixelPrecision(g,[0,500]);p=Math.min(p,20);var y=d||m[0]===0&&m[1]===100;f.setRange(y?null:+g[0].toFixed(p),y?null:+g[1].toFixed(p))}}function s(l){var d=l._minMaxSpan={},f=l._dataZoomModel,m=l._dataExtent;i(["min","max"],function(g){var p=f.get(g+"Span"),y=f.get(g+"ValueSpan");y!=null&&(y=l.getAxisModel().axis.scale.parse(y)),y!=null?p=t.linearMap(m[0]+y,m,[0,100],!0):p!=null&&(y=t.linearMap(p,[0,100],m,!0)-m[0]),d[g+"Span"]=p,d[g+"ValueSpan"]=y})}var v=u;return lc=v,lc}var uc,rb;function wi(){if(rb)return uc;rb=1;var e=we,t=Z,r=ot,a=Re,i=mg(),n=uq(),u=t.each,c=i.eachAxisDim,o=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(l,d,f){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var m=h(l);this.settledOption=m,this.mergeDefaultAndTheme(l,f),this.doInit(m)},mergeOption:function(l){var d=h(l);t.merge(this.option,l,!0),t.merge(this.settledOption,d,!0),this.doInit(d)},doInit:function(l){var d=this.option;r.canvasSupported||(d.realtime=!1),this._setDefaultThrottle(l),s(this,l);var f=this.settledOption;u([["start","startValue"],["end","endValue"]],function(m,g){this._rangePropMode[g]==="value"&&(d[m[0]]=f[m[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var l=this._axisProxies;this.eachTargetAxis(function(d,f,m,g){var p=this.dependentModels[d.axis][f],y=p.__dzAxisProxy||(p.__dzAxisProxy=new n(d.name,f,this,g));l[d.name+"_"+f]=y},this)},_resetTarget:function(){var l=this.option,d=this._judgeAutoMode();c(function(f){var m=f.axisIndex;l[m]=a.normalizeToArray(l[m])},this),d==="axisIndex"?this._autoSetAxisIndex():d==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var l=this.option,d=!1;c(function(m){l[m.axisIndex]!=null&&(d=!0)},this);var f=l.orient;if(f==null&&d)return"orient";if(!d)return f==null&&(l.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var l=!0,d=this.get("orient",!0),f=this.option,m=this.dependentModels;if(l){var g=d==="vertical"?"y":"x";m[g+"Axis"].length?(f[g+"AxisIndex"]=[0],l=!1):u(m.singleAxis,function(p){l&&p.get("orient",!0)===d&&(f.singleAxisIndex=[p.componentIndex],l=!1)})}l&&c(function(p){if(l){var y=[],_=this.dependentModels[p.axis];if(_.length&&!y.length)for(var S=0,T=_.length;S<T;S++)_[S].get("type")==="category"&&y.push(S);f[p.axisIndex]=y,y.length&&(l=!1)}},this),l&&this.ecModel.eachSeries(function(p){this._isSeriesHasAllAxesTypeOf(p,"value")&&c(function(y){var _=f[y.axisIndex],S=p.get(y.axisIndex),T=p.get(y.axisId),w=p.ecModel.queryComponents({mainType:y.axis,index:S,id:T})[0];S=w.componentIndex,t.indexOf(_,S)<0&&_.push(S)})},this)},_autoSetOrient:function(){var l;this.eachTargetAxis(function(d){!l&&(l=d.name)},this),this.option.orient=l==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(l,d){var f=!0;return c(function(m){var g=l.get(m.axisIndex),p=this.dependentModels[m.axis][g];(!p||p.get("type")!==d)&&(f=!1)},this),f},_setDefaultThrottle:function(l){if(l.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var d=this.ecModel.option;this.option.throttle=d.animation&&d.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var l;return c(function(d){if(l==null){var f=this.get(d.axisIndex);f.length&&(l=this.dependentModels[d.axis][f[0]])}},this),l},eachTargetAxis:function(l,d){var f=this.ecModel;c(function(m){u(this.get(m.axisIndex),function(g){l.call(d,m,g,this,f)},this)},this)},getAxisProxy:function(l,d){return this._axisProxies[l+"_"+d]},getAxisModel:function(l,d){var f=this.getAxisProxy(l,d);return f&&f.getAxisModel()},setRawRange:function(l){var d=this.option,f=this.settledOption;u([["start","startValue"],["end","endValue"]],function(m){(l[m[0]]!=null||l[m[1]]!=null)&&(d[m[0]]=f[m[0]]=l[m[0]],d[m[1]]=f[m[1]]=l[m[1]])},this),s(this,l)},setCalculatedRange:function(l){var d=this.option;u(["start","startValue","end","endValue"],function(f){d[f]=l[f]})},getPercentRange:function(){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataPercentWindow()},getValueRange:function(l,d){if(l==null&&d==null){var f=this.findRepresentativeAxisProxy();if(f)return f.getDataValueWindow()}else return this.getAxisProxy(l,d).getDataValueWindow()},findRepresentativeAxisProxy:function(l){if(l)return l.__dzAxisProxy;var d=this._axisProxies;for(var f in d)if(d.hasOwnProperty(f)&&d[f].hostedBy(this))return d[f];for(var f in d)if(d.hasOwnProperty(f)&&!d[f].hostedBy(this))return d[f]},getRangePropMode:function(){return this._rangePropMode.slice()}});function h(l){var d={};return u(["start","end","startValue","endValue","throttle"],function(f){l.hasOwnProperty(f)&&(d[f]=l[f])}),d}function s(l,d){var f=l._rangePropMode,m=l.get("rangeMode");u([["start","startValue"],["end","endValue"]],function(g,p){var y=d[g[0]]!=null,_=d[g[1]]!=null;y&&!_?f[p]="percent":!y&&_?f[p]="value":m?f[p]=m[p]:y&&(f[p]="percent")})}var v=o;return uc=v,uc}var vc,ab;function Ai(){if(ab)return vc;ab=1;var e=os,t=e.extend({type:"dataZoom",render:function(r,a,i,n){this.dataZoomModel=r,this.ecModel=a,this.api=i},getTargetCoordInfo:function(){var r=this.dataZoomModel,a=this.ecModel,i={};r.eachTargetAxis(function(u,c){var o=a.getComponent(u.axis,c);if(o){var h=o.getCoordSysModel();h&&n(h,o,i[h.mainType]||(i[h.mainType]=[]),h.componentIndex)}},this);function n(u,c,o,h){for(var s,v=0;v<o.length;v++)if(o[v].model===u){s=o[v];break}s||o.push(s={model:u,axisModels:[],coordIndex:h}),s.axisModels.push(c)}return i}});return vc=t,vc}var hc,ib;function vq(){if(ib)return hc;ib=1;var e=wi(),t=e.extend({type:"dataZoom.select"});return hc=t,hc}var cc,nb;function hq(){if(nb)return cc;nb=1;var e=Ai(),t=e.extend({type:"dataZoom.select"});return cc=t,cc}var ob={},sb;function yg(){if(sb)return ob;sb=1;var e=we,t=Z,r=t.createHashMap,a=t.each;return e.registerProcessor({getTargetSeries:function(i){var n=r();return i.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(c,o,h){var s=h.getAxisProxy(c.name,o);a(s.getTargetSeriesModels(),function(v){n.set(v.uid,v)})})}),n},modifyOutputEnd:!0,overallReset:function(i,n){i.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(c,o,h){h.getAxisProxy(c.name,o).reset(h,n)}),u.eachTargetAxis(function(c,o,h){h.getAxisProxy(c.name,o).filterData(h,n)})}),i.eachComponent("dataZoom",function(u){var c=u.findRepresentativeAxisProxy(),o=c.getDataPercentWindow(),h=c.getDataValueWindow();u.setCalculatedRange({start:o[0],end:o[1],startValue:h[0],endValue:h[1]})})}}),ob}var lb={},ub;function _g(){if(ub)return lb;ub=1;var e=we,t=Z,r=mg();return e.registerAction("dataZoom",function(a,i){var n=r.createLinkedNodesFinder(t.bind(i.eachComponent,i,"dataZoom"),r.eachAxisDim,function(c,o){return c.get(o.axisIndex)}),u=[];i.eachComponent({mainType:"dataZoom",query:a},function(c,o){u.push.apply(u,n(c).nodes)}),t.each(u,function(c,o){c.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),lb}var vb;function cq(){return vb||(vb=1,pg(),wi(),Ai(),vq(),hq(),yg(),_g()),QS}var fc,hb;function fq(){if(hb)return fc;hb=1;var e=we,t=Z,r=fg(),a=UM(),i=WM(),n=bi(),u=aa,c=oa();cq();var o=u.toolbox.dataZoom,h=t.each,s="\0_ec_\0toolbox-dataZoom_";function v(y,_,S){(this._brushController=new r(S.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}v.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(o.title)};var l=v.prototype;l.render=function(y,_,S,T){this.model=y,this.ecModel=_,this.api=S,g(y,_,this,T,S),m(y,_)},l.onclick=function(y,_,S){d[S].call(this)},l.remove=function(y,_){this._brushController.unmount()},l.dispose=function(y,_){this._brushController.dispose()};var d={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(i.pop(this.ecModel))}};l._onBrush=function(y,_){if(!_.isEnd||!y.length)return;var S={},T=this.ecModel;this._brushController.updateCovers([]);var w=new a(f(this.model.option),T,{include:["grid"]});w.matchOutputRanges(y,T,function(A,C,M){if(M.type==="cartesian2d"){var D=A.brushType;D==="rect"?(x("x",M,C[0]),x("y",M,C[1])):x({lineX:"x",lineY:"y"}[D],M,C)}}),i.push(T,S),this._dispatchZoomAction(S);function x(A,C,M){var D=C.getAxis(A),L=D.model,P=b(A,L,T),I=P.findRepresentativeAxisProxy(L).getMinMaxSpan();(I.minValueSpan!=null||I.maxValueSpan!=null)&&(M=n(0,M.slice(),D.scale.getExtent(),0,I.minValueSpan,I.maxValueSpan)),P&&(S[P.id]={dataZoomId:P.id,startValue:M[0],endValue:M[1]})}function b(A,C,M){var D;return M.eachComponent({mainType:"dataZoom",subType:"select"},function(L){var P=L.getAxisModel(A,C.componentIndex);P&&(D=L)}),D}},l._dispatchZoomAction=function(y){var _=[];h(y,function(S,T){_.push(t.clone(S))}),_.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:_})};function f(y){var _={};return t.each(["xAxisIndex","yAxisIndex"],function(S){_[S]=y[S],_[S]==null&&(_[S]="all"),(_[S]===!1||_[S]==="none")&&(_[S]=[])}),_}function m(y,_){y.setIconStatus("back",i.count(_)>1?"emphasis":"normal")}function g(y,_,S,T,w){var x=S._isZoomActive;T&&T.type==="takeGlobalCursor"&&(x=T.key==="dataZoomSelect"?T.dataZoomSelectActive:!1),S._isZoomActive=x,y.setIconStatus("zoom",x?"emphasis":"normal");var b=new a(f(y.option),_,{include:["grid"]});S._brushController.setPanels(b.makePanelOpts(w,function(A){return A.xAxisDeclared&&!A.yAxisDeclared?"lineX":!A.xAxisDeclared&&A.yAxisDeclared?"lineY":"rect"})).enableBrush(x?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}c.register("dataZoom",v),e.registerPreprocessor(function(y){if(!y)return;var _=y.dataZoom||(y.dataZoom=[]);t.isArray(_)||(y.dataZoom=_=[_]);var S=y.toolbox;if(S&&(t.isArray(S)&&(S=S[0]),S&&S.feature)){var T=S.feature.dataZoom;w("xAxis",T),w("yAxis",T)}function w(b,A){if(A){var C=b+"Index",M=A[C];M!=null&&M!=="all"&&!t.isArray(M)&&(M=M===!1||M==="none"?[]:[M]),x(b,function(D,L){if(!(M!=null&&M!=="all"&&t.indexOf(M,L)===-1)){var P={type:"select",$fromToolbox:!0,filterMode:A.filterMode||"filter",id:s+b+L};P[C]=L,_.push(P)}})}}function x(b,A){var C=y[b];t.isArray(C)||(C=C?[C]:[]),h(C,A)}});var p=v;return fc=p,fc}var dc,cb;function dq(){if(cb)return dc;cb=1;var e=we,t=WM(),r=aa,a=oa(),i=r.toolbox.restore;function n(o){this.model=o}n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:i.title};var u=n.prototype;u.onclick=function(o,h,s){t.clear(o),h.dispatchAction({type:"restore",from:this.uid})},a.register("restore",n),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(o,h){h.resetOption("recreate")});var c=n;return dc=c,dc}var fb;function gq(){return fb||(fb=1,iq(),nq(),oq(),sq(),lq(),fq(),dq()),qS}var db={},gc,gb;function pq(){if(gb)return gc;gb=1;var e=we,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return gc=t,gc}var pc,pb;function mq(){if(pb)return pc;pb=1;var e=Z,t=ut,r=ct,a=un,i=ot,n=Qe(),u=e.each,c=n.toCamelCase,o=["","-webkit-","-moz-","-o-"],h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function s(g){var p="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+g+"s "+p+",top "+g+"s "+p;return e.map(o,function(_){return _+"transition:"+y}).join(";")}function v(g){var p=[],y=g.get("fontSize"),_=g.getTextColor();return _&&p.push("color:"+_),p.push("font:"+g.getFont()),y&&p.push("line-height:"+Math.round(y*3/2)+"px"),u(["decoration","align"],function(S){var T=g.get(S);T&&p.push("text-"+S+":"+T)}),p.join(";")}function l(g){var p=[],y=g.get("transitionDuration"),_=g.get("backgroundColor"),S=g.getModel("textStyle"),T=g.get("padding");return y&&p.push(s(y)),_&&(i.canvasSupported?p.push("background-Color:"+_):(p.push("background-Color:#"+t.toHex(_)),p.push("filter:alpha(opacity=70)"))),u(["width","color","radius"],function(w){var x="border-"+w,b=c(x),A=g.get(b);A!=null&&p.push(x+":"+A+(w==="color"?"":"px"))}),p.push(v(S)),T!=null&&p.push("padding:"+n.normalizeCssArray(T).join("px ")+"px"),p.join(";")+";"}function d(g,p,y,_,S){var T=p&&p.painter;if(y){var w=T&&T.getViewportRoot();w&&a.transformLocalCoord(g,w,document.body,_,S)}else{g[0]=_,g[1]=S;var x=T&&T.getViewportRootOffset();x&&(g[0]+=x.offsetLeft,g[1]+=x.offsetTop)}}function f(g,p,y){if(i.wxa)return null;var _=document.createElement("div");_.domBelongToZr=!0,this.el=_;var S=this._zr=p.getZr(),T=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0],d(this._styleCoord,S,T,p.getWidth()/2,p.getHeight()/2),T?document.body.appendChild(_):g.appendChild(_),this._container=g,this._show=!1,this._hideTimeout;var w=this;_.onmouseenter=function(){w._enterable&&(clearTimeout(w._hideTimeout),w._show=!0),w._inContent=!0},_.onmousemove=function(x){if(x=x||window.event,!w._enterable){var b=S.handler,A=S.painter.getViewportRoot();r.normalizeEvent(A,x,!0),b.dispatch("mousemove",x)}},_.onmouseleave=function(){w._enterable&&w._show&&w.hideLater(w._hideDelay),w._inContent=!1}}f.prototype={constructor:f,_enterable:!0,update:function(){var g=this._container,p=g.currentStyle||document.defaultView.getComputedStyle(g),y=g.style;y.position!=="absolute"&&p.position!=="absolute"&&(y.position="relative")},show:function(g){clearTimeout(this._hideTimeout);var p=this.el,y=this._styleCoord;p.style.cssText=h+l(g)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(g.get("extraCssText")||""),p.style.display=p.innerHTML?"block":"none",p.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(g){this.el.innerHTML=g??""},setEnterable:function(g){this._enterable=g},getSize:function(){var g=this.el;return[g.clientWidth,g.clientHeight]},moveTo:function(g,p){var y=this._styleCoord;d(y,this._zr,this._appendToBody,g,p);var _=this.el.style;_.left=y[0]+"px",_.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(g){this._show&&!(this._inContent&&this._enterable)&&(g?(this._hideDelay=g,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),g)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var g=this.el.clientWidth,p=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(g+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),p+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:g,height:p}}};var m=f;return pc=m,pc}var mc,mb;function yq(){if(mb)return mc;mb=1;var e=Z,t=wa;function r(i){this._zr=i.getZr(),this._show=!1,this._hideTimeout}r.prototype={constructor:r,_enterable:!0,update:function(){},show:function(i){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(i,n,u){this.el&&this._zr.remove(this.el);for(var c={},o=i,h="{marker",s="|}",v=o.indexOf(h);v>=0;){var l=o.indexOf(s),d=o.substr(v+h.length,l-v-h.length);d.indexOf("sub")>-1?c["marker"+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:n[d],textOffset:[3,0]}:c["marker"+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:n[d]},o=o.substr(l+1),v=o.indexOf("{marker")}this.el=new t({style:{rich:c,text:i,textLineHeight:20,textBackgroundColor:u.get("backgroundColor"),textBorderRadius:u.get("borderRadius"),textFill:u.get("textStyle.color"),textPadding:u.get("padding")},z:u.get("z")}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},setEnterable:function(i){this._enterable=i},getSize:function(){var i=this.el.getBoundingRect();return[i.width,i.height]},moveTo:function(i,n){this.el&&this.el.attr("position",[i,n])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(i){this._show&&!(this._inContent&&this._enterable)&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),i)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var i=this.getSize();return{width:i[0],height:i[1]}}};var a=r;return mc=a,mc}var yc,yb;function _q(){if(yb)return yc;yb=1;var e=we,t=Z,r=ot,a=mq(),i=yq(),n=Qe(),u=Oe(),c=me,o=HM(),h=Ne,s=ht(),v=qM(),l=ur(),d=_s(),f=Re,m=f.getTooltipRenderMode,g=t.bind,p=t.each,y=u.parsePercent,_=new c.Rect({shape:{x:-1,y:-1,width:2,height:2}}),S=e.extendComponentView({type:"tooltip",init:function(M,D){if(!r.node){var L=M.getComponent("tooltip"),P=L.get("renderMode");this._renderMode=m(P);var I;this._renderMode==="html"?(I=new a(D.getDom(),D,{appendToBody:L.get("appendToBody",!0)}),this._newLine="<br/>"):(I=new i(D),this._newLine=`
`),this._tooltipContent=I}},render:function(M,D,L){if(!r.node){this.group.removeAll(),this._tooltipModel=M,this._ecModel=D,this._api=L,this._lastDataByCoordSys=null,this._alwaysShowContent=M.get("alwaysShowContent");var P=this._tooltipContent;P.update(),P.setEnterable(M.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var M=this._tooltipModel,D=M.get("triggerOn");v.register("itemTooltip",this._api,g(function(L,P,I){D!=="none"&&(D.indexOf(L)>=0?this._tryShow(P,I):L==="leave"&&this._hide(I))},this))},_keepShow:function(){var M=this._tooltipModel,D=this._ecModel,L=this._api;if(this._lastX!=null&&this._lastY!=null&&M.get("triggerOn")!=="none"){var P=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&P.manuallyShowTip(M,D,L,{x:P._lastX,y:P._lastY})})}},manuallyShowTip:function(M,D,L,P){if(!(P.from===this.uid||r.node)){var I=w(P,L);this._ticket="";var E=P.dataByCoordSys;if(P.tooltip&&P.x!=null&&P.y!=null){var O=_;O.position=[P.x,P.y],O.update(),O.tooltip=P.tooltip,this._tryShow({offsetX:P.x,offsetY:P.y,target:O},I)}else if(E)this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,dataByCoordSys:P.dataByCoordSys,tooltipOption:P.tooltipOption},I);else if(P.seriesIndex!=null){if(this._manuallyAxisShowTip(M,D,L,P))return;var z=o(P,D),G=z.point[0],V=z.point[1];G!=null&&V!=null&&this._tryShow({offsetX:G,offsetY:V,position:P.position,target:z.el},I)}else P.x!=null&&P.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:P.x,y:P.y}),this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,target:L.getZr().findHover(P.x,P.y).target},I))}},manuallyHideTip:function(M,D,L,P){var I=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&I.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,P.from!==this.uid&&this._hide(w(P,L))},_manuallyAxisShowTip:function(V,D,L,P){var I=P.seriesIndex,E=P.dataIndex,O=D.getComponent("axisPointer").coordSysAxesInfo;if(!(I==null||E==null||O==null)){var z=D.getSeriesByIndex(I);if(z){var G=z.getData(),V=T([G.getItemModel(E),z,(z.coordinateSystem||{}).model,V]);if(V.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:I,dataIndex:E,position:P.position}),!0}}},_tryShow:function(M,D){var L=M.target,P=this._tooltipModel;if(P){this._lastX=M.offsetX,this._lastY=M.offsetY;var I=M.dataByCoordSys;I&&I.length?this._showAxisTooltip(I,M):L&&L.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(M,L,D)):L&&L.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(M,L,D)):(this._lastDataByCoordSys=null,this._hide(D))}},_showOrMove:function(M,D){var L=M.get("showDelay");D=t.bind(D,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout(D,L):D()},_showAxisTooltip:function(M,D){var L=this._ecModel,P=this._tooltipModel,I=[D.offsetX,D.offsetY],E=[],O=[],z=T([D.tooltipOption,P]),G=this._renderMode,V=this._newLine,R={};p(M,function(k){p(k.dataByAxis,function(N){var q=L.getComponent(N.axisDim+"Axis",N.axisIndex),H=N.value,F=[];if(!(!q||H==null)){var U=d.getValueLabel(H,q.axis,L,N.seriesDataIndices,N.valueLabelOpt);t.each(N.seriesDataIndices,function(K){var J=L.getSeriesByIndex(K.seriesIndex),j=K.dataIndexInside,ee=J&&J.getDataParams(j);if(ee.axisDim=N.axisDim,ee.axisIndex=N.axisIndex,ee.axisType=N.axisType,ee.axisId=N.axisId,ee.axisValue=l.getAxisRawValue(q.axis,H),ee.axisValueLabel=U,ee){O.push(ee);var ie=J.formatTooltip(j,!0,null,G),re;if(t.isObject(ie)){re=ie.html;var he=ie.markers;t.merge(R,he)}else re=ie;F.push(re)}});var W=U;G!=="html"?E.push(F.join(V)):E.push((W?n.encodeHTML(W)+V:"")+F.join(V))}})},this),E.reverse(),E=E.join(this._newLine+this._newLine);var B=D.position;this._showOrMove(z,function(){this._updateContentNotChangedOnAxis(M)?this._updatePosition(z,B,I[0],I[1],this._tooltipContent,O):this._showTooltipContent(z,E,O,Math.random(),I[0],I[1],B,void 0,R)})},_showSeriesItemTooltip:function(M,D,L){var P=this._ecModel,I=D.seriesIndex,E=P.getSeriesByIndex(I),O=D.dataModel||E,z=D.dataIndex,G=D.dataType,V=O.getData(),R=T([V.getItemModel(z),O,E&&(E.coordinateSystem||{}).model,this._tooltipModel]),B=R.get("trigger");if(!(B!=null&&B!=="item")){var k=O.getDataParams(z,G),N=O.formatTooltip(z,!1,G,this._renderMode),q,H;t.isObject(N)?(q=N.html,H=N.markers):(q=N,H=null);var F="item_"+O.name+"_"+z;this._showOrMove(R,function(){this._showTooltipContent(R,q,k,F,M.offsetX,M.offsetY,M.position,M.target,H)}),L({type:"showTip",dataIndexInside:z,dataIndex:V.getRawIndex(z),seriesIndex:I,from:this.uid})}},_showComponentItemTooltip:function(M,D,L){var P=D.tooltip;if(typeof P=="string"){var I=P;P={content:I,formatter:I}}var E=new s(P,this._tooltipModel,this._ecModel),O=E.get("content"),z=Math.random();this._showOrMove(E,function(){this._showTooltipContent(E,O,E.get("formatterParams")||{},z,M.offsetX,M.offsetY,M.position,D)}),L({type:"showTip",from:this.uid})},_showTooltipContent:function(M,D,L,P,I,E,O,z,G){if(this._ticket="",!(!M.get("showContent")||!M.get("show"))){var V=this._tooltipContent,R=M.get("formatter");O=O||M.get("position");var B=D;if(R&&typeof R=="string")B=n.formatTpl(R,L,!0);else if(typeof R=="function"){var k=g(function(N,q){N===this._ticket&&(V.setContent(q,G,M),this._updatePosition(M,O,I,E,V,L,z))},this);this._ticket=P,B=R(L,P,k)}V.setContent(B,G,M),V.show(M),this._updatePosition(M,O,I,E,V,L,z)}},_updatePosition:function(M,D,L,P,I,E,O){var z=this._api.getWidth(),G=this._api.getHeight();D=D||M.get("position");var V=I.getSize(),R=M.get("align"),B=M.get("verticalAlign"),k=O&&O.getBoundingRect().clone();if(O&&k.applyTransform(O.transform),typeof D=="function"&&(D=D([L,P],E,I.el,k,{viewSize:[z,G],contentSize:V.slice()})),t.isArray(D))L=y(D[0],z),P=y(D[1],G);else if(t.isObject(D)){D.width=V[0],D.height=V[1];var N=h.getLayoutRect(D,{width:z,height:G});L=N.x,P=N.y,R=null,B=null}else if(typeof D=="string"&&O){var q=A(D,k,V);L=q[0],P=q[1]}else{var q=x(L,P,I,z,G,R?null:20,B?null:20);L=q[0],P=q[1]}if(R&&(L-=C(R)?V[0]/2:R==="right"?V[0]:0),B&&(P-=C(B)?V[1]/2:B==="bottom"?V[1]:0),M.get("confine")){var q=b(L,P,I,z,G);L=q[0],P=q[1]}I.moveTo(L,P)},_updateContentNotChangedOnAxis:function(M){var D=this._lastDataByCoordSys,L=!!D&&D.length===M.length;return L&&p(D,function(P,I){var E=P.dataByAxis||{},O=M[I]||{},z=O.dataByAxis||[];L&=E.length===z.length,L&&p(E,function(G,V){var R=z[V]||{},B=G.seriesDataIndices||[],k=R.seriesDataIndices||[];L&=G.value===R.value&&G.axisType===R.axisType&&G.axisId===R.axisId&&B.length===k.length,L&&p(B,function(N,q){var H=k[q];L&=N.seriesIndex===H.seriesIndex&&N.dataIndex===H.dataIndex})})}),this._lastDataByCoordSys=M,!!L},_hide:function(M){this._lastDataByCoordSys=null,M({type:"hideTip",from:this.uid})},dispose:function(M,D){r.node||(this._tooltipContent.dispose(),v.unregister("itemTooltip",D))}});function T(M){for(var D=M.pop();M.length;){var L=M.pop();L&&(s.isInstance(L)&&(L=L.get("tooltip",!0)),typeof L=="string"&&(L={formatter:L}),D=new s(L,D,D.ecModel))}return D}function w(M,D){return M.dispatchAction||t.bind(D.dispatchAction,D)}function x(M,D,L,P,I,E,O){var z=L.getOuterSize(),G=z.width,V=z.height;return E!=null&&(M+G+E>P?M-=G+E:M+=E),O!=null&&(D+V+O>I?D-=V+O:D+=O),[M,D]}function b(M,D,L,P,I){var E=L.getOuterSize(),O=E.width,z=E.height;return M=Math.min(M+O,P)-O,D=Math.min(D+z,I)-z,M=Math.max(M,0),D=Math.max(D,0),[M,D]}function A(M,D,L){var P=L[0],I=L[1],E=5,O=0,z=0,G=D.width,V=D.height;switch(M){case"inside":O=D.x+G/2-P/2,z=D.y+V/2-I/2;break;case"top":O=D.x+G/2-P/2,z=D.y-I-E;break;case"bottom":O=D.x+G/2-P/2,z=D.y+V+E;break;case"left":O=D.x-P-E,z=D.y+V/2-I/2;break;case"right":O=D.x+G+E,z=D.y+V/2-I/2}return[O,z]}function C(M){return M==="center"||M==="middle"}return yc=S,yc}var _b;function xq(){if(_b)return db;_b=1;var e=we;return kn(),pq(),_q(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),db}var xb={},_c,Sb;function Sq(){if(Sb)return _c;Sb=1;var e=Z,t=["rect","polygon","keep","clear"];function r(i,n){var u=i&&i.brush;if(e.isArray(u)||(u=u?[u]:[]),!!u.length){var c=[];e.each(u,function(l){var d=l.hasOwnProperty("toolbox")?l.toolbox:[];d instanceof Array&&(c=c.concat(d))});var o=i&&i.toolbox;e.isArray(o)&&(o=o[0]),o||(o={feature:{}},i.toolbox=[o]);var h=o.feature||(o.feature={}),s=h.brush||(h.brush={}),v=s.type||(s.type=[]);v.push.apply(v,c),a(v),n&&!v.length&&v.push.apply(v,t)}}function a(i){var n={};e.each(i,function(u){n[u]=1}),i.length=0,e.each(n,function(u,c){i.push(c)})}return _c=r,_c}var xc={},Fa={},bb;function xs(){if(bb)return Fa;bb=1;var e=Z,t=Pa(),r=e.each;function a(o){if(o){for(var h in o)if(o.hasOwnProperty(h))return!0}}function i(o,h,s){var v={};return r(h,function(d){var f=v[d]=l();r(o[d],function(m,g){if(t.isValidType(g)){var p={type:g,visual:m};s&&s(p,d),f[g]=new t(p),g==="opacity"&&(p=e.clone(p),p.type="colorAlpha",f.__hidden.__alphaForOpacity=new t(p))}})}),v;function l(){var d=function(){};d.prototype.__hidden=d.prototype;var f=new d;return f}}function n(o,h,s){var v;e.each(s,function(l){h.hasOwnProperty(l)&&a(h[l])&&(v=!0)}),v&&e.each(s,function(l){h.hasOwnProperty(l)&&a(h[l])?o[l]=e.clone(h[l]):delete o[l]})}function u(o,h,s,v,l,d){var f={};e.each(o,function(_){var S=t.prepareVisualTypes(h[_]);f[_]=S});var m;function g(_){return s.getItemVisual(m,_)}function p(_,S){s.setItemVisual(m,_,S)}d==null?s.each(y):s.each([d],y);function y(_,S){m=d==null?_:S;var T=s.getRawDataItem(m);if(!(T&&T.visualMap===!1))for(var w=v.call(l,_),x=h[w],b=f[w],A=0,C=b.length;A<C;A++){var M=b[A];x[M]&&x[M].applyVisual(_,g,p)}}}function c(o,h,s,v){var l={};e.each(o,function(f){var m=t.prepareVisualTypes(h[f]);l[f]=m});function d(f,m){v!=null&&(v=m.getDimension(v));function g(M){return m.getItemVisual(y,M)}function p(M,D){m.setItemVisual(y,M,D)}for(var y;(y=f.next())!=null;){var _=m.getRawDataItem(y);if(!(_&&_.visualMap===!1))for(var S=v!=null?m.get(v,y,!0):y,T=s(S),w=h[T],x=l[T],b=0,A=x.length;b<A;b++){var C=x[b];w[C]&&w[C].applyVisual(S,g,p)}}}return{progress:d}}return Fa.createVisualMappings=i,Fa.replaceVisualOption=n,Fa.applyVisual=u,Fa.incrementalApplyVisual=c,Fa}var Sc,wb;function bq(){if(wb)return Sc;wb=1;var e=vM(),t=Ke,r=me,a=r.linePolygonIntersect,i={lineX:n(0),lineY:n(1),rect:{point:function(o,h,s){return o&&s.boundingRect.contain(o[0],o[1])},rect:function(o,h,s){return o&&s.boundingRect.intersect(o)}},polygon:{point:function(o,h,s){return o&&s.boundingRect.contain(o[0],o[1])&&e.contain(s.range,o[0],o[1])},rect:function(o,h,s){var v=s.range;if(!o||v.length<=1)return!1;var l=o.x,d=o.y,f=o.width,m=o.height,g=v[0];if(e.contain(v,l,d)||e.contain(v,l+f,d)||e.contain(v,l,d+m)||e.contain(v,l+f,d+m)||t.create(o).contain(g[0],g[1])||a(l,d,l+f,d,v)||a(l,d,l,d+m,v)||a(l+f,d,l+f,d+m,v)||a(l,d+m,l+f,d+m,v))return!0}}};function n(o){var h=["x","y"],s=["width","height"];return{point:function(v,l,d){if(v){var f=d.range,m=v[o];return u(m,f)}},rect:function(v,l,d){if(v){var f=d.range,m=[v[h[o]],v[h[o]]+v[s[o]]];return m[1]<m[0]&&m.reverse(),u(m[0],f)||u(m[1],f)||u(f[0],m)||u(f[1],m)}}}}function u(o,h){return h[0]<=o&&o<=h[1]}var c=i;return Sc=c,Sc}var Ab;function ZM(){if(Ab)return xc;Ab=1;var e=we,t=Z,r=Ke,a=xs(),i=bq(),n=lr,u=UM(),c=["inBrush","outOfBrush"],o="__ecBrushSelect",h="__ecInBrushSelectEvent",s=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(s,function(S,T,w){S.eachComponent({mainType:"brush"},function(x){w&&w.type==="takeGlobalCursor"&&x.setBrushOption(w.key==="brush"?w.brushOption:{brushType:!1})}),v(S)});function v(S){S.eachComponent({mainType:"brush"},function(T){var w=T.brushTargetManager=new u(T.option,S);w.setInputRanges(T.areas,S)})}e.registerVisual(s,function(S,T,w){var x=[],b,A;S.eachComponent({mainType:"brush"},function(C,M){var D={brushId:C.id,brushIndex:M,brushName:C.name,areas:t.clone(C.areas),selected:[]};x.push(D);var L=C.option,P=L.brushLink,I=[],E=[],O=[],z=0;M||(b=L.throttleType,A=L.throttleDelay);var G=t.map(C.areas,function(q){return p(t.defaults({boundingRect:y[q.brushType](q)},q))}),V=a.createVisualMappings(C.option,c,function(q){q.mappingMethod="fixed"});t.isArray(P)&&t.each(P,function(q){I[q]=1});function R(q){return P==="all"||I[q]}function B(q){return!!q.length}S.eachSeries(function(q,H){var F=O[H]=[];q.subType==="parallel"?k(q,H):N(q,H,F)});function k(q,H){var F=q.coordinateSystem;z|=F.hasAxisBrushed(),R(H)&&F.eachActiveState(q.getData(),function(U,W){U==="active"&&(E[W]=1)})}function N(q,H,F){var U=m(q);if(!(!U||g(C,H))&&(t.each(G,function(K){U[K.brushType]&&C.brushTargetManager.controlSeries(K,q,S)&&F.push(K),z|=B(F)}),R(H)&&B(F))){var W=q.getData();W.each(function(K){f(U,F,W,K)&&(E[K]=1)})}}S.eachSeries(function(q,H){var F={seriesId:q.id,seriesIndex:H,seriesName:q.name,dataIndex:[]};D.selected.push(F);var U=m(q),W=O[H],K=q.getData(),J=R(H)?function(j){return E[j]?(F.dataIndex.push(K.getRawIndex(j)),"inBrush"):"outOfBrush"}:function(j){return f(U,W,K,j)?(F.dataIndex.push(K.getRawIndex(j)),"inBrush"):"outOfBrush"};(R(H)?z:B(W))&&a.applyVisual(c,V,K,J)})}),l(T,b,A,x,w)});function l(S,T,w,x,b){if(b){var A=S.getZr();if(!A[h]){A[o]||(A[o]=d);var C=n.createOrUpdate(A,o,w,T);C(S,x)}}}function d(S,T){if(!S.isDisposed()){var w=S.getZr();w[h]=!0,S.dispatchAction({type:"brushSelect",batch:T}),w[h]=!1}}function f(S,T,w,x){for(var b=0,A=T.length;b<A;b++){var C=T[b];if(S[C.brushType](x,w,C.selectors,C))return!0}}function m(S){var T=S.brushSelector;if(t.isString(T)){var w=[];return t.each(i,function(b,A){w[A]=function(C,M,D,L){var P=M.getItemLayout(C);return b[T](P,D,L)}}),w}else if(t.isFunction(T)){var x={};return t.each(i,function(b,A){x[A]=T}),x}return T}function g(S,T){var w=S.option.seriesIndex;return w!=null&&w!=="all"&&(t.isArray(w)?t.indexOf(w,T)<0:T!==w)}function p(S){var T=S.selectors={};return t.each(i[S.brushType],function(w,x){T[x]=function(b){return w(b,T,S)}}),S}var y={lineX:t.noop,lineY:t.noop,rect:function(S){return _(S.range)},polygon:function(S){for(var T,w=S.range,x=0,b=w.length;x<b;x++){T=T||[[1/0,-1/0],[1/0,-1/0]];var A=w[x];A[0]<T[0][0]&&(T[0][0]=A[0]),A[0]>T[0][1]&&(T[0][1]=A[0]),A[1]<T[1][0]&&(T[1][0]=A[1]),A[1]>T[1][1]&&(T[1][1]=A[1])}return T&&_(T)}};function _(S){return new r(S[0][0],S[1][0],S[0][1]-S[0][0],S[1][1]-S[1][0])}return xc.layoutCovers=v,xc}var bc,Tb;function wq(){if(Tb)return bc;Tb=1;var e=we,t=Z,r=xs(),a=ht(),i=["#ddd"],n=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(o,h){var s=this.option;!h&&r.replaceVisualOption(s,o,["inBrush","outOfBrush"]);var v=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:i},v.hasOwnProperty("liftZ")||(v.liftZ=5)},setAreas:function(o){o&&(this.areas=t.map(o,function(h){return u(this.option,h)},this))},setBrushOption:function(o){this.brushOption=u(this.option,o),this.brushType=this.brushOption.brushType}});function u(o,h){return t.merge({brushType:o.brushType,brushMode:o.brushMode,transformable:o.transformable,brushStyle:new a(o.brushStyle).getItemStyle(),removeOnClick:o.removeOnClick,z:o.z},h,!0)}var c=n;return bc=c,bc}var wc,Cb;function Aq(){if(Cb)return wc;Cb=1;var e=we,t=Z,r=fg(),a=ZM(),i=a.layoutCovers,n=e.extendComponentView({type:"brush",init:function(c,o){this.ecModel=c,this.api=o,this.model,(this._brushController=new r(o.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(c){return this.model=c,u.apply(this,arguments)},updateTransform:function(c,o){return i(o),u.apply(this,arguments)},updateView:u,dispose:function(){this._brushController.dispose()},_onBrush:function(c,o){var h=this.model.id;this.model.brushTargetManager.setOutputRanges(c,this.ecModel),(!o.isEnd||o.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:h,areas:t.clone(c),$from:h}),o.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:h,areas:t.clone(c),$from:h})}});function u(c,o,h,s){(!s||s.$from!==c.id)&&this._brushController.setPanels(c.brushTargetManager.makePanelOpts(h)).enableBrush(c.brushOption).updateCovers(c.areas.slice())}return wc=n,wc}var Mb={},Db;function Tq(){if(Db)return Mb;Db=1;var e=we;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Mb}var Ac,Lb;function Cq(){if(Lb)return Ac;Lb=1;var e=Z,t=oa(),r=aa,a=r.toolbox.brush;function i(c,o,h){this.model=c,this.ecModel=o,this.api=h,this._brushType,this._brushMode}i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(a.title)};var n=i.prototype;n.render=n.updateView=function(c,o,h){var s,v,l;o.eachComponent({mainType:"brush"},function(d){s=d.brushType,v=d.brushOption.brushMode||"single",l|=d.areas.length}),this._brushType=s,this._brushMode=v,e.each(c.get("type",!0),function(d){c.setIconStatus(d,(d==="keep"?v==="multiple":d==="clear"?l:d===s)?"emphasis":"normal")})},n.getIcons=function(){var c=this.model,o=c.get("icon",!0),h={};return e.each(c.get("type",!0),function(s){o[s]&&(h[s]=o[s])}),h},n.onclick=function(c,o,h){var s=this._brushType,v=this._brushMode;h==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:h==="keep"?s:s===h?!1:h,brushMode:h==="keep"?v==="multiple"?"single":"multiple":v}})},t.register("brush",i);var u=i;return Ac=u,Ac}var Pb;function Mq(){if(Pb)return xb;Pb=1;var e=we,t=Sq();return ZM(),wq(),Aq(),Tq(),Cq(),e.registerPreprocessor(t),xb}var Ib={},Rb;function Dq(){if(Rb)return Ib;Rb=1;var e=Z,t=we,r=me,a=Ne,i=a.getLayoutRect;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(n,u,c){if(this.group.removeAll(),!!n.get("show")){var o=this.group,h=n.getModel("textStyle"),s=n.getModel("subtextStyle"),v=n.get("textAlign"),l=e.retrieve2(n.get("textBaseline"),n.get("textVerticalAlign")),d=new r.Text({style:r.setTextStyle({},h,{text:n.get("text"),textFill:h.getTextColor()},{disableBox:!0}),z2:10}),f=d.getBoundingRect(),m=n.get("subtext"),g=new r.Text({style:r.setTextStyle({},s,{text:m,textFill:s.getTextColor(),y:f.height+n.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),y=n.get("sublink"),_=n.get("triggerEvent",!0);d.silent=!p&&!_,g.silent=!y&&!_,p&&d.on("click",function(){window.open(p,"_"+n.get("target"))}),y&&g.on("click",function(){window.open(y,"_"+n.get("subtarget"))}),d.eventData=g.eventData=_?{componentType:"title",componentIndex:n.componentIndex}:null,o.add(d),m&&o.add(g);var S=o.getBoundingRect(),T=n.getBoxLayoutParams();T.width=S.width,T.height=S.height;var w=i(T,{width:c.getWidth(),height:c.getHeight()},n.get("padding"));v||(v=n.get("left")||n.get("right"),v==="middle"&&(v="center"),v==="right"?w.x+=w.width:v==="center"&&(w.x+=w.width/2)),l||(l=n.get("top")||n.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?w.y+=w.height:l==="middle"&&(w.y+=w.height/2),l=l||"top"),o.attr("position",[w.x,w.y]);var x={textAlign:v,textVerticalAlign:l};d.setStyle(x),g.setStyle(x),S=o.getBoundingRect();var b=w.margin,A=n.getItemStyle(["color","opacity"]);A.fill=n.get("backgroundColor");var C=new r.Rect({shape:{x:S.x-b[3],y:S.y-b[0],width:S.width+b[1]+b[3],height:S.height+b[0]+b[2],r:n.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});o.add(C)}}}),Ib}var Eb={},Tc,kb;function Lq(){if(kb)return Tc;kb=1;var e=Z;function t(n){var u=n&&n.timeline;e.isArray(u)||(u=u?[u]:[]),e.each(u,function(c){c&&r(c)})}function r(n){var u=n.type,c={number:"value",time:"time"};if(c[u]&&(n.axisType=c[u],delete n.type),a(n),i(n,"controlPosition")){var o=n.controlStyle||(n.controlStyle={});i(o,"position")||(o.position=n.controlPosition),o.position==="none"&&!i(o,"show")&&(o.show=!1,delete o.position),delete n.controlPosition}e.each(n.data||[],function(h){e.isObject(h)&&!e.isArray(h)&&(!i(h,"value")&&i(h,"name")&&(h.value=h.name),a(h))})}function a(n){var u=n.itemStyle||(n.itemStyle={}),c=u.emphasis||(u.emphasis={}),o=n.label||n.label||{},h=o.normal||(o.normal={}),s={normal:1,emphasis:1};e.each(o,function(v,l){!s[l]&&!i(h,l)&&(h[l]=v)}),c.label&&!i(o,"emphasis")&&(o.emphasis=c.label,delete c.label)}function i(n,u){return n.hasOwnProperty(u)}return Tc=t,Tc}var Ob={},zb;function Pq(){if(zb)return Ob;zb=1;var e=ft;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),Ob}var Bb={},Nb;function Iq(){if(Nb)return Bb;Nb=1;var e=we,t=Z;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,a){var i=a.getComponent("timeline");return i&&r.currentIndex!=null&&(i.setCurrentIndex(r.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),a.resetOption("timeline"),t.defaults({currentIndex:i.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,a){var i=a.getComponent("timeline");i&&r.playState!=null&&i.setPlayState(r.playState)}),Bb}var Cc,Vb;function Rq(){if(Vb)return Cc;Vb=1;var e=Z,t=ft,r=Yt(),a=Re,i=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(u,c,o){this._data,this._names,this.mergeDefaultAndTheme(u,o),this._initData()},mergeOption:function(u){i.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(u){u==null&&(u=this.option.currentIndex);var c=this._data.count();this.option.loop?u=(u%c+c)%c:(u>=c&&(u=c-1),u<0&&(u=0)),this.option.currentIndex=u},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(u){this.option.autoPlay=!!u},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var u=this.option,c=u.data||[],o=u.axisType,h=this._names=[];if(o==="category"){var s=[];e.each(c,function(d,f){var m=a.getDataItemValue(d),g;e.isObject(d)?(g=e.clone(d),g.value=f):g=f,s.push(g),!e.isString(m)&&(m==null||isNaN(m))&&(m=""),h.push(m+"")}),c=s}var v={category:"ordinal",time:"time"}[o]||"number",l=this._data=new r([{name:"value",type:v}],this);l.initData(c,h)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),n=i;return Cc=n,Cc}var Mc,Hb;function Eq(){if(Hb)return Mc;Hb=1;var e=Z,t=Rq(),r=Qd,a=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(a,r);var i=a;return Mc=i,Mc}var Dc,qb;function kq(){if(qb)return Dc;qb=1;var e=os,t=e.extend({type:"timeline"});return Dc=t,Dc}var Lc,Gb;function Oq(){if(Gb)return Lc;Gb=1;var e=Z,t=ia(),r=function(i,n,u,c){t.call(this,i,n,u),this.type=c||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var a=r;return Lc=a,Lc}var Pc,Fb;function zq(){if(Fb)return Pc;Fb=1;var e=Z,t=Ke,r=Rt(),a=me,i=Ne,n=kq(),u=Oq(),c=Xt(),o=c.createSymbol,h=ur(),s=Oe(),v=Qe(),l=v.encodeHTML,d=e.bind,f=e.each,m=Math.PI,g=n.extend({type:"timeline.slider",init:function(T,w){this.api=w,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(T,w,x,b){if(this.model=T,this.api=x,this.ecModel=w,this.group.removeAll(),T.get("show",!0)){var A=this._layout(T,x),C=this._createGroup("mainGroup"),M=this._createGroup("labelGroup"),D=this._axis=this._createAxis(A,T);T.formatTooltip=function(L){return l(D.scale.getLabel(L))},f(["AxisLine","AxisTick","Control","CurrentPointer"],function(L){this["_render"+L](A,C,D,T)},this),this._renderAxisLabel(A,M,D,T),this._position(A,T)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(T,w){var x=T.get("label.position"),b=T.get("orient"),A=p(T,w);x==null||x==="auto"?x=b==="horizontal"?A.y+A.height/2<w.getHeight()/2?"-":"+":A.x+A.width/2<w.getWidth()/2?"+":"-":isNaN(x)&&(x={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[b][x]);var C={horizontal:"center",vertical:x>=0||x==="+"?"left":"right"},M={horizontal:x>=0||x==="+"?"top":"bottom",vertical:"middle"},D={horizontal:0,vertical:m/2},L=b==="vertical"?A.height:A.width,P=T.getModel("controlStyle"),I=P.get("show",!0),E=I?P.get("itemSize"):0,O=I?P.get("itemGap"):0,z=E+O,G=T.get("label.rotate")||0;G=G*m/180;var V,R,B,k,N=P.get("position",!0),q=I&&P.get("showPlayBtn",!0),H=I&&P.get("showPrevBtn",!0),F=I&&P.get("showNextBtn",!0),U=0,W=L;return N==="left"||N==="bottom"?(q&&(V=[0,0],U+=z),H&&(R=[U,0],U+=z),F&&(B=[W-E,0],W-=z)):(q&&(V=[W-E,0],W-=z),H&&(R=[0,0],U+=z),F&&(B=[W-E,0],W-=z)),k=[U,W],T.get("inverse")&&k.reverse(),{viewRect:A,mainLength:L,orient:b,rotation:D[b],labelRotation:G,labelPosOpt:x,labelAlign:T.get("label.align")||C[b],labelBaseline:T.get("label.verticalAlign")||T.get("label.baseline")||M[b],playPosition:V,prevBtnPosition:R,nextBtnPosition:B,axisExtent:k,controlSize:E,controlGap:O}},_position:function(T,w){var x=this._mainGroup,b=this._labelGroup,A=T.viewRect;if(T.orient==="vertical"){var C=r.create(),M=A.x,D=A.y+A.height;r.translate(C,C,[-M,-D]),r.rotate(C,C,-m/2),r.translate(C,C,[M,D]),A=A.clone(),A.applyTransform(C)}var L=R(A),P=R(x.getBoundingRect()),I=R(b.getBoundingRect()),E=x.position,O=b.position;O[0]=E[0]=L[0][0];var z=T.labelPosOpt;if(isNaN(z)){var G=z==="+"?0:1;B(E,P,L,1,G),B(O,I,L,1,1-G)}else{var G=z>=0?0:1;B(E,P,L,1,G),O[1]=E[1]+z}x.attr("position",E),b.attr("position",O),x.rotation=b.rotation=T.rotation,V(x),V(b);function V(k){var N=k.position;k.origin=[L[0][0]-N[0],L[1][0]-N[1]]}function R(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function B(k,N,q,H,F){k[H]+=q[H][F]-N[H][F]}},_createAxis:function(T,w){var x=w.getData(),b=w.get("axisType"),A=h.createScaleByModel(w,b);A.getTicks=function(){return x.mapArray(["value"],function(D){return D})};var C=x.getDataExtent("value");A.setExtent(C[0],C[1]),A.niceTicks();var M=new u("value",A,T.axisExtent,b);return M.model=w,M},_createGroup:function(T){var w=this["_"+T]=new a.Group;return this.group.add(w),w},_renderAxisLine:function(T,w,x,b){var A=x.getExtent();b.get("lineStyle.show")&&w.add(new a.Line({shape:{x1:A[0],y1:0,x2:A[1],y2:0},style:e.extend({lineCap:"round"},b.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(T,w,x,b){var A=b.getData(),C=x.scale.getTicks();f(C,function(M){var D=x.dataToCoord(M),L=A.getItemModel(M),P=L.getModel("itemStyle"),I=L.getModel("emphasis.itemStyle"),E={position:[D,0],onclick:d(this._changeTimeline,this,M)},O=_(L,P,w,E);a.setHoverStyle(O,I.getItemStyle()),L.get("tooltip")?(O.dataIndex=M,O.dataModel=b):O.dataIndex=O.dataModel=null},this)},_renderAxisLabel:function(T,w,x,b){var A=x.getLabelModel();if(A.get("show")){var C=b.getData(),M=x.getViewLabels();f(M,function(D){var L=D.tickValue,P=C.getItemModel(L),I=P.getModel("label"),E=P.getModel("emphasis.label"),O=x.dataToCoord(D.tickValue),z=new a.Text({position:[O,0],rotation:T.labelRotation-T.rotation,onclick:d(this._changeTimeline,this,L),silent:!1});a.setTextStyle(z.style,I,{text:D.formattedLabel,textAlign:T.labelAlign,textVerticalAlign:T.labelBaseline}),w.add(z),a.setHoverStyle(z,a.setTextStyle({},E))},this)}},_renderControl:function(T,w,x,b){var A=T.controlSize,C=T.rotation,M=b.getModel("controlStyle").getItemStyle(),D=b.getModel("emphasis.controlStyle").getItemStyle(),L=[0,-A/2,A,A],P=b.getPlayState(),I=b.get("inverse",!0);E(T.nextBtnPosition,"controlStyle.nextIcon",d(this._changeTimeline,this,I?"-":"+")),E(T.prevBtnPosition,"controlStyle.prevIcon",d(this._changeTimeline,this,I?"+":"-")),E(T.playPosition,"controlStyle."+(P?"stopIcon":"playIcon"),d(this._handlePlayClick,this,!P),!0);function E(O,z,G,V){if(O){var R={position:O,origin:[A/2,0],rotation:V?-C:0,rectHover:!0,style:M,onclick:G},B=y(b,z,L,R);w.add(B),a.setHoverStyle(B,D)}}},_renderCurrentPointer:function(T,w,x,b){var A=b.getData(),C=b.getCurrentIndex(),M=A.getItemModel(C).getModel("checkpointStyle"),D=this,L={onCreate:function(P){P.draggable=!0,P.drift=d(D._handlePointerDrag,D),P.ondragend=d(D._handlePointerDragend,D),S(P,C,x,b,!0)},onUpdate:function(P){S(P,C,x,b)}};this._currentPointer=_(M,M,this._mainGroup,{},this._currentPointer,L)},_handlePlayClick:function(T){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:T,from:this.uid})},_handlePointerDrag:function(T,w,x){this._clearTimer(),this._pointerChangeTimeline([x.offsetX,x.offsetY])},_handlePointerDragend:function(T){this._pointerChangeTimeline([T.offsetX,T.offsetY],!0)},_pointerChangeTimeline:function(T,w){var x=this._toAxisCoord(T)[0],b=this._axis,A=s.asc(b.getExtent().slice());x>A[1]&&(x=A[1]),x<A[0]&&(x=A[0]),this._currentPointer.position[0]=x,this._currentPointer.dirty();var C=this._findNearestTick(x),M=this.model;(w||C!==M.getCurrentIndex()&&M.get("realtime"))&&this._changeTimeline(C)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(d(T,this),this.model.get("playInterval")));function T(){var w=this.model;this._changeTimeline(w.getCurrentIndex()+(w.get("rewind",!0)?-1:1))}},_toAxisCoord:function(T){var w=this._mainGroup.getLocalTransform();return a.applyTransform(T,w,!0)},_findNearestTick:function(T){var w=this.model.getData(),x=1/0,b,A=this._axis;return w.each(["value"],function(C,M){var D=A.dataToCoord(C),L=Math.abs(D-T);L<x&&(x=L,b=M)}),b},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(T){var w=this.model.getCurrentIndex();T==="+"?T=w+1:T==="-"&&(T=w-1),this.api.dispatchAction({type:"timelineChange",currentIndex:T,from:this.uid})}});function p(T,w){return i.getLayoutRect(T.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()},T.get("padding"))}function y(T,w,x,b){var A=a.makePath(T.get(w).replace(/^path:\/\//,""),e.clone(b||{}),new t(x[0],x[1],x[2],x[3]),"center");return A}function _(T,w,x,b,A,C){var M=w.get("color");if(A)A.setColor(M),x.add(A),C&&C.onUpdate(A);else{var D=T.get("symbol");A=o(D,-1,-1,2,2,M),A.setStyle("strokeNoScale",!0),x.add(A),C&&C.onCreate(A)}var L=w.getItemStyle(["color","symbol","symbolSize"]);A.setStyle(L),b=e.merge({rectHover:!0,z2:100},b,!0);var P=T.get("symbolSize");P=P instanceof Array?P.slice():[+P,+P],P[0]/=2,P[1]/=2,b.scale=P;var I=T.get("symbolOffset");if(I){var E=b.position=b.position||[0,0];E[0]+=s.parsePercent(I[0],P[0]),E[1]+=s.parsePercent(I[1],P[1])}var O=T.get("symbolRotate");return b.rotation=(O||0)*Math.PI/180||0,A.attr(b),A.updateTransform(),A}function S(T,w,x,b,A){if(!T.dragging){var C=b.getModel("checkpointStyle"),M=x.dataToCoord(b.getData().get(["value"],w));A||!C.get("animation",!0)?T.attr({position:[M,0]}):(T.stopAnimation(!0),T.animateTo({position:[M,0]},C.get("animationDuration",!0),C.get("animationEasing",!0)))}}return Pc=g,Pc}var $b;function Bq(){if($b)return Eb;$b=1;var e=we,t=Lq();return Pq(),Iq(),Eq(),zq(),e.registerPreprocessor(t),Eb}var Ub={},Ic,Wb;function xg(){if(Wb)return Ic;Wb=1;var e=we,t=Z,r=ot,a=Re,i=Qe(),n=Qd,u=i.addCommas,c=i.encodeHTML;function o(v){a.defaultEmphasis(v,"label",["show"])}var h=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(v,l,d){this.mergeDefaultAndTheme(v,d),this._mergeOption(v,d,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var v=this.__hostSeries;return this.getShallow("animation")&&v&&v.isAnimationEnabled()},mergeOption:function(v,l){this._mergeOption(v,l,!1,!1)},_mergeOption:function(v,l,d,f){var m=this.constructor,g=this.mainType+"Model";d||l.eachSeries(function(p){var y=p.get(this.mainType,!0),_=p[g];if(!y||!y.data){p[g]=null;return}_?_._mergeOption(y,l,!0):(f&&o(y),t.each(y.data,function(S){S instanceof Array?(o(S[0]),o(S[1])):o(S)}),_=new m(y,this,l),t.extend(_,{mainType:this.mainType,seriesIndex:p.seriesIndex,name:p.name,createdBySelf:!0}),_.__hostSeries=p),p[g]=_},this)},formatTooltip:function(v){var l=this.getData(),d=this.getRawValue(v),f=t.isArray(d)?t.map(d,u).join(", "):u(d),m=l.getName(v),g=c(this.name);return(d!=null||m)&&(g+="<br />"),m&&(g+=c(m),d!=null&&(g+=" : ")),d!=null&&(g+=c(f)),g},getData:function(){return this._data},setData:function(v){this._data=v}});t.mixin(h,n);var s=h;return Ic=s,Ic}var Rc,Zb;function Nq(){if(Zb)return Rc;Zb=1;var e=xg(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return Rc=t,Rc}var da={},Yb;function Sg(){if(Yb)return da;Yb=1;var e=Z,t=Oe(),r=Tr(),a=r.isDimensionStacked,i=e.indexOf;function n(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function u(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function c(g,p,y,_,S,T){var w=[],x=a(p,_),b=x?p.getCalculationInfo("stackResultDimension"):_,A=m(p,b,g),C=p.indicesOfNearest(b,A)[0];w[S]=p.get(y,C),w[T]=p.get(b,C);var M=p.get(_,C),D=t.getPrecision(p.get(_,C));return D=Math.min(D,20),D>=0&&(w[T]=+w[T].toFixed(D)),[w,M]}var o=e.curry,h={min:o(c,"min"),max:o(c,"max"),average:o(c,"average")};function s(g,p){var y=g.getData(),_=g.coordinateSystem;if(p&&!u(p)&&!e.isArray(p.coord)&&_){var S=_.dimensions,T=v(p,y,_,g);if(p=e.clone(p),p.type&&h[p.type]&&T.baseAxis&&T.valueAxis){var w=i(S,T.baseAxis.dim),x=i(S,T.valueAxis.dim),b=h[p.type](y,T.baseDataDim,T.valueDataDim,w,x);p.coord=b[0],p.value=b[1]}else{for(var A=[p.xAxis!=null?p.xAxis:p.radiusAxis,p.yAxis!=null?p.yAxis:p.angleAxis],C=0;C<2;C++)h[A[C]]&&(A[C]=m(y,y.mapDimension(S[C]),A[C]));p.coord=A}}return p}function v(g,p,y,_){var S={};return g.valueIndex!=null||g.valueDim!=null?(S.valueDataDim=g.valueIndex!=null?p.getDimension(g.valueIndex):g.valueDim,S.valueAxis=y.getAxis(l(_,S.valueDataDim)),S.baseAxis=y.getOtherAxis(S.valueAxis),S.baseDataDim=p.mapDimension(S.baseAxis.dim)):(S.baseAxis=_.getBaseAxis(),S.valueAxis=y.getOtherAxis(S.baseAxis),S.baseDataDim=p.mapDimension(S.baseAxis.dim),S.valueDataDim=p.mapDimension(S.valueAxis.dim)),S}function l(g,p){var y=g.getData(),_=y.dimensions;p=y.getDimension(p);for(var S=0;S<_.length;S++){var T=y.getDimensionInfo(_[S]);if(T.name===p)return T.coordDim}}function d(g,p){return g&&g.containData&&p.coord&&!n(p)?g.containData(p.coord):!0}function f(g,p,y,_){return _<2?g.coord&&g.coord[_]:g.value}function m(g,p,y){if(y==="average"){var _=0,S=0;return g.each(p,function(T,w){isNaN(T)||(_+=T,S++)}),_/S}else return y==="median"?g.getMedian(p):g.getDataExtent(p,!0)[y==="max"?1:0]}return da.dataTransform=s,da.getAxisInfo=v,da.dataFilter=d,da.dimValueGetter=f,da.numCalculate=m,da}var Ec,Xb;function bg(){if(Xb)return Ec;Xb=1;var e=we,t=Z,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(a,i,n){var u=this.markerGroupMap;u.each(function(o){o.__keep=!1});var c=this.type+"Model";i.eachSeries(function(o){var h=o[c];h&&this.renderSeries(o,h,i,n)},this),u.each(function(o){!o.__keep&&this.group.remove(o.group)},this)},renderSeries:function(){}});return Ec=r,Ec}var kc,Kb;function Vq(){if(Kb)return kc;Kb=1;var e=Z,t=Mn(),r=Oe(),a=Yt(),i=Sg(),n=bg();function u(h,s,v){var l=s.coordinateSystem;h.each(function(d){var f=h.getItemModel(d),m,g=r.parsePercent(f.get("x"),v.getWidth()),p=r.parsePercent(f.get("y"),v.getHeight());if(!isNaN(g)&&!isNaN(p))m=[g,p];else if(s.getMarkerPosition)m=s.getMarkerPosition(h.getValues(h.dimensions,d));else if(l){var y=h.get(l.dimensions[0],d),_=h.get(l.dimensions[1],d);m=l.dataToPoint([y,_])}isNaN(g)||(m[0]=g),isNaN(p)||(m[1]=p),h.setItemLayout(d,m)})}var c=n.extend({type:"markPoint",updateTransform:function(h,s,v){s.eachSeries(function(l){var d=l.markPointModel;d&&(u(d.getData(),l,v),this.markerGroupMap.get(l.id).updateLayout(d))},this)},renderSeries:function(h,s,v,l){var d=h.coordinateSystem,f=h.id,m=h.getData(),g=this.markerGroupMap,p=g.get(f)||g.set(f,new t),y=o(d,h,s);s.setData(y),u(s.getData(),h,l),y.each(function(_){var S=y.getItemModel(_),T=S.getShallow("symbol"),w=S.getShallow("symbolSize"),x=e.isFunction(T),b=e.isFunction(w);if(x||b){var A=s.getRawValue(_),C=s.getDataParams(_);x&&(T=T(A,C)),b&&(w=w(A,C))}y.setItemVisual(_,{symbol:T,symbolSize:w,color:S.get("itemStyle.color")||m.getVisual("color")})}),p.updateData(y),this.group.add(p.group),y.eachItemGraphicEl(function(_){_.traverse(function(S){S.dataModel=s})}),p.__keep=!0,p.group.silent=s.get("silent")||h.get("silent")}});function o(h,s,v){var l;h?l=e.map(h&&h.dimensions,function(m){var g=s.getData().getDimensionInfo(s.getData().mapDimension(m))||{};return e.defaults({name:m},g)}):l=[{name:"value",type:"float"}];var d=new a(l,v),f=e.map(v.get("data"),e.curry(i.dataTransform,s));return h&&(f=e.filter(f,e.curry(i.dataFilter,h))),d.initData(f,null,h?i.dimValueGetter:function(m){return m.value}),d}return kc=c,kc}var Qb;function Hq(){if(Qb)return Ub;Qb=1;var e=we;return Nq(),Vq(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),Ub}var Jb={},Oc,jb;function qq(){if(jb)return Oc;jb=1;var e=xg(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return Oc=t,Oc}var zc,ew;function Gq(){if(ew)return zc;ew=1;var e=Z,t=Yt(),r=Oe(),a=Sg(),i=hg(),n=bg(),u=Tr(),c=u.getStackedDimension,o=function(m,g,p,y){var _=m.getData(),S=y.type;if(!e.isArray(y)&&(S==="min"||S==="max"||S==="average"||S==="median"||y.xAxis!=null||y.yAxis!=null)){var T,w;if(y.yAxis!=null||y.xAxis!=null)T=g.getAxis(y.yAxis!=null?"y":"x"),w=e.retrieve(y.yAxis,y.xAxis);else{var x=a.getAxisInfo(y,_,g,m);T=x.valueAxis;var b=c(_,x.valueDataDim);w=a.numCalculate(_,b,S)}var A=T.dim==="x"?0:1,C=1-A,M=e.clone(y),D={};M.type=null,M.coord=[],D.coord=[],M.coord[C]=-1/0,D.coord[C]=1/0;var L=p.get("precision");L>=0&&typeof w=="number"&&(w=+w.toFixed(Math.min(L,20))),M.coord[A]=D.coord[A]=w,y=[M,D,{type:S,valueIndex:y.valueIndex,value:w}]}return y=[a.dataTransform(m,y[0]),a.dataTransform(m,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function h(m){return!isNaN(m)&&!isFinite(m)}function s(m,g,p,y){var _=1-m,S=y.dimensions[m];return h(g[_])&&h(p[_])&&g[m]===p[m]&&y.getAxis(S).containData(g[m])}function v(m,g){if(m.type==="cartesian2d"){var p=g[0].coord,y=g[1].coord;if(p&&y&&(s(1,p,y,m)||s(0,p,y,m)))return!0}return a.dataFilter(m,g[0])&&a.dataFilter(m,g[1])}function l(m,g,p,y,_){var S=y.coordinateSystem,T=m.getItemModel(g),w,x=r.parsePercent(T.get("x"),_.getWidth()),b=r.parsePercent(T.get("y"),_.getHeight());if(!isNaN(x)&&!isNaN(b))w=[x,b];else{if(y.getMarkerPosition)w=y.getMarkerPosition(m.getValues(m.dimensions,g));else{var A=S.dimensions,C=m.get(A[0],g),M=m.get(A[1],g);w=S.dataToPoint([C,M])}if(S.type==="cartesian2d"){var D=S.getAxis("x"),L=S.getAxis("y"),A=S.dimensions;h(m.get(A[0],g))?w[0]=D.toGlobalCoord(D.getExtent()[p?0:1]):h(m.get(A[1],g))&&(w[1]=L.toGlobalCoord(L.getExtent()[p?0:1]))}isNaN(x)||(w[0]=x),isNaN(b)||(w[1]=b)}m.setItemLayout(g,w)}var d=n.extend({type:"markLine",updateTransform:function(m,g,p){g.eachSeries(function(y){var _=y.markLineModel;if(_){var S=_.getData(),T=_.__from,w=_.__to;T.each(function(x){l(T,x,!0,y,p),l(w,x,!1,y,p)}),S.each(function(x){S.setItemLayout(x,[T.getItemLayout(x),w.getItemLayout(x)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(m,g,p,y){var _=m.coordinateSystem,S=m.id,T=m.getData(),w=this.markerGroupMap,x=w.get(S)||w.set(S,new i);this.group.add(x.group);var b=f(_,m,g),A=b.from,C=b.to,M=b.line;g.__from=A,g.__to=C,g.setData(M);var D=g.get("symbol"),L=g.get("symbolSize");e.isArray(D)||(D=[D,D]),typeof L=="number"&&(L=[L,L]),b.from.each(function(I){P(A,I,!0),P(C,I,!1)}),M.each(function(I){var E=M.getItemModel(I).get("lineStyle.color");M.setItemVisual(I,{color:E||A.getItemVisual(I,"color")}),M.setItemLayout(I,[A.getItemLayout(I),C.getItemLayout(I)]),M.setItemVisual(I,{fromSymbolSize:A.getItemVisual(I,"symbolSize"),fromSymbol:A.getItemVisual(I,"symbol"),toSymbolSize:C.getItemVisual(I,"symbolSize"),toSymbol:C.getItemVisual(I,"symbol")})}),x.updateData(M),b.line.eachItemGraphicEl(function(I,E){I.traverse(function(O){O.dataModel=g})});function P(I,E,O){var z=I.getItemModel(E);l(I,E,O,m,y),I.setItemVisual(E,{symbolSize:z.get("symbolSize")||L[O?0:1],symbol:z.get("symbol",!0)||D[O?0:1],color:z.get("itemStyle.color")||T.getVisual("color")})}x.__keep=!0,x.group.silent=g.get("silent")||m.get("silent")}});function f(m,g,p){var y;m?y=e.map(m&&m.dimensions,function(b){var A=g.getData().getDimensionInfo(g.getData().mapDimension(b))||{};return e.defaults({name:b},A)}):y=[{name:"value",type:"float"}];var _=new t(y,p),S=new t(y,p),T=new t([],p),w=e.map(p.get("data"),e.curry(o,g,m,p));m&&(w=e.filter(w,e.curry(v,m)));var x=m?a.dimValueGetter:function(b){return b.value};return _.initData(e.map(w,function(b){return b[0]}),null,x),S.initData(e.map(w,function(b){return b[1]}),null,x),T.initData(e.map(w,function(b){return b[2]})),T.hasItemOption=!0,{from:_,to:S,line:T}}return zc=d,zc}var tw;function Fq(){if(tw)return Jb;tw=1;var e=we;return qq(),Gq(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),Jb}var rw={},Bc,aw;function $q(){if(aw)return Bc;aw=1;var e=xg(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return Bc=t,Bc}var iw={},nw;function Uq(){if(nw)return iw;nw=1;var e=Z,t=ut,r=Yt(),a=Oe(),i=me,n=Sg(),u=bg(),c=function(f,m,g,p){var y=n.dataTransform(f,p[0]),_=n.dataTransform(f,p[1]),S=e.retrieve,T=y.coord,w=_.coord;T[0]=S(T[0],-1/0),T[1]=S(T[1],-1/0),w[0]=S(w[0],1/0),w[1]=S(w[1],1/0);var x=e.mergeAll([{},y,_]);return x.coord=[y.coord,_.coord],x.x0=y.x,x.y0=y.y,x.x1=_.x,x.y1=_.y,x};function o(f){return!isNaN(f)&&!isFinite(f)}function h(f,m,g,p){var y=1-f;return o(m[y])&&o(g[y])}function s(f,m){var g=m.coord[0],p=m.coord[1];return f.type==="cartesian2d"&&g&&p&&(h(1,g,p)||h(0,g,p))?!0:n.dataFilter(f,{coord:g,x:m.x0,y:m.y0})||n.dataFilter(f,{coord:p,x:m.x1,y:m.y1})}function v(f,m,g,p,y){var _=p.coordinateSystem,S=f.getItemModel(m),T,w=a.parsePercent(S.get(g[0]),y.getWidth()),x=a.parsePercent(S.get(g[1]),y.getHeight());if(!isNaN(w)&&!isNaN(x))T=[w,x];else{if(p.getMarkerPosition)T=p.getMarkerPosition(f.getValues(g,m));else{var b=f.get(g[0],m),A=f.get(g[1],m),C=[b,A];_.clampData&&_.clampData(C,C),T=_.dataToPoint(C,!0)}if(_.type==="cartesian2d"){var M=_.getAxis("x"),D=_.getAxis("y"),b=f.get(g[0],m),A=f.get(g[1],m);o(b)?T[0]=M.toGlobalCoord(M.getExtent()[g[0]==="x0"?0:1]):o(A)&&(T[1]=D.toGlobalCoord(D.getExtent()[g[1]==="y0"?0:1]))}isNaN(w)||(T[0]=w),isNaN(x)||(T[1]=x)}return T}var l=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];u.extend({type:"markArea",updateTransform:function(f,m,g){m.eachSeries(function(p){var y=p.markAreaModel;if(y){var _=y.getData();_.each(function(S){var T=e.map(l,function(x){return v(_,S,x,p,g)});_.setItemLayout(S,T);var w=_.getItemGraphicEl(S);w.setShape("points",T)})}},this)},renderSeries:function(f,m,g,p){var y=f.coordinateSystem,_=f.id,S=f.getData(),T=this.markerGroupMap,w=T.get(_)||T.set(_,{group:new i.Group});this.group.add(w.group),w.__keep=!0;var x=d(y,f,m);m.setData(x),x.each(function(b){x.setItemLayout(b,e.map(l,function(A){return v(x,b,A,f,p)})),x.setItemVisual(b,{color:S.getVisual("color")})}),x.diff(w.__data).add(function(b){var A=new i.Polygon({shape:{points:x.getItemLayout(b)}});x.setItemGraphicEl(b,A),w.group.add(A)}).update(function(b,A){var C=w.__data.getItemGraphicEl(A);i.updateProps(C,{shape:{points:x.getItemLayout(b)}},m,b),w.group.add(C),x.setItemGraphicEl(b,C)}).remove(function(b){var A=w.__data.getItemGraphicEl(b);w.group.remove(A)}).execute(),x.eachItemGraphicEl(function(b,A){var C=x.getItemModel(A),M=C.getModel("label"),D=C.getModel("emphasis.label"),L=x.getItemVisual(A,"color");b.useStyle(e.defaults(C.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(L,.4),stroke:L})),b.hoverStyle=C.getModel("emphasis.itemStyle").getItemStyle(),i.setLabelStyle(b.style,b.hoverStyle,M,D,{labelFetcher:m,labelDataIndex:A,defaultText:x.getName(A)||"",isRectText:!0,autoColor:L}),i.setHoverStyle(b,{}),b.dataModel=m}),w.__data=x,w.group.silent=m.get("silent")||f.get("silent")}});function d(f,m,g){var p,y,_=["x0","y0","x1","y1"];f?(p=e.map(f&&f.dimensions,function(w){var x=m.getData(),b=x.getDimensionInfo(x.mapDimension(w))||{};return e.defaults({name:w},b)}),y=new r(e.map(_,function(w,x){return{name:w,type:p[x%2].type}}),g)):(p=[{name:"value",type:"float"}],y=new r(p,g));var S=e.map(g.get("data"),e.curry(c,m,f,g));f&&(S=e.filter(S,e.curry(s,f)));var T=f?function(w,x,b,A){return w.coord[Math.floor(A/2)][A%2]}:function(w){return w.value};return y.initData(S,null,T),y.hasItemOption=!0,y}return iw}var ow;function Wq(){if(ow)return rw;ow=1;var e=we;return $q(),Uq(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),rw}var sw={},lw={},Nc,uw;function YM(){if(uw)return Nc;uw=1;var e=we,t=Z,r=ht(),a=Re,i=a.isNameSpecified,n=aa,u=n.legend.selector,c={all:{type:"all",title:t.clone(u.all)},inverse:{type:"inverse",title:t.clone(u.inverse)}},o=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(s,v,l){this.mergeDefaultAndTheme(s,l),s.selected=s.selected||{},this._updateSelector(s)},mergeOption:function(s){o.superCall(this,"mergeOption",s),this._updateSelector(s)},_updateSelector:function(s){var v=s.selector;v===!0&&(v=s.selector=["all","inverse"]),t.isArray(v)&&t.each(v,function(l,d){t.isString(l)&&(l={type:l}),v[d]=t.merge(l,c[l.type])})},optionUpdated:function(){this._updateData(this.ecModel);var s=this._data;if(s[0]&&this.get("selectedMode")==="single"){for(var v=!1,l=0;l<s.length;l++){var d=s[l].get("name");if(this.isSelected(d)){this.select(d),v=!0;break}}!v&&this.select(s[0].get("name"))}},_updateData:function(s){var v=[],l=[];s.eachRawSeries(function(m){var g=m.name;l.push(g);var p;if(m.legendVisualProvider){var y=m.legendVisualProvider,_=y.getAllNames();s.isSeriesFiltered(m)||(l=l.concat(_)),_.length?v=v.concat(_):p=!0}else p=!0;p&&i(m)&&v.push(m.name)}),this._availableNames=l;var d=this.get("data")||v,f=t.map(d,function(m){return(typeof m=="string"||typeof m=="number")&&(m={name:m}),new r(m,this,this.ecModel)},this);this._data=f},getData:function(){return this._data},select:function(s){var v=this.option.selected,l=this.get("selectedMode");if(l==="single"){var d=this._data;t.each(d,function(f){v[f.get("name")]=!1})}v[s]=!0},unSelect:function(s){this.get("selectedMode")!=="single"&&(this.option.selected[s]=!1)},toggleSelected:function(s){var v=this.option.selected;v.hasOwnProperty(s)||(v[s]=!0),this[v[s]?"unSelect":"select"](s)},allSelect:function(){var s=this._data,v=this.option.selected;t.each(s,function(l){v[l.get("name",!0)]=!0})},inverseSelect:function(){var s=this._data,v=this.option.selected;t.each(s,function(l){var d=l.get("name",!0);v.hasOwnProperty(d)||(v[d]=!0),v[d]=!v[d]})},isSelected:function(s){var v=this.option.selected;return!(v.hasOwnProperty(s)&&!v[s])&&t.indexOf(this._availableNames,s)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=o;return Nc=h,Nc}var vw={},hw;function Zq(){if(hw)return vw;hw=1;var e=we,t=Z;function r(a,i,n){var u={},c=a==="toggleSelected",o;return n.eachComponent("legend",function(h){c&&o!=null?h[o?"select":"unSelect"](i.name):a==="allSelect"||a==="inverseSelect"?h[a]():(h[a](i.name),o=h.isSelected(i.name));var s=h.getData();t.each(s,function(v){var l=v.get("name");if(!(l===`
`||l==="")){var d=h.isSelected(l);u.hasOwnProperty(l)?u[l]=u[l]&&d:u[l]=d}})}),a==="allSelect"||a==="inverseSelect"?{selected:u}:{name:i.name,selected:u}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(r,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(r,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),vw}var Vc,cw;function XM(){if(cw)return Vc;cw=1;var e=we,t=Z,r=Xt(),a=r.createSymbol,i=me,n=$M(),u=n.makeBackground,c=Ne,o=t.curry,h=t.each,s=i.Group,v=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new s),this._backgroundEl,this.group.add(this._selectorGroup=new s),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(g,p,y){var _=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!g.get("show",!0)){var S=g.get("align"),T=g.get("orient");(!S||S==="auto")&&(S=g.get("left")==="right"&&T==="vertical"?"right":"left");var w=g.get("selector",!0),x=g.get("selectorPosition",!0);w&&(!x||x==="auto")&&(x=T==="horizontal"?"end":"start"),this.renderInner(S,g,p,y,w,T,x);var b=g.getBoxLayoutParams(),A={width:y.getWidth(),height:y.getHeight()},C=g.get("padding"),M=c.getLayoutRect(b,A,C),D=this.layoutInner(g,S,M,_,w,x),L=c.getLayoutRect(t.defaults({width:D.width,height:D.height},b),A,C);this.group.attr("position",[L.x-D.x,L.y-D.y]),this.group.add(this._backgroundEl=u(D,g))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(g,p,y,_,S,T,w){var x=this.getContentGroup(),b=t.createHashMap(),A=p.get("selectedMode"),C=[];y.eachRawSeries(function(M){!M.get("legendHoverLink")&&C.push(M.id)}),h(p.getData(),function(M,D){var L=M.get("name");if(!this.newlineDisabled&&(L===""||L===`
`)){x.add(new s({newline:!0}));return}var P=y.getSeriesByName(L)[0];if(!b.get(L))if(P){var I=P.getData(),E=I.getVisual("color"),O=I.getVisual("borderColor");typeof E=="function"&&(E=E(P.getDataParams(0))),typeof O=="function"&&(O=O(P.getDataParams(0)));var z=I.getVisual("legendSymbol")||"roundRect",G=I.getVisual("symbol"),V=this._createItem(L,D,M,p,z,G,g,E,O,A);V.on("click",o(d,L,null,_,C)).on("mouseover",o(f,P.name,null,_,C)).on("mouseout",o(m,P.name,null,_,C)),b.set(L,!0)}else y.eachRawSeries(function(R){if(!b.get(L)&&R.legendVisualProvider){var B=R.legendVisualProvider;if(!B.containName(L))return;var k=B.indexOfName(L),N=B.getItemVisual(k,"color"),q=B.getItemVisual(k,"borderColor"),H="roundRect",F=this._createItem(L,D,M,p,H,null,g,N,q,A);F.on("click",o(d,null,L,_,C)).on("mouseover",o(f,null,L,_,C)).on("mouseout",o(m,null,L,_,C)),b.set(L,!0)}},this)},this),S&&this._createSelector(S,p,_,T,w)},_createSelector:function(g,p,y,_,S){var T=this.getSelectorGroup();h(g,function(x){w(x)});function w(x){var b=x.type,A=new i.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:b==="all"?"legendAllSelect":"legendInverseSelect"})}});T.add(A);var C=p.getModel("selectorLabel"),M=p.getModel("emphasis.selectorLabel");i.setLabelStyle(A.style,A.hoverStyle={},C,M,{defaultText:x.title,isRectText:!1}),i.setHoverStyle(A)}},_createItem:function(g,p,y,_,S,T,w,x,b,A){var C=_.get("itemWidth"),M=_.get("itemHeight"),D=_.get("inactiveColor"),L=_.get("inactiveBorderColor"),P=_.get("symbolKeepAspect"),I=_.getModel("itemStyle"),E=_.isSelected(g),O=new s,z=y.getModel("textStyle"),G=y.get("icon"),V=y.getModel("tooltip"),R=V.parentModel;S=G||S;var B=a(S,0,0,C,M,E?x:D,P??!0);if(O.add(l(B,S,I,b,L,E)),!G&&T&&(T!==S||T==="none")){var k=M*.8;T==="none"&&(T="circle");var N=a(T,(C-k)/2,(M-k)/2,k,k,E?x:D,P??!0);O.add(l(N,T,I,b,L,E))}var q=w==="left"?C+5:-5,H=w,F=_.get("formatter"),U=g;typeof F=="string"&&F?U=F.replace("{name}",g??""):typeof F=="function"&&(U=F(g)),O.add(new i.Text({style:i.setTextStyle({},z,{text:U,x:q,y:M/2,textFill:E?z.getTextColor():D,textAlign:H,textVerticalAlign:"middle"})}));var W=new i.Rect({shape:O.getBoundingRect(),invisible:!0,tooltip:V.get("show")?t.extend({content:g,formatter:R.get("formatter",!0)||function(){return g},formatterParams:{componentType:"legend",legendIndex:_.componentIndex,name:g,$vars:["name"]}},V.option):null});return O.add(W),O.eachChild(function(K){K.silent=!0}),W.silent=!A,this.getContentGroup().add(O),i.setHoverStyle(O),O.__legendDataIndex=p,O},layoutInner:function(g,p,y,_,S,T){var w=this.getContentGroup(),x=this.getSelectorGroup();c.box(g.get("orient"),w,g.get("itemGap"),y.width,y.height);var b=w.getBoundingRect(),A=[-b.x,-b.y];if(S){c.box("horizontal",x,g.get("selectorItemGap",!0));var C=x.getBoundingRect(),M=[-C.x,-C.y],D=g.get("selectorButtonGap",!0),L=g.getOrient().index,P=L===0?"width":"height",I=L===0?"height":"width",E=L===0?"y":"x";T==="end"?M[L]+=b[P]+D:A[L]+=C[P]+D,M[1-L]+=b[I]/2-C[I]/2,x.attr("position",M),w.attr("position",A);var O={x:0,y:0};return O[P]=b[P]+D+C[P],O[I]=Math.max(b[I],C[I]),O[E]=Math.min(0,C[E]+M[1-L]),O}else return w.attr("position",A),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function l(g,p,y,_,S,T){var w;return p!=="line"&&p.indexOf("empty")<0?(w=y.getItemStyle(),g.style.stroke=_,T||(w.stroke=S)):w=y.getItemStyle(["borderWidth","borderColor"]),g.setStyle(w)}function d(g,p,y,_){m(g,p,y,_),y.dispatchAction({type:"legendToggleSelect",name:g??p}),f(g,p,y,_)}function f(g,p,y,_){var S=y.getZr().storage.getDisplayList()[0];S&&S.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:g,name:p,excludeSeriesId:_})}function m(g,p,y,_){var S=y.getZr().storage.getDisplayList()[0];S&&S.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:g,name:p,excludeSeriesId:_})}return Vc=v,Vc}var Hc,fw;function Yq(){if(fw)return Hc;fw=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(a){for(var i=0;i<r.length;i++)if(!r[i].isSelected(a.name))return!1;return!0})}return Hc=e,Hc}var dw;function KM(){if(dw)return lw;dw=1;var e=we;YM(),Zq(),XM();var t=Yq(),r=ft;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),lw}var qc,gw;function Xq(){if(gw)return qc;gw=1;var e=YM(),t=Ne,r=t.mergeLayoutParam,a=t.getLayoutParams,i=e.extend({type:"legend.scroll",setScrollDataIndex:function(c){this.option.scrollDataIndex=c},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(c,o,h,s){var v=a(c);i.superCall(this,"init",c,o,h,s),n(this,c,v)},mergeOption:function(c,o){i.superCall(this,"mergeOption",c,o),n(this,this.option,c)}});function n(c,o,h){var s=c.getOrient(),v=[1,1];v[s.index]=0,r(o,h,{type:"box",ignoreSize:v})}var u=i;return qc=u,qc}var Gc,pw;function Kq(){if(pw)return Gc;pw=1;var e=Z,t=me,r=Ne,a=XM(),i=t.Group,n=["width","height"],u=["x","y"],c=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){c.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i),this._showController},resetInner:function(){c.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(h,s,v,l,d,f,m){var g=this;c.superCall(this,"renderInner",h,s,v,l,d,f,m);var p=this._controllerGroup,y=s.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),S("pagePrev",0);var _=s.getModel("pageTextStyle");p.add(new t.Text({name:"pageText",style:{textFill:_.getTextColor(),font:_.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),S("pageNext",1);function S(T,w){var x=T+"DataIndex",b=t.createIcon(s.get("pageIcons",!0)[s.getOrient().name][w],{onclick:e.bind(g._pageGo,g,x,s,l)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});b.name=T,p.add(b)}},layoutInner:function(h,s,v,l,d,f){var m=this.getSelectorGroup(),g=h.getOrient().index,p=n[g],y=u[g],_=n[1-g],S=u[1-g];d&&r.box("horizontal",m,h.get("selectorItemGap",!0));var T=h.get("selectorButtonGap",!0),w=m.getBoundingRect(),x=[-w.x,-w.y],b=e.clone(v);d&&(b[p]=v[p]-w[p]-T);var A=this._layoutContentAndController(h,l,b,g,p,_,S);if(d){if(f==="end")x[g]+=A[p]+T;else{var C=w[p]+T;x[g]-=C,A[y]-=C}A[p]+=w[p]+T,x[1-g]+=A[S]+A[_]/2-w[_]/2,A[_]=Math.max(A[_],w[_]),A[S]=Math.min(A[S],w[S]+x[1-g]),m.attr("position",x)}return A},_layoutContentAndController:function(h,s,v,l,d,f,m){var g=this.getContentGroup(),p=this._containerGroup,y=this._controllerGroup;r.box(h.get("orient"),g,h.get("itemGap"),l?v.width:null,l?null:v.height),r.box("horizontal",y,h.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),S=y.getBoundingRect(),T=this._showController=_[d]>v[d],w=[-_.x,-_.y];s||(w[l]=g.position[l]);var x=[0,0],b=[-S.x,-S.y],A=e.retrieve2(h.get("pageButtonGap",!0),h.get("itemGap",!0));if(T){var C=h.get("pageButtonPosition",!0);C==="end"?b[l]+=v[d]-S[d]:x[l]+=S[d]+A}b[1-l]+=_[f]/2-S[f]/2,g.attr("position",w),p.attr("position",x),y.attr("position",b);var M={x:0,y:0};if(M[d]=T?v[d]:_[d],M[f]=Math.max(_[f],S[f]),M[m]=Math.min(0,S[m]+b[1-l]),p.__rectSize=v[d],T){var D={x:0,y:0};D[d]=Math.max(v[d]-S[d]-A,0),D[f]=M[f],p.setClipPath(new t.Rect({shape:D})),p.__rectSize=D[d]}else y.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(h);return L.pageIndex!=null&&t.updateProps(g,{position:L.contentPosition},T?h:!1),this._updatePageInfoView(h,L),M},_pageGo:function(h,s,v){var l=this._getPageInfo(s)[h];l!=null&&v.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:s.id})},_updatePageInfoView:function(h,s){var v=this._controllerGroup;e.each(["pagePrev","pageNext"],function(p){var y=s[p+"DataIndex"]!=null,_=v.childOfName(p);_&&(_.setStyle("fill",y?h.get("pageIconColor",!0):h.get("pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var l=v.childOfName("pageText"),d=h.get("pageFormatter"),f=s.pageIndex,m=f!=null?f+1:0,g=s.pageCount;l&&d&&l.setStyle("text",e.isString(d)?d.replace("{current}",m).replace("{total}",g):d({current:m,total:g}))},_getPageInfo:function(h){var s=h.get("scrollDataIndex",!0),v=this.getContentGroup(),l=this._containerGroup.__rectSize,d=h.getOrient().index,f=n[d],m=u[d],g=this._findTargetItemIndex(s),p=v.children(),y=p[g],_=p.length,S=_?1:0,T={contentPosition:v.position.slice(),pageCount:S,pageIndex:S-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return T;var w=M(y);T.contentPosition[d]=-w.s;for(var x=g+1,b=w,A=w,C=null;x<=_;++x)C=M(p[x]),(!C&&A.e>b.s+l||C&&!D(C,b.s))&&(A.i>b.i?b=A:b=C,b&&(T.pageNextDataIndex==null&&(T.pageNextDataIndex=b.i),++T.pageCount)),A=C;for(var x=g-1,b=w,A=w,C=null;x>=-1;--x)C=M(p[x]),(!C||!D(A,C.s))&&b.i<A.i&&(A=b,T.pagePrevDataIndex==null&&(T.pagePrevDataIndex=b.i),++T.pageCount,++T.pageIndex),b=C;return T;function M(L){if(L){var P=L.getBoundingRect(),I=P[m]+L.position[d];return{s:I,e:I+P[f],i:L.__legendDataIndex}}}function D(L,P){return L.e>=P&&L.s<=P+l}},_findTargetItemIndex:function(h){if(!this._showController)return 0;var s,v=this.getContentGroup(),l;return v.eachChild(function(d,f){var m=d.__legendDataIndex;l==null&&m!=null&&(l=f),m===h&&(s=f)}),s??l}}),o=c;return Gc=o,Gc}var mw={},yw;function Qq(){if(yw)return mw;yw=1;var e=we;return e.registerAction("legendScroll","legendscroll",function(t,r){var a=t.scrollDataIndex;a!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})}),mw}var _w;function Jq(){return _w||(_w=1,KM(),Xq(),Kq(),Qq()),sw}var xw={},Sw={},Fc,bw;function jq(){if(bw)return Fc;bw=1;var e=wi(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return Fc=r,Fc}var $c,ww;function eG(){if(ww)return $c;ww=1;var e=Z,t=ct,r=me,a=lr,i=Ai(),n=Oe(),u=Ne,c=bi(),o=r.Rect,h=n.linearMap,s=n.asc,v=e.bind,l=e.each,d=7,f=1,m=30,g="horizontal",p="vertical",y=5,_=["line","bar","candlestick","scatter"],S=i.extend({type:"dataZoom.slider",init:function(b,A){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=A},render:function(b,A,C,M){if(S.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!M||M.type!=="dataZoom"||M.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){S.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){S.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var b=this.group;b.removeAll(),this._resetLocation(),this._resetInterval();var A=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),b.add(A),this._positionGroup()},_resetLocation:function(){var b=this.dataZoomModel,A=this.api,C=this._findCoordRect(),M={width:A.getWidth(),height:A.getHeight()},D=this._orient===g?{right:M.width-C.x-C.width,top:M.height-m-d,width:C.width,height:m}:{right:d,top:C.y,width:m,height:C.height},L=u.getLayoutParams(b.option);e.each(["right","top","width","height"],function(I){L[I]==="ph"&&(L[I]=D[I])});var P=u.getLayoutRect(L,M,b.padding);this._location={x:P.x,y:P.y},this._size=[P.width,P.height],this._orient===p&&this._size.reverse()},_positionGroup:function(){var b=this.group,A=this._location,C=this._orient,M=this.dataZoomModel.getFirstTargetAxisModel(),D=M&&M.get("inverse"),L=this._displayables.barGroup,P=(this._dataShadowInfo||{}).otherAxisInverse;L.attr(C===g&&!D?{scale:P?[1,1]:[1,-1]}:C===g&&D?{scale:P?[-1,1]:[-1,-1]}:C===p&&!D?{scale:P?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:P?[-1,-1]:[-1,1],rotation:Math.PI/2});var I=b.getBoundingRect([L]);b.attr("position",[A.x-I.x,A.y-I.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var b=this.dataZoomModel,A=this._size,C=this._displayables.barGroup;C.add(new o({silent:!0,shape:{x:0,y:0,width:A[0],height:A[1]},style:{fill:b.get("backgroundColor")},z2:-40})),C.add(new o({shape:{x:0,y:0,width:A[0],height:A[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var b=this._dataShadowInfo=this._prepareDataShadowInfo();if(b){var A=this._size,C=b.series,M=C.getRawData(),D=C.getShadowDim?C.getShadowDim():b.otherDim;if(D!=null){var L=M.getDataExtent(D),P=(L[1]-L[0])*.3;L=[L[0]-P,L[1]+P];var I=[0,A[1]],E=[0,A[0]],O=[[A[0],0],[0,0]],z=[],G=E[1]/(M.count()-1),V=0,R=Math.round(M.count()/A[0]),B;M.each([D],function(N,q){if(R>0&&q%R){V+=G;return}var H=N==null||isNaN(N)||N==="",F=H?0:h(N,L,I,!0);H&&!B&&q?(O.push([O[O.length-1][0],0]),z.push([z[z.length-1][0],0])):!H&&B&&(O.push([V,0]),z.push([V,0])),O.push([V,F]),z.push([V,F]),V+=G,B=H});var k=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:O},style:e.defaults({fill:k.get("dataBackgroundColor")},k.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:z},style:k.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,A=b.get("showDataShadow");if(A!==!1){var C,M=this.ecModel;return b.eachTargetAxis(function(D,L){var P=b.getAxisProxy(D.name,L).getTargetSeriesModels();e.each(P,function(I){if(!C&&!(A!==!0&&e.indexOf(_,I.get("type"))<0)){var E=M.getComponent(D.axis,L).axis,O=T(D.name),z,G=I.coordinateSystem;O!=null&&G.getOtherAxis&&(z=G.getOtherAxis(E).inverse),O=I.getData().mapDimension(O),C={thisAxis:E,series:I,thisDim:D.name,otherDim:O,otherAxisInverse:z}}},this)},this),C}},_renderHandle:function(){var b=this._displayables,A=b.handles=[],C=b.handleLabels=[],M=this._displayables.barGroup,D=this._size,L=this.dataZoomModel;M.add(b.filler=new o({draggable:!0,cursor:w(this._orient),drift:v(this._onDragMove,this,"all"),ondragstart:v(this._showDataInfo,this,!0),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1),style:{fill:L.get("fillerColor"),textPosition:"inside"}})),M.add(new o({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:D[0],height:D[1]},style:{stroke:L.get("dataBackgroundColor")||L.get("borderColor"),lineWidth:f,fill:"rgba(0,0,0,0)"}})),l([0,1],function(P){var I=r.createIcon(L.get("handleIcon"),{cursor:w(this._orient),draggable:!0,drift:v(this._onDragMove,this,P),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),E=I.getBoundingRect();this._handleHeight=n.parsePercent(L.get("handleSize"),this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,I.setStyle(L.getModel("handleStyle").getItemStyle());var O=L.get("handleColor");O!=null&&(I.style.fill=O),M.add(A[P]=I);var z=L.textStyleModel;this.group.add(C[P]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:z.getTextColor(),textFont:z.getFont()},z2:10}))},this)},_resetInterval:function(){var b=this._range=this.dataZoomModel.getPercentRange(),A=this._getViewExtent();this._handleEnds=[h(b[0],[0,100],A,!0),h(b[1],[0,100],A,!0)]},_updateInterval:function(b,A){var C=this.dataZoomModel,M=this._handleEnds,D=this._getViewExtent(),L=C.findRepresentativeAxisProxy().getMinMaxSpan(),P=[0,100];c(A,M,D,C.get("zoomLock")?"all":b,L.minSpan!=null?h(L.minSpan,P,D,!0):null,L.maxSpan!=null?h(L.maxSpan,P,D,!0):null);var I=this._range,E=this._range=s([h(M[0],D,P,!0),h(M[1],D,P,!0)]);return!I||I[0]!==E[0]||I[1]!==E[1]},_updateView:function(b){var A=this._displayables,C=this._handleEnds,M=s(C.slice()),D=this._size;l([0,1],function(L){var P=A.handles[L],I=this._handleHeight;P.attr({scale:[I/2,I/2],position:[C[L],D[1]/2-I/2]})},this),A.filler.setShape({x:M[0],y:0,width:M[1]-M[0],height:D[1]}),this._updateDataInfo(b)},_updateDataInfo:function(b){var A=this.dataZoomModel,C=this._displayables,M=C.handleLabels,D=this._orient,L=["",""];if(A.get("showDetail")){var P=A.findRepresentativeAxisProxy();if(P){var I=P.getAxisModel().axis,E=this._range,O=b?P.calculateDataWindow({start:E[0],end:E[1]}).valueWindow:P.getDataValueWindow();L=[this._formatLabel(O[0],I),this._formatLabel(O[1],I)]}}var z=s(this._handleEnds.slice());G.call(this,0),G.call(this,1);function G(V){var R=r.getTransform(C.handles[V].parent,this.group),B=r.transformDirection(V===0?"right":"left",R),k=this._handleWidth/2+y,N=r.applyTransform([z[V]+(V===0?-k:k),this._size[1]/2],R);M[V].setStyle({x:N[0],y:N[1],textVerticalAlign:D===g?"middle":B,textAlign:D===g?B:"center",text:L[V]})}},_formatLabel:function(b,A){var C=this.dataZoomModel,M=C.get("labelFormatter"),D=C.get("labelPrecision");(D==null||D==="auto")&&(D=A.getPixelPrecision());var L=b==null||isNaN(b)?"":A.type==="category"||A.type==="time"?A.scale.getLabel(Math.round(b)):b.toFixed(Math.min(D,20));return e.isFunction(M)?M(b,L):e.isString(M)?M.replace("{value}",L):L},_showDataInfo:function(b){b=this._dragging||b;var A=this._displayables.handleLabels;A[0].attr("invisible",!b),A[1].attr("invisible",!b)},_onDragMove:function(b,A,C,M){this._dragging=!0,t.stop(M.event);var D=this._displayables.barGroup.getLocalTransform(),L=r.applyTransform([A,C],D,!0),P=this._updateInterval(b,L[0]),I=this.dataZoomModel.get("realtime");this._updateView(!I),P&&I&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var b=this.dataZoomModel.get("realtime");!b&&this._dispatchZoomAction()},_onClickPanelClick:function(b){var A=this._size,C=this._displayables.barGroup.transformCoordToLocal(b.offsetX,b.offsetY);if(!(C[0]<0||C[0]>A[0]||C[1]<0||C[1]>A[1])){var M=this._handleEnds,D=(M[0]+M[1])/2,L=this._updateInterval("all",C[0]-D);this._updateView(),L&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var b=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:b[0],end:b[1]})},_findCoordRect:function(){var b;if(l(this.getTargetCoordInfo(),function(M){if(!b&&M.length){var D=M[0].model.coordinateSystem;b=D.getRect&&D.getRect()}}),!b){var A=this.api.getWidth(),C=this.api.getHeight();b={x:A*.2,y:C*.2,width:A*.6,height:C*.6}}return b}});function T(b){var A={x:"y",y:"x",radius:"angle",angle:"radius"};return A[b]}function w(b){return b==="vertical"?"ns-resize":"ew-resize"}var x=S;return $c=x,$c}var Aw;function QM(){return Aw||(Aw=1,pg(),wi(),Ai(),jq(),eG(),yg(),_g()),Sw}var Tw={},Uc,Cw;function tG(){if(Cw)return Uc;Cw=1;var e=wi(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return Uc=t,Uc}var Gi={},Mw;function rG(){if(Mw)return Gi;Mw=1;var e=Z,t=En(),r=lr,a="\0_ec_dataZoom_roams";function i(l,d){var f=c(l),m=d.dataZoomId,g=d.coordId;e.each(f,function(_,S){var T=_.dataZoomInfos;T[m]&&e.indexOf(d.allCoordIds,g)<0&&(delete T[m],_.count--)}),h(f);var p=f[g];p||(p=f[g]={coordId:g,dataZoomInfos:{},count:0},p.controller=o(l,p),p.dispatchAction=e.curry(s,l)),!p.dataZoomInfos[m]&&p.count++,p.dataZoomInfos[m]=d;var y=v(p.dataZoomInfos);p.controller.enable(y.controlType,y.opt),p.controller.setPointerChecker(d.containsPoint),r.createOrUpdate(p,"dispatchAction",d.dataZoomModel.get("throttle",!0),"fixRate")}function n(l,d){var f=c(l);e.each(f,function(m){m.controller.dispose();var g=m.dataZoomInfos;g[d]&&(delete g[d],m.count--)}),h(f)}function u(l){return l.type+"\0_"+l.id}function c(l){var d=l.getZr();return d[a]||(d[a]={})}function o(l,d){var f=new t(l.getZr());return e.each(["pan","zoom","scrollMove"],function(m){f.on(m,function(g){var p=[];e.each(d.dataZoomInfos,function(y){if(g.isAvailableBehavior(y.dataZoomModel.option)){var _=(y.getRange||{})[m],S=_&&_(d.controller,g);!y.dataZoomModel.get("disabled",!0)&&S&&p.push({dataZoomId:y.dataZoomId,start:S[0],end:S[1]})}}),p.length&&d.dispatchAction(p)})}),f}function h(l){e.each(l,function(d,f){d.count||(d.controller.dispose(),delete l[f])})}function s(l,d){l.dispatchAction({type:"dataZoom",batch:d})}function v(l){var d,f="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0;return e.each(l,function(p){var y=p.dataZoomModel,_=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;m[f+_]>m[f+d]&&(d=_),g&=y.get("preventDefaultMouseMove",!0)}),{controlType:d,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}}}return Gi.register=i,Gi.unregister=n,Gi.generateCoordId=u,Gi}var Wc,Dw;function aG(){if(Dw)return Wc;Dw=1;var e=Z,t=Ai(),r=bi(),a=rG(),i=e.bind,n=t.extend({type:"dataZoom.inside",init:function(s,v){this._range},render:function(s,v,l,d){n.superApply(this,"render",arguments),this._range=s.getPercentRange(),e.each(this.getTargetCoordInfo(),function(f,m){var g=e.map(f,function(p){return a.generateCoordId(p.model)});e.each(f,function(p){var y=p.model,_={};e.each(["pan","zoom","scrollMove"],function(S){_[S]=i(u[S],this,p,m)},this),a.register(l,{coordId:a.generateCoordId(y),allCoordIds:g,containsPoint:function(S,T,w){return y.coordinateSystem.containPoint([T,w])},dataZoomId:s.id,dataZoomModel:s,getRange:_})},this)},this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),n.superApply(this,"dispose",arguments),this._range=null}}),u={zoom:function(s,v,l,d){var f=this._range,m=f.slice(),g=s.axisModels[0];if(g){var p=o[v](null,[d.originX,d.originY],g,l,s),y=(p.signal>0?p.pixelStart+p.pixelLength-p.pixel:p.pixel-p.pixelStart)/p.pixelLength*(m[1]-m[0])+m[0],_=Math.max(1/d.scale,0);m[0]=(m[0]-y)*_+y,m[1]=(m[1]-y)*_+y;var S=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,m,[0,100],0,S.minSpan,S.maxSpan),this._range=m,f[0]!==m[0]||f[1]!==m[1])return m}},pan:c(function(s,v,l,d,f,m){var g=o[d]([m.oldX,m.oldY],[m.newX,m.newY],v,f,l);return g.signal*(s[1]-s[0])*g.pixel/g.pixelLength}),scrollMove:c(function(s,v,l,d,f,m){var g=o[d]([0,0],[m.scrollDelta,m.scrollDelta],v,f,l);return g.signal*(s[1]-s[0])*m.scrollDelta})};function c(s){return function(v,l,d,f){var m=this._range,g=m.slice(),p=v.axisModels[0];if(p){var y=s(g,p,v,l,d,f);if(r(y,g,[0,100],"all"),this._range=g,m[0]!==g[0]||m[1]!==g[1])return g}}}var o={grid:function(s,v,l,d,f){var m=l.axis,g={},p=f.model.coordinateSystem.getRect();return s=s||[0,0],m.dim==="x"?(g.pixel=v[0]-s[0],g.pixelLength=p.width,g.pixelStart=p.x,g.signal=m.inverse?1:-1):(g.pixel=v[1]-s[1],g.pixelLength=p.height,g.pixelStart=p.y,g.signal=m.inverse?-1:1),g},polar:function(s,v,l,d,f){var m=l.axis,g={},p=f.model.coordinateSystem,y=p.getRadiusAxis().getExtent(),_=p.getAngleAxis().getExtent();return s=s?p.pointToCoord(s):[0,0],v=p.pointToCoord(v),l.mainType==="radiusAxis"?(g.pixel=v[0]-s[0],g.pixelLength=y[1]-y[0],g.pixelStart=y[0],g.signal=m.inverse?1:-1):(g.pixel=v[1]-s[1],g.pixelLength=_[1]-_[0],g.pixelStart=_[0],g.signal=m.inverse?-1:1),g},singleAxis:function(s,v,l,d,f){var m=l.axis,g=f.model.coordinateSystem.getRect(),p={};return s=s||[0,0],m.orient==="horizontal"?(p.pixel=v[0]-s[0],p.pixelLength=g.width,p.pixelStart=g.x,p.signal=m.inverse?1:-1):(p.pixel=v[1]-s[1],p.pixelLength=g.height,p.pixelStart=g.y,p.signal=m.inverse?-1:1),p}},h=n;return Wc=h,Wc}var Lw;function JM(){return Lw||(Lw=1,pg(),wi(),Ai(),tG(),aG(),yg(),_g()),Tw}var Pw;function iG(){return Pw||(Pw=1,QM(),JM()),xw}var Iw={},Rw={},Zc,Ew;function jM(){if(Ew)return Zc;Ew=1;var e=Z,t=e.each;function r(i){var n=i&&i.visualMap;e.isArray(n)||(n=n?[n]:[]),t(n,function(u){if(u){a(u,"splitList")&&!a(u,"pieces")&&(u.pieces=u.splitList,delete u.splitList);var c=u.pieces;c&&e.isArray(c)&&t(c,function(o){e.isObject(o)&&(a(o,"start")&&!a(o,"min")&&(o.min=o.start),a(o,"end")&&!a(o,"max")&&(o.max=o.end))})}})}function a(i,n){return i&&i.hasOwnProperty&&i.hasOwnProperty(n)}return Zc=r,Zc}var kw={},Ow;function eD(){if(Ow)return kw;Ow=1;var e=ft;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),kw}var zw={},Bw;function tD(){if(Bw)return zw;Bw=1;var e=we,t=Z,r=xs(),a=Pa(),i=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(i,{createOnAllSeries:!0,reset:function(u,c){var o=[];return c.eachComponent("visualMap",function(h){var s=u.pipelineContext;!h.isTargetSeries(u)||s&&s.large||o.push(r.incrementalApplyVisual(h.stateList,h.targetVisuals,t.bind(h.getValueState,h),h.getDataDimension(u.getData())))}),o}}),e.registerVisual(i,{createOnAllSeries:!0,reset:function(u,c){var o=u.getData(),h=[];c.eachComponent("visualMap",function(s){if(s.isTargetSeries(u)){var v=s.getVisualMeta(t.bind(n,null,u,s))||{stops:[],outerColors:[]},l=s.getDataDimension(o),d=o.getDimensionInfo(l);d!=null&&(v.dimension=d.index,h.push(v))}}),u.getData().setVisual("visualMeta",h)}});function n(u,c,o,h){for(var s=c.targetVisuals[h],v=a.prepareVisualTypes(s),l={color:u.getData().getVisual("color")},d=0,f=v.length;d<f;d++){var m=v[d],g=s[m==="opacity"?"__alphaForOpacity":m];g&&g.applyVisual(o,p,y)}return l.color;function p(_){return l[_]}function y(_,S){l[_]=S}}return zw}var Yc,Nw;function rD(){if(Nw)return Yc;Nw=1;var e=Z,t={get:function(i,n,u){var c=e.clone((r[i]||{})[n]);return u&&e.isArray(c)?c[c.length-1]:c}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=t;return Yc=a,Yc}var Xc,Vw;function aD(){if(Vw)return Xc;Vw=1;var e=we,t=Z,r=ot,a=rD(),i=Pa(),n=xs(),u=Re,c=Oe(),o=i.mapVisual,h=i.eachVisual,s=t.isArray,v=t.each,l=c.asc,d=c.linearMap,f=t.noop,m=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(p,y,_){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(p,_)},optionUpdated:function(p,y){var _=this.option;r.canvasSupported||(_.realtime=!1),!y&&n.replaceVisualOption(_,p,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(p){var y=this.stateList;p=t.bind(p,this),this.controllerVisuals=n.createVisualMappings(this.option.controller,y,p),this.targetVisuals=n.createVisualMappings(this.option.target,y,p)},getTargetSeriesIndices:function(){var p=this.option.seriesIndex,y=[];return p==null||p==="all"?this.ecModel.eachSeries(function(_,S){y.push(S)}):y=u.normalizeToArray(p),y},eachTargetSeries:function(p,y){t.each(this.getTargetSeriesIndices(),function(_){p.call(y,this.ecModel.getSeriesByIndex(_))},this)},isTargetSeries:function(p){var y=!1;return this.eachTargetSeries(function(_){_===p&&(y=!0)}),y},formatValueText:function(p,y,_){var S=this.option,T=S.precision,w=this.dataBound,x=S.formatter,b,A;if(_=_||["<",">"],t.isArray(p)&&(p=p.slice(),b=!0),A=y?p:b?[C(p[0]),C(p[1])]:C(p),t.isString(x))return x.replace("{value}",b?A[0]:A).replace("{value2}",b?A[1]:A);if(t.isFunction(x))return b?x(p[0],p[1]):x(p);if(b)return p[0]===w[0]?_[0]+" "+A[1]:p[1]===w[1]?_[1]+" "+A[0]:A[0]+" - "+A[1];return A;function C(M){return M===w[0]?"min":M===w[1]?"max":(+M).toFixed(Math.min(T,20))}},resetExtent:function(){var p=this.option,y=l([p.min,p.max]);this._dataExtent=y},getDataDimension:function(p){var y=this.option.dimension,_=p.dimensions;if(!(y==null&&!_.length)){if(y!=null)return p.getDimension(y);for(var S=p.dimensions,T=S.length-1;T>=0;T--){var w=S[T],x=p.getDimensionInfo(w);if(!x.isCalculationCoord)return w}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var p=this.ecModel,y=this.option,_={inRange:y.inRange,outOfRange:y.outOfRange},S=y.target||(y.target={}),T=y.controller||(y.controller={});t.merge(S,_),t.merge(T,_);var w=this.isCategory();x.call(this,S),x.call(this,T),b.call(this,S,"inRange","outOfRange"),A.call(this,T);function x(C){s(y.color)&&!C.inRange&&(C.inRange={color:y.color.slice().reverse()}),C.inRange=C.inRange||{color:p.get("gradientColor")},v(this.stateList,function(M){var D=C[M];if(t.isString(D)){var L=a.get(D,"active",w);L?(C[M]={},C[M][D]=L):delete C[M]}},this)}function b(C,M,D){var L=C[M],P=C[D];L&&!P&&(P=C[D]={},v(L,function(I,E){if(i.isValidType(E)){var O=a.get(E,"inactive",w);O!=null&&(P[E]=O,E==="color"&&!P.hasOwnProperty("opacity")&&!P.hasOwnProperty("colorAlpha")&&(P.opacity=[0,0]))}}))}function A(C){var M=(C.inRange||{}).symbol||(C.outOfRange||{}).symbol,D=(C.inRange||{}).symbolSize||(C.outOfRange||{}).symbolSize,L=this.get("inactiveColor");v(this.stateList,function(P){var I=this.itemSize,E=C[P];E||(E=C[P]={color:w?L:[L]}),E.symbol==null&&(E.symbol=M&&t.clone(M)||(w?"roundRect":["roundRect"])),E.symbolSize==null&&(E.symbolSize=D&&t.clone(D)||(w?I[0]:[I[0],I[0]])),E.symbol=o(E.symbol,function(G){return G==="none"||G==="square"?"roundRect":G});var O=E.symbolSize;if(O!=null){var z=-1/0;h(O,function(G){G>z&&(z=G)}),E.symbolSize=o(O,function(G){return d(G,[0,z],[0,I[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:f,getValueState:f,getVisualMeta:f}),g=m;return Xc=g,Xc}var Kc,Hw;function nG(){if(Hw)return Kc;Hw=1;var e=Z,t=aD(),r=Oe(),a=[20,140],i=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(c,o){i.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(h){h.mappingMethod="linear",h.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var c=this.itemSize;this._orient==="horizontal"&&c.reverse(),(c[0]==null||isNaN(c[0]))&&(c[0]=a[0]),(c[1]==null||isNaN(c[1]))&&(c[1]=a[1])},_resetRange:function(){var c=this.getExtent(),o=this.option.range;!o||o.auto?(c.auto=1,this.option.range=c):e.isArray(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],c[0]),o[1]=Math.min(o[1],c[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(c){var o=this.option.controller[c].symbolSize;o&&o[0]!==o[1]&&(o[0]=0)},this)},setSelected:function(c){this.option.range=c.slice(),this._resetRange()},getSelected:function(){var c=this.getExtent(),o=r.asc((this.get("range")||[]).slice());return o[0]>c[1]&&(o[0]=c[1]),o[1]>c[1]&&(o[1]=c[1]),o[0]<c[0]&&(o[0]=c[0]),o[1]<c[0]&&(o[1]=c[0]),o},getValueState:function(c){var o=this.option.range,h=this.getExtent();return(o[0]<=h[0]||o[0]<=c)&&(o[1]>=h[1]||c<=o[1])?"inRange":"outOfRange"},findTargetDataIndices:function(c){var o=[];return this.eachTargetSeries(function(h){var s=[],v=h.getData();v.each(this.getDataDimension(v),function(l,d){c[0]<=l&&l<=c[1]&&s.push(d)},this),o.push({seriesId:h.id,dataIndex:s})},this),o},getVisualMeta:function(c){var o=n(this,"outOfRange",this.getExtent()),h=n(this,"inRange",this.option.range.slice()),s=[];function v(y,_){s.push({value:y,color:c(y,_)})}for(var l=0,d=0,f=h.length,m=o.length;d<m&&(!h.length||o[d]<=h[0]);d++)o[d]<h[l]&&v(o[d],"outOfRange");for(var g=1;l<f;l++,g=0)g&&s.length&&v(h[l],"outOfRange"),v(h[l],"inRange");for(var g=1;d<m;d++)(!h.length||h[h.length-1]<o[d])&&(g&&(s.length&&v(s[s.length-1].value,"outOfRange"),g=0),v(o[d],"outOfRange"));var p=s.length;return{stops:s,outerColors:[p?s[0].color:"transparent",p?s[p-1].color:"transparent"]}}});function n(c,o,h){if(h[0]===h[1])return h.slice();for(var s=200,v=(h[1]-h[0])/s,l=h[0],d=[],f=0;f<=s&&l<h[1];f++)d.push(l),l+=v;return d.push(h[1]),d}var u=i;return Kc=u,Kc}var Qc,qw;function iD(){if(qw)return Qc;qw=1;var e=we,t=Z,r=me,a=Qe(),i=Ne,n=Pa(),u=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(c,o){this.ecModel=c,this.api=o,this.visualMapModel},render:function(c,o,h,s){if(this.visualMapModel=c,c.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(c){var o=this.visualMapModel,h=a.normalizeCssArray(o.get("padding")||0),s=c.getBoundingRect();c.add(new r.Rect({z2:-1,silent:!0,shape:{x:s.x-h[3],y:s.y-h[0],width:s.width+h[3]+h[1],height:s.height+h[0]+h[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},getControllerVisual:function(c,o,h){h=h||{};var s=h.forceState,v=this.visualMapModel,l={};if(o==="symbol"&&(l.symbol=v.get("itemSymbol")),o==="color"){var d=v.get("contentColor");l.color=d}function f(y){return l[y]}function m(y,_){l[y]=_}var g=v.controllerVisuals[s||v.getValueState(c)],p=n.prepareVisualTypes(g);return t.each(p,function(y){var _=g[y];h.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",_=g.__alphaForOpacity),n.dependsOn(y,o)&&_&&_.applyVisual(c,f,m)}),l[o]},positionGroup:function(c){var o=this.visualMapModel,h=this.api;i.positionElement(c,o.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})},doRender:t.noop});return Qc=u,Qc}var go={},Gw;function nD(){if(Gw)return go;Gw=1;var e=Z,t=Ne,r=t.getLayoutRect;function a(n,u,c){var o=n.option,h=o.align;if(h!=null&&h!=="auto")return h;for(var s={width:u.getWidth(),height:u.getHeight()},v=o.orient==="horizontal"?1:0,l=[["left","right","width"],["top","bottom","height"]],d=l[v],f=[0,null,10],m={},g=0;g<3;g++)m[l[1-v][g]]=f[g],m[d[g]]=g===2?c[0]:o[d[g]];var p=[["x","width",3],["y","height",0]][v],y=r(m,s,o.padding);return d[(y.margin[p[2]]||0)+y[p[0]]+y[p[1]]*.5<s[p[1]]*.5?0:1]}function i(n,u){return e.each(n||[],function(c){c.dataIndex!=null&&(c.dataIndexInside=c.dataIndex,c.dataIndex=null),c.highlightKey="visualMap"+(u?u.componentIndex:"")}),n}return go.getItemAlign=a,go.makeHighDownBatch=i,go}var Jc,Fw;function oG(){if(Fw)return Jc;Fw=1;var e=Z,t=Ed,r=ct,a=iD(),i=me,n=Oe(),u=bi(),c=nD(),o=Re,h=n.linearMap,s=e.each,v=Math.min,l=Math.max,d=12,f=6,m=a.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(x,b,A,C){(!C||C.type!=="selectDataRange"||C.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var x=this.visualMapModel,b=this.group;this._orient=x.get("orient"),this._useHandle=x.get("calculable"),this._resetInterval(),this._renderBar(b);var A=x.get("text");this._renderEndsText(b,A,0),this._renderEndsText(b,A,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},_renderEndsText:function(x,b,A){if(b){var C=b[1-A];C=C!=null?C+"":"";var M=this.visualMapModel,D=M.get("textGap"),L=M.itemSize,P=this._shapes.barGroup,I=this._applyTransform([L[0]/2,A===0?-D:L[1]+D],P),E=this._applyTransform(A===0?"bottom":"top",P),O=this._orient,z=this.visualMapModel.textStyleModel;this.group.add(new i.Text({style:{x:I[0],y:I[1],textVerticalAlign:O==="horizontal"?"middle":E,textAlign:O==="horizontal"?E:"center",text:C,textFont:z.getFont(),textFill:z.getTextColor()}}))}},_renderBar:function(x){var b=this.visualMapModel,A=this._shapes,C=b.itemSize,M=this._orient,D=this._useHandle,L=c.getItemAlign(b,this.api,C),P=A.barGroup=this._createBarGroup(L);P.add(A.outOfRange=g()),P.add(A.inRange=g(null,D?T(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var I=b.textStyleModel.getTextRect("国"),E=l(I.width,I.height);D&&(A.handleThumbs=[],A.handleLabels=[],A.handleLabelPoints=[],this._createHandle(P,0,C,E,M,L),this._createHandle(P,1,C,E,M,L)),this._createIndicator(P,C,E,M),x.add(P)},_createHandle:function(x,b,A,C,M){var D=e.bind(this._dragHandle,this,b,!1),L=e.bind(this._dragHandle,this,b,!0),P=g(p(b,C),T(this._orient),D,L);P.position[0]=A[0],x.add(P);var I=this.visualMapModel.textStyleModel,E=new i.Text({draggable:!0,drift:D,onmousemove:function(G){r.stop(G.event)},ondragend:L,style:{x:0,y:0,text:"",textFont:I.getFont(),textFill:I.getTextColor()}});this.group.add(E);var O=[M==="horizontal"?C/2:C*1.5,M==="horizontal"?b===0?-(C*1.5):C*1.5:b===0?-C/2:C/2],z=this._shapes;z.handleThumbs[b]=P,z.handleLabelPoints[b]=O,z.handleLabels[b]=E},_createIndicator:function(x,b,A,C){var M=g([[0,0]],"move");M.position[0]=b[0],M.attr({invisible:!0,silent:!0}),x.add(M);var D=this.visualMapModel.textStyleModel,L=new i.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:D.getFont(),textFill:D.getTextColor()}});this.group.add(L);var P=[C==="horizontal"?A/2:f+3,0],I=this._shapes;I.indicator=M,I.indicatorLabel=L,I.indicatorLabelPoint=P},_dragHandle:function(x,b,A,C){if(this._useHandle){if(this._dragging=!b,!b){var M=this._applyTransform([A,C],this._shapes.barGroup,!0);this._updateInterval(x,M[1]),this._updateView()}b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():S(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[x],!1)}},_resetInterval:function(){var x=this.visualMapModel,b=this._dataInterval=x.getSelected(),A=x.getExtent(),C=[0,x.itemSize[1]];this._handleEnds=[h(b[0],A,C,!0),h(b[1],A,C,!0)]},_updateInterval:function(x,b){b=b||0;var A=this.visualMapModel,C=this._handleEnds,M=[0,A.itemSize[1]];u(b,C,M,x,0);var D=A.getExtent();this._dataInterval=[h(C[0],M,D,!0),h(C[1],M,D,!0)]},_updateView:function(x){var b=this.visualMapModel,A=b.getExtent(),C=this._shapes,M=[0,b.itemSize[1]],D=x?M:this._handleEnds,L=this._createBarVisual(this._dataInterval,A,D,"inRange"),P=this._createBarVisual(A,A,M,"outOfRange");C.inRange.setStyle({fill:L.barColor,opacity:L.opacity}).setShape("points",L.barPoints),C.outOfRange.setStyle({fill:P.barColor,opacity:P.opacity}).setShape("points",P.barPoints),this._updateHandle(D,L)},_createBarVisual:function(x,b,A,C){var M={forceState:C,convertOpacityToAlpha:!0},D=this._makeColorGradient(x,M),L=[this.getControllerVisual(x[0],"symbolSize",M),this.getControllerVisual(x[1],"symbolSize",M)],P=this._createBarPoints(A,L);return{barColor:new t(0,0,0,1,D),barPoints:P,handlesColor:[D[0].color,D[D.length-1].color]}},_makeColorGradient:function(x,b){var A=100,C=[],M=(x[1]-x[0])/A;C.push({color:this.getControllerVisual(x[0],"color",b),offset:0});for(var D=1;D<A;D++){var L=x[0]+M*D;if(L>x[1])break;C.push({color:this.getControllerVisual(L,"color",b),offset:D/A})}return C.push({color:this.getControllerVisual(x[1],"color",b),offset:1}),C},_createBarPoints:function(x,b){var A=this.visualMapModel.itemSize;return[[A[0]-b[0],x[0]],[A[0],x[0]],[A[0],x[1]],[A[0]-b[1],x[1]]]},_createBarGroup:function(x){var b=this._orient,A=this.visualMapModel.get("inverse");return new i.Group(b==="horizontal"&&!A?{scale:x==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:b==="horizontal"&&A?{scale:x==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:b==="vertical"&&!A?{scale:x==="left"?[1,-1]:[-1,-1]}:{scale:x==="left"?[1,1]:[-1,1]})},_updateHandle:function(x,b){if(this._useHandle){var A=this._shapes,C=this.visualMapModel,M=A.handleThumbs,D=A.handleLabels;s([0,1],function(L){var P=M[L];P.setStyle("fill",b.handlesColor[L]),P.position[1]=x[L];var I=i.applyTransform(A.handleLabelPoints[L],i.getTransform(P,this.group));D[L].setStyle({x:I[0],y:I[1],text:C.formatValueText(this._dataInterval[L]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?L===0?"bottom":"top":"left",A.barGroup)})},this)}},_showIndicator:function(x,b,A,C){var M=this.visualMapModel,D=M.getExtent(),L=M.itemSize,P=[0,L[1]],I=h(x,D,P,!0),E=this._shapes,O=E.indicator;if(O){O.position[1]=I,O.attr("invisible",!1),O.setShape("points",y(!!A,C,I,L[1]));var z={convertOpacityToAlpha:!0},G=this.getControllerVisual(x,"color",z);O.setStyle("fill",G);var V=i.applyTransform(E.indicatorLabelPoint,i.getTransform(O,this.group)),R=E.indicatorLabel;R.attr("invisible",!1);var B=this._applyTransform("left",E.barGroup),k=this._orient;R.setStyle({text:(A||"")+M.formatValueText(b),textVerticalAlign:k==="horizontal"?B:"middle",textAlign:k==="horizontal"?"center":B,x:V[0],y:V[1]})}},_enableHoverLinkToSeries:function(){var x=this;this._shapes.barGroup.on("mousemove",function(b){if(x._hovering=!0,!x._dragging){var A=x.visualMapModel.itemSize,C=x._applyTransform([b.offsetX,b.offsetY],x._shapes.barGroup,!0,!0);C[1]=v(l(0,C[1]),A[1]),x._doHoverLinkToSeries(C[1],0<=C[0]&&C[0]<=A[0])}}).on("mouseout",function(){x._hovering=!1,!x._dragging&&x._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var x=this.api.getZr();this.visualMapModel.option.hoverLink?(x.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),x.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(x,b){var A=this.visualMapModel,C=A.itemSize;if(A.option.hoverLink){var M=[0,C[1]],D=A.getExtent();x=v(l(M[0],x),M[1]);var L=_(A,D,M),P=[x-L,x+L],I=h(x,M,D,!0),E=[h(P[0],M,D,!0),h(P[1],M,D,!0)];P[0]<M[0]&&(E[0]=-1/0),P[1]>M[1]&&(E[1]=1/0),b&&(E[0]===-1/0?this._showIndicator(I,E[1],"< ",L):E[1]===1/0?this._showIndicator(I,E[0],"> ",L):this._showIndicator(I,I,"≈ ",L));var O=this._hoverLinkDataIndices,z=[];(b||S(A))&&(z=this._hoverLinkDataIndices=A.findTargetDataIndices(E));var G=o.compressBatches(O,z);this._dispatchHighDown("downplay",c.makeHighDownBatch(G[0],A)),this._dispatchHighDown("highlight",c.makeHighDownBatch(G[1],A))}},_hoverLinkFromSeriesMouseOver:function(x){var b=x.target,A=this.visualMapModel;if(!(!b||b.dataIndex==null)){var C=this.ecModel.getSeriesByIndex(b.seriesIndex);if(A.isTargetSeries(C)){var M=C.getData(b.dataType),D=M.get(A.getDataDimension(M),b.dataIndex,!0);isNaN(D)||this._showIndicator(D,D)}}},_hideIndicator:function(){var x=this._shapes;x.indicator&&x.indicator.attr("invisible",!0),x.indicatorLabel&&x.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var x=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.makeHighDownBatch(x,this.visualMapModel)),x.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var x=this.api.getZr();x.off("mouseover",this._hoverLinkFromSeriesMouseOver),x.off("mouseout",this._hideIndicator)},_applyTransform:function(x,b,A,C){var M=i.getTransform(b,C?null:this.group);return i[e.isArray(x)?"applyTransform":"transformDirection"](x,M,A)},_dispatchHighDown:function(x,b){b&&b.length&&this.api.dispatchAction({type:x,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function g(x,b,A,C){return new i.Polygon({shape:{points:x},draggable:!!A,cursor:b,drift:A,onmousemove:function(M){r.stop(M.event)},ondragend:C})}function p(x,b){return x===0?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function y(x,b,A,C){return x?[[0,-v(b,l(A,0))],[f,0],[0,v(b,l(C-A,0))]]:[[0,0],[5,-5],[5,5]]}function _(x,b,A){var C=d/2,M=x.get("hoverLinkDataSize");return M&&(C=h(M,b,A,!0)/2),C}function S(x){var b=x.get("hoverLinkOnHandle");return!!(b??x.get("realtime"))}function T(x){return x==="vertical"?"ns-resize":"ew-resize"}var w=m;return Jc=w,Jc}var $w={},Uw;function oD(){if(Uw)return $w;Uw=1;var e=we,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"visualMap",query:r},function(i){i.setSelected(r.selected)})}),$w}var Ww;function sD(){if(Ww)return Rw;Ww=1;var e=we,t=jM();return eD(),tD(),nG(),oG(),oD(),e.registerPreprocessor(t),Rw}var Zw={},jc,Yw;function sG(){if(Yw)return jc;Yw=1;var e=Z,t=aD(),r=Pa(),a=rD(),i=Oe(),n=i.reformIntervals,u=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(s,v){u.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var l=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(s,v);var d=this.option.categories;this.resetVisual(function(f,m){l==="categories"?(f.mappingMethod="category",f.categories=e.clone(d)):(f.dataExtent=this.getExtent(),f.mappingMethod="piecewise",f.pieceList=e.map(this._pieceList,function(p){var p=e.clone(p);return m!=="inRange"&&(p.visual=null),p}))})},completeVisualOption:function(){var s=this.option,v={},l=r.listVisualTypes(),d=this.isCategory();e.each(s.pieces,function(m){e.each(l,function(g){m.hasOwnProperty(g)&&(v[g]=1)})}),e.each(v,function(m,g){var p=0;e.each(this.stateList,function(y){p|=f(s,y,g)||f(s.target,y,g)},this),!p&&e.each(this.stateList,function(y){(s[y]||(s[y]={}))[g]=a.get(g,y==="inRange"?"active":"inactive",d)})},this);function f(m,g,p){return m&&m[g]&&(e.isObject(m[g])?m[g].hasOwnProperty(p):m[g]===p)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(s,v){var l=this.option,d=this._pieceList,f=(v?l:s).selected||{};if(l.selected=f,e.each(d,function(g,p){var y=this.getSelectedMapKey(g);f.hasOwnProperty(y)||(f[y]=!0)},this),l.selectedMode==="single"){var m=!1;e.each(d,function(g,p){var y=this.getSelectedMapKey(g);f[y]&&(m?f[y]=!1:m=!0)},this)}},getSelectedMapKey:function(s){return this._mode==="categories"?s.value+"":s.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var s=this.option;return s.pieces&&s.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(s){this.option.selected=e.clone(s)},getValueState:function(s){var v=r.findPieceIndex(s,this._pieceList);return v!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[v])]?"inRange":"outOfRange"},findTargetDataIndices:function(s){var v=[];return this.eachTargetSeries(function(l){var d=[],f=l.getData();f.each(this.getDataDimension(f),function(m,g){var p=r.findPieceIndex(m,this._pieceList);p===s&&d.push(g)},this),v.push({seriesId:l.id,dataIndex:d})},this),v},getRepresentValue:function(s){var v;if(this.isCategory())v=s.value;else if(s.value!=null)v=s.value;else{var l=s.interval||[];v=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return v},getVisualMeta:function(s){if(this.isCategory())return;var v=[],l=[],d=this;function f(y,_){var S=d.getRepresentValue({interval:y});_||(_=d.getValueState(S));var T=s(S,_);y[0]===-1/0?l[0]=T:y[1]===1/0?l[1]=T:v.push({value:y[0],color:T},{value:y[1],color:T})}var m=this._pieceList.slice();if(!m.length)m.push({interval:[-1/0,1/0]});else{var g=m[0].interval[0];g!==-1/0&&m.unshift({interval:[-1/0,g]}),g=m[m.length-1].interval[1],g!==1/0&&m.push({interval:[g,1/0]})}var p=-1/0;return e.each(m,function(y){var _=y.interval;_&&(_[0]>p&&f([p,_[0]],"outOfRange"),f(_.slice()),p=_[1])},this),{stops:v,outerColors:l}}}),c={splitNumber:function(){var s=this.option,v=this._pieceList,l=Math.min(s.precision,20),d=this.getExtent(),f=s.splitNumber;f=Math.max(parseInt(f,10),1),s.splitNumber=f;for(var m=(d[1]-d[0])/f;+m.toFixed(l)!==m&&l<5;)l++;s.precision=l,m=+m.toFixed(l);var g=0;s.minOpen&&v.push({index:g++,interval:[-1/0,d[0]],close:[0,0]});for(var p=d[0],y=g+f;g<y;p+=m){var _=g===f-1?d[1]:p+m;v.push({index:g++,interval:[p,_],close:[1,1]})}s.maxOpen&&v.push({index:g++,interval:[d[1],1/0],close:[0,0]}),n(v),e.each(v,function(S){S.text=this.formatValueText(S.interval)},this)},categories:function(){var s=this.option;e.each(s.categories,function(v){this._pieceList.push({text:this.formatValueText(v,!0),value:v})},this),o(s,this._pieceList)},pieces:function(){var s=this.option,v=this._pieceList;e.each(s.pieces,function(l,d){e.isObject(l)||(l={value:l});var f={text:"",index:d};if(l.label!=null&&(f.text=l.label),l.hasOwnProperty("value")){var m=f.value=l.value;f.interval=[m,m],f.close=[1,1]}else{for(var g=f.interval=[],p=f.close=[0,0],y=[1,0,1],_=[-1/0,1/0],S=[],T=0;T<2;T++){for(var w=[["gte","gt","min"],["lte","lt","max"]][T],x=0;x<3&&g[T]==null;x++)g[T]=l[w[x]],p[T]=y[x],S[T]=x===2;g[T]==null&&(g[T]=_[T])}S[0]&&g[1]===1/0&&(p[0]=0),S[1]&&g[0]===-1/0&&(p[1]=0),g[0]===g[1]&&p[0]&&p[1]&&(f.value=g[0])}f.visual=r.retrieveVisuals(l),v.push(f)},this),o(s,v),n(v),e.each(v,function(l){var d=l.close,f=[["<","≤"][d[1]],[">","≥"][d[0]]];l.text=l.text||this.formatValueText(l.value!=null?l.value:l.interval,!1,f)},this)}};function o(s,v){var l=s.inverse;(s.orient==="vertical"?!l:l)&&v.reverse()}var h=u;return jc=h,jc}var ef,Xw;function lG(){if(Xw)return ef;Xw=1;var e=Z,t=iD(),r=me,a=Xt(),i=a.createSymbol,n=Ne,u=nD(),c=t.extend({type:"visualMap.piecewise",doRender:function(){var h=this.group;h.removeAll();var s=this.visualMapModel,v=s.get("textGap"),l=s.textStyleModel,d=l.getFont(),f=l.getTextColor(),m=this._getItemAlign(),g=s.itemSize,p=this._getViewData(),y=p.endsText,_=e.retrieve(s.get("showLabel",!0),!y);y&&this._renderEndsText(h,y[0],g,_,m),e.each(p.viewPieceList,S,this),y&&this._renderEndsText(h,y[1],g,_,m),n.box(s.get("orient"),h,s.get("itemGap")),this.renderBackground(h),this.positionGroup(h);function S(T){var w=T.piece,x=new r.Group;x.onclick=e.bind(this._onItemClick,this,w),this._enableHoverLink(x,T.indexInModelPieceList);var b=s.getRepresentValue(w);if(this._createItemSymbol(x,b,[0,0,g[0],g[1]]),_){var A=this.visualMapModel.getValueState(b);x.add(new r.Text({style:{x:m==="right"?-v:g[0]+v,y:g[1]/2,text:w.text,textVerticalAlign:"middle",textAlign:m,textFont:d,textFill:f,opacity:A==="outOfRange"?.5:1}}))}h.add(x)}},_enableHoverLink:function(h,s){h.on("mouseover",e.bind(v,this,"highlight")).on("mouseout",e.bind(v,this,"downplay"));function v(l){var d=this.visualMapModel;d.option.hoverLink&&this.api.dispatchAction({type:l,batch:u.makeHighDownBatch(d.findTargetDataIndices(s),d)})}},_getItemAlign:function(){var h=this.visualMapModel,s=h.option;if(s.orient==="vertical")return u.getItemAlign(h,this.api,h.itemSize);var v=s.align;return(!v||v==="auto")&&(v="left"),v},_renderEndsText:function(h,s,v,l,d){if(s){var f=new r.Group,m=this.visualMapModel.textStyleModel;f.add(new r.Text({style:{x:l?d==="right"?v[0]:0:v[0]/2,y:v[1]/2,textVerticalAlign:"middle",textAlign:l?d:"center",text:s,textFont:m.getFont(),textFill:m.getTextColor()}})),h.add(f)}},_getViewData:function(){var h=this.visualMapModel,s=e.map(h.getPieceList(),function(f,m){return{piece:f,indexInModelPieceList:m}}),v=h.get("text"),l=h.get("orient"),d=h.get("inverse");return(l==="horizontal"?d:!d)?s.reverse():v&&(v=v.slice().reverse()),{viewPieceList:s,endsText:v}},_createItemSymbol:function(h,s,v){h.add(i(this.getControllerVisual(s,"symbol"),v[0],v[1],v[2],v[3],this.getControllerVisual(s,"color")))},_onItemClick:function(h){var s=this.visualMapModel,v=s.option,l=e.clone(v.selected),d=s.getSelectedMapKey(h);v.selectedMode==="single"?(l[d]=!0,e.each(l,function(f,m){l[m]=m===d})):l[d]=!l[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}}),o=c;return ef=o,ef}var Kw;function lD(){if(Kw)return Zw;Kw=1;var e=we,t=jM();return eD(),tD(),sG(),lG(),oD(),e.registerPreprocessor(t),Zw}var Qw;function uG(){return Qw||(Qw=1,sD(),lD()),Iw}var Jw={},jw={},Fi={},eA;function uD(){if(eA)return Fi;eA=1;var e=ot,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,a=!1,i=r&&r.document;function n(o){return u(o)}var u;if(i&&!e.canvasSupported)try{!i.namespaces.zrvml&&i.namespaces.add("zrvml",t),u=function(o){return i.createElement("<zrvml:"+o+' class="zrvml">')}}catch{u=function(h){return i.createElement("<"+h+' xmlns="'+t+'" class="zrvml">')}}function c(){if(!(a||!i)){a=!0;var o=i.styleSheets;o.length<31?i.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):o[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Fi.doc=i,Fi.createNode=n,Fi.initVML=c,Fi}var tA;function vG(){if(tA)return jw;tA=1;var e=ot,t=Ye(),r=t.applyTransform,a=Ke,i=ut,n=Xe,u=nr,c=yT(),o=pn,h=hi,s=wa,v=it,l=fi,d=jo,f=uD(),m=l.CMD,g=Math.round,p=Math.sqrt,y=Math.abs,_=Math.cos,S=Math.sin,T=Math.max;if(!e.canvasSupported){var w=",",x="progid:DXImageTransform.Microsoft",b=21600,A=b/2,C=1e5,M=1e3,D=function(oe){oe.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",oe.coordsize=b+","+b,oe.coordorigin="0,0"},L=function(oe){return String(oe).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},P=function(oe,ue,be){return"rgb("+[oe,ue,be].join(",")+")"},I=function(oe,ue){ue&&oe&&ue.parentNode!==oe&&oe.appendChild(ue)},E=function(oe,ue){ue&&oe&&ue.parentNode===oe&&oe.removeChild(ue)},O=function(oe,ue,be){return(parseFloat(oe)||0)*C+(parseFloat(ue)||0)*M+be},z=u.parsePercent,G=function(oe,ue,be){var Y=i.parse(ue);be=+be,isNaN(be)&&(be=1),Y&&(oe.color=P(Y[0],Y[1],Y[2]),oe.opacity=be*Y[3])},V=function(oe){var ue=i.parse(oe);return[P(ue[0],ue[1],ue[2]),ue[3]]},R=function(oe,ue,be){var Y=ue.fill;if(Y!=null)if(Y instanceof d){var Q,te=0,ce=[0,0],le=0,fe=1,ye=be.getBoundingRect(),Te=ye.width,xe=ye.height;if(Y.type==="linear"){Q="gradient";var ge=be.transform,ve=[Y.x*Te,Y.y*xe],pe=[Y.x2*Te,Y.y2*xe];ge&&(r(ve,ve,ge),r(pe,pe,ge));var Me=pe[0]-ve[0],Ee=pe[1]-ve[1];te=Math.atan2(Me,Ee)*180/Math.PI,te<0&&(te+=360),te<1e-6&&(te=0)}else{Q="gradientradial";var ve=[Y.x*Te,Y.y*xe],ge=be.transform,$e=be.scale,He=Te,Ge=xe;ce=[(ve[0]-ye.x)/He,(ve[1]-ye.y)/Ge],ge&&r(ve,ve,ge),He/=$e[0]*b,Ge/=$e[1]*b;var Je=T(He,Ge);le=2*0/Je,fe=2*Y.r/Je-le}var ke=Y.colorStops.slice();ke.sort(function(et,Tt){return et.offset-Tt.offset});for(var Fe=ke.length,qe=[],je=[],Ue=0;Ue<Fe;Ue++){var tt=ke[Ue],yt=V(tt.color);je.push(tt.offset*fe+le+" "+yt[0]),(Ue===0||Ue===Fe-1)&&qe.push(yt)}if(Fe>=2){var At=qe[0][0],Nt=qe[1][0],vr=qe[0][1]*ue.opacity,gt=qe[1][1]*ue.opacity;oe.type=Q,oe.method="none",oe.focus="100%",oe.angle=te,oe.color=At,oe.color2=Nt,oe.colors=je.join(","),oe.opacity=gt,oe.opacity2=vr}Q==="radial"&&(oe.focusposition=ce.join(","))}else G(oe,Y,ue.opacity)},B=function(oe,ue){ue.lineDash&&(oe.dashstyle=ue.lineDash.join(" ")),ue.stroke!=null&&!(ue.stroke instanceof d)&&G(oe,ue.stroke,ue.opacity)},k=function(oe,ue,be,Y){var Q=ue==="fill",te=oe.getElementsByTagName(ue)[0];be[ue]!=null&&be[ue]!=="none"&&(Q||!Q&&be.lineWidth)?(oe[Q?"filled":"stroked"]="true",be[ue]instanceof d&&E(oe,te),te||(te=f.createNode(ue)),Q?R(te,be,Y):B(te,be),I(oe,te)):(oe[Q?"filled":"stroked"]="false",E(oe,te))},N=[[],[],[]],q=function(oe,ue){var be=m.M,Y=m.C,Q=m.L,te=m.A,ce=m.Q,le=[],fe,ye,Te,xe,ge,ve,pe=oe.data,Me=oe.len();for(xe=0;xe<Me;){switch(Te=pe[xe++],ye="",fe=0,Te){case be:ye=" m ",fe=1,ge=pe[xe++],ve=pe[xe++],N[0][0]=ge,N[0][1]=ve;break;case Q:ye=" l ",fe=1,ge=pe[xe++],ve=pe[xe++],N[0][0]=ge,N[0][1]=ve;break;case ce:case Y:ye=" c ",fe=3;var pt=pe[xe++],Dt=pe[xe++],Ee=pe[xe++],$e=pe[xe++],He,Ge;Te===ce?(He=Ee,Ge=$e,Ee=(Ee+2*pt)/3,$e=($e+2*Dt)/3,pt=(ge+2*pt)/3,Dt=(ve+2*Dt)/3):(He=pe[xe++],Ge=pe[xe++]),N[0][0]=pt,N[0][1]=Dt,N[1][0]=Ee,N[1][1]=$e,N[2][0]=He,N[2][1]=Ge,ge=He,ve=Ge;break;case te:var Je=0,ke=0,Fe=1,qe=1,je=0;ue&&(Je=ue[4],ke=ue[5],Fe=p(ue[0]*ue[0]+ue[1]*ue[1]),qe=p(ue[2]*ue[2]+ue[3]*ue[3]),je=Math.atan2(-ue[1]/qe,ue[0]/Fe));var Ue=pe[xe++],tt=pe[xe++],yt=pe[xe++],At=pe[xe++],Nt=pe[xe++]+je,vr=pe[xe++]+Nt+je;xe++;var gt=pe[xe++],et=Ue+_(Nt)*yt,Tt=tt+S(Nt)*At,pt=Ue+_(vr)*yt,Dt=tt+S(vr)*At,Nr=gt?" wa ":" at ";Math.abs(et-pt)<1e-4&&(Math.abs(vr-Nt)>.01?gt&&(et+=270/b):Math.abs(Tt-tt)<1e-4?gt&&et<Ue||!gt&&et>Ue?Dt-=270/b:Dt+=270/b:gt&&Tt<tt||!gt&&Tt>tt?pt+=270/b:pt-=270/b),le.push(Nr,g(((Ue-yt)*Fe+Je)*b-A),w,g(((tt-At)*qe+ke)*b-A),w,g(((Ue+yt)*Fe+Je)*b-A),w,g(((tt+At)*qe+ke)*b-A),w,g((et*Fe+Je)*b-A),w,g((Tt*qe+ke)*b-A),w,g((pt*Fe+Je)*b-A),w,g((Dt*qe+ke)*b-A)),ge=pt,ve=Dt;break;case m.R:var st=N[0],_t=N[1];st[0]=pe[xe++],st[1]=pe[xe++],_t[0]=st[0]+pe[xe++],_t[1]=st[1]+pe[xe++],ue&&(r(st,st,ue),r(_t,_t,ue)),st[0]=g(st[0]*b-A),_t[0]=g(_t[0]*b-A),st[1]=g(st[1]*b-A),_t[1]=g(_t[1]*b-A),le.push(" m ",st[0],w,st[1]," l ",_t[0],w,st[1]," l ",_t[0],w,_t[1]," l ",st[0],w,_t[1]);break;case m.Z:le.push(" x ")}if(fe>0){le.push(ye);for(var Vr=0;Vr<fe;Vr++){var Ia=N[Vr];ue&&r(Ia,Ia,ue),le.push(g(Ia[0]*b-A),w,g(Ia[1]*b-A),Vr<fe-1?w:"")}}}return le.join("")};v.prototype.brushVML=function(oe){var ue=this.style,be=this._vmlEl;be||(be=f.createNode("shape"),D(be),this._vmlEl=be),k(be,"fill",ue,this),k(be,"stroke",ue,this);var Y=this.transform,Q=Y!=null,te=be.getElementsByTagName("stroke")[0];if(te){var ce=ue.lineWidth;if(Q&&!ue.strokeNoScale){var le=Y[0]*Y[3]-Y[1]*Y[2];ce*=p(y(le))}te.weight=ce+"px"}var fe=this.path||(this.path=new l);this.__dirtyPath&&(fe.beginPath(),fe.subPixelOptimize=!1,this.buildPath(fe,this.shape),fe.toStatic(),this.__dirtyPath=!1),be.path=q(fe,this.transform),be.style.zIndex=O(this.zlevel,this.z,this.z2),I(oe,be),ue.text!=null?this.drawRectText(oe,this.getBoundingRect()):this.removeRectText(oe)},v.prototype.onRemove=function(oe){E(oe,this._vmlEl),this.removeRectText(oe)},v.prototype.onAdd=function(oe){I(oe,this._vmlEl),this.appendRectText(oe)};var H=function(oe){return typeof oe=="object"&&oe.tagName&&oe.tagName.toUpperCase()==="IMG"};h.prototype.brushVML=function(oe){var ue=this.style,be=ue.image,Y,Q;if(H(be)){var te=be.src;if(te===this._imageSrc)Y=this._imageWidth,Q=this._imageHeight;else{var ce=be.runtimeStyle,le=ce.width,fe=ce.height;ce.width="auto",ce.height="auto",Y=be.width,Q=be.height,ce.width=le,ce.height=fe,this._imageSrc=te,this._imageWidth=Y,this._imageHeight=Q}be=te}else be===this._imageSrc&&(Y=this._imageWidth,Q=this._imageHeight);if(be){var ye=ue.x||0,Te=ue.y||0,xe=ue.width,ge=ue.height,ve=ue.sWidth,pe=ue.sHeight,Me=ue.sx||0,Ee=ue.sy||0,$e=ve&&pe,He=this._vmlEl;He||(He=f.doc.createElement("div"),D(He),this._vmlEl=He);var Ge=He.style,Je=!1,ke,Fe=1,qe=1;if(this.transform&&(ke=this.transform,Fe=p(ke[0]*ke[0]+ke[1]*ke[1]),qe=p(ke[2]*ke[2]+ke[3]*ke[3]),Je=ke[1]||ke[2]),Je){var je=[ye,Te],Ue=[ye+xe,Te],tt=[ye,Te+ge],yt=[ye+xe,Te+ge];r(je,je,ke),r(Ue,Ue,ke),r(tt,tt,ke),r(yt,yt,ke);var At=T(je[0],Ue[0],tt[0],yt[0]),Nt=T(je[1],Ue[1],tt[1],yt[1]),vr=[];vr.push("M11=",ke[0]/Fe,w,"M12=",ke[2]/qe,w,"M21=",ke[1]/Fe,w,"M22=",ke[3]/qe,w,"Dx=",g(ye*Fe+ke[4]),w,"Dy=",g(Te*qe+ke[5])),Ge.padding="0 "+g(At)+"px "+g(Nt)+"px 0",Ge.filter=x+".Matrix("+vr.join("")+", SizingMethod=clip)"}else ke&&(ye=ye*Fe+ke[4],Te=Te*qe+ke[5]),Ge.filter="",Ge.left=g(ye)+"px",Ge.top=g(Te)+"px";var gt=this._imageEl,et=this._cropEl;gt||(gt=f.doc.createElement("div"),this._imageEl=gt);var Tt=gt.style;if($e){if(Y&&Q)Tt.width=g(Fe*Y*xe/ve)+"px",Tt.height=g(qe*Q*ge/pe)+"px";else{var pt=new Image,Dt=this;pt.onload=function(){pt.onload=null,Y=pt.width,Q=pt.height,Tt.width=g(Fe*Y*xe/ve)+"px",Tt.height=g(qe*Q*ge/pe)+"px",Dt._imageWidth=Y,Dt._imageHeight=Q,Dt._imageSrc=be},pt.src=be}et||(et=f.doc.createElement("div"),et.style.overflow="hidden",this._cropEl=et);var Nr=et.style;Nr.width=g((xe+Me*xe/ve)*Fe),Nr.height=g((ge+Ee*ge/pe)*qe),Nr.filter=x+".Matrix(Dx="+-Me*xe/ve*Fe+",Dy="+-Ee*ge/pe*qe+")",et.parentNode||He.appendChild(et),gt.parentNode!==et&&et.appendChild(gt)}else Tt.width=g(Fe*xe)+"px",Tt.height=g(qe*ge)+"px",He.appendChild(gt),et&&et.parentNode&&(He.removeChild(et),this._cropEl=null);var st="",_t=ue.opacity;_t<1&&(st+=".Alpha(opacity="+g(_t*100)+") "),st+=x+".AlphaImageLoader(src="+be+", SizingMethod=scale)",Tt.filter=st,He.style.zIndex=O(this.zlevel,this.z,this.z2),I(oe,He),ue.text!=null&&this.drawRectText(oe,this.getBoundingRect())}},h.prototype.onRemove=function(oe){E(oe,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(oe)},h.prototype.onAdd=function(oe){I(oe,this._vmlEl),this.appendRectText(oe)};var F="normal",U={},W=0,K=100,J=document.createElement("div"),j=function(oe){var ue=U[oe];if(!ue){W>K&&(W=0,U={});var be=J.style,Y;try{be.font=oe,Y=be.fontFamily.split(",")[0]}catch{}ue={style:be.fontStyle||F,variant:be.fontVariant||F,weight:be.fontWeight||F,size:parseFloat(be.fontSize||12)|0,family:Y||"Microsoft YaHei"},U[oe]=ue,W++}return ue},ee;n.$override("measureText",function(oe,ue){var be=f.doc;ee||(ee=be.createElement("div"),ee.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",f.doc.body.appendChild(ee));try{ee.style.font=ue}catch{}return ee.innerHTML="",ee.appendChild(be.createTextNode(oe)),{width:ee.offsetWidth}});for(var ie=new a,re=function(oe,ue,be,Y){var Q=this.style;this.__dirty&&u.normalizeTextStyle(Q,!0);var te=Q.text;if(te!=null&&(te+=""),!!te){if(Q.rich){var ce=n.parseRichText(te,Q);te=[];for(var le=0;le<ce.lines.length;le++){for(var fe=ce.lines[le].tokens,ye=[],Te=0;Te<fe.length;Te++)ye.push(fe[Te].text);te.push(ye.join(""))}te=te.join(`
`)}var xe,ge,ve=Q.textAlign,pe=Q.textVerticalAlign,Me=j(Q.font),Ee=Me.style+" "+Me.variant+" "+Me.weight+" "+Me.size+'px "'+Me.family+'"';be=be||n.getBoundingRect(te,Ee,ve,pe,Q.textPadding,Q.textLineHeight);var $e=this.transform;if($e&&!Y&&(ie.copy(ue),ie.applyTransform($e),ue=ie),Y)xe=ue.x,ge=ue.y;else{var He=Q.textPosition;if(He instanceof Array)xe=ue.x+z(He[0],ue.width),ge=ue.y+z(He[1],ue.height),ve=ve||"left";else{var Ge=this.calculateTextPosition?this.calculateTextPosition({},Q,ue):n.calculateTextPosition({},Q,ue);xe=Ge.x,ge=Ge.y,ve=ve||Ge.textAlign,pe=pe||Ge.textVerticalAlign}}xe=n.adjustTextX(xe,be.width,ve),ge=n.adjustTextY(ge,be.height,pe),ge+=be.height/2;var Je=f.createNode,ke=this._textVmlEl,Fe,qe,je;ke?(je=ke.firstChild,Fe=je.nextSibling,qe=Fe.nextSibling):(ke=Je("line"),Fe=Je("path"),qe=Je("textpath"),je=Je("skew"),qe.style["v-text-align"]="left",D(ke),Fe.textpathok=!0,qe.on=!0,ke.from="0 0",ke.to="1000 0.05",I(ke,je),I(ke,Fe),I(ke,qe),this._textVmlEl=ke);var Ue=[xe,ge],tt=ke.style;$e&&Y?(r(Ue,Ue,$e),je.on=!0,je.matrix=$e[0].toFixed(3)+w+$e[2].toFixed(3)+w+$e[1].toFixed(3)+w+$e[3].toFixed(3)+",0,0",je.offset=(g(Ue[0])||0)+","+(g(Ue[1])||0),je.origin="0 0",tt.left="0px",tt.top="0px"):(je.on=!1,tt.left=g(xe)+"px",tt.top=g(ge)+"px"),qe.string=L(te);try{qe.style.font=Ee}catch{}k(ke,"fill",{fill:Q.textFill,opacity:Q.opacity},this),k(ke,"stroke",{stroke:Q.textStroke,opacity:Q.opacity,lineDash:Q.lineDash||null},this),ke.style.zIndex=O(this.zlevel,this.z,this.z2),I(oe,ke)}},he=function(oe){E(oe,this._textVmlEl),this._textVmlEl=null},_e=function(oe){I(oe,this._textVmlEl)},ae=[c,o,h,v,s],se=0;se<ae.length;se++){var De=ae[se].prototype;De.drawRectText=re,De.removeRectText=he,De.appendRectText=_e}s.prototype.brushVML=function(oe){var ue=this.style;ue.text!=null?this.drawRectText(oe,{x:ue.x||0,y:ue.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(oe)},s.prototype.onRemove=function(oe){this.removeRectText(oe)},s.prototype.onAdd=function(oe){this.appendRectText(oe)}}return jw}var tf,rA;function hG(){if(rA)return tf;rA=1;var e=cn,t=uD(),r=Z,a=r.each;function i(o){return parseInt(o,10)}function n(o,h){t.initVML(),this.root=o,this.storage=h;var s=document.createElement("div"),v=document.createElement("div");s.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",v.style.cssText="position:absolute;left:0;top:0;",o.appendChild(s),this._vmlRoot=v,this._vmlViewport=s,this.resize();var l=h.delFromStorage,d=h.addToStorage;h.delFromStorage=function(f){l.call(h,f),f&&f.onRemove&&f.onRemove(v)},h.addToStorage=function(f){f.onAdd&&f.onAdd(v),d.call(h,f)},this._firstPaint=!0}n.prototype={constructor:n,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var o=this.getViewportRoot();if(o)return{offsetLeft:o.offsetLeft||0,offsetTop:o.offsetTop||0}},refresh:function(){var o=this.storage.getDisplayList(!0,!0);this._paintList(o)},_paintList:function(o){for(var h=this._vmlRoot,s=0;s<o.length;s++){var v=o[s];v.invisible||v.ignore?(v.__alreadyNotVisible||v.onRemove(h),v.__alreadyNotVisible=!0):(v.__alreadyNotVisible&&v.onAdd(h),v.__alreadyNotVisible=!1,v.__dirty&&(v.beforeBrush&&v.beforeBrush(),(v.brushVML||v.brush).call(v,h),v.afterBrush&&v.afterBrush())),v.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(h),this._firstPaint=!1)},resize:function(s,v){var s=s??this._getWidth(),v=v??this._getHeight();if(this._width!==s||this._height!==v){this._width=s,this._height=v;var l=this._vmlViewport.style;l.width=s+"px",l.height=v+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var o=this.root,h=o.currentStyle;return(o.clientWidth||i(h.width))-i(h.paddingLeft)-i(h.paddingRight)|0},_getHeight:function(){var o=this.root,h=o.currentStyle;return(o.clientHeight||i(h.height))-i(h.paddingTop)-i(h.paddingBottom)|0}};function u(o){return function(){e('In IE8.0 VML mode painter not support method "'+o+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(o){n.prototype[o]=u(o)});var c=n;return tf=c,tf}var aA;function cG(){if(aA)return Jw;aA=1,vG();var e=zr,t=e.registerPainter,r=hG();return t("vml",r),Jw}var iA={},$i={},rf={},nA;function wg(){if(nA)return rf;nA=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return rf.createElement=t,rf}var oA;function Ag(){if(oA)return $i;oA=1;var e=wg(),t=e.createElement,r=fi,a=Ke,i=Rt(),n=Xe,u=nr,c=wa,o=r.CMD,h=Array.prototype.join,s="none",v=Math.round,l=Math.sin,d=Math.cos,f=Math.PI,m=Math.PI*2,g=180/f,p=1e-4;function y(k){return v(k*1e4)/1e4}function _(k){return k<p&&k>-p}function S(k,N){var q=N?k.textFill:k.fill;return q!=null&&q!==s}function T(k,N){var q=N?k.textStroke:k.stroke;return q!=null&&q!==s}function w(k,N){N&&x(k,"transform","matrix("+h.call(N,",")+")")}function x(k,N,q){(!q||q.type!=="linear"&&q.type!=="radial")&&k.setAttribute(N,q)}function b(k,N,q){k.setAttributeNS("http://www.w3.org/1999/xlink",N,q)}function A(k,N,q,H){if(S(N,q)){var F=q?N.textFill:N.fill;F=F==="transparent"?s:F,x(k,"fill",F),x(k,"fill-opacity",N.fillOpacity!=null?N.fillOpacity*N.opacity:N.opacity)}else x(k,"fill",s);if(T(N,q)){var U=q?N.textStroke:N.stroke;U=U==="transparent"?s:U,x(k,"stroke",U);var W=q?N.textStrokeWidth:N.lineWidth,K=!q&&N.strokeNoScale?H.getLineScale():1;x(k,"stroke-width",W/K),x(k,"paint-order",q?"stroke":"fill"),x(k,"stroke-opacity",N.strokeOpacity!=null?N.strokeOpacity:N.opacity);var J=N.lineDash;J?(x(k,"stroke-dasharray",N.lineDash.join(",")),x(k,"stroke-dashoffset",v(N.lineDashOffset||0))):x(k,"stroke-dasharray",""),N.lineCap&&x(k,"stroke-linecap",N.lineCap),N.lineJoin&&x(k,"stroke-linejoin",N.lineJoin),N.miterLimit&&x(k,"stroke-miterlimit",N.miterLimit)}else x(k,"stroke",s)}function C(k){for(var N=[],q=k.data,H=k.len(),F=0;F<H;){var U=q[F++],W="",K=0;switch(U){case o.M:W="M",K=2;break;case o.L:W="L",K=2;break;case o.Q:W="Q",K=4;break;case o.C:W="C",K=6;break;case o.A:var J=q[F++],j=q[F++],ee=q[F++],ie=q[F++],re=q[F++],he=q[F++],_e=q[F++],ae=q[F++],se=Math.abs(he),De=_(se-m)||(ae?he>=m:-he>=m),oe=he>0?he%m:he%m+m,ue=!1;De?ue=!0:_(se)?ue=!1:ue=oe>=f==!!ae;var be=y(J+ee*d(re)),Y=y(j+ie*l(re));De&&(ae?he=m-1e-4:he=-m+1e-4,ue=!0,F===9&&N.push("M",be,Y));var Q=y(J+ee*d(re+he)),te=y(j+ie*l(re+he));N.push("A",y(ee),y(ie),v(_e*g),+ue,+ae,Q,te);break;case o.Z:W="Z";break;case o.R:var Q=y(q[F++]),te=y(q[F++]),ce=y(q[F++]),le=y(q[F++]);N.push("M",Q,te,"L",Q+ce,te,"L",Q+ce,te+le,"L",Q,te+le,"L",Q,te);break}W&&N.push(W);for(var fe=0;fe<K;fe++)N.push(y(q[F++]))}return N.join(" ")}var M={};M.brush=function(k){var N=k.style,q=k.__svgEl;q||(q=t("path"),k.__svgEl=q),k.path||k.createPathProxy();var H=k.path;if(k.__dirtyPath){H.beginPath(),H.subPixelOptimize=!1,k.buildPath(H,k.shape),k.__dirtyPath=!1;var F=C(H);F.indexOf("NaN")<0&&x(q,"d",F)}A(q,N,!1,k),w(q,k.transform),N.text!=null?z(k,k.getBoundingRect()):B(k)};var D={};D.brush=function(k){var N=k.style,q=N.image;if(q instanceof HTMLImageElement){var H=q.src;q=H}if(q){var F=N.x||0,U=N.y||0,W=N.width,K=N.height,J=k.__svgEl;J||(J=t("image"),k.__svgEl=J),q!==k.__imageSrc&&(b(J,"href",q),k.__imageSrc=q),x(J,"width",W),x(J,"height",K),x(J,"x",F),x(J,"y",U),w(J,k.transform),N.text!=null?z(k,k.getBoundingRect()):B(k)}};var L={},P=new a,I={},E=[],O={left:"start",right:"end",center:"middle",middle:"middle"},z=function(k,N){var q=k.style,H=k.transform,F=k instanceof c||q.transformText;k.__dirty&&u.normalizeTextStyle(q,!0);var U=q.text;if(U!=null&&(U+=""),!!u.needDrawText(U,q)){U==null&&(U=""),!F&&H&&(P.copy(N),P.applyTransform(H),N=P);var W=k.__textSvgEl;W||(W=t("text"),k.__textSvgEl=W);var K=W.style,J=q.font||n.DEFAULT_FONT,j=W.__computedFont;J!==W.__styleFont&&(K.font=W.__styleFont=J,j=W.__computedFont=K.font);var ee=q.textPadding,ie=q.textLineHeight,re=k.__textCotentBlock;(!re||k.__dirtyText)&&(re=k.__textCotentBlock=n.parsePlainText(U,j,ee,ie,q.truncate));var he=re.outerHeight,_e=re.lineHeight;u.getBoxPosition(I,k,q,N);var ae=I.baseX,se=I.baseY,De=I.textAlign||"left",oe=I.textVerticalAlign;G(W,F,H,q,N,ae,se);var ue=n.adjustTextY(se,he,oe),be=ae,Y=ue;ee&&(be=V(ae,De,ee),Y+=ee[0]),Y+=_e/2,A(W,q,!0,k);var Q=re.canCacheByTextString,te=k.__tspanList||(k.__tspanList=[]),ce=te.length;if(Q&&k.__canCacheByTextString&&k.__text===U){if(k.__dirtyText&&ce)for(var le=0;le<ce;++le)R(te[le],De,be,Y+le*_e)}else{k.__text=U,k.__canCacheByTextString=Q;for(var fe=re.lines,ye=fe.length,le=0;le<ye;le++){var Te=te[le],xe=fe[le];Te?Te.__zrText!==xe&&(Te.innerHTML="",Te.appendChild(document.createTextNode(xe))):(Te=te[le]=t("tspan"),W.appendChild(Te),Te.appendChild(document.createTextNode(xe))),R(Te,De,be,Y+le*_e)}if(ce>ye){for(;le<ce;le++)W.removeChild(te[le]);te.length=ye}}}};function G(k,N,q,H,F,U,W){i.identity(E),N&&q&&i.copy(E,q);var K=H.textRotation;if(F&&K){var J=H.textOrigin;J==="center"?(U=F.width/2+F.x,W=F.height/2+F.y):J&&(U=J[0]+F.x,W=J[1]+F.y),E[4]-=U,E[5]-=W,i.rotate(E,E,K),E[4]+=U,E[5]+=W}w(k,E)}function V(k,N,q){return N==="right"?k-q[1]:N==="center"?k+q[3]/2-q[1]/2:k+q[3]}function R(k,N,q,H){x(k,"dominant-baseline","middle"),x(k,"text-anchor",O[N]),x(k,"x",q),x(k,"y",H)}function B(k){k&&k.__textSvgEl&&(k.__textSvgEl.parentNode&&k.__textSvgEl.parentNode.removeChild(k.__textSvgEl),k.__textSvgEl=null,k.__tspanList=[],k.__text=null)}return L.drawRectText=z,L.brush=function(k){var N=k.style;N.text!=null?z(k,!1):B(k)},$i.path=M,$i.image=D,$i.text=L,$i}var af,sA;function fG(){if(sA)return af;sA=1;function e(){}e.prototype={diff:function(n,u,c){c||(c=function(_,S){return _===S}),this.equals=c;var o=this;n=n.slice(),u=u.slice();var h=u.length,s=n.length,v=1,l=h+s,d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],u,n,0);if(d[0].newPos+1>=h&&f+1>=s){for(var m=[],g=0;g<u.length;g++)m.push(g);return[{indices:m,count:u.length}]}function p(){for(var _=-1*v;_<=v;_+=2){var S,T=d[_-1],w=d[_+1],x=(w?w.newPos:0)-_;T&&(d[_-1]=void 0);var b=T&&T.newPos+1<h,A=w&&0<=x&&x<s;if(!b&&!A){d[_]=void 0;continue}if(!b||A&&T.newPos<w.newPos?(S=r(w),o.pushComponent(S.components,void 0,!0)):(S=T,S.newPos++,o.pushComponent(S.components,!0,void 0)),x=o.extractCommon(S,u,n,_),S.newPos+1>=h&&x+1>=s)return t(o,S.components);d[_]=S}v++}for(;v<=l;){var y=p();if(y)return y}},pushComponent:function(n,u,c){var o=n[n.length-1];o&&o.added===u&&o.removed===c?n[n.length-1]={count:o.count+1,added:u,removed:c}:n.push({count:1,added:u,removed:c})},extractCommon:function(n,u,c,o){for(var h=u.length,s=c.length,v=n.newPos,l=v-o,d=0;v+1<h&&l+1<s&&this.equals(u[v+1],c[l+1]);)v++,l++,d++;return d&&n.components.push({count:d}),n.newPos=v,l},tokenize:function(n){return n.slice()},join:function(n){return n.slice()}};function t(n,u,c,o){for(var h=0,s=u.length,v=0,l=0;h<s;h++){var d=u[h];if(d.removed){for(var f=[],m=l;m<l+d.count;m++)f.push(m);d.indices=f,l+=d.count}else{for(var f=[],m=v;m<v+d.count;m++)f.push(m);d.indices=f,v+=d.count,d.added||(l+=d.count)}}return u}function r(n){return{newPos:n.newPos,components:n.components.slice(0)}}var a=new e;function i(n,u,c){return a.diff(n,u,c)}return af=i,af}var nf,lA;function Tg(){if(lA)return nf;lA=1;var e=wg(),t=e.createElement,r=Z,a=it,i=hi,n=wa,u=Ag(),c=u.path,o=u.image,h=u.text,s="0",v="1";function l(f,m,g,p,y){this._zrId=f,this._svgRoot=m,this._tagNames=typeof g=="string"?[g]:g,this._markLabel=p,this._domName=y||"_dom",this.nextId=0}l.prototype.createElement=t,l.prototype.getDefs=function(f){var m=this._svgRoot,g=this._svgRoot.getElementsByTagName("defs");return g.length===0?f?(g=m.insertBefore(this.createElement("defs"),m.firstChild),g.contains||(g.contains=function(p){var y=g.children;if(!y)return!1;for(var _=y.length-1;_>=0;--_)if(y[_]===p)return!0;return!1}),g):null:g[0]},l.prototype.update=function(f,m){if(f){var g=this.getDefs(!1);if(f[this._domName]&&g.contains(f[this._domName]))typeof m=="function"&&m(f);else{var p=this.add(f);p&&(f[this._domName]=p)}}},l.prototype.addDom=function(f){var m=this.getDefs(!0);m.appendChild(f)},l.prototype.removeDom=function(f){var m=this.getDefs(!1);m&&f[this._domName]&&(m.removeChild(f[this._domName]),f[this._domName]=null)},l.prototype.getDoms=function(){var f=this.getDefs(!1);if(!f)return[];var m=[];return r.each(this._tagNames,function(g){var p=f.getElementsByTagName(g);m=m.concat([].slice.call(p))}),m},l.prototype.markAllUnused=function(){var f=this.getDoms(),m=this;r.each(f,function(g){g[m._markLabel]=s})},l.prototype.markUsed=function(f){f&&(f[this._markLabel]=v)},l.prototype.removeUnused=function(){var f=this.getDefs(!1);if(f){var m=this.getDoms(),g=this;r.each(m,function(p){p[g._markLabel]!==v&&f.removeChild(p)})}},l.prototype.getSvgProxy=function(f){return f instanceof a?c:f instanceof i?o:f instanceof n?h:c},l.prototype.getTextSvgElement=function(f){return f.__textSvgEl},l.prototype.getSvgElement=function(f){return f.__svgEl};var d=l;return nf=d,nf}var of,uA;function dG(){if(uA)return of;uA=1;var e=Tg(),t=Z,r=cn,a=ut;function i(u,c){e.call(this,u,c,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(i,e),i.prototype.addWithoutUpdate=function(u,c){if(c&&c.style){var o=this;t.each(["fill","stroke"],function(h){if(c.style[h]&&(c.style[h].type==="linear"||c.style[h].type==="radial")){var s=c.style[h],v=o.getDefs(!0),l;s._dom?(l=s._dom,v.contains(s._dom)||o.addDom(l)):l=o.add(s),o.markUsed(c);var d=l.getAttribute("id");u.setAttribute(h,"url(#"+d+")")}})}},i.prototype.add=function(u){var c;if(u.type==="linear")c=this.createElement("linearGradient");else if(u.type==="radial")c=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return u.id=u.id||this.nextId++,c.setAttribute("id","zr"+this._zrId+"-gradient-"+u.id),this.updateDom(u,c),this.addDom(c),c},i.prototype.update=function(u){var c=this;e.prototype.update.call(this,u,function(){var o=u.type,h=u._dom.tagName;o==="linear"&&h==="linearGradient"||o==="radial"&&h==="radialGradient"?c.updateDom(u,u._dom):(c.removeDom(u),c.add(u))})},i.prototype.updateDom=function(u,c){if(u.type==="linear")c.setAttribute("x1",u.x),c.setAttribute("y1",u.y),c.setAttribute("x2",u.x2),c.setAttribute("y2",u.y2);else if(u.type==="radial")c.setAttribute("cx",u.x),c.setAttribute("cy",u.y),c.setAttribute("r",u.r);else{r("Illegal gradient type.");return}u.global?c.setAttribute("gradientUnits","userSpaceOnUse"):c.setAttribute("gradientUnits","objectBoundingBox"),c.innerHTML="";for(var o=u.colorStops,h=0,s=o.length;h<s;++h){var v=this.createElement("stop");v.setAttribute("offset",o[h].offset*100+"%");var l=o[h].color;if(l.indexOf("rgba">-1)){var d=a.parse(l)[3],f=a.toHex(l);v.setAttribute("stop-color","#"+f),v.setAttribute("stop-opacity",d)}else v.setAttribute("stop-color",o[h].color);c.appendChild(v)}u._dom=c},i.prototype.markUsed=function(u){if(u.style){var c=u.style.fill;c&&c._dom&&e.prototype.markUsed.call(this,c._dom),c=u.style.stroke,c&&c._dom&&e.prototype.markUsed.call(this,c._dom)}};var n=i;return of=n,of}var sf,vA;function gG(){if(vA)return sf;vA=1;var e=Tg(),t=Z,r=Rt();function a(n,u){e.call(this,n,u,"clipPath","__clippath_in_use__")}t.inherits(a,e),a.prototype.update=function(n){var u=this.getSvgElement(n);u&&this.updateDom(u,n.__clipPaths,!1);var c=this.getTextSvgElement(n);c&&this.updateDom(c,n.__clipPaths,!0),this.markUsed(n)},a.prototype.updateDom=function(n,u,c){if(u&&u.length>0){var o=this.getDefs(!0),h=u[0],s,v,l=c?"_textDom":"_dom";h[l]?(v=h[l].getAttribute("id"),s=h[l],o.contains(s)||o.appendChild(s)):(v="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,s=this.createElement("clipPath"),s.setAttribute("id",v),o.appendChild(s),h[l]=s);var d=this.getSvgProxy(h);if(h.transform&&h.parent.invTransform&&!c){var f=Array.prototype.slice.call(h.transform);r.mul(h.transform,h.parent.invTransform,h.transform),d.brush(h),h.transform=f}else d.brush(h);var m=this.getSvgElement(h);s.innerHTML="",s.appendChild(m.cloneNode()),n.setAttribute("clip-path","url(#"+v+")"),u.length>1&&this.updateDom(s,u.slice(1),c)}else n&&n.setAttribute("clip-path","none")},a.prototype.markUsed=function(n){var u=this;n.__clipPaths&&t.each(n.__clipPaths,function(c){c._dom&&e.prototype.markUsed.call(u,c._dom),c._textDom&&e.prototype.markUsed.call(u,c._textDom)})};var i=a;return sf=i,sf}var lf,hA;function pG(){if(hA)return lf;hA=1;var e=Tg(),t=Z;function r(n,u){e.call(this,n,u,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(n,u){if(u&&a(u.style)){var c;if(u._shadowDom){c=u._shadowDom;var o=this.getDefs(!0);o.contains(u._shadowDom)||this.addDom(c)}else c=this.add(u);this.markUsed(u);var h=c.getAttribute("id");n.style.filter="url(#"+h+")"}},r.prototype.add=function(n){var u=this.createElement("filter");return n._shadowDomId=n._shadowDomId||this.nextId++,u.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(n,u),this.addDom(u),u},r.prototype.update=function(n,u){var c=u.style;if(a(c)){var o=this;e.prototype.update.call(this,u,function(){o.updateDom(u,u._shadowDom)})}else this.remove(n,u)},r.prototype.remove=function(n,u){u._shadowDomId!=null&&(this.removeDom(n),n.style.filter="")},r.prototype.updateDom=function(n,u){var c=u.getElementsByTagName("feDropShadow");c.length===0?c=this.createElement("feDropShadow"):c=c[0];var o=n.style,h=n.scale&&n.scale[0]||1,s=n.scale&&n.scale[1]||1,v,l,d,f;if(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY)v=o.shadowOffsetX||0,l=o.shadowOffsetY||0,d=o.shadowBlur,f=o.shadowColor;else if(o.textShadowBlur)v=o.textShadowOffsetX||0,l=o.textShadowOffsetY||0,d=o.textShadowBlur,f=o.textShadowColor;else{this.removeDom(u,o);return}c.setAttribute("dx",v/h),c.setAttribute("dy",l/s),c.setAttribute("flood-color",f);var m=d/2/h,g=d/2/s,p=m+" "+g;c.setAttribute("stdDeviation",p),u.setAttribute("x","-100%"),u.setAttribute("y","-100%"),u.setAttribute("width",Math.ceil(d/2*200)+"%"),u.setAttribute("height",Math.ceil(d/2*200)+"%"),u.appendChild(c),n._shadowDom=u},r.prototype.markUsed=function(n){n._shadowDom&&e.prototype.markUsed.call(this,n._shadowDom)};function a(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY||n.textShadowBlur||n.textShadowOffsetX||n.textShadowOffsetY)}var i=r;return lf=i,lf}var uf,cA;function mG(){if(cA)return uf;cA=1;var e=wg(),t=e.createElement,r=Z,a=cn,i=it,n=hi,u=wa,c=fG(),o=dG(),h=gG(),s=pG(),v=Ag(),l=v.path,d=v.image,f=v.text;function m(C){return parseInt(C,10)}function g(C){return C instanceof i?l:C instanceof n?d:C instanceof u?f:l}function p(C,M){return M&&C&&M.parentNode!==C}function y(C,M,D){if(p(C,M)&&D){var L=D.nextSibling;L?C.insertBefore(M,L):C.appendChild(M)}}function _(C,M){if(p(C,M)){var D=C.firstChild;D?C.insertBefore(M,D):C.appendChild(M)}}function S(C,M){M&&C&&M.parentNode===C&&C.removeChild(M)}function T(C){return C.__textSvgEl}function w(C){return C.__svgEl}var x=function(C,M,D,L){this.root=C,this.storage=M,this._opts=D=r.extend({},D||{});var P=t("svg");P.setAttribute("xmlns","http://www.w3.org/2000/svg"),P.setAttribute("version","1.1"),P.setAttribute("baseProfile","full"),P.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new o(L,P),this.clipPathManager=new h(L,P),this.shadowManager=new s(L,P);var I=document.createElement("div");I.style.cssText="overflow:hidden;position:relative",this._svgRoot=P,this._viewport=I,C.appendChild(I),I.appendChild(P),this.resize(D.width,D.height),this._visibleList=[]};x.prototype={constructor:x,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var C=this.getViewportRoot();if(C)return{offsetLeft:C.offsetLeft||0,offsetTop:C.offsetTop||0}},refresh:function(){var C=this.storage.getDisplayList(!0);this._paintList(C)},setBackgroundColor:function(C){this._viewport.style.background=C},_paintList:function(C){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var M=this._svgRoot,D=this._visibleList,L=C.length,P=[],I;for(I=0;I<L;I++){var E=C[I],O=g(E),z=w(E)||T(E);E.invisible||(E.__dirty&&(O&&O.brush(E),this.clipPathManager.update(E),E.style&&(this.gradientManager.update(E.style.fill),this.gradientManager.update(E.style.stroke),this.shadowManager.update(z,E)),E.__dirty=!1),P.push(E))}var G=c(D,P),V;for(I=0;I<G.length;I++){var R=G[I];if(R.removed)for(var B=0;B<R.count;B++){var E=D[R.indices[B]],z=w(E),k=T(E);S(M,z),S(M,k)}}for(I=0;I<G.length;I++){var R=G[I];if(R.added)for(var B=0;B<R.count;B++){var E=P[R.indices[B]],z=w(E),k=T(E);V?y(M,z,V):_(M,z),z?y(M,k,z):V?y(M,k,V):_(M,k),y(M,k,z),V=k||z||V,this.gradientManager.addWithoutUpdate(z||k,E),this.shadowManager.addWithoutUpdate(z||k,E),this.clipPathManager.markUsed(E)}else if(!R.removed)for(var B=0;B<R.count;B++){var E=P[R.indices[B]],z=w(E),k=T(E),z=w(E),k=T(E);this.gradientManager.markUsed(E),this.gradientManager.addWithoutUpdate(z||k,E),this.shadowManager.markUsed(E),this.shadowManager.addWithoutUpdate(z||k,E),this.clipPathManager.markUsed(E),k&&y(M,k,z),V=z||k||V}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=P},_getDefs:function(C){var M=this._svgRoot,D=this._svgRoot.getElementsByTagName("defs");if(D.length===0)if(C){var D=M.insertBefore(t("defs"),M.firstChild);return D.contains||(D.contains=function(P){var I=D.children;if(!I)return!1;for(var E=I.length-1;E>=0;--E)if(I[E]===P)return!0;return!1}),D}else return null;else return D[0]},resize:function(C,M){var D=this._viewport;D.style.display="none";var L=this._opts;if(C!=null&&(L.width=C),M!=null&&(L.height=M),C=this._getSize(0),M=this._getSize(1),D.style.display="",this._width!==C||this._height!==M){this._width=C,this._height=M;var P=D.style;P.width=C+"px",P.height=M+"px";var I=this._svgRoot;I.setAttribute("width",C),I.setAttribute("height",M)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(C){var M=this._opts,D=["width","height"][C],L=["clientWidth","clientHeight"][C],P=["paddingLeft","paddingTop"][C],I=["paddingRight","paddingBottom"][C];if(M[D]!=null&&M[D]!=="auto")return parseFloat(M[D]);var E=this.root,O=document.defaultView.getComputedStyle(E);return(E[L]||m(O[D])||m(E.style[D]))-(m(O[P])||0)-(m(O[I])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){this.refresh();var C=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+C}};function b(C){return function(){a('In SVG mode painter not support method "'+C+'"')}}r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(C){x.prototype[C]=b(C)});var A=x;return uf=A,uf}var fA;function yG(){if(fA)return iA;fA=1,Ag();var e=zr,t=e.registerPainter,r=mG();return t("svg",r),iA}(function(e){var t=we;(function(){for(var a in t){if(t==null||!t.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=t[a]}})();var r=fM();(function(){for(var a in r){if(r==null||!r.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=r[a]}})(),QV(),r5(),s5(),h5(),S5(),O5(),q5(),X5(),v3(),d3(),y3(),P3(),z3(),q3(),Z3(),Q3(),aH(),sH(),vH(),AH(),PH(),zH(),BH(),XH(),JH(),FM(),kM(),rq(),aq(),gq(),xq(),kn(),Mq(),Dq(),Bq(),Hq(),Fq(),Wq(),Jq(),KM(),iG(),JM(),QM(),uG(),sD(),lD(),cG(),yG()})(vf);const _G=""+new URL("json-a7437520.json",import.meta.url).href,xG={ref:"main",class:"content-container"},SG=wD({__name:"DV",setup(e){const t=AD();return TD(()=>{var r=vf.init(t.value),a=_G,i={1:[116.415,39.915],2:[116.448,39.935],3:[116.455,39.915],4:[116.435,39.925],基站1:[116.415,39.915],基站2:[116.448,39.935],基站3:[116.455,39.915],控制中心:[116.435,39.925]},n={主卧:[116.409,39.928]},u={书房控制:[116.428,39.939]},c={卫生间控制:[116.448,39.939]},o={客厅控制:[116.426,39.918]},h={次卧控制:[116.448,39.92]},s={楼梯控制:[116.443,39.911]},v={厨房控制:[116.448,39.905]},l={客厅1:[116.41,39.9036],客厅2:[116.43,39.918],主卧1:[116.409,39.921],主卧2:[116.409,39.935],书房:[116.432,39.939],卫生间:[116.4516,39.939],客厅3:[116.4516,39.9306],次卧:[116.4516,39.92],楼梯:[116.447,39.911],厨房:[116.4516,39.905]},d={客厅1:[116.41,39.9036],客厅2:[116.43,39.918],主卧1:[116.409,39.921],主卧2:[116.409,39.935]},f={书房:[116.432,39.939],卫生间:[116.4516,39.939],客厅3:[116.4516,39.9306]},m={次卧:[116.4516,39.92],楼梯:[116.447,39.911],厨房:[116.4516,39.905]},g={基站1:[116.415,39.915],基站2:[116.448,39.935],基站3:[116.455,39.915]},p={客厅1:20,客厅2:25,主卧1:17,主卧2:19,书房:13,卫生间:22,客厅3:11,次卧:9,楼梯:29,厨房:38,基站1:40,基站2:45,基站3:37},y={客厅1:40,客厅2:45,主卧1:37,主卧2:39,书房:23,卫生间:80,客厅3:56,次卧:39,楼梯:29,厨房:68},_={客厅2:5,主卧2:3,书房:2,卫生间:0,客厅3:0,次卧:3,楼梯:2,厨房:0},S={客厅1:40,客厅2:45,主卧1:37,主卧2:39,书房:53,卫生间:60,客厅3:56,次卧:39,楼梯:29,厨房:68},T={客厅1:40,客厅2:45,主卧1:37,主卧2:39,书房:23,卫生间:80,客厅3:56,次卧:39,楼梯:29,厨房:68},w=[{name:"基站1",value:0},{name:"基站2",value:0},{name:"基站3",value:0},{name:"控制中心",value:0}],x=[{name:"主卧",value:0}],b=[{name:"书房控制",value:0}],A=[{name:"卫生间控制",value:0}],C=[{name:"客厅控制",value:0}],M=[{name:"次卧控制",value:0}],D=[{name:"楼梯控制",value:0}],L=[{name:"厨房控制",value:0}],P=[["#1DE9B6","#F46E36","#04B9FF","#5DBD32","#FFC809","#FB95D5","#BDA29A","#6E7074","#546570","#C4CCD3"],["#37A2DA","#67E0E3","#32C5E9","#9FE6B8","#FFDB5C","#FF9F7F","#FB7293","#E062AE","#E690D1","#E7BCF3","#9D96F5","#8378EA","#8378EA"],["#DD6B66","#759AA0","#E69D87","#8DC1A9","#EA7E53","#EEDD78","#73A373","#73B9BC","#7289AB","#91CA8C","#F49F42"]],I=0;$(function(){var E=["温度（℃）","湿度（%）","振动(g)","烟雾（百ppm）","光线（百lx）"],O=["空调调温","加湿器/窗户协调","门锁锁定","紧急消防","照明系统"],z=[[],[],[],[],[]],G=[],V=[],R=[],B=[],k=[[10,12,13,12,14,14,16,17,18,20,22,26,27,26,23,20,18,18,16,16,14,13,12,10],[68,67,66,63,61,55,53,48,46,44,42,42,36,34,36,37,38,42,46,44,58,62,66,68],[1,1,1,1,1,1,1,2,3,2,1,1,1,1,1,1,3,3,1,3,3,1,1,1],[56,59,60,62,56,50,40,42,38,38,39,38,40,42,38,37,34,35,38,44,46,50,54,56],[1,1,2,1,5,10,20,24,30,32,32,34,38,40,40,38,32,25,32,32,5,1,1,1]],N=[[11,12,14,12,15,13,16,16,16,21,22,24,22,24,23,21,19,18,15,14,15,13,12,11],[62,64,66,65,62,58,54,49,45,44,41,40,32,36,36,39,38,40,46,48,52,60,63,61],[1,1,1,2,1,1,1,2,1,2,1,1,3,1,1,1,3,2,1,1,3,1,2,1],[58,59,62,62,54,50,44,42,34,33,35,38,40,44,38,35,32,35,33,40,46,53,56,54],[1,1,1,1,6,12,20,22,30,33,32,35,38,42,40,37,34,28,32,33,10,1,1,1]],q=[[],[],[],[],[]],H=[],F=[],U=[],W=[];for(var K in d)H.push({year:"温度",name:K,value:p[K]});for(var K in f)F.push({year:"温度",name:K,value:p[K]});for(var K in m)U.push({year:"温度",name:K,value:p[K]});for(var K in g)W.push({year:"温度",name:K,value:p[K]});for(var K in l)z[0].push({year:"温度",name:K,value:p[K]}),z[1].push({year:"湿度",name:K,value:y[K]}),z[2].push({year:"振动",name:K,value:_[K]}),z[3].push({year:"烟雾",name:K,value:S[K]}),z[4].push({year:"光线",name:K,value:T[K]});for(var J=[],j=[],ee=[],ie=[],re=[45,80,10,80,50],he=[-5,15,0,20,0],_e=[],ae=0;ae<z.length;ae++){z[ae].sort(function(oe,ue){return oe.value-ue.value}),B.push([]),G.push([]),V.push([]),R.push([]),q.push([]),J[ae]=0,j[ae]=0,_e[ae]=0,ee[ae]=0,ie[ae]=1e3;for(var se=0;se<z[ae].length;se++)z[ae][se].name=="主卧1"?q[ae][0]=z[ae][se].value:z[ae][se].name=="主卧2"?q[ae][1]=z[ae][se].value:z[ae][se].name=="书房"?q[ae][2]=z[ae][se].value:z[ae][se].name=="卫生间"?q[ae][3]=z[ae][se].value:z[ae][se].name=="客厅1"?q[ae][4]=z[ae][se].value:z[ae][se].name=="客厅2"?q[ae][5]=z[ae][se].value:z[ae][se].name=="客厅3"?q[ae][6]=z[ae][se].value:z[ae][se].name=="次卧"?q[ae][7]=z[ae][se].value:z[ae][se].name=="楼梯"?q[ae][8]=z[ae][se].value:z[ae][se].name=="厨房"&&(q[ae][9]=z[ae][se].value),z[ae][se].value>=-100?(J[ae]+=z[ae][se].value,j[ae]++):V[ae].push(z[ae][se].name),z[ae][se].value>=ee[ae]&&(ee[ae]=z[ae][se].value),z[ae][se].value<=ie[ae]&&(ie[ae]=z[ae][se].value),(z[ae][se].value<he[ae]||z[ae][se].value>re[ae])&&(_e[ae]++,R[ae].push(z[ae][se].name)),B[ae].push(z[ae][se].value),G[ae].push(z[ae][se].name)}$.getJSON(a,function(De){vf.registerMap("home",De);var oe=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=l[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe},ue=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=i[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};ue(w),ue(w.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var be=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=n[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};be(x),be(x.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var Y=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=u[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};Y(b),Y(b.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var Q=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=c[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};Q(A),Q(A.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var te=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=o[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};te(C),te(C.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var ce=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=h[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};ce(M),ce(M.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var le=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=s[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};le(D),le(D.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var fe=function(ve){for(var pe=[],Me=0;Me<ve.length;Me++){var Ee=v[ve[Me].name];Ee&&pe.push({name:ve[Me].name,value:Ee.concat(ve[Me].value)})}return pe};fe(L),fe(L.sort(function(ve,pe){return pe.value-ve.value}).slice(0,6));var ye=function(ve,pe){for(var Me=[],Ee=0;Ee<ve.length;Ee++){var $e=ve[Ee],He=l[$e.name],Ge=pe;He&&Ge&&Me.push([{coord:He,value:$e.value},{coord:Ge}])}return Me},Te=function(ve,pe){for(var Me=[],Ee=0;Ee<ve.length;Ee++){var $e=ve[Ee],He=g[$e.name],Ge=pe;He&&Ge&&Me.push([{coord:He,value:$e.value},{coord:Ge}])}return Me};let xe={timeline:{data:E,axisType:"category",autoPlay:!0,playInterval:3e3,left:"10%",right:"10%",bottom:"3%",width:"80%",label:{normal:{textStyle:{color:"#ddd"}},emphasis:{textStyle:{color:"#fff"}}},symbolSize:10,lineStyle:{color:"#555"},checkpointStyle:{borderColor:"#87CEEB",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#666",borderColor:"#666"},emphasis:{color:"#aaa",borderColor:"#aaa"}}},baseOption:{animation:!0,animationDuration:1e3,animationEasing:"cubicInOut",animationDurationUpdate:1e3,animationEasingUpdate:"cubicInOut",grid:[{left:"65%",top:"34.5%",bottom:"44.5%",width:"20%"},{gridindex:1,left:"65%",right:"3%",top:"65%",bottom:"10%",containLabel:!0}],tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"#aaa"}}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["bar","line"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:[{data:["历史平均数据1","历史平均数据2"],x:"75%",y:"60%",textStyle:{color:"#fff"}},{data:["基站","传感器","传输路线"],top:"10%",left:"35%",textStyle:{color:"#fff"}},{icon:"roundRect",orient:"vertical",top:"7%",left:"5%",data:[{name:"主卧"},{name:"书房控制"},{name:"卫生间控制"},{name:"客厅控制"},{name:"次卧控制"},{name:"楼梯控制"},{name:"厨房控制"}],selected:{主卧:!0,书房控制:!0,客厅控制:!0,次卧控制:!0,楼梯控制:!0,厨房控制:!0,卫生间控制:!0},textStyle:{color:"#fff"}}],geo:{show:!0,map:"home",roam:!0,zoom:.8,center:[116.453,39.92],label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"rgba(147, 235, 248, 1)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, 1)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{areaColor:"#389BB7",borderWidth:0}}}},options:[]};for(var ge=0;ge<E.length;ge++)xe.options.push({backgroundColor:"#013954",title:[{text:"传感器布设平面图",left:"16%",top:"5%",textStyle:{color:"#fff",fontSize:25}},{id:"statistic",text:E[ge]+"数据统计情况",left:"60%",top:"5%",textStyle:{color:"#fff",fontSize:25}},{text:"平均值："+J[ge]/j[ge],left:"60%",top:"14.5%",textStyle:{color:"#90ee90",fontSize:15}},{text:"最大值："+ee[ge],left:"72%",top:"14.5%",textStyle:{color:"#FF4500",fontSize:15}},{text:"最小值："+ie[ge],left:"84%",top:"14.5%",textStyle:{color:"#87CEFF",fontSize:15}},{text:"未使用的传感器："+(z[ge].length-j[ge]),left:"60%",top:"17.5%",textStyle:{color:"#FF7F00",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"数据异常传感器："+_e[ge],left:"76%",top:"17.5%",textStyle:{color:"#9370DB",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"(数据正常范围："+he[ge]+"~"+re[ge]+")",left:"60%",top:"20.5%",textStyle:{color:"#FFA54F",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"未使用的传感器："+V[ge],left:"60%",top:"23.5%",textStyle:{color:"#FF7F00",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"},{text:"数据异常传感器："+R[ge],left:"60%",top:"26.5%",textStyle:{color:"#9370DB",fontSize:15},extraCssText:"width:120px; white-space:pre-wrap"}],visualMap:{min:he[ge],max:re[ge],calculable:!0,text:["High","Low"],inRange:{color:["#50a3ba","#eac736","#d94e5d"]},padding:5,right:"5%",bottom:"40%",textStyle:{color:"#fff"}},xAxis:[{type:"value",scale:!0,position:"top",min:0,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#fff"}}},{gridIndex:1,type:"category",boundaryGap:!1,axisLabel:{margin:2,textStyle:{color:"#fff"}},data:["0时","1时","2时","3时","4时","5时","6时","7时","8时","9时","10时","11时","12时","13时","14时","15时","16时","17时","18时","19时","20时","21时","22时","23时"]}],yAxis:[{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#ddd"}},data:G[ge]},{gridIndex:1,type:"value",axisLabel:{formatter:"{value} ",textStyle:{color:"#ddd"}}}],series:[{type:"map",map:"home",geoIndex:0,aspectScale:.75,showLegendSymbol:!0,label:{normal:{show:!1},emphasis:{show:!1,textStyle:{color:"#fff"}}},roam:!0,itemStyle:{normal:{areaColor:"#031525",borderColor:"#FFFFFF"},emphasis:{areaColor:"#2B91B7"}},animation:!1,data:z},{name:"传感器",type:"effectScatter",coordinateSystem:"geo",data:oe(z[ge].sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbolSize:function(ve){return(ve[2]*40+1200)/180},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:P[I][ge],shadowBlur:10,shadowColor:P[I][ge]}},zlevel:1},{name:"基站",type:"effectScatter",coordinateSystem:"geo",data:ue(w.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"arrow",symbolSize:10,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0}},itemStyle:{normal:{color:P[I][ge],shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#fff",shadowBlur:10,shadowColor:"#cfff"}},zlevel:1},{name:"主卧",type:"effectScatter",coordinateSystem:"geo",data:be(x.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"书房控制",type:"effectScatter",coordinateSystem:"geo",data:Y(b.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][2],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"卫生间控制",type:"effectScatter",coordinateSystem:"geo",data:Q(A.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"客厅控制",type:"effectScatter",coordinateSystem:"geo",data:te(C.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"次卧控制",type:"effectScatter",coordinateSystem:"geo",data:ce(M.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"楼梯控制",type:"effectScatter",coordinateSystem:"geo",data:le(D.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"厨房控制",type:"effectScatter",coordinateSystem:"geo",data:fe(L.sort(function(ve,pe){return pe.value-ve.value}).slice(0,20)),symbol:"roundRect",symbolSize:10,label:{normal:{formatter:"{b}"+O[ge]+"：开",position:"bottom",show:!0},emphasis:{formatter:"{b}"+E[ge]+"："+q[ge][0],position:"bottom",show:!0}},itemStyle:{normal:{color:"#2f4554",shadowBlur:10,shadowColor:"#2f4554"},emphasis:{color:"#c23531",shadowBlur:10,shadowColor:"#c23531"}},zlevel:1},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[I][ge],width:.1,opacity:.5,curveness:.3}},data:ye(H,i[Math.ceil(1)])},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[I][ge],width:.1,opacity:.5,curveness:.3}},data:ye(F,i[Math.ceil(2)])},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[I][ge],width:.1,opacity:.5,curveness:.3}},data:ye(U,i[Math.ceil(3)])},{name:"传输路线",type:"lines",zlevel:2,effect:{show:!0,period:4,trailLength:.02,symbol:"arrow",symbolSize:3},lineStyle:{normal:{color:P[I][ge],width:.1,opacity:.5,curveness:.3}},data:Te(W,i[Math.ceil(4)])},{zlevel:1.5,type:"bar",symbol:"none",itemStyle:{normal:{color:P[I][ge]}},data:B[ge]},{xAxisIndex:1,yAxisIndex:1,name:"历史平均数据1",type:"line",lineStyle:{normal:{color:"#4ea397"}},data:k[ge],markPoint:{data:[{type:"max",name:"最大值",symbolSize:40},{type:"min",name:"最小值",symbolSize:20}],itemStyle:{normal:{color:"#d0648a"}}},markLine:{data:[{type:"average",name:"平均值"}]}},{xAxisIndex:1,yAxisIndex:1,name:"历史平均数据2",type:"line",lineStyle:{normal:{color:"#4ea397"}},data:N[ge],markPoint:{data:[{type:"max",name:"最大值",symbolSize:40},{type:"min",name:"最小值",symbolSize:20}],itemStyle:{normal:{color:"#d0648a"}}},markLine:{data:[{type:"average",name:"平均值"}]}}]});r.setOption(xe)})})}),(r,a)=>(CD(),MD("div",xG,[DD("div",{ref_key:"panel",ref:t,id:"chart-panel"},null,512)],512))}});const AG=LD(SG,[["__scopeId","data-v-c2e98f92"]]);export{AG as default};
